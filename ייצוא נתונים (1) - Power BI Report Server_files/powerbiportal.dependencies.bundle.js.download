'use strict'; 
"use strict";
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] || (this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] = {});
marker.startEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
if (window.perfTracking && window.perfTracking.startBundleEval) window.perfTracking.startBundleEval('powerbiportal.dependencies.bundle.min.js');
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['visuals.min.js'] || (this.parseTimeMarkers['visuals.min.js'] = {});
marker.startEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
if (window.perfTracking && window.perfTracking.startBundleEval) window.perfTracking.startBundleEval('visuals.min.js');var powerbi;!(function(e){var a;(a=e.VisualDataRoleKind||(e.VisualDataRoleKind={}))[a.Grouping=0]="Grouping",a[a.Measure=1]="Measure",a[a.GroupingOrMeasure=2]="GroupingOrMeasure",(a=e.VisualDataChangeOperationKind||(e.VisualDataChangeOperationKind={}))[a.Create=0]="Create",a[a.Append=1]="Append",a[a.Segment=2]="Segment",a[a.None=3]="None",(a=e.VisualUpdateType||(e.VisualUpdateType={}))[a.Data=2]="Data",a[a.Resize=4]="Resize",a[a.ViewMode=8]="ViewMode",a[a.Style=16]="Style",a[a.ResizeEnd=32]="ResizeEnd",a[a.All=62]="All",e.VisualPermissions||(e.VisualPermissions={})})(powerbi=powerbi||{});;
"use strict";var __spreadArray=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},__extends=this&&this.__extends||(function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}})(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(r,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function i(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,i)}o((l=l.apply(e,a||[])).next())})},__generator=this&&this.__generator||function(r,n){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return (function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}})([t,e])}}};!(function(e){function t(){return window.powerbi||(window.powerbi={}),window.powerbi}e.ensurePowerbi=t,e.ensurePowerbiCommon=function(){var e=t();return e.common||(e.common={}),e.common},e.ensurePowerbiVisuals=function(){var e=t();return e.visuals||(e.visuals={}),e.visuals},e.ensureJsCommon=function(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}})(powerbi=powerbi||{});var debug=(function(){function n(){}return n.setAssertFailFunction=function(e){n.assertFailFunction=e},n.assert=function(e,t){void 0===t&&(t="condition: "+e),!0!==e&&(console&&(console.assert,console.trace),n.assertFail(t))},n.setAssert=function(e){n.assert=e},n.assertValue=function(e,t){n.assert(null!=e,t)},n.assertNonEmpty=function(e,t){n.assert(null!=e&&0<e.length,t)},n.assertAnyValue=function(e,t){},n.assertFail=function(e){(n.assertFailFunction||alert)("Debug Assert failed: "+e)},n.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},n.logDebug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},n.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console&&console.warn||n.log.apply(n,__spreadArray([e],t||[]))},n.assertNever=function(e){n.assertFail("Expected to never have value "+e)},n.breakDebugger=function(){},n.execute=function(e){e()},n})();function initializeJQeuryExtensions(){jqueryExtensionsLoaded||($.fn.multiline=function(e){return this.text(e),this.html(this.html().replace(/\n/g,"<br/>")),this},$.extend($.expr[":"],{tabbable:function(e){var t=$(e).attr("tabindex"),r=null==t?NaN:parseInt(t,10),t=isNaN(r);return(t||0<=r)&&focusable(e,!t)}}),jqueryExtensionsLoaded=!0)}!(function(r){var n={};r.define=function(e,t){n[e]={fn:t}},r.requireSync=function(e){var t=n[e],e=t.fn;if(e){e=t.v=e(r.requireSync);return t.fn=null,e}return t.v}})(powerbi=powerbi||{}),(function(e){var t;(t=e.DOMConstants||(e.DOMConstants={})).scanModeKeys=[50,51,52,53,54,72,75,66,84],(e=t.KeyDictionary||(t.KeyDictionary={}))[e.Enter=13]="Enter",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F6=117]="F6",e[e.F10=121]="F10",e[e.ArrowRight=39]="ArrowRight",e[e.KeyT=84]="KeyT",(e=t.MouseButton||(t.MouseButton={}))[e.Main=0]="Main",e[e.Auxilary=1]="Auxilary",e[e.Secondary=2]="Secondary",e[e.Fourth=3]="Fourth",e[e.Fifth=4]="Fifth",t.DocumentBody="body",t.Anchor="a",t.EditableTextElements=":text, textarea",t.EditableNumericElements='[type="number"]',t.disabledAttributeOrValue="disabled",t.readonlyAttributeOrValue="readonly",t.idAttribute="id",t.styleAttribute="style",t.hrefAttribute="href",t.targetAttribute="target",t.blankValue="_blank",t.selfValue="_self",t.classAttribute="class",t.titleAttribute="title",t.srcAttribute="src",t.contentEditableAttribute="contenteditable",t.skipChildrenFocusAttribute="skip-children-focus",t.contextmenuEventName="contextmenu",t.blurEventName="blur",t.keyUpEventName="keyup",t.inputEventName="input",t.changeEventName="change",t.cutEventName="cut",t.keyDownEventName="keydown",t.mouseMoveEventName="mousemove",t.mouseDownEventName="mousedown",t.mouseEnterEventName="mouseenter",t.mouseLeaveEventName="mouseleave",t.mouseOverEventName="mouseover",t.mouseOutEventName="mouseout",t.mouseUpEventName="mouseup",t.mouseWheelScroll="wheel",t.mouseClickEventName="click",t.mouseDblClickEventName="dblclick",t.pasteEventName="paste",t.scrollEventName="scroll",t.dropEventName="drop",t.hoverEventName="hover",t.focusEventName="focus",t.focusInEventName="focusin",t.focusOutEventName="focusout",t.selectEventName="select",t.messageEventName="message",t.loadEventName="load",t.beforeUnload="beforeunload",t.pointerMoveEventName="pointermove",t.pointerUpEventName="pointerup",t.pointerDownEventName="pointerdown",t.pointerOutEventName="pointerout",t.pointerEnterEventName="pointerenter",t.pointerLeaveEventName="pointerleave",t.pointerOverEventName="pointerover",t.inputAndSelectEventNames="input, select"})(jsCommon=jsCommon||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).D3Helper||(e.D3Helper={})).easeCompat=function(e){switch(e){case"linear":return d3.easeLinear;case"cubic-in-out":return d3.easeCubicInOut;case"cubic-out":return d3.easeCubicOut;case"back":return d3.easeBack}return d3.easeCubicInOut},e.isScaleBand=function(e){return!!e.bandwidth}})(powerbi=powerbi||{}),(function(u){var l;function c(e,t,r){if(!t)return e;for(var n=0,i=t;n<i.length;n++){var o=i[n],a=r.getOptional(l.serverErrorPrefix+o.code),s=o.detail.value;0===o.detail.type&&(s=r.get(l.serverErrorPrefix+s)),e.displayableErrorInfo.push({errorInfoKey:a||o.code,errorInfoValue:s})}return e}function d(e,t,i){if(!t)return"";var r,t=e.get(l.serverErrorPrefix+t);return r=t?t.replace(/\{\s*([^}\s]+)\s*\}/g,(function(e,t,r,n){return i[t]})):r}(l=u.ServiceErrorHelper||(u.ServiceErrorHelper={})).serverErrorPrefix="ServerError_",l.addAdditionalInfo=c,l.addDebugErrorInfo=function(e,t,r,n,i){var o=e.debugErrorInfo=e.debugErrorInfo||[];return i&&o.push({errorInfoKey:u.ClientErrorStrings.HttpRequestId,errorInfoValue:i}),t&&o.push({errorInfoKey:u.ClientErrorStrings.ClientErrorCode,errorInfoValue:t}),r&&o.push({errorInfoKey:u.ClientErrorStrings.ErrorDetails,errorInfoValue:r}),n&&o.push({errorInfoKey:u.ClientErrorStrings.StackTrace,errorInfoValue:n}),e},l.GetDetailsFromTransformError=function(e,t){return{message:e.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:e.get("ServiceError_CannotLoadVisual"),errorInfoValue:t.message}]}},l.getErrorDetails=function(e,t,r,n){var i={};if(r)if(_.isArray(r))for(var o=0,a=r;o<a.length;o++){var s=a[o];i[s.Key]=s.Value}else i=r;return t={message:d(e,t,i),displayableErrorInfo:[]},n&&c(t,n,e),t},l.FormatWithNamedParameters=d,l.GetDetailsFromServerError=function(e,t){var r="",n="",i="",o="",a=!1;switch(t.errorCode){case u.PremiumFilesModelRequiresPremiumCapacity:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("PremiumRequired_TitleText"),i=e.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),a=!0;break;case u.LargeModelMovedAcrossRegions:r=e.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),n=e.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),i=d(e,"LargeModelMovedAcrossRegions",t.parameters),o="https://aka.ms/moving-large-datasets",a=!0;break;case u.RS_AccessDeniedDueToRLSGroup:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelFetchingFailureKey"),i=e.get("DsrError_NoPermissionDueToRLSGroupMessage"),a=!0;break;case u.RS_CannotRetrieveModel:case u.PBIExplore_CannotRetrieveModel:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelFetchingFailureKey"),i=e.get("DsrError_CanNotRetrieveModelMessage"),a=!0;break;case u.DMTS_NoGatewayWithAllDatasourcesToBindError:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelFetchingFailureKey"),i=e.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),a=!0;break;case u.DM_GWPipeline_UnknownError:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelFetchingFailureKey"),i=e.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),a=!0;break;case u.PBID_AccessDenied:r=e.get("ServiceError_CannotLoadVisual"),n=e.get("ServiceError_AuthenticationErrorKey"),i=e.get("ServiceError_AuthenticationErrorValue"),a=!0;break;case u.PBID_WindowsAuthNotSupported:r=e.get("ServiceError_CannotLoadVisual"),n=e.get("ServiceError_AuthenticationErrorKey"),i=e.get("ServiceError_WindowsAuthNotSupportedErrorValue"),a=!0;break;case u.PBID_WindowsAuthImpersonationNotSupported:r=e.get("ServiceError_CannotLoadVisual"),n=e.get("ServiceError_AuthenticationErrorKey"),i=e.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),a=!0;break;case u.PBI_PowerBIServiceLiveConnectModelNotFound:r=e.get("UploadPowerBICompanion_AccessDatasetWarning"),a=!0;break;case u.PBI_InsecureLibraryLoadingPatchMissing:r=e.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),n=e.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),i=e.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),a=!0;break;case u.BYOKEncryptedModelRequiresPremiumCapacity:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("PremiumRequired_TitleText"),i=e.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),a=!0;break;case u.CustomerKeyNotAccessible:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServerError_CustomerKeyNotAccessible_Report"),a=!0;break;case u.CustomerKeyVaultError:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServerError_CustomerKeyVaultError_Report"),a=!0}if(!a)switch(t.statusCode){case 2:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelConvertFailureKey"),i=e.get("ServiceError_ModelConvertFailureValue");break;case 3:r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelCreationFailureKey"),i=e.get("ServiceError_ModelCreationFailureValue");break;case 1:case 9:if(r=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServiceError_ModelCannotLoad"),t.errorDetails){var s=_.find(t.errorDetails,(function(e){return"ModelMode"===e.code}));if(s)switch(s.detail.value){case"Internal":i=e.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":i=e.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":i=e.get("ServiceError_ModelConnectFailurePBIServiceValue")}}i=i||e.get("ServiceError_ModelFetchingFailureValue");break;case 4:r=e.get("ServiceError_CannotLoadVisual"),n=e.get("ServiceError_ExecuteSemanticQueryErrorKey"),i=e.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case 5:r=e.get("ServiceError_CannotLoadVisual"),n=e.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),i=e.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:r=e.get("ServiceError_GeneralError"),n=e.get("ServiceError_GeneralErrorKey"),i=e.get("ServiceError_GeneralErrorValue")}var l={message:r,displayableErrorInfo:[{errorInfoKey:n,errorInfoValue:i}]};return o&&(l.helpLink=o),l}})(powerbi=powerbi||{}),(function(r){r.PremiumFilesModelRequiresPremiumCapacity="PremiumFilesModelRequiresPremiumCapacity",r.LargeModelMovedAcrossRegions="LargeModelMovedAcrossRegions",r.RS_AccessDeniedDueToRLSGroup="rsAccessDeniedDueToRLSGroup",r.RS_CannotRetrieveModel="rsCannotRetrieveModel",r.RLSNotAuthorizedForModel="RLSNotAuthorizedForModel",r.PBIExplore_CannotRetrieveModel="CannotRetrieveModelError",r.DMTS_NoGatewayWithAllDatasourcesToBindError="DMTS_NoGatewayWithAllDatasourcesToBindError",r.DM_GWPipeline_UnknownError="DM_GWPipeline_UnknownError",r.DM_GWPipeline_Gateway_GatewayUpgradeRequired="DM_GWPipeline_Gateway_GatewayUpgradeRequired",r.PBID_AccessDenied="pbidAccessDenied",r.PBID_WindowsAuthImpersonationNotSupported="pbidWindowsAuthWindowsAuthImpersonationNotSupported",r.PBID_WindowsAuthNotSupported="pbidWindowsAuthNotSupported",r.PBI_AdomdErrorResponseExternal="PowerBIAdomdErrorResponseExternal",r.PBI_AdomdErrorResponseSystem="PowerBIAdomdErrorResponseSystem",r.PBI_AdomdErrorResponseUser="PowerBIAdomdErrorResponseUser",r.PBI_ConnectionThrottledDueToCapacityOverload="ConnectionThrottledDueToCapacityOverload",r.PBI_DatasourceNotFound="DatasourceNotFound",r.PBI_DatabaseDoesNotExistOrUserDoesNotHavePermission="DatabaseDoesNotExistOrUserDoesNotHavePermission",r.PBI_InsecureLibraryLoadingPatchMissing="InsecureLibraryLoadingPatchMissing",r.PBI_MaximumAllowableMemoryReached="MaximumAllowableMemoryReached",r.PBI_PowerBIServiceLiveConnectModelNotFound="PowerBIServiceLiveConnectModelNotFound",r.ExceptionCulpritSystem="System",r.ExceptionCulpritPowerBI="PowerBI",r.ExceptionCulpritUser="User",r.ExceptionCulpritExternal="External",r.BYOKEncryptedModelRequiresPremiumCapacity="BYOKEncryptedModelRequiresPremiumCapacity",r.CustomerKeyNotAccessible="CustomerKeyNotAccessible",r.CustomerKeyVaultError="CustomerKeyVaultError",r.RS_OrphanedModel="rsOrphanedModel";var e=(Object.defineProperty(t.prototype,"code",{get:function(){return this.m_serviceError.errorCode||t.codeName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requestId",{get:function(){return this.httpRequestId},set:function(e){this.httpRequestId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){var e=this.m_serviceError.exceptionCulprit;if(null!=e)switch(e){case r.ExceptionCulpritSystem:case r.ExceptionCulpritPowerBI:return"PowerBI";case r.ExceptionCulpritExternal:return"External";case r.ExceptionCulpritUser:return"User";default:return"PowerBI"}},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){var t=6===this.m_serviceError.statusCode?r.ServiceErrorHelper.GetDetailsFromTransformError(e,this.m_serviceError):r.ServiceErrorHelper.GetDetailsFromServerError(e,this.m_serviceError);return this.m_serviceError.errorDetails&&r.ServiceErrorHelper.addAdditionalInfo(t,this.m_serviceError.errorDetails,e),r.ServiceErrorHelper.addDebugErrorInfo(t,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),t.source=this.source,t},t.codeName="ServiceErrorToClientError",t);function t(e){this.message=e.message||"",this.m_serviceError=e}r.ServiceErrorToClientError=e;Object.defineProperty(n.prototype,"code",{get:function(){return this.innerError.code},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"source",{get:function(){var e=this.innerError["pbi.error"],e=e&&e.exceptionCulprit;if(null!=e)switch(e){case 0:return"PowerBI";case 2:return"External";case 1:return"User";default:return"PowerBI"}},enumerable:!1,configurable:!0}),n.prototype.getDetails=function(e){var t=this.innerError["pbi.error"];if(t)return r.ServiceErrorHelper.getErrorDetails(e,t.code,t.parameters,t.details)},e=n;function n(e){this.innerError=e}r.PowerBIAPIErrorToClientError=e})(powerbi=powerbi||{}),(function(t){t.getBuild=function(){return t.ensurePowerbi().build},t.setBuild=function(e){t.ensurePowerbi().build=e},t.setBuildDetails=function(e){t.ensurePowerbi().buildDetails=e},t.getClientVersion=function(){return t.ensurePowerbi().clientVersion},t.setClientVersion=function(e){t.ensurePowerbi().clientVersion=e},t.getCvUrl=function(){return t.ensurePowerbi().cvUrl},t.setCvUrl=function(e){t.ensurePowerbi().cvUrl=e},t.getVisualCDNBlobContainerUrl=function(){return t.ensurePowerbi().visualCDNBlobContainerUrl},t.setVisualCDNBlobContainerUrl=function(e){t.ensurePowerbi().visualCDNBlobContainerUrl=e}})(powerbi=powerbi||{}),(powerbi||(powerbi={})).geoTaggingAnalyzerServiceModuleFactory=function(){var t="Address",r="City",n="Continent",i="Country",o="County",a="Longitude",s="Latitude",l="Place",u="PostalCode",c="StateOrProvince",d={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"},h=(g.prototype.ensureCategoriesArePopulated=function(){if(this.GeotaggingString_Continent)return!0;var e=this.getLocalized,t=e("GeotaggingString_Continent");return null!=t&&(this.GeotaggingString_Continent=t.toLowerCase(),this.GeotaggingString_Continents=e("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=e("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=e("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=e("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=e("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=e("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=e("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=e("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=e("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=e("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=e("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=e("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=e("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=e("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=e("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=e("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=e("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=e("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=e("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=e("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=e("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=e("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=e("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=e("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=e("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=e("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=e("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=e("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=e("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=e("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=e("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=e("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=e("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=e("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=e("GeotaggingString_Territories").toLowerCase(),!0)},g.prototype.isLongitudeOrLatitude=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(e)||this.isLatitude(e))},g.prototype.isGeographic=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(e)||this.isGeocodable(e))},g.prototype.isGeocodable=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(e)||this.isCity(e)||this.isContinent(e)||this.isCountry(e)||this.isCounty(e)||this.isStateOrProvince(e)||this.isPlace(e)||this.isPostalCode(e)||this.isTerritory(e))},g.prototype.isGeoshapable=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isCity(e)||this.isContinent(e)||this.isCountry(e)||this.isCounty(e)||this.isStateOrProvince(e)||this.isPostalCode(e)||this.isTerritory(e)||this.isPlace(e)||this.isGeoshapableEnglish(e))},g.prototype.isGeoshapableEnglish=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(e)||this.isEnglishContinent(e)||this.isEnglishCountry(e)||this.isEnglishCounty(e)||this.isEnglishStateOrProvince(e)||this.isEnglishPostalCode(e)||this.isEnglishTerritory(e)||this.isEnglishPlace(e))},g.prototype.isAddress=function(e){return g.hasMatches(e,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])},g.prototype.isPlace=function(e){return g.hasMatches(e,[this.GeotaggingString_Place,this.GeotaggingString_Places])},g.prototype.isCity=function(e){return g.hasMatches(e,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])},g.prototype.isStateOrProvince=function(e){return g.hasMatches(e,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])},g.prototype.isCountry=function(e){return g.hasMatches(e,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])},g.prototype.isCounty=function(e){return g.hasMatches(e,[this.GeotaggingString_County,this.GeotaggingString_Counties])},g.prototype.isContinent=function(e){return g.hasMatches(e,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])},g.prototype.isPostalCode=function(e){var t,r=g.hasMatches(e,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&g.hasMatches(e,[this.GeotaggingString_Code])||g.hasMatches(e,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);return r||(e=e.replace(t=/\s+/,""),r=g.hasMatches(e,[this.GeotaggingString_PostalCode.replace(t,""),this.GeotaggingString_PostalCodes.replace(t,""),this.GeotaggingString_ZipCode.replace(t,""),this.GeotaggingString_ZipCodes.replace(t,"")])),r},g.prototype.isLongitude=function(e){return g.hasMatches(e,[this.GeotaggingString_Longitude])||g.hasMatches(e,[this.GeotaggingString_Longitude_Short],!0)||g.hasMatches(e,[this.GeotaggingString_Longitude_Short2],!0)},g.prototype.isLatitude=function(e){return g.hasMatches(e,[this.GeotaggingString_Latitude])||g.hasMatches(e,[this.GeotaggingString_Latitude_Short],!0)},g.prototype.isTerritory=function(e){return g.hasMatches(e,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])},g.hasMatches=function(e,t,r){for(var n=/\W/,i=e.toLowerCase(),o=0,a=t.length;o<a;o++){var s=t[o].toLowerCase();if(r){var l=i.indexOf(s);if(-1<l){var u=void 0,c=void 0,u=c=!0;if(0<l-1&&(c=n.test(i[l-1])),l+s.length<i.length&&(u=n.test(i[l+s.length])),c&&u)return!0}}else if(-1<i.indexOf(s))return!0}return!1},g.prototype.getFieldType=function(e){if(this.ensureCategoriesArePopulated()&&void 0!==e)return this.isLatitude(e)?s:this.isLongitude(e)?a:this.isPostalCode(e)?u:this.isAddress(e)?t:this.isPlace(e)?l:this.isCity(e)?r:this.isCountry(e)?i:this.isCounty(e)?o:this.isStateOrProvince(e)?c:this.isContinent(e)?n:this.getEnglishFieldType(e)},g.prototype.getFieldTypeFromDescriptor=function(e){if(null!=e&&null!=e.geography){e=e.geography;return e.latitude?s:e.longitude?a:e.postalCode?u:e.address?t:e.place?l:e.city?r:e.country?i:e.county?o:e.stateOrProvince?c:e.continent?n:void 0}},g.prototype.isEnglishAddress=function(e){return g.hasMatches(e,[d.GeotaggingString_Address,d.GeotaggingString_Addresses,d.GeotaggingString_Street,d.GeotaggingString_Streets])},g.prototype.isEnglishPlace=function(e){return g.hasMatches(e,[d.GeotaggingString_Place,d.GeotaggingString_Places])},g.prototype.isEnglishCity=function(e){return g.hasMatches(e,[d.GeotaggingString_City,d.GeotaggingString_Cities,d.GeotaggingString_Town,d.GeotaggingString_Towns,d.GeotaggingString_Village,d.GeotaggingString_Villages])},g.prototype.isEnglishStateOrProvince=function(e){return g.hasMatches(e,[d.GeotaggingString_State,d.GeotaggingString_States,d.GeotaggingString_Province,d.GeotaggingString_Provinces,d.GeotaggingString_VRMBackCompat_StateOrProvince])},g.prototype.isEnglishCountry=function(e){return g.hasMatches(e,[d.GeotaggingString_Country,d.GeotaggingString_Countries,d.GeotaggingString_VRMBackCompat_CountryRegion])},g.prototype.isEnglishCounty=function(e){return g.hasMatches(e,[d.GeotaggingString_County,d.GeotaggingString_Counties])},g.prototype.isEnglishContinent=function(e){return g.hasMatches(e,[d.GeotaggingString_Continent,d.GeotaggingString_Continents])},g.prototype.isEnglishPostalCode=function(e){var t,r=g.hasMatches(e,[d.GeotaggingString_Post,d.GeotaggingString_Zip])&&g.hasMatches(e,[this.GeotaggingString_Code])||g.hasMatches(e,[d.GeotaggingString_PostalCode,d.GeotaggingString_PostalCodes,d.GeotaggingString_ZipCode,d.GeotaggingString_ZipCodes]);return r||(t=new RegExp("s"),r=g.hasMatches(e,[d.GeotaggingString_PostalCode.replace(t,""),d.GeotaggingString_PostalCodes.replace(t,""),d.GeotaggingString_ZipCode.replace(t,""),d.GeotaggingString_ZipCodes.replace(t,"")])),r},g.prototype.isEnglishLongitude=function(e){return g.hasMatches(e,[d.GeotaggingString_Longitude])||g.hasMatches(e,[d.GeotaggingString_Longitude_Short],!0)||g.hasMatches(e,[d.GeotaggingString_Longitude_Short2],!0)},g.prototype.isEnglishLatitude=function(e){return g.hasMatches(e,[d.GeotaggingString_Latitude])||g.hasMatches(e,[d.GeotaggingString_Latitude_Short],!0)},g.prototype.isEnglishTerritory=function(e){return g.hasMatches(e,[d.GeotaggingString_Territory,d.GeotaggingString_Territories])},g.prototype.getEnglishFieldType=function(e){if(null!=e)return this.isEnglishLatitude(e)?s:this.isEnglishLongitude(e)?a:this.isEnglishPostalCode(e)?u:this.isEnglishAddress(e)?t:this.isEnglishPlace(e)?l:this.isEnglishCity(e)?r:this.isEnglishCountry(e)?i:this.isEnglishCounty(e)?o:this.isEnglishStateOrProvince(e)?c:this.isEnglishContinent(e)?n:void 0},g);function g(e){this.getLocalized=e,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}return{create:function(e){return new h(e)}}},(function(e){var t;e.clientErrorHasActivities=function(e){return!!e.performanceActivities},(i=t=e.ClientErrorStrings||(e.ClientErrorStrings={})).ClientErrorCode="Client Error Code",i.ErrorCode="Error Code",i.ErrorDetails="Error Details",i.HttpRequestId="HTTP Request Id",i.JobId="Job Id",i.ODataErrorMessage="OData Error Message",i.StackTrace="Stack Trace";var r=(n.prototype.getDetails=function(e){return{resourceKey:"ClientError_UnknownClientErrorKey",message:e.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:e.get("ClientError_UnknownClientErrorKey"),errorInfoValue:e.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:t.ClientErrorCode,errorInfoValue:this.code}]}},n);function n(e){this.code=e,this.ignorable=!1}e.UnknownClientError=r;var i={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:1}},o={RLSNotAuthorizedForModel:i,NotAuthorizedForImpersonation:i};e.isHttpClientError=function(e){return null!=e&&void 0!==e.code&&void 0!==e.ignorable&&void 0!==e.requestId&&void 0!==e.getDetails};Object.defineProperty(a.prototype,"code",{get:function(){return this.detailedErrorCode||"HttpClientError"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"httpStatusCode",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),a.prototype.getDetails=function(e){var t=this.detailedErrorCode&&o[this.detailedErrorCode];if(t){var r=t.localizedMessage,n=t.additionalInfoKey||"DsrError_Key",i=t.additionalInfoValue||r||"DsrError_UnknownErrorValue",t=t.helpLinkInfo;return{resourceKey:n,message:r?e.get(r):null,displayableErrorInfo:[{errorInfoKey:e.get(n),errorInfoValue:e.get(i)}],debugErrorInfo:[],helpLink:t&&t.helpLink,helpLinkType:t&&t.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(e)},a.prototype.getGenericErrorDetails=function(e){e={resourceKey:"DsrError_Key",message:null,displayableErrorInfo:[{errorInfoKey:e.get("DsrError_Key"),errorInfoValue:e.get("DsrError_UnknownErrorValue")},{errorInfoKey:e.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:t.HttpRequestId,errorInfoValue:this.httpRequestId},{errorInfoKey:t.ClientErrorCode,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&e.debugErrorInfo&&e.debugErrorInfo.push({errorInfoKey:t.ErrorDetails,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&e.debugErrorInfo&&e.debugErrorInfo.push({errorInfoKey:t.ErrorCode,errorInfoValue:this.detailedErrorCode}),e},r=a;function a(e,t,r,n,i){this.statusCode=e,this.httpRequestId=t,this.detailedErrorCode=r,this.detailedMessage=n,this.source=i}e.HttpClientError=r;s.prototype.getDetails=function(e){return{message:"",displayableErrorInfo:[]}},s.Code="IgnorableClientError",i=s;function s(e){this.debugInfo=e,this.code=s.Code,this.ignorable=!0}e.IgnorableClientError=i;l.prototype.getDetails=function(e){return{message:"",displayableErrorInfo:[]}},r=l;function l(e){this.innerError=e,this.code="QueryPipelineError",this.ignorable=!1}e.QueryPipelineError=r;var u,i=(__extends(c,u=i),Object.defineProperty(c.prototype,"queryCancellationSource",{get:function(){return this.cancellationSource},enumerable:!1,configurable:!0}),c);function c(e){var t=u.call(this,"QueryCancellationClientError: "+e)||this;return t.cancellationSource=e,t}e.QueryCancellationClientError=i})(powerbi=powerbi||{}),(function(e){var u,l;function i(e,t){e.indexOf(t)<0&&e.push(t)}function t(e,t){e.length;for(var r=[],n=0;n<t;++n)r.push(e[n]);return r}function r(e){return e.withId=n,e}function n(e){return l.findWithId(this,e)}function o(e){return e.withName=c,e}function a(e,t){t=s(e,t);if(0<=t)return e[t]}function s(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r].name===t)return r;return-1}function c(e){return a(this,e)}function d(e,t){var r=e.length;if(2<=r)for(var n=1;n<r;n++)if(0<t(e[n-1],e[n]))return!1;return!0}function h(e,t,r){for(var n=new Array(t.length),i=0,o=e;i<o.length;i++){for(var a=o[i],s=!1,l=0;l<t.length;l++)if(!n[l]&&r(a,t[l])){n[l]=s=!0;break}if(!s)return!1}return!0}(l=u=e.ArrayExtensions||(e.ArrayExtensions={})).intersect=function(e,t){for(var r=[],n=e.length-1;0<=n;--n)-1!==t.indexOf(e[n])&&r.push(e[n]);return r},l.diff=function(e,t){for(var r=[],n=e.length-1;0<=n;--n){var i=e[n];-1===t.indexOf(i)&&r.push(i)}return r},l.distinct=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];-1===t.indexOf(i)&&t.push(i)}return t},l.union=function(e,t){for(var r=0,n=t.length;r<n;++r)i(e,t[r])},l.unionSingle=i,l.range=function(e,t,r){0<=t&&e.length,0<=r&&e.length;for(var n=[],i=t;i<=r;++i)n.push(e[i]);return n},l.take=t,l.copy=function(e){return t(e,e.length)},l.sequenceEqual=function(e,t,r){var n;if((e=e||null)===(t=t||null))return!0;if(!!e!=!!t)return!1;var i=null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0;if(i!==(null==t?void 0:t.length))return!1;for(var o=0;o<i&&r(null==e?void 0:e[o],null==t?void 0:t[o]);)++o;return o===i},l.emptyToNull=function(e){return e&&0===e.length?null:e},l.indexOf=function(e,t){for(var r=0,n=e.length;r<n;++r)if(t(e[r]))return r;return-1},l.rotate=function(e,t){if(0===t)return e.slice();var r=e.slice(t);return Array.prototype.push.apply(r,e.slice(0,t)),r},l.createWithId=function(){return r([])},l.extendWithId=r,l.findWithId=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i.id===t)return i}},l.createWithName=function(){return o([])},l.extendWithName=o,l.findItemWithName=a,l.indexWithName=s,l.insertSorted=function(e,t){for(var r=e.length-1;0<=r;r--){var n=e[r]-t;if(0==n)return!1;if(!(0<n))return e.splice(r+1,0,t),!0}return e.unshift(t),!0},l.insertUnique=function(e,t){for(var r=0,n=e;r<n.length;r++)if(n[r]===t)return!1;return e.push(t),!0},l.removeFirst=function(e,t){return!((t=e.indexOf(t))<0)&&(e.splice(t,1),!0)},l.clear=function(e){if(e)for(;0<e.length;)e.pop()},l.isUndefinedOrEmpty=function(e){return!e||0===e.length},l.swap=function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n},l.isInArray=function(e,t,r){return _.some(e,(function(e){return r(e,t)}))},l.isArrayOrInheritedArray=function(e){for(var t=e;null!=t;){if(_.isArray(t))return!0;t=Object.getPrototypeOf(t)}return!1},l.isSorted=d,l.isSortedNumeric=function(e,t){return d(e,t?function(e,t){return t-e}:function(e,t){return e-t})},l.ensureArray=function(e){return _.isArray(e)?e:[e]},l.hasUniqueNames=function(e){return _.uniqBy(e,(function(e){return e.name})).length===e.length},l.rewriteArray=function(e,t){for(var r,n=0,i=e.length;n<i;n++){var o=e[n],a=t(o);(r=o!==a&&!r?l.take(e,n):r)&&r.push(a)}return r||e},l.spliceArray=function(e,t){for(var r,n=0,i=e.length;n<i;n++){var o=e[n],a=t(o,n),s=1!==a.length||a[0]!==o;(r=s&&!r?l.take(e,n):r)&&(s?r.push.apply(r,a||[]):r.push(o))}return r||e},l.filterArray=function(e,t){for(var r,n=0,i=e.length;n<i;n++){var o=e[n],a=t(o,n);(r=!a&&!r?l.take(e,n):r)&&a&&r.push(o)}return r||e},l.hasSameValues=function(e,t,r){return _.isEmpty(e)||_.isEmpty(t)?_.isEmpty(e)&&_.isEmpty(t):e.length===t.length&&h(e,t,r)},l.isSubset=function(e,t,r){return _.isEmpty(e)||_.isEmpty(t)?_.isEmpty(e)&&_.isEmpty(t):!(e.length>t.length)&&h(e,t,r)},l.getLongestCommonSubsequence=function(e,t,r){if(_.isEmpty(e)||_.isEmpty(t))return[];for(var n=[],i=0;i<=e.length;i++){n[i]=[];for(var o=0;o<=t.length;o++)0===i||0===o?n[i][o]=0:r(e[i-1],t[o-1])?n[i][o]=n[i-1][o-1]+1:n[i][o]=Math.max(n[i-1][o],n[i][o-1])}for(var a=[],s=n[e.length][t.length],l=e.length,u=t.length;0<l&&0<u;)r(e[l-1],t[u-1])?(a[s-1]=e[l-1],l--,u--,s--):n[l-1][u]>n[l][u-1]?l--:u--;return a},(e.DictionaryExtensions||(e.DictionaryExtensions={})).rewriteDictionary=function(e,t){for(var r,n=Object.getOwnPropertyNames(e),i=0,o=n.length;i<o;i++){var a=n[i],s=e[a],l=t(a,s);(r=s!==l&&!r?_.pick(e,u.take(n,i)):r)&&(r[a]=l)}return r||e}})(jsCommon=jsCommon||{}),(function(e){(e=e.DomFactory||(e.DomFactory={})).div=function(){return $("<div></div>")},e.span=function(){return $("<span></span>")},e.checkbox=function(){return $('<input type="checkbox"/>')},e.ul=function(){return $("<ul></ul>")},e.li=function(){return $("<li></li>")},e.button=function(){return $('<input type="button"/>')},e.select=function(){return $("<select></select>")},e.textBox=function(){return $('<input type="text"/>')},e.img=function(){return $("<img/>")},e.iframe=function(){return $("<iframe></iframe>")}})(InJs=InJs||{}),(function(e){var n;function t(e,t){if(void 0===t&&(t=n.DEFAULT_PRECISION_IN_DECIMAL_DIGITS),e&&isFinite(e)){e=n.log10(Math.abs(e));if(e<n.MIN_EXP)return 0;t=Math.max(e-t,1-n.NEGATIVE_POWERS.length);return n.pow10(t)}}function r(e,t){if(0===(t=i(t,n.DEFAULT_PRECISION))||0===e)return e;var r=Math.round(e/t)*t,t=Math.round(n.log10(Math.abs(e))-n.log10(t))+1;return r=0<t&&t<16?parseFloat(r.toPrecision(t)):r}function i(e,t,r){if(void 0!==e)return e;t=r?t?n.getPrecision(Math.min(Math.abs(t),Math.abs(r))):n.getPrecision(r):n.getPrecision(t);return t||n.DEFAULT_PRECISION}(n=e.Double||(e.Double={})).MIN_VALUE=-Number.MAX_VALUE,n.MAX_VALUE=Number.MAX_VALUE,n.MIN_EXP=-308,n.MAX_EXP=308,n.EPSILON=1e-323,n.DEFAULT_PRECISION=1e-4,n.DEFAULT_PRECISION_IN_DECIMAL_DIGITS=12,n.LOG_E_10=Math.log(10),n.POSITIVE_POWERS=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],n.NEGATIVE_POWERS=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0],n.pow10=function(e){return 0<=e?e<n.POSITIVE_POWERS.length?n.POSITIVE_POWERS[e]:1/0:0<(e=-e)&&e<n.NEGATIVE_POWERS.length?n.NEGATIVE_POWERS[e]:0},n.log10=function(e){return 1<e&&e<1e16?e<1e8?e<1e4?e<100?e<10?0:1:e<1e3?2:3:e<1e6?e<1e5?4:5:e<1e7?6:7:e<1e12?e<1e10?e<1e9?8:9:e<1e11?10:11:e<1e14?e<1e13?12:13:e<1e15?14:15:1e-16<e&&e<1?e<1e-8?e<1e-12?e<1e-14?e<1e-15?-16:-15:e<1e-13?-14:-13:e<1e-10?e<1e-11?-12:-11:e<1e-9?-10:-9:e<1e-4?e<1e-6?e<1e-7?-8:-7:e<1e-5?-6:-5:e<.01?e<.001?-4:-3:e<.1?-2:-1:(e=Math.log(e)/n.LOG_E_10,n.floorWithPrecision(e))},n.getPrecision=t,n.equalWithPrecision=function(e,t,r){return r=i(r,e,t),e===t||Math.abs(e-t)<r},n.lessWithPrecision=function(e,t,r){return r=i(r,e,t),e<t&&Math.abs(e-t)>r},n.lessOrEqualWithPrecision=function(e,t,r){return r=i(r,e,t),e<t||Math.abs(e-t)<r},n.greaterWithPrecision=function(e,t,r){return r=i(r,e,t),t<e&&Math.abs(e-t)>r},n.greaterOrEqualWithPrecision=function(e,t,r){return r=i(r,e,t),t<e||Math.abs(e-t)<r},n.floorWithPrecision=function(e,t){t=null!=t?t:n.DEFAULT_PRECISION;var r=Math.round(e);return Math.abs(e-r)<t?r:Math.floor(e)},n.ceilWithPrecision=function(e,t){t=i(t,n.DEFAULT_PRECISION);var r=Math.round(e);return Math.abs(e-r)<t?r:Math.ceil(e)},n.floorToPrecision=function(e,t){return 0===(t=i(t,n.DEFAULT_PRECISION))||0===e?e:Math.floor(e/t)*t},n.ceilToPrecision=function(e,t){return 0===(t=i(t,n.DEFAULT_PRECISION))||0===e?e:Math.ceil(e/t)*t},n.roundToPrecision=r,n.ensureInRange=function(e,t,r){return null==e?e:e<t?t:r<e?r:e},n.round=function(e){return.5+e<<0},n.project=function(e,t,r,n,i){return 0===r||0===i?t<=e&&e<=t+r?n:NaN:n+(e-t)/r*i},n.removeDecimalNoise=function(e){return r(e,t(e))},n.isInteger=function(e){return null!==e&&e%1==0},n.toIncrement=function(e,t){return Math.round(e/t)*t},n.detectPrecision=i})(powerbi=powerbi||{}),(function(c){var d=powerbi.Double;!(function(h){function i(e){var t;if(0<=e.indexOf("#")){if(7===e.length){if(!(null==(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))||t.length<4))return{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}}else if(4===e.length)if(!(null==(t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(e))||t.length<4))return{R:parseInt(t[1]+t[1],16),G:parseInt(t[2]+t[2],16),B:parseInt(t[3]+t[3],16)}}else if(0<=e.indexOf("rgb(")){if(!(null==(t=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(e))||t.length<4))return{R:parseInt(t[1],10),G:parseInt(t[2],10),B:parseInt(t[3],10)}}else if(0<=e.indexOf("rgba("))if(!(null==(t=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(e))||t.length<5))return{R:parseInt(t[1],10),G:parseInt(t[2],10),B:parseInt(t[3],10),A:parseFloat(t[4])}}function o(e){if(e){var t,r=e.R/255,n=e.G/255,i=e.B/255,o=Math.min(r,Math.min(n,i)),e=Math.max(r,Math.max(n,i)),o=e-o,o=0===e||0==o?t=0:(t=o/e,r===e?(n-i)/o:n===e?2+(i-r)/o:4+(r-n)/o);return(o/=6)<0&&(o+=1),{H:o,S:t,V:e}}}function a(e){var t,r,n,i=e.H,o=e.S,a=e.V;if(0===o)n=r=t=a;else{var s=void 0,l=void 0,e=void 0,u=a*(1-o),c=a*(1-o*(s=(e=6*i)-(l=Math.floor(e)))),d=a*(1-o*(1-s));switch(l){case 0:t=a,r=d,n=u;break;case 1:t=c,r=a,n=u;break;case 2:t=u,r=a,n=d;break;case 3:t=u,r=c,n=a;break;case 4:t=d,r=u,n=a;break;case 5:t=a,r=u,n=c;break;default:return}}return{R:Math.floor(255*t),G:Math.floor(255*r),B:Math.floor(255*n)}}function t(e){return _.isNumber(e.A)?Math.round(100*(1-e.A)):0}function s(e){return"#"+r(e.R)+r(e.G)+r(e.B)}function n(e,t,r){return t=d.ensureInRange(t,0,1),{R:l(e.R,t,r.R),G:l(e.G,t,r.G),B:l(e.B,t,r.B)}}function l(e,t,r){return t=d.ensureInRange(t,0,1),e=d.ensureInRange(e,0,255),r=d.ensureInRange(r,0,255),Math.round(t*e+(1-t)*r)}function r(e){e=d.ensureInRange(e,0,255).toString(16).toUpperCase();return 1===e.length?"0"+e:e}function g(e,t,r,n,i){return t===Number.NEGATIVE_INFINITY&&r===Number.POSITIVE_INFINITY?Math.round((i+n)/2):t===Number.NEGATIVE_INFINITY?i:r===Number.POSITIVE_INFINITY?n:Math.round(n+(e-t)*(i-n)/(r-t))}h.rotate=function(e,t){if(0===t)return e;if(e=i(e)){e=o(e);if(e){t=(function(e,t){t=e.H+t;return{H:1<t?t-1:t,S:e.S,V:e.V}})(e,t);if(t){t=a(t);if(t)return s(t)}}}},h.normalizeToHexString=function(e){if(e=i(e))return s(e)},h.parseColorString=i,h.darken=function(e,t){return t=Math.floor(t),{R:Math.max(0,e.R-t),G:Math.max(0,e.G-t),B:Math.max(0,e.B-t)}},h.setOpacity=function(e,t){return e.A=t,e},h.getTransparencyFromString=function(e){if(e=i(e))return t(e)},h.getTransparencyFromRGb=t,h.convertTransparencyToOpacity=function(e){return 1-e/100},h.rgbString=function(e){return null==e.A?"rgb("+e.R+","+e.G+","+e.B+")":"rgba("+e.R+","+e.G+","+e.B+","+e.A+")"},h.hexString=s,h.isHexString=function(e){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(e)},h.isHtmlSafeColor=function(e){return null!=e&&!c.StringExtensions.hasDanglingLeftParenthesis(e)&&-1===e.indexOf("'")&&-1===e.indexOf('"')},h.isFullHexString=function(e){return/^#[0-9a-f]{6}$/i.test(e)},h.isValidCssString=function(e){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(e)},h.hexBlend=function(e,t,r){if(e=i(e),r=i(r),e&&r)return s(n(e,t,r))},h.rgbBlend=n,h.channelBlend=l,h.calculateHighlightColor=function(e,t,r){if(e=o(e)){(1<t+r||t<=0||r<=0)&&(t=.8,r=.2),e.V<t?e.V=e.V+r:e.V=e.V-r;e=a(e);return e?s(e):void 0}},h.createLinearColorScale=function(l,u,c){l.length,u.length,l.length;var d=u.map((function(e){return h.parseColorString(e)}));return function(e){if(null==e&&(e=0),!isNaN(e)){if(c){var t=_.last(l);if(null==t||t<=e)return _.last(u);if(e<=l[0])return u[0]}for(var r,n,i,o,a=1,s=l.length;a<s;a++){if(r=l[a-1],n=l[a],r===Number.NEGATIVE_INFINITY&&isNaN(n))return u[a];if(isNaN(r)||isNaN(n))return;if(e===n)return u[a];if(r<=e&&e<=n){i=d[a-1],o=d[a];break}}if(void 0!==r&&void 0!==n&&void 0!==i&&void 0!==o){t={R:g(e,r,n,i.R,o.R),G:g(e,r,n,i.G,o.G),B:g(e,r,n,i.B,o.B)};return h.hexString(t)}}}},h.createMonochromeScale=function(e,t){void 0===t&&(t=.25);var r=o(i(e));if(r){r.V=r.V>1-t?1-t:r.V<t?t:r.V;var n=_.clone(r),e=_.clone(r);n.V=Math.min(r.V+t,1),e.V=Math.max(r.V-t,0);n=a(n),e=a(e);if(n&&e){n=s(n),e=s(e);return h.createLinearColorScale([0,1],[n,e],!0)}}},h.shadeColor=function(e,t){var r=parseInt(e.slice(1),16),n=t<0?0:255,i=t<0?-1*t:t,e=r>>16,t=r>>8&255,r=255&r;return"#"+(16777216+65536*(Math.round((n-e)*i)+e)+256*(Math.round((n-t)*i)+t)+(Math.round((n-r)*i)+r)).toString(16).slice(1)};var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};h.getWebColorValue=function(e){return u[e.toLocaleLowerCase()]}})(c.Color||(c.Color={}))})(jsCommon=jsCommon||{}),(function(e){(e=e.visuals||(e.visuals={})).ForegroundColorName="foreground",e.ForegroundColorDarkName="foregroundDark",e.BackgroundColorName="background",e.BackgroundNeutralName="backgroundNeutral"})(powerbi=powerbi||{}),(function(e){function r(e){throw new Error("Contract check failed: "+e)}(e=e.contract||(e.contract={})).check=function(e,t){!0!==e&&r(t||"condition: "+e)},e.checkValue=function(e,t){null==e&&r(t||"condition: "+e)},e.checkNonEmpty=function(e,t){_.isEmpty(e)&&r(t||"condition: "+e)},e.fail=r})(powerbi=powerbi||{}),(function(e){(e=e.CssConstants||(e.CssConstants={})).createClassAndSelector=function(e){return{class:e,selector:"."+e}},e.styleAttribute="style",e.pixelUnits="px",e.heightProperty="height",e.widthProperty="width",e.topProperty="top",e.bottomProperty="bottom",e.leftProperty="left",e.rightProperty="right",e.marginTopProperty="margin-top",e.marginLeftProperty="margin-left",e.displayProperty="display",e.backgroundProperty="background",e.backgroundColorProperty="background-color",e.backgroundRepeatProperty="background-repeat",e.backgroundSizeProperty="background-size",e.backgroundImageProperty="background-image",e.textShadowProperty="text-shadow",e.textAlignProperty="text-align",e.borderProperty="border",e.borderTopWidthProperty="border-top-width",e.borderBottomWidthProperty="border-bottom-width",e.borderLeftWidthProperty="border-left-width",e.borderRightWidthProperty="border-right-width",e.borderRadiusProperty="border-radius",e.borderColorProperty="border-color",e.boxShadowProperty="box-shadow",e.fontFamilyProperty="font-family",e.fontSizeProperty="font-size",e.fontWeightProperty="font-weight",e.fontStyleProperty="font-style",e.textDecoration="text-decoration",e.colorProperty="color",e.opacityProperty="opacity",e.paddingProperty="padding",e.paddingLeftProperty="padding-left",e.paddingRightProperty="padding-right",e.positionProperty="position",e.maxWidthProperty="max-width",e.minWidthProperty="min-width",e.overflowProperty="overflow",e.overflowXProperty="overflow-x",e.overflowYProperty="overflow-y",e.transformProperty="transform",e.webkitTransformProperty="-webkit-transform",e.cursorProperty="cursor",e.visibilityProperty="visibility",e.absoluteValue="absolute",e.zeroPixelValue="0px",e.autoValue="auto",e.hiddenValue="hidden",e.noneValue="none",e.blockValue="block",e.inlineBlockValue="inline-block",e.transparentValue="transparent",e.normalValue="normal",e.boldValue="bold",e.italicValue="italic",e.underlineValue="underline",e.visibleValue="visible",e.tableRowValue="table-row",e.coverValue="cover",e.pointerValue="pointer",e.scrollValue="scroll"})(jsCommon=jsCommon||{}),(function(e){var t;(t=e.Deprecated||(e.Deprecated={})).escape=window.escape,t.unescape=window.unescape,(e.API||(e.API={})).deprecated=function(e){}})(jsCommon=jsCommon||{}),(function(e){!(function(e){var r,t=(r=Error,__extends(n,r),n);function n(e,t){t=r.call(this,t)||this;return t.name=e,t}var i,o=(__extends(a,i=t),a);function a(e,t,r){t=i.call(this,e,t+": "+r)||this;return t.argument=r,t}e.argumentNull=function(e){return new o("argumentNull","Argument was null",e)},e.argumentUndefined=function(e){return new o("argumentUndefined","Argument was undefined",e)},e.argumentOutOfRange=function(e){return new o("argumentOutOfRange","Argument was out of range",e)},e.notImplementedException=function(e){return new t("notImplementedException","not implemented: "+e)};var s,l=(s=Error,__extends(u,s),u);function u(e){return s.call(this,e)||this}e.TypeAssertionError=l})(e.Errors||(e.Errors={})),e.getStackTrace=function(t){var r,n;void 0===t&&(t=1);try{throw new Error}catch(e){null!=(r=e.stack)&&((n=r.split("\n")).splice(1,t),r=n.join("\n"))}return r}})(jsCommon=jsCommon||{}),(function(e){(function(n){n.FamilyQuote='"',n.FamilyDelimiter=", ";var e=(Object.defineProperty(t.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),t.prototype.getFamily=function(){return this.families.join(n.FamilyDelimiter)},Object.defineProperty(t.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),t.prototype.getCSS=function(){return this.families?this.families.map((function(e){return-1<e.indexOf(" ")?"'"+e+"'":e})).join(", "):null},t);function t(e){this.families=e}function i(e){if(e)return e.replace(/['"]+/g,"")}function o(e){if(e)return n.FamilyQuote+e.replace(/['"]+/g,"")+n.FamilyQuote}n.FamilyInfo=e,n.Family={light:new e(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new e(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new e(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new e(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new e(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new e(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new e(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new e(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new e(["PowerVisuals"])},n.FamilyMap={"Segoe UI Light":n.Family.light,"Segoe UI Semilight":n.Family.semilight,"Segoe UI":n.Family.regular,"Segoe UI Semibold":n.Family.semibold,"Segoe (Bold)":n.Family.bold,"Segoe UI Bold":n.Family.bold,DIN:n.Family.regularSecondary,"DIN Light":n.Family.lightSecondary,Heading:n.Family.light,Body:n.Family.regular},n.normalizeFamily=function t(e,r){return void 0===r&&(r=!0),null==e||""===e?e:-1===e.indexOf(",")?-1===e.indexOf(" ")?e:(r?o:i)(e):e.split(",").map((function(e){return t(e.trim(),r)})).join(n.FamilyDelimiter)},n.unQuoteFamily=i,n.quoteFontFamily=o})((e=e.visuals||(e.visuals={})).Font||(e.Font={}))})(powerbi=powerbi||{});var InJs,jsCommon,powerbi,jqueryExtensionsLoaded=!1;function focusable(e,t){var r,n,i=e.nodeName.toLowerCase();return"area"===i?(n=(r=e.parentNode).name,!(!e.href||!n||"map"!==r.nodeName.toLowerCase())&&(!!(n=$("img[usemap='#"+n+"']")[0])&&$(n).is(":visible")&&visible(n))):(/input|select|textarea|button|object/.test(i)?!e.disabled:"a"===i&&e.href||t)&&$(e).is(":visible")&&visible(e)}function visible(e){var t=$(e);if(!t||!t.length)return!1;for(var r=t.css("visibility");"inherit"===r;)r=(t=t.parent()).css("visibility");return"hidden"!==r}function initializeDebug(){debugIntialized||(window.DEBUG=!1,debugIntialized=!0)}initializeJQeuryExtensions(),(function(e){var t=(r.prototype.getValue=function(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value},r);function r(e){this.factoryMethod=e}e.Lazy=t})(jsCommon=jsCommon||{}),(function(e){function a(e,t){if(null===e)return null;e=Object.create(e);return t&&t(e),e}(e=e.Prototype||(e.Prototype={})).inherit=a,e.inheritSingle=function(e){if(null===e)return null;var t=Object.getPrototypeOf(e);return e=t===Object.prototype||t===Array.prototype?a(e):e},e.overrideArray=function(e,t){if(null!=e){for(var r,n=0,i=e.length;n<i;n++){var o=t(e[n]);o&&((r=r||a(e))[n]=o)}return r}},e.copyPrototypeDeep=function e(t,r){if(t&&r&&"object"==typeof t)for(var n in Object.getPrototypeOf(t)!==Object.getPrototypeOf(r)&&(r.__proto__=t.__proto__),t)e(t[n],r[n])}})(powerbi=powerbi||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).shapes||(e.shapes={})).Orientation||(e.Orientation={}))[e.Clockwise=0]="Clockwise",e[e.Counterclockwise=1]="Counterclockwise",e[e.Colinear=2]="Colinear"})(powerbi=powerbi||{}),(function(e){var i;(e=e.Formatting||(e.Formatting={})).findDateFormat=function(e,t,r){switch(t){case"m":t="M";break;case"O":case"o":t="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":t="S";break;case"u":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="F";break;case"y":case"Y":switch(r){case"default":case"en":case"en-US":t="MMMM, yyyy";break;default:t="Y"}}return{value:e,format:t}},e.fixDateTimeFormat=function(e){if(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),i=i||["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map((function(e){return{r:new RegExp("%"+e+"(?!"+e+")","g"),s:e}})),-1!==e.indexOf("%")&&2<e.length)for(var t=0,r=i;t<r.length;t++){var n=r[t];e=e.replace(n.r,n.s)}return e}})(jsCommon=jsCommon||{}),(function(e){(e.performance||(e.performance={})).now=void 0!==window.performance&&window.performance.now&&window.performance.timeOrigin?function(){return window.performance.now()+window.performance.timeOrigin}:Date.now})(jsCommon=jsCommon||{}),(function(e){var t=(r.prototype.initialize=function(t){this.runOutsideAngular=function(e){return t.runOutsideAngular(e)}},r.prototype.setInterval=function(e,t){return this.runOutsideAngular((function(){return setInterval(e,t)}))},r.prototype.setTimeout=function(e,t){return this.runOutsideAngular((function(){return setTimeout(e,t)}))},r.prototype.requestAnimationFrame=function(e){this.runOutsideAngular((function(){return requestAnimationFrame(e)}))},r.prototype.runOutsideAngular=function(e){return e()},r);function r(){}e.NoAngularZone=t,e.Zone=new t})(jsCommon=jsCommon||{}),(function(i){var r,g,t,n=window,o=window.location.protocol+"//"+window.location.host,a="__DataProperty__5941464455110614";function s(e,t){return null!=e&&-1!==e.indexOf(t)}function l(e){return d.throwIfNullOrUndefined(e,d,"normalizeCase","value"),e.toUpperCase()}function u(e){return _.isEmpty(e)||_.isEmpty(e.trim())}function c(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}i.data=function(e,t,r){var n=e[a];if(!n){if(void 0===r)return;n=e[a]={}}return void 0===r?n[t]:n[t]=r},(e=i.HttpConstants||(i.HttpConstants={})).ApplicationOctetStream="application/octet-stream",e.JsonContentType="application/json",e.JpegContentType="image/jpeg",e.Blob="blob",e.ArrayBuffer="arraybuffer",e.Accept="Accept",g=r=i.StringExtensions||(i.StringExtensions={}),t=new RegExp("[<>]","g"),g.format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(u(i=e[0]))return i;for(var r=0;r<e.length-1;r++)var n=new RegExp("\\{"+r+"\\}","gm"),i=i.replace(n,e[r+1]);return i},g.equalIgnoreCase=function(e,t){return g.normalizeCase(e)===g.normalizeCase(t)},g.startsWithIgnoreCase=function(e,t){return t=g.normalizeCase(t),0===g.normalizeCase(e).indexOf(t)},g.contains=s,g.containsIgnoreCase=function(e,t){return null!=e&&s(l(e),l(t))},g.normalizeCase=l,g.isNullOrUndefinedOrWhiteSpaceString=u,g.containsWhitespace=function(e){return d.throwIfNullOrUndefined(e,d,"containsWhitespace","str"),/\s/.test(e)},g.isWhitespace=function(e){return""===_.trim(e)},g.trimTrailingWhitespace=function(e){return d.throwIfNullOrUndefined(e,d,"trimTrailingWhitespace","str"),e.replace(/\s+$/,"")},g.trimWhitespace=function(e){return d.throwIfNullOrUndefined(e,d,"trimWhitespace","str"),e.replace(/^\s+/,"").replace(/\s+$/,"")},g.removeAllWhitespace=function(e){return e.replace(/\s/g,"")},g.replaceAll=function(e,t,r){return t?(t=c(t),e.replace(new RegExp(t,"gi"),r)):e},g.ensureUniqueNames=function(e){for(var t={},r=0,n=e;r<n.length;r++)t[n[r]]=!1;for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],l=s;if(t[l])for(var u=0;void 0!==t[l];)l=s+"."+ ++u;i.push(l),t[l]=!0}return i},g.findUniqueName=function(e,t,r){var n=r||0,i=t;for(r&&(i+=r);e[i];)i=t+ ++n;return i},g.constructNameFromList=function(e,t,r){for(var n=[],i=!1,o=0,a=0,s=e;a<s.length;a++){var l=s[a];if(o+l.length>r&&0<n.length){i=!0;break}n.push(l),o+=l.length}return e=" "+t+" ",t=n.join(e),i&&(t+=e+"..."),t},g.constructCommaSeparatedList=function(e,t,r){if(!e||0===e.length)return"";null==r&&(r=Number.MAX_VALUE);for(var n=Math.min(r,e.length),i=[],o=0;o<2;o++)for(var a="{"+o+"}",s="_|_<"+o+">_|_",l=0;l<n;l++)-1<e[l].indexOf(a)&&(e[l]=e[l].replace(a,s),i.push({targetValue:a,replaceValue:s}));for(var u="",l=0;l<n;l++)u=0===l?e[l]:g.format(t.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),u,e[l]);for(var c=0,d=i;c<d.length;c++)var h=d[c],u=u.replace(h.replaceValue,h.targetValue);return u},g.escapeStringForRegex=c,g.normalizeFileName=function(e){return e.replace(/[\<\>\:"\/\\\|\?*]/g,"")},g.stringifyAsPrettyJSON=function(e){return JSON.stringify(e)},g.deriveClsCompliantName=function(e,t){return 0<(e=e.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"")).length?e:t},g.stripTagDelimiters=function(e){return e.replace(t,"")},g.encodeHtml=function(e,t){return void 0===t&&(t=!1),e&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(/([^!-~ ])/g,(function(e){return"&#"+e.charCodeAt(0)+";"})),e=t?e.replace(/\ /g,"&nbsp;"):e)},g.hasDanglingLeftParenthesis=function(e){for(var t=0,r=0,n=0,i=e;n<i.length;n++)switch(i[n]){case"[":t++;break;case"(":r++;break;case"]":0<t&&t--;break;case")":0<r&&r--}return 0<t||0<r},g.isSingleCodePointChar=function(e){return 0<=e&&e<=55295||57344<=e&&e<=65535};var d=(h.ensureError=function(e){return e=!(e instanceof Error)?new Error(e?e.message||e.toString():"<null-or-undefined> error was thrown"):e},h.throwIfNullOrUndefined=function(e,t,r,n){null===e?this.throwException(i.Errors.argumentNull(this.getComponentName(t)+r+"."+n)):void 0===e&&this.throwException(i.Errors.argumentUndefined(this.getComponentName(t)+r+"."+n))},h.throwIfNullOrEmptyString=function(e,t,r,n){this.throwIfNullOrUndefined(e,t,r,n),e.length<1&&this.throwException(i.Errors.argumentOutOfRange(this.getComponentName(t)+r+"."+n))},h.valueOrDefault=function(e,t){return null!=e?e:t},h.urlCombine=function(e,t){if(this.throwIfNullOrUndefined(e,h,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(t,h,"urlCombine","path"),r.isNullOrUndefinedOrWhiteSpaceString(t))return e;if(r.isNullOrUndefinedOrWhiteSpaceString(e))return t;return"/"===e.charAt(e.length-1)?"/"===t.charAt(0)&&(t=t.slice(1)):"/"!==t.charAt(0)&&(t="/"+t),e+t},h.getAbsoluteUri=function(e){this.throwIfNullOrUndefined(e,h,"getAbsoluteUri","path");return e=e&&-1===e.indexOf("http")?this.urlCombine(n.clusterUri,e):e},h.getStaticResourceUri=function(e){this.throwIfNullOrUndefined(e,h,"getStaticResourceUri","path");return e=e&&-1===e.indexOf("http")?this.urlCombine(o,e):e},h.getComponentName=function(e){return e?(typeof e).toString()+".":""},h.throwException=function(e){throw i.Trace.error("Throwing exception: "+JSON.stringify(e),null==e.stack),this.ensureError(e)},h.createClassSelector=function(e){return this.throwIfNullOrEmptyString(e,null,"CreateClassSelector","className"),"."+e},h.createIdSelector=function(e){return this.throwIfNullOrEmptyString(e,null,"CreateIdSelector","id"),"#"+e},h.clampValue=function(e,t,r){return e=Math.min(e,r),e=Math.max(e,t)},h.generateGuid=function(){for(var e="",t=0,t=0;t<32;t+=1){var r=16*Math.random()|0;switch(t){case 8:case 12:case 16:case 20:e+="-"}e+=r.toString(16)}return e},h.getCookieValue=function(e){for(var t=0,r=document.cookie.split(";");t<r.length;t++){var n=r[t],i=n.split("=");if(0<i.length&&i[0].trim()===e)return n.substr(n.indexOf("=")+1)}return null},h.getDomainForUrl=function(e){e=this.getHrefObjectFromUrl(e);return e.prop("protocol")+"//"+e.prop("hostname")},h.getHostNameForUrl=function(e){e=this.getHrefObjectFromUrl(e);return this.urlCombine(e.prop("hostname"),e.prop("pathname"))},h.getUrlWithoutQueryString=function(e){e=this.getHrefObjectFromUrl(e);return e.prop("protocol")+"//"+this.urlCombine(e.prop("host"),e.prop("pathname"))},h.getProtocolFromUrl=function(e){return this.getHrefObjectFromUrl(e).prop("protocol").replace(":","")},h.getHrefObjectFromUrl=function(e){return $("<a>").prop("href",e)},h.getDateFromWcfJsonString=function(e,t){if(_.isEmpty(e))return null;var r=e.indexOf("("),n=e.indexOf(")");if(-1===r||-1===n)return null;n=parseInt(e.substring(r+1,n),10);if(isNaN(n)&&(n=0),t)return new Date(n);t=new Date(0);return t.setUTCMilliseconds(n),t},h.isValidImageDataUrl=function(e){return this.ImageDataRegex.test(e)},h.encodeUriForImageDataSvg=function(e){if(this.ImageDataSvgRegex.test(e)){var t=e.indexOf(",");if(-1<t){var r=e.substring(0,t).split(";"),t=e.substring(t+1);try{t=decodeURIComponent(t)}catch(e){}return r[0]+","+encodeURIComponent(t)}}return e},h.isLocalUrl=function(e){return _.startsWith(e,"data:")||_.startsWith(e,"blob:")},h.extractFileNameFromPath=function(e){return e.replace(/^.*[\\\/]/,"")},h.is64BitOperatingSystem=function(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")},h.isWindows10=function(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")},h.parseNumber=function(e,t){if(null===e)return null;if(void 0===e)return t;var r=Number(e);return!isFinite(r)&&isNaN(r)&&"number"!=typeof e&&"NaN"!==e?t:r},h.getURLParamValue=function(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0},h.getLocalTimeZoneString=function(){var e=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),t=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset(),t=-720==e&&-720==t?"Dateline Standard Time":-660==e&&-660==t?"UTC-11":-600==e&&-600==t?"Hawaiian Standard Time":-480==e&&-540==t?"Alaskan Standard Time":-420==e&&-480==t?"Pacific Standard Time":-420==e&&-420==t?"US Mountain Standard Time":-360==e&&-420==t?"Mountain Standard Time":-360==e&&-360==t?"Central America Standard Time":-300==e&&-360==t?"Central Standard Time":-300==e&&-300==t?"SA Pacific Standard Time":-240==e&&-300==t?"Eastern Standard Time":-270==e&&-270==t?"Venezuela Standard Time":-240==e&&-240==t?"SA Western Standard Time":-240==e&&-180==t?"Central Brazilian Standard Time":-180==e&&-240==t?"Atlantic Standard Time":-180==e&&-180==t?"Montevideo Standard Time":-180==e&&-120==t?"E. South America Standard Time":-150==e&&-210==t?"Mid-Atlantic Standard Time":-120==e&&-120==t?"SA Eastern Standard Time":0==e&&0==t?"UTC":60==e&&0==t?"GMT Standard Time":60==e&&120==t?"Namibia Standard Time":120==e&&60==t?"Romance Standard Time":120==e&&120==t?"South Africa Standard Time":180==e&&120==t?"GTB Standard Time":180==e&&180==t?"E. Africa Standard Time":240==e&&180==t?"Russian Standard Time":240==e&&240==t?"Arabian Standard Time":270==e&&210==t?"Iran Standard Time":270==e&&270==t?"Afghanistan Standard Time":300==e&&240==t?"Pakistan Standard Time":300==e&&300==t?"West Asia Standard Time":330==e&&330==t?"India Standard Time":345==e&&345==t?"Nepal Standard Time":360==e&&300==t?"N. Central Asia Standard Time":360==e&&360==t?"Central Asia Standard Time":390==e&&390==t?"Myanmar Standard Time":420==e&&360==t?"North Asia Standard Time":420==e&&420==t?"SE Asia Standard Time":480==e&&420==t?"North Asia East Standard Time":480==e&&480==t?"China Standard Time":540==e&&480==t?"Yakutsk Standard Time":540==e&&540==t?"Tokyo Standard Time":570==e&&570==t?"Cen. Australia Standard Time":600==e&&600==t?"E. Australia Standard Time":600==e&&660==t?"AUS Eastern Standard Time":660==e&&600==t?"Tasmania Standard Time":660==e&&660==t?"West Pacific Standard Time":690==e&&690==t?"Central Pacific Standard Time":720==e&&660==t?"Magadan Standard Time":720==e&&720==t?"Fiji Standard Time":720==e&&780==t?"New Zealand Standard Time":780==e&&780==t?"Tonga Standard Time":"UTC";return t},h.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),h.ImageDataSvgRegex=new RegExp("data:(image/svg)"),h);function h(){}i.Utility=d;var p,e=(f.compareVersions=function(e,t){for(var r=e.split(".").map(parseFloat),n=t.split(".").map(parseFloat),i=Math.max(r.length,n.length),o=0;o<i;o++){var a=r[o]||0,s=n[o]||0;if(s<a)return 1;if(a<s)return-1}return 0},f);function f(){}function m(){var e=powerbi.ensureJsCommon();return e.StringExtensions||(e.StringExtensions={}),e.StringExtensions}function y(){var r;v||(r=jsCommon.StringExtensions.format,m().format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,e)},v=!0)}i.VersionUtility=e,e=i.PerfTimer||(i.PerfTimer={}),p=0,e.start=function(t){var r=window.performance;if(!r||!r.mark)return function(){return 0};var n="Begin "+(t=++p+" "+t);r.mark(n);var i=jsCommon.performance.now();return function(){var e="End "+t;return r.mark(e),r.measure&&r.measure(t,n,e),jsCommon.performance.now()-i}},e.mark=function(e){var t=window.performance;t&&t.mark&&(e=++p+" "+e,t.mark(e))},e.logTime=function(e){var t=jsCommon.performance.now();return e(),jsCommon.performance.now()-t},(i.DeferUtility||(i.DeferUtility={})).deferUntilNextFrame=function(e){var t,r,n;return window.requestAnimationFrame||(window.requestAnimationFrame=function(e){return setTimeout(e,20)}),function(){t||(t=!0,r=arguments,n=this,jsCommon.Zone.requestAnimationFrame((function(){t=!1,e.apply(n,r)})))}},(i.NumberExtensions||(i.NumberExtensions={})).isDecimal=function(e){return!(null==e)&&e%1!=0},i.ensureJsCommonStringExtensions=m,i.exportStringExtensionsFormatToGlobal=y;var v=!1;y()})(jsCommon=jsCommon||{}),(function(a){var n="BubblingEventListeners",s="BubblingEventManager",e=(t.prototype.ensureEventRegistered=function(e,t){var r,n=this,i=t?this.registeredCapturedEvents:this.registeredBubblingEvents;i[e]||(i[e]=!0,r=t?u:c,e=e+"."+s,t&&(e+="Capture"),this.root.on(e,(function(){r(n.root)}),t))},t.prototype.on=function(e,t,r,n){var i,i=-1===(o=(i=t).indexOf("."))?i:i.substr(0,o);this.ensureEventRegistered(i,!!n);var o=l(e,!0);o&&((e=o[i])||(o[i]=e={bubbling:{},captured:{}}),(n?e.captured:e.bubbling)[t]=r)},t);function t(e){this.root=e,this.registeredBubblingEvents={},this.registeredCapturedEvents={},this.rootNode=e.node(),a.data(this.rootNode,s,this)}function l(e,t){var r=a.data(e,n);if(!r){if(!t)return;a.data(e,n,r={})}return r}function i(e){for(var t in e){t=e[t];t&&t()}}function o(e,t){for(var r=e.node(),n=d3.event,i=n.target;i;){var o=l(i,!1);if(!o||(o=o[n.type])&&t(o),i===r)break;a.data(i,s),i=i.parentElement}}function u(e){var t=[];o(e,(function(e){e=e.captured;e&&t.push(e)}));for(var r=t.length;0<r--;)i(t[r])}function c(e){o(e,(function(e){e=e.bubbling;e&&i(e)}))}a.BubblingEventManager=e})(jsCommon=jsCommon||{}),(function(t){var r=jsCommon.PerfTimer;t.createModuleLoader=function(e,t,r,n){return new i(e,t,r,n)},t.setCreateModuleLoader=function(e){t.createModuleLoader=e};var i=(d.isModuleES6=function(e){return!!d.lazyLoadES6[e.javascript]},d.prototype.require=function(e){var t=this;if(e.javascript){var r=d.lazyLoadES6[e.javascript];if(r)return this.loadModuleES6(e,r)}var n,i=e.javascript;if(i)n=i;else{if(!e.css)return this.promiseFactory.resolve();n=e.css.join(",")}var e=m(this.cssPaths,e.css,null!==(r=this.options.rtl)&&void 0!==r&&r,this.promiseFactory),o=this.active,r=o[n];if(r)return r;if(!i)return(o[n]=e).finally((function(){return delete o[n]})),e.then((function(){return t.promiseFactory.resolve()}));var a,s,l=(function(e,t){for(var r in t)if(_.includes(t[r],e))return r})(i,this.bundles),u=this.promiseFactory.defer(!0),c=function(){return h(t.options.rjs,t.telemetry,i,(function(e){return u.resolve(e)}),(function(e){return u.reject(e)}))};null==l||this.options.rjs.defined(l)?c():(a=jsCommon.performance.now(),s=setTimeout((function(){jsCommon.Trace.warning("Module bundle load is delayed",void 0,{bundleName:l,duration:jsCommon.performance.now()-a}),s=setTimeout((function(){jsCommon.Trace.warning("Module bundle load is very delayed",void 0,{bundleName:l,duration:jsCommon.performance.now()-a}),s=void 0}),t.options.delayedBundleLongInterval||1e6)}),this.options.delayedBundleShortInterval||3e4),h(this.options.rjs,this.telemetry,l,(function(){s||jsCommon.Trace.warning("Module bundle eventually loaded",void 0,{bundleName:l,duration:jsCommon.performance.now()-a}),clearTimeout(s),c()}),(function(e){return u.reject(e)})));e=this.promiseFactory.all([e,u.promise]).then((function(){return u.promise}));return(o[n]=e).finally((function(){return delete o[n]})),e},d.prototype.loadModuleES6=function(e,t){var r=e.javascript,n=t(),i=this.active;if(e.css){e=this.promiseFactory.all([m(this.cssPaths,e.css,null!==(e=this.options.rtl)&&void 0!==e&&e,this.promiseFactory),n]).then((function(){return n}));return(i[r]=e).then((function(){return delete i[r]})).catch((function(){return delete i[r]})),e}return(i[r]=n).then((function(){return delete i[r]})).catch((function(){return delete i[r]})),n},d.lazyLoadES6={},d);function d(e,t,r,n){this.promiseFactory=e,this.telemetry=t||{log:_.noop,error:_.noop},this.options=__assign(__assign({},n),{rjs:n&&n.rjs||window.require}),this.active={},this.options.rjs,r?(this.options.rjs.config(r),this.cssPaths=r.cssPaths,this.bundles=r.bundles):(this.cssPaths={},this.bundles={})}t.ModuleLoader=i;var u=".js",c=".min.js";function h(e,i,o,a,t){var s,l;e.defined(o)?a(e(o)):(s=r.start("moduleLoader.require('"+o+"')"),l=jsCommon.performance.now(),e([o],(function(){var e=jsCommon.performance.now(),t=window.parseTimeMarkers,r=o;t&&((n=t[o+c])?r+=c:(n=t[o+u])&&(r+=u));var t={start:n&&n.start,end:n&&n.end},n={start:n&&n.startEval,end:n&&n.endEval};i.log(r,{start:l,end:e},t,n),s(),a(arguments[0])}),(function(e){i.error(o,e,{start:l,end:jsCommon.performance.now()}),s(),t(e)})))}var e=document,l=e.head,g=l.getElementsByTagName("script")[0],p=e.createElement("link"),f=[];function m(e,t,r,n){if(!t)return n.resolve();for(var i=[],o=0,a=t;o<a.length;o++){var s=e[s=a[o]]||s;_.endsWith(s,".css")||(s+=".css"),r&&-1===s.indexOf(".rtl")&&(s=_.endsWith(s,".min.css")?s.replace(".min.css",".rtl.min.css"):s.replace(".css",".rtl.css")),-1===f.indexOf(s)&&(f.push(s),s=(function(e,t){var r=p.cloneNode(),n=t.defer();r.addEventListener("load",(function(){return n.resolve()})),r.addEventListener("error",(function(){return n.reject()})),r.href=e,g?l.insertBefore(r,g):l.appendChild(r);return n.promise})(s,n),i.push(s))}return i.length?n.all(i):n.resolve()}p.setAttribute("rel","stylesheet")})(powerbi=powerbi||{}),(function(e){e.createJQueryPromiseFactory=function(){return new t},(e=e.JQueryPromiseState||(e.JQueryPromiseState={}))[e.pending=0]="pending",e[e.resolved=1]="resolved",e[e.rejected=2]="rejected";var t=(r.prototype.defer=function(e){return new n($.Deferred())},r.prototype.reject=function(e){var t=this.defer();return t.reject(e),t.promise},r.prototype.resolve=function(e){var t=this.defer();return t.resolve(e),t.promise},r.prototype.all=function(e){return this.when.apply(this,e).then((function(){return Array.prototype.slice.call(arguments)}))},r.prototype.allSettled=function(e){var r=this.defer(),n=e.length;if(0<n)for(var i=0,o=[],t=0;t<n;t++)!(function(t){e[t].then((function(e){o[t]={value:e,type:0}})).catch((function(e){o[t]={value:e,type:1}})).finally((function(){++i===n&&r.resolve(o)}))})(t);else r.resolve([]);return r.promise},r.prototype.when=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.map((function(e){return e&&e.promise?e.promise:e}));if(1!==r.length)return new o($.when.apply($,r));r=r[0];return null!=r&&r.pipe?new o(r):this.resolve(r)},r);function r(){}var n=(i.prototype.resolve=function(e){this.deferred.resolveWith(this.deferred.promise,[e])},i.prototype.reject=function(e){this.deferred.rejectWith(this.deferred.promise,[e])},i);function i(e){this.deferred=e,this.promise=new o(e.promise())}var o=(a.prototype.then=function(e,t){e=a.wrapCallback(e),t=a.wrapCallback(t),t=e?this.promise.pipe(e,t):this.promise.pipe(null,t);return new a(t)},a.prototype.catch=function(e){return this.then(null,e)},a.prototype.finally=function(e){return this.promise.always(a.wrapCallback(e)),this},a.wrapCallback=function(t){return t&&function(){var e=t.apply(this,arguments);return e instanceof a?e.promise:e}},a);function a(e){this.promise=e}})(powerbi=powerbi||{}),(function(e){var t=(r.prototype.getData=function(e){try{if(localStorage){var t=localStorage[e];if(t)return JSON.parse(t)}}catch(e){}},r.prototype.setData=function(e,t){try{if(localStorage)return void(void 0===t?localStorage.removeItem(e):localStorage[e]=JSON.stringify(t))}catch(e){}},r.prototype.setJSONData=function(e,t){try{localStorage&&(void 0===t?localStorage.removeItem(e):localStorage[e]=t)}catch(e){}},r.prototype.forEach=function(e){try{if(!localStorage)return;for(var t=localStorage.length;0<t--;)e(localStorage.key(t))}catch(e){}},r);function r(){}var n=(i.prototype.getData=function(e){return this.cache[e]},i.prototype.setData=function(e,t){var r=this;this.cache[e]=t,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout((function(){return r.clearCache()}),this.clearCacheInterval))},i.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},i.defaultClearCacheInterval=864e5,i);function i(e){this.cache={},this.clearCacheInterval=null!=e?e:i.defaultClearCacheInterval,this.clearCache()}e.EphemeralStorageService=n,e.localStorageService=new t,e.ephemeralStorageService=new n})(powerbi=powerbi||{}),(function(r){var a,s,l,e="2",n="`",i=n+n,t=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function o(e){var t={storage:a,directory:s,ensuredCaches:l};return a=e&&e.storage||r.localStorageService,s=e&&e.directory,l=e&&e.ensuredCaches||{},t}function u(e,t){return n+e+"-"+t}function c(e,t){return i+e+"-"+t}(r.resetLocalStorageCache=o)(),r.ensureCache=function(e,t,r,n){p();var i,o=l[e];return o||(b("information","ensuring localStorageCache "+e),(i=s.caches[e])&&i.version!==t&&(b("information","Clearing old version cache "+e),v(e),delete s.caches[e],f(),i=void 0),o=new d(e,r,n),l[e]=o,i||(b("information","Adding initial cache metadata for "+e),s.caches[e]={version:t,size:0,nextId:1,added:Date.now()},f(),y())),o},r.clearCache=function(e){v(e),p();var t=s.caches[e];t&&(l[e]?s.caches[e]={version:t.version,size:0,nextId:1,added:Date.now()}:delete s.caches[e],f())};var d=(h.prototype.getData=function(e){if(!this.disabled){var t=u(this.cacheName,e),r=a.getData(t),n=r&&r.id;if(null!=n){e=c(this.cacheName,n),n=s.caches[this.cacheName];if(g(n.added)-r.added<=this.maxAge)return a.getData(e);n.size-=r.size,f(),a.setData(e,void 0),a.setData(t,void 0)}}},h.prototype.setData=function(e,t){var r;this.disabled||((s=m())?(r=u(this.cacheName,e),e=a.getData(r),void 0===t?this.removeEntry(r,e):this.setEntry(r,e,t)):this.disabled=!0)},h.prototype.removeEntry=function(e,t){var r;t&&(null!=(r=t.size)&&(s.caches[this.cacheName].size-=r,f()),null!=(t=t.id)&&a.setData(c(this.cacheName,t),void 0)),a.setData(e,void 0)},h.prototype.setEntry=function(e,t,r){var n=s.caches[this.cacheName];if(!n)return this.disabled=!0,void b("error","Did't find cache metadata for "+this.cacheName+" in directory "+JSON.stringify(s));var i=g(n.added),o=t&&t.id;o?(t.added=i,n.size-=t.size):t={id:o=n.nextId++,added:i,size:0};o=c(this.cacheName,o),r=JSON.stringify(r);t.size=r.length+e.length+o.length,t.size+=JSON.stringify(t).length,t.size+=1,n.size+=t.size,n.size>this.maxSpace&&(v(this.cacheName),n.added=Date.now(),n.nextId=2,t.added=g(n.added),t.id=1,o=c(this.cacheName,t.id),t.size=r.length+e.length+o.length,t.size+=JSON.stringify(t).length,t.size+=1,n.size=t.size),f(),a.setData(e,t),a.setJSONData(o,r)},h);function h(e,t,r){this.cacheName=e,this.maxSpace=t,this.maxAge=r,this.disabled=!1}function g(e){return Math.floor((Date.now()-e)/6e4)}function p(){if(s=m()){if(s.version===e)return;b("information","Clearing old verion "+s.version+" localStorage entries"),S((function(e){return 0<e.length&&e[0]===n}))}else b("information","Clearing obsolete localStorage entries"),S((function(e){return t.test(e)}));s={version:e,caches:{}},f(),y()}function f(){a.setData(i,s)}function m(){return a.getData(i)}function y(){try{var e=m();_.isEqual(e,s)||b("warning","Cache directory different after save: saved="+JSON.stringify(s)+" reloaded="+JSON.stringify(e))}catch(e){b("error","Error checking cache directory after save: "+(e&&e.stack?e.stack:JSON.stringify(e)))}}function v(e){var t=new RegExp("^"+n+e+"-"),r=new RegExp("^"+i+e+"-");S((function(e){return t.test(e)||r.test(e)}))}function S(t){var r=[];a.forEach((function(e){t(e)&&r.push(e)}));for(var e=0,n=r;e<n.length;e++){var i=n[e];a.setData(i,void 0)}return r.length}function b(e,t){var r=window.jsCommon;r&&r.Trace&&jsCommon.Trace[e]("localStorageCache: "+t)}})(powerbi=powerbi||{}),(function(a){a.LocalVisualStorageBucketKeyPrefix="LVSTORAGE:",a.LocalVisualStorageBucketVersion="1",a.LocalVisualStorageBucketSizeLimit=102400,a.LocalVisualStorageBucketTimeToLive=43200;var i=a.ensureCache(a.LocalVisualStorageBucketKeyPrefix,a.LocalVisualStorageBucketVersion,a.LocalVisualStorageBucketSizeLimit,a.LocalVisualStorageBucketTimeToLive);a.resetLocalVisualStorage=function(e){i=e};var e=(t.prototype.loadDictionary=function(e,t,r){r=this.getStorageKey(e,t,r=void 0===r?!1:r);return i.getData(r)||{}},t.prototype.saveDictionary=function(e,t,r,n){n=this.getStorageKey(e,t,n=void 0===n?!1:n);i.setData(n,_(r).isEmpty()?void 0:r)},t.prototype.getStorageKey=function(e,t,r){return r?t:btoa((null!=e?e:"NA")+"|"+t)},t.prototype.getData=function(t,r,n){var i=null;try{var e=this.loadDictionary(t,r),i=atob(e[btoa(n)])}catch(e){i=this.getAndRemoveLegacyData(t,r,n)}return i},t.prototype.setData=function(e,t,r,n){try{var i=this.loadDictionary(e,t);i[btoa(r)]=btoa(n);var o=JSON.stringify(i).length;return o<=a.LocalVisualStorageBucketSizeLimit&&this.saveDictionary(e,t,i),a.LocalVisualStorageBucketSizeLimit-o}catch(e){}return 0},t.prototype.remove=function(e,t,r){try{var n=this.loadDictionary(e,t);n[btoa(r)]=void 0,this.saveDictionary(e,t,n)}catch(e){}},t.prototype.getAndRemoveLegacyData=function(e,t,r){var n=this.loadDictionary("",t,!0),i=n[r];return void 0!==i&&(n[r]=void 0,this.saveDictionary("",t,n,!0),this.setData(e,t,r,i)),i},t);function t(){}a.localVisualStorageService=new e})(powerbi=powerbi||{}),(function(){(powerbi||(powerbi={})).createPbiTimeout=function(e,t){return new r(e,t)};var r=(e.prototype.defer=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.deferMethod?this.deferMethod(e):this.deferInternal(e,t,r)},e.prototype.drain=function(){this.drainMethod?this.drainMethod():this.drainQueue()},e.prototype.deferInternal=function(e,t){for(var r=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.processing||this.asyncQueue.length||setTimeout((function(){0<r.asyncQueue.length&&r.drainQueue()}),t),this.asyncQueue.push({callback:e,args:n})},e.prototype.drainQueue=function(){this.processing=!0;for(var e=0,t=this.asyncQueue;e<t.length;e++){var r=t[e];r.callback(r.args)}this.asyncQueue.length=0,this.processing=!1},e);function e(e,t){this.deferMethod=e,this.drainMethod=t,this.asyncQueue=[],this.processing=!1}})(),(function(e){var t=(r.prototype.scheduleTimeoutTask=function(e,t){var r=this,n=setTimeout((function(){e(),r.removeTimeoutTask(n)}),t);return this.timeoutHandles[n]=n},r.prototype.scheduleAnimationFrameTask=function(e){var t=this,r=requestAnimationFrame((function(){e(),t.removeAnimationFrameTask(r)}));return this.animationFrameHandles[r]=r},r.prototype.removeTimeoutTask=function(e){delete this.timeoutHandles[e],this.checkOnIdle()},r.prototype.removeAnimationFrameTask=function(e){delete this.animationFrameHandles[e],this.checkOnIdle()},r.prototype.clear=function(){for(var e in this.timeoutHandles)clearTimeout(this.timeoutHandles[e]);for(var e in this.timeoutHandles={},this.animationFrameHandles)cancelAnimationFrame(this.animationFrameHandles[e]);this.animationFrameHandles={}},r.prototype.cancelAnimationFrame=function(e){cancelAnimationFrame(e),this.removeAnimationFrameTask(e)},r.prototype.cancelTimeoutTask=function(e){clearTimeout(e),this.removeTimeoutTask(e)},r.prototype.checkOnIdle=function(){this.onIdle&&_.isEmpty(this.timeoutHandles)&&_.isEmpty(this.animationFrameHandles)&&this.onIdle()},r);function r(){this.timeoutHandles={},this.animationFrameHandles={}}e.WorkScheduler=t})(powerbi=powerbi||{}),(function(e){!(function(e){var t=jsCommon.ArrayExtensions,r=(n.prototype.getColorScaleByKey=function(e){var t=this.scales[e];return void 0===t&&(t=this.createScale(),this.scales[e]=t),t},n.prototype.getNewColorScale=function(){return this.createScale()},n.prototype.getColorByIndex=function(e){return 0<=e&&this.colors.length,this.colors[e]},n.prototype.getSentimentColors=function(){return this.sentimentColors},n.prototype.getGradientColors=function(){return this.gradientColors},n.prototype.getBasePickerColors=function(){return this.basePickerColors},n.prototype.getBaseColors=function(){return _.take(this.colors,8)},n.prototype.getAllColors=function(){return this.colors},n.prototype.createScale=function(){return i.createFromColors(this.colors)},n);function n(e,t,r){this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=e||a.getDefaultColors(),this.sentimentColors=t||a.defaultSentimentColors,this.gradientColors=r||a.defaultGradientColors,this.scales={},(r=this.basePickerColors).push.apply(r,_.take(this.colors,8))}e.DataColorPalette=r;var i=(o.prototype.getColor=function(e){return this.scale(e)},o.prototype.clearAndRotateScale=function(){var e=this.scale.domain().length,e=t.rotate(this.scale.range(),e);this.scale=d3.scaleOrdinal().range(e)},o.prototype.clone=function(){return new o(this.scale.copy())},o.prototype.getDomain=function(){return this.scale.domain()},o.createFromColors=function(e){return new o(d3.scaleOrdinal().range(e))},o);function o(e){this.scale=e}e.D3ColorScale=i;var a=(s.getDefaultColors=function(){if(!s.defaultColors){s.defaultColors=[];for(var e=s.defaultBaseColors,t=0;t<s.colorSectorCount;++t)for(var r=0,n=e.length;r<n;++r){var i=jsCommon.Color.rotate(e[r].value,t/s.colorSectorCount);s.defaultColors.push({value:null!=i?i:e[r].value})}}return s.defaultColors},s.colorSectorCount=12,s.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],s.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},s.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},s);function s(){}e.DefaultColorManager=a})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(e){var r,n;function l(e){var t=r.Font.FamilyMap[e];return t?t.family:e}function u(e,t,r,n,i){if(e?null==e.color&&(e.color=r||t.color):e={color:r||t.color},null==e.fontSize&&(r=_.toNumber(t.fontSize),isNaN(r),e.fontSize=(null==n?r:Math.round(r*n*10)/10)+""),null==e.fontWeight&&null!=i)switch(i){case"700":e.fontWeight="700";break;case"600":e.fontWeight="600";break;default:e.fontWeight=t.fontWeight}return e.fontFace=e.fontFace||t.fontFace,e}r=e.visuals||(e.visuals={}),(n=r.visualStyles||(r.visualStyles={})).create=function(e,t){return{isHighContrast:!(e={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:(e=void 0===e?new r.DataColorPalette:e).getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:e}),colorPalette:e,textClasses:n.generateTextClasses(e,t),icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}},n.generateTextClasses=function(e,t,r){var n;if(void 0===r&&(r=!1),(function(e){if(!e)return!1;for(var t=["color","fontSize","fontFace"],r=0,n=["callout","header","label","title"];r<n.length;r++){var i=e[n[r]];if(!i)return!1;for(var o=0,a=t;o<a.length;o++)if(!i[a[o]])return!1}return!0})(t)){t.callout.fontFace=l(null!==(n=t.callout.fontFace)&&void 0!==n?n:""),t.label.fontFace=l(null!==(n=t.label.fontFace)&&void 0!==n?n:""),t.title.fontFace=l(null!==(n=t.title.fontFace)&&void 0!==n?n:""),t.header.fontFace=l(null!==(n=t.header.fontFace)&&void 0!==n?n:"");var i={callout:t.callout,label:t.label,title:t.title,header:t.header,largeTitle:u(t.largeTitle,t.title,void 0,7/6),dataTitle:u(t.dataTitle,t.title,e.dataColors.getColorByIndex(0)),boldLabel:u(t.boldLabel,t.label,void 0,void 0,"700"),largeLabel:u(t.largeLabel,t.label,void 0,1.2),largeLightLabel:u(t.largeLightLabel,t.label,e.foregroundNeutralSecondary,1.2),lightLabel:u(t.lightLabel,t.label,e.foregroundNeutralSecondary),semiboldLabel:u(t.semiboldLabel,t.label,void 0,void 0,"600"),smallLabel:u(t.smallLabel,t.label,void 0,.9),smallLightLabel:u(t.smallLightLabel,t.label,e.foregroundNeutralSecondary,.9),smallDataLabel:u(t.smallDataLabel,t.label,e.dataColors.getColorByIndex(0),.9)};if(r){var o=e.foreground.value,a=void 0;for(a in i){var s=i[a];s.color?s.color.value=o:s.color={value:o}}}return i}},n.getDefaultTextClasses=function(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}},n.getThemeColor=function(e,t){var r=e.colorPalette,n=r.dataColors.getGradientColors(),e=r.dataColors.getSentimentColors();return null==(t=r[t]||n[t]||e[t])?void 0:t.value},n.getThemeDataColor=function(e,t){return null===(t=e.colorPalette.dataColors.getBasePickerColors()[t])||void 0===t?void 0:t.value},n.getThemeIcon=function(e,t){return e.icons[t]}})(powerbi=powerbi||{}),(function(n){var e=(t.prototype.enqueue=function(e){var t=this;this.tail||(this.tail=new n.Deferred,(function(o){__awaiter(this,void 0,n.Promise,(function(){var t,r,n,i;return __generator(this,(function(e){switch(e.label){case 0:return[4,o];case 1:t=e.sent(),o=t.next,e.label=2;case 2:return e.trys.push([2,4,,5]),n=(r=t.result).resolve,[4,t.callback()];case 3:return n.apply(r,[e.sent()]),[3,5];case 4:return i=e.sent(),t.result.reject(i),[3,5];case 5:return[3,0];case 6:return[2]}}))}))})(this.tail.promise)),this.onReEntry&&0<this.active&&this.onReEntry();var r=new n.Deferred,e={next:r.promise,callback:e,result:new n.Deferred};this.tail.resolve(e),this.tail=r;e=e.result.promise;return++this.active,e.finally((function(){return--t.active})),e},t);function t(e){this.onReEntry=e,this.active=0}n.AsyncSerializer=e})(powerbi=powerbi||{}),(function(e){(function(n){var i=jsCommon.StringExtensions;function o(e){return void 0===e.control.properties.descriptor}function s(e){return!!e.type}function e(e){return"card"===e.type}function t(e){return"group"===e.type}function r(e){return"slice"===e.type}function a(e,t){return e+"-"+t}n.isCompositeSlice=o,n.isPlaceholder=s,n.isFormattingCardPlaceholder=e,n.isFormattingGroupPlaceholder=t,n.isFormattingSlicePlaceholder=r,n.isHostPlaceholder=function(e){return"host"===e.source},n.isHostFormattingCardPlaceholder=e,n.isHostFormattingGroupPlaceholder=t,n.isHostFormattingSlicePlaceholder=r,n.buildHostFormattingCardPlaceholder=function(e,t){return{name:e,source:"host",type:"card",suppressDefaultValue:t}},n.buildHostFormattingGroupPlaceholder=function(e,t){return{name:e,source:"host",type:"group",suppressDefaultValue:t}},n.buildHostFormattingSlicePlaceholder=function(e,t){return{name:e,source:"host",type:"slice",suppressDefaultValue:t}},n.isVisualPlaceholder=function(e){return"visual"===e.source},n.isVisualFormattingCardPlaceholder=e,n.isVisualFormattingGroupPlaceholder=t,n.isVisualFormattingSlicePlaceholder=r,n.buildVisualFormattingCardPlaceholder=function(e,t){return{name:e,source:"visual",type:"card",suppressDefaultValue:t}},n.buildVisualFormattingGroupPlaceholder=function(e,t){return{name:e,source:"visual",type:"group",suppressDefaultValue:t}},n.buildVisualFormattingSlicePlaceholder=function(e,t){return{name:e,source:"visual",type:"slice",suppressDefaultValue:t}},n.generateUidForCard=function(e){return e},n.generateUidForGroup=function(e,t){return e+"-"+t},n.generateUidForSlice=a,n.getPropertyIdentifiers=function(e){var t,r={};for(t in e)if(_.isString(t)){var n,i={};for(n in e[t].properties)_.isString(n)&&(i[n]={objectName:t,propertyName:n});r[t]=i}return r};var l=(u.prototype.addCards=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.cards).push.apply(e,t),this},u.prototype.withWarnings=function(e){return this.warnings=e,this},u.prototype.build=function(){var a=this;return{cards:this.cards.reduce((function(e,t){if(!t)return e;t=_.isFunction(t)?t():t;if(!t)return e;if(_.isArray(t))for(var r=0,n=t;r<n.length;r++){var i=n[r];i&&(s(i)||(o=a.shouldDisableCard(i,a.disabledCards))&&(i=__assign(__assign({},i),{disabled:o.disabled,disabledReason:o.disabledReason})),e.push(i))}else{var o,t=t;s(t)||(o=a.shouldDisableCard(t,a.disabledCards))&&(t=__assign(__assign({},t),{disabled:o.disabled,disabledReason:o.disabledReason})),e.push(t)}return e}),[]),warnings:this.warnings}},u.prototype.withDisabledCards=function(e){return this.disabledCards=e,this},u.prototype.shouldDisableCard=function(e,t){e=null==t?void 0:t[e.uid];if(e)return{disabled:!0,disabledReason:e.disabledReason}},u);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.cards=e}function c(e){return new d(e)}n.FormattingModelBuilder=l,(A=n.FormattingUidBuilder||(n.FormattingUidBuilder={})).withCard=c,A.fromGroup=function(e){return c((e=e.uid.split(" "))[0]).withGroup(e[1])};var d=(h.prototype.build=function(){return i.removeAllWhitespace(this.cardName)},h.prototype.withGroup=function(e){return this.groupNames.has(e=void 0===e?"default":e),this.groupNames.add(i.removeAllWhitespace(e)),new g(this,e)},h);function h(e){this.cardName=e,this.groupNames=new Set}n.FormattingCardUidBuilder=d;var g=(p.getGroupUid=function(e){e=e.split("-");return e.length,""+e[e.length-1]},p.prototype.build=function(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var e=i.removeAllWhitespace(this.groupName);return this.cardUid+"-"+e},p.prototype.withSlice=function(e){return this.sliceNames.has(e),this.sliceNames.add(e),new S(this,e)},p.prototype.withContainer=function(e){return new y(this,e)},p);function p(e,t){this.cardUidBuilder=e,this.groupName=t,this.sliceNames=new Set}n.FormattingGroupUidBuilder=g;var f=(m.prototype.build=function(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var e=i.removeAllWhitespace(this.itemName);return this.containerUid+"-"+e},m.prototype.withSlice=function(e){return this.sliceNames.has(e),this.sliceNames.add(e),new S(this,e)},m.prototype.withGroup=function(e){return this.groupNames.has(e=void 0===e?"default":e),this.groupNames.add(e),new g(this,e)},m);function m(e,t){this.containerUidBuilder=e,this.itemName=t,this.sliceNames=new Set,this.groupNames=new Set}n.FormattingContainerItemUidBuilder=f;var y=(v.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var e=i.removeAllWhitespace(this.containerName);return this.groupUid+"-"+e},v.prototype.withContainerItem=function(e){return new f(this,e)},v);function v(e,t){this.groupUidBuilder=e,this.containerName=t}n.FormattingContainerUidBuilder=y;var S=(b.getGroupAndSliceUid=function(e){e=e.split("-");return e.length,e[e.length-2]+"-"+e[e.length-1]},b.getSliceUid=function(e){e=e.split("-");return e.length,""+e[e.length-1]},b.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var e=i.removeAllWhitespace(this.sliceName);return this.groupUid+"-"+e},b);function b(e,t){this.groupUidBuilder=e,this.sliceName=t}n.FormattingSliceUidBuilder=S;C.prototype.withDisabled=function(e,t){return this.disabled=e,this.disabledReason=t?this.localize(t):void 0,this},C.prototype.withDisabledLocalized=function(e,t){return this.disabled=e,this.disabledReason=t,this},C.prototype.withDescription=function(e){return this.description=e,this},C.prototype.withAliasName=function(e){var t;return this.aliasNames=null!==(t=this.aliasNames)&&void 0!==t?t:[],this.aliasNames.push(this.localize(e)),this},C.prototype.withGroups=function(e){return this.groups=e,this},C.prototype.addGroupPlaceholder=function(e){return this.groups.push(e),this},C.prototype.addGroup=function(e,t){e=this.getGroupBuilder(e);return t(e),this.groups.push(e.build()),this},C.prototype.getGroupBuilder=function(e){var t=this;return new w(this.uidBuilder.withGroup(e=void 0===e?"default":e),function(e){return t.localize(e)})},C.prototype.addTopLevelToggle=function(e,t){var r=this.uidBuilder.withGroup("topLevelToggle").withSlice(e),e=t(),t=this.localize;return this.topLevelToggle=new he({control:e,localize:t,uidBuilder:r}).build(),this},C.prototype.assertDescriptorsAreAdded=function(){var t,r;this.revertToDefaultDescriptors&&(t=[],this.groups.forEach((function(e){!s(e)&&e.slices&&e.slices.forEach((function(e){s(e)||t.push(e)}))})),r=new Set,this.revertToDefaultDescriptors.forEach((function(e){return r.add(e.objectName+"-"+e.propertyName)})),t.forEach((function(e){var t;s(e)||(o(e)?(t=e.control.properties,Object.keys(t).forEach((function(e){e=null===(e=t[e])||void 0===e?void 0:e.descriptor;void 0!==e&&r.has(e.objectName+"-"+e.propertyName)}))):(e=e.control.properties.descriptor,r.has(e.objectName+"-"+e.propertyName)))})))},C.prototype.build=function(){window.DEBUG&&this.assertDescriptorsAreAdded();var e=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:e,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}},l=C;function C(e,t,r,n,i,o){void 0===i&&(i=!0),this.uidBuilder=e,this.displayName=t,this.localize=n,this.localizeDisplayName=i,this.analyticsPane=o,this.suppressDisplayName=!1,this.groups=[],r&&(_.isArray(r)?this.revertToDefaultDescriptors=r:this.revertToDefaultDescriptors=_.values(r))}n.FormattingCardBuilder=l;var w=(E.prototype.withContainer=function(e){return this.container=e,this},E.prototype.withContainerDisabled=function(e){return this.containerDisabled=e=void 0===e?!0:e,this.sliceWithContainer=!0,this},E.prototype.withDescription=function(e){return this.description=e,this},E.prototype.withAliasName=function(e){var t;return this.aliasNames=null!==(t=this.aliasNames)&&void 0!==t?t:[],this.aliasNames.push(this.localize(e)),this},E.prototype.withInheritDisabled=function(e){return this.inheritDisabled=e,this},E.prototype.withDelaySaveSlices=function(){return this.delaySaveSlices=!0,this},E.prototype.withCollapsible=function(e){return this.collapsible=e=void 0===e?!0:e,this},E.prototype.withDisplayName=function(e){return this.displayName=e,this.suppressDisplayName=!1,this},E.prototype.withSlices=function(e){return this.slices=e,this},E.prototype.withDisabled=function(e,t){return this.disabled=e,this.disabledReason=t?this.localize(t):void 0,this},E.prototype.addSlicePlaceholder=function(e){return this.slices.push(e),this},E.prototype.addSimpleSlice=function(e,t,r){e=this.getSliceName(e),t=_.isFunction(t)?t():t,t=this.getSimpleSliceBuilder(e,t);return r&&r(t),this.slices.push(t.build()),this},E.prototype.addCompositeSlice=function(e,t,r,n){r=_.isFunction(r)?r():r,r=this.getCompositeSliceBuilder(e,t,r);return n&&n(r),this.slices.push(r.build()),this},E.prototype.getSimpleSliceBuilder=function(e,t){var r=this.getSliceName(e),e=this.uidBuilder.withSlice(r),r=this.localize;return new L({control:t,localize:r,uidBuilder:e})},E.prototype.addTopLevelToggle=function(e,t,r){var n=this.uidBuilder.withSlice(e),e=t(),t=this.localize,n=new he({control:e,localize:t,uidBuilder:n});return r&&r(n),this.topLevelToggle=n.build(),this},E.prototype.getCompositeSliceBuilder=function(e,t,r){var n=this.getSliceName(e),e=this.uidBuilder.withSlice(n),n=this.localize;return new R({control:r,displayName:t,localize:n,uidBuilder:e})},E.prototype.getSliceName=function(e){return _.isString(e)?i.removeAllWhitespace(e):e.objectName+"-"+e.propertyName},E.prototype.addContainer=function(e,t){e=this.getContainerBuilder(e);return t(e),this.container=e.build(),this},E.prototype.getContainerBuilder=function(e){return new N(this.uidBuilder.withContainer(e),this.localize)},E.prototype.build=function(){var e=this.displayName?this.localize(this.displayName):"";return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:e,collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}},E);function E(e,t){this.uidBuilder=e,this.localize=t,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}n.FormattingGroupBuilder=w;var I,x=(__extends(P,I=w),P.prototype.build=function(){return I.prototype.build.call(this)},P);function P(){return null!==I&&I.apply(this,arguments)||this}n.FormattingContainerItemGroupBuilder=x;var T=(F.prototype.withSlices=function(e){return this.slices=e,this},F.prototype.addSimpleSlice=function(e,t,r){e=this.getSliceName(e),t=_.isFunction(t)?t():t,t=this.getSimpleSliceBuilder(e,t);return r&&r(t),this.slices.push(t.build()),this},F.prototype.addCompositeSlice=function(e,t,r,n){r=_.isFunction(r)?r():r,r=this.getCompositeSliceBuilder(e,t,r);return n&&n(r),this.slices.push(r.build()),this},F.prototype.getSimpleSliceBuilder=function(e,t){var r=this.getSliceName(e),e=this.uidBuilder.withSlice(r),r=this.localize;return new L({control:t,localize:r,uidBuilder:e})},F.prototype.getCompositeSliceBuilder=function(e,t,r){var n=this.getSliceName(e),e=this.uidBuilder.withSlice(n),n=this.localize;return new R({control:r,displayName:t,localize:n,uidBuilder:e})},F.prototype.getSliceName=function(e){return _.isString(e)?e:e.objectName+"-"+e.propertyName},F.prototype.withGroups=function(e){return this.groups=e,this},F.prototype.addGroup=function(e,t){e=e?i.removeAllWhitespace(e):void 0,e=this.getGroupBuilder(e);return t(e),this.groups.push(e.build()),this},F.prototype.getGroupBuilder=function(e){return new x(this.uidBuilder.withGroup(e=void 0===e?"default":e),this.localize)},F.prototype.build=function(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,uid:this.uidBuilder.build()}},F);function F(e,t,r){this.uidBuilder=e,this.displayName=t,this.localize=r,this.slices=[],this.groups=[]}n.FormattingContainerItemBuilder=T;var N=(M.prototype.withDisplayName=function(e){return this.displayName=e,this.suppressDisplayName=!1,this},M.prototype.withDescription=function(e){return this.description=e,this},M.prototype.addContainerItem=function(e,t,r){e=i.removeAllWhitespace(e),t=this.getContainerItemBuilder(e,t);return r(t),this.containerItems.push(t.build()),this},M.prototype.getContainerItemBuilder=function(e,t){return new T(this.uidBuilder.withContainerItem(""),t,this.localize)},M.prototype.build=function(){var e=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:e,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},M);function M(e,t){this.uidBuilder=e,this.localize=t,this.suppressDisplayName=!0,this.containerItems=[]}n.FormattingContainerBuilder=N;var A=(D.prototype.withDisabled=function(e){return this.disabled=e,this},D);function D(e){this.control=e.control,this.localize=e.localize,this.uidBuilder=e.uidBuilder}var B,L=(__extends(O,B=A),O.prototype.withCustomDisplayName=function(e,t){return this.displayName=(t=void 0===t?!0:t)?this.localize(e):e,this},O.prototype.withSuppressDisplayName=function(e){return this.suppressDisplayName=e,this},O.prototype.withCustomDescription=function(e){return this.description=e,this},O.prototype.withAliasName=function(e){var t;return this.aliasNames=null!==(t=this.aliasNames)&&void 0!==t?t:[],this.aliasNames.push(this.localize(e)),this},O.prototype.withInfoIconText=function(e){return this.infoIconText=e,this},O.prototype.build=function(){return this.control,{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabled:this.disabled,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},O);function O(e){return B.call(this,e)||this}n.SimpleFormattingSliceBuilder=L;var G,R=(__extends(k,G=A),k.prototype.withInfoIconText=function(e){return this.infoIconText=e,this},k.prototype.withAliasName=function(e){var t;return this.aliasNames=null!==(t=this.aliasNames)&&void 0!==t?t:[],this.aliasNames.push(this.localize(e)),this},k.prototype.build=function(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,displayName:this.localize(this.displayName),uid:this.uidBuilder.build()}},k);function k(e){var t=G.call(this,e)||this;return t.displayName=e.displayName,t.description=e.description,t}n.CompositeFormattingSliceBuilder=R;U.prototype.withDisplayName=function(e,t,r){return this.description=t,this.displayName=e,this.suppressDisplayName=r,this},U.prototype.withUid=function(e){return this.uid=e.objectName+"-"+e.propertyName,this},U.prototype.withControlProperties=function(e){return this.control=e,this},U.prototype.withDisabled=function(e){return this.disabled=e=void 0===e?!0:e,this},U.prototype.build=function(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}},l=U;function U(){}n.LegacySimpleFormattingSliceBuilder=l;j.prototype.build=function(){return{type:"AlignmentGroup",properties:this.properties}},l=j;function j(e){this.properties=e}n.AlignmentGroupBuilder=l;V.prototype.build=function(){return{type:"EmptyControl",properties:this.properties}},l=V;function V(e){this.properties=e}n.EmptyControlBuilder=l;z.prototype.build=function(){return{type:"FlagsSelection",properties:this.properties}},l=z;function z(e){this.properties=e}n.FlagSelectionBuilder=l;W.prototype.build=function(){return{type:"ColorPicker",properties:this.properties}},l=W;function W(e){this.properties=e}n.ColorPickerBuilder=l;H.prototype.build=function(){return{type:"ConditionalFormattingControl",properties:this.properties}},l=H;function H(e){this.properties=e}n.ConditionalFormattingControlBuilder=l;K.prototype.build=function(){return{type:"DatePicker",properties:this.properties}},l=K;function K(e){this.properties=e}n.DatePickerBuilder=l;q.prototype.build=function(){return{type:"Dropdown",properties:this.properties}},l=q;function q(e){this.properties=e}n.DropdownBuilder=l;Q.prototype.build=function(){return{type:"DurationPicker",properties:this.properties}},l=Q;function Q(e){this.properties=e}n.DurationPickerBuilder=l;J.prototype.build=function(){return{type:"FontPicker",properties:this.properties}},l=J;function J(e){this.properties=e}n.FontPickerBuilder=l,n.DefaultFontSizeProperties={minValue:{type:0,value:8},maxValue:{type:1,value:60}};$.prototype.withFontSizeProperties=function(e){var t=e.options,r=__assign({},n.DefaultFontSizeProperties),r=t?__assign(__assign({},r),t):r,r=__assign(__assign({},e),{options:r});return this.fontSize=r,this},$.prototype.withFontFamily=function(e){return this.fontFamily=e,this},$.prototype.withBold=function(e){return this.bold=e,this},$.prototype.withItalic=function(e){return this.italic=e,this},$.prototype.withUnderline=function(e){return this.underline=e,this},$.prototype.build=function(){return{type:"FontControl",properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}},l=$;function $(){}n.FontControlBuilder=l;Y.prototype.build=function(){return{type:"GradientBar",properties:this.properties}},l=Y;function Y(e){this.properties=e}n.GradientBarBuilder=l;X.prototype.build=function(){return{type:"ImageUpload",properties:this.properties}},l=X;function X(e){this.properties=e}n.ImageUploadBuilder=l;Z.prototype.build=function(){return{type:"Link",properties:this.properties}},l=Z;function Z(e){this.properties=e}n.LinkBuilder=l;ee.prototype.build=function(){return{type:"SeriesDialogLink",properties:this.properties}},l=ee;function ee(e){this.properties=e}n.SeriesDialogLinkBuilder=l;te.prototype.withLeft=function(e){return this.left=e,this},te.prototype.withRight=function(e){return this.right=e,this},te.prototype.withTop=function(e){return this.top=e,this},te.prototype.withBottom=function(e){return this.bottom=e,this},te.prototype.build=function(){return{type:"MarginPadding",properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},l=te;function te(){}n.MarginPaddingBuilder=l;re.prototype.build=function(){var e=this.properties;return{type:"NumUpDown",properties:e=null==e.placeholderText?__assign({},e):e}},l=re;function re(e){this.properties=e}n.NumUpDownBuilder=l;ne.prototype.build=function(){return{type:"ReadOnlyText",properties:this.properties}},l=ne;function ne(e){this.properties=e}n.ReadOnlyTextBuilder=l;ie.prototype.build=function(){return{type:"ErrorRangeControl",properties:this.properties}},l=ie;function ie(e){this.properties=e}n.ErrorRangeBuilder=l;oe.prototype.build=function(){return{type:"FieldPicker",properties:this.properties}},l=oe;function oe(e){this.properties=e}n.FieldPickerBuilder=l;ae.getTransparencySliderBuilder=function(e,t){e={descriptor:e.descriptor,value:e.value,localize:e.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:"Slider_Percent"}};return new ae(t?t(e):e)},ae.getRotationSliderBuilder=function(e,t){e={descriptor:e.descriptor,value:e.value,localize:e.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:"Slider_Degree"}};return new ae(t?t(e):e)},ae.prototype.build=function(){var e=__assign({},this.properties);return delete e.localize,{type:"Slider",properties:e}},l=ae;function ae(e){this.properties=e}n.SliderBuilder=l;se.prototype.build=function(){return{type:"ShapeMapSelector",properties:this.properties}},l=se;function se(e){this.properties=e}n.ShapeMapSelectorBuilder=l;le.prototype.build=function(){var e=(e=this.properties.placeholder)&&this.properties.localize(e),e=__assign(__assign({},this.properties),{placeholder:e});return delete e.localize,{type:"TextArea",properties:e}},l=le;function le(e){this.properties=e}n.TextAreaBuilder=l;ue.prototype.build=function(){return{type:"TextInput",properties:this.properties}},l=ue;function ue(e){this.properties=e}n.TextInputBuilder=l;ce.prototype.build=function(){return{type:"ToggleSwitch",properties:this.properties}},l=ce;function ce(e){this.properties=e}n.ToggleSwitchBuilder=l;var de,he=(__extends(ge,de=A),ge.prototype.build=function(){return this.control,{control:this.control,disabled:this.disabled,uid:this.uidBuilder.build(),suppressDisplayName:!0}},ge);function ge(e){return de.call(this,e)||this}n.EnabledSliceBuilder=he})((e=e.visuals||(e.visuals={})).builder||(e.builder={}))})(powerbi=powerbi||{}),(function(e){e.isDateWithEpochValue=function(e){return e&&"number"==typeof e.epochTimeStamp},e.createDateWithEpochValue=function(e,t,r,n,i,o,a){void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0);var s=new Date(e,t,r,n,i,o,a);return s.epochTimeStamp=Date.UTC(e,t,r,n,i,o,a),s}})(powerbi=powerbi||{}),(jsCommon||(jsCommon={})).forceEnumeration=function(t){t&&Object.getOwnPropertyNames(t).forEach((function(e){"constructor"!==e&&Object.defineProperty(t,e,{enumerable:!0})}))},(function(r){var e=(t.prototype.resolve=function(e){this.resolver(e)},t.prototype.reject=function(e){this.rejector(e)},t);function t(e){var t=this.promise=new r.PbiPromise(null,e=void 0===e?!1:e);this.resolver=function(e){return r.PbiPromise.resolvePromise(t,e)},this.rejector=function(e){return r.PbiPromise.rejectPromise(t,e)}}r.PbiDeferred=e})(powerbi=powerbi||{}),(function(u){var e=(c.prototype.then=function(e,t){if(_.isUndefined(e)&&_.isUndefined(t))return this;var r=new c(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:r,onFulfilled:e,onRejected:t}),0<this.state.status&&this.scheduleProcessQueue(),r},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.finally=function(t){return this.then((function(e){return c.handleCallback(e,c.resolve,t)}),(function(e){return c.handleCallback(e,c.reject,t)}))},c.all=function(r,n){var i,o,e=new c(function(e,t){i=e,o=t},n),a=[],s=r.length;if(0<s)for(var l=0,t=0;t<s;t++)!(function(t){var e=r[t];(e=!u.getThen(e)?c.resolve(e,n):e).then((function(e){a[t]=e})).catch((function(e){o(e)})).finally((function(){++l===s&&i(a)}))})(t);else i(a);return e},c.resolvePromise=function(e,t){e.state.status||(t===e?e.rejectInternal("Expected promise to be resolved with value other than itself"):e.resolveInternal(t))},c.rejectPromise=function(e,t){e.state.status||e.rejectInternal(t)},c.init=function(e,t){c.pbiTimeout=e||c.pbiTimeout,c.autoFlushInitialized=t},c.resolve=function(e,t,r,n){t=new c(null,t);return c.resolvePromise(t,e),t.then(null!=r?r:null,n)},c.reject=function(r,e){return new c(function(e,t){return t(r)},e)},c.prototype.defer=function(e){_.isFunction(e),this.autoFlush&&0<this.state.status?e():(this.timeout,this.timeout.defer(e,0))},c.prototype.resolveInternal=function(e){var t,r=this;try{(t=u.getThen(e))?(this.state.status=-1,t.call(e,(function(e){r.resolveInternal(e)}),(function(e){r.rejectInternal(e)}))):(this.state.value=e,this.state.status=1,this.scheduleProcessQueue())}catch(e){this.rejectInternal(e)}},c.prototype.rejectInternal=function(e){this.state.value=e,this.state.status=2,this.scheduleProcessQueue()},c.prototype.scheduleProcessQueue=function(){var e=this.state;e.processScheduled||_.isEmpty(e.pending)||(e.processScheduled=!0,this.defer((function(){return c.processQueue(e)})))},c.ensurePbiTimeout=function(){return c.pbiTimeout||(c.pbiTimeout=u.createPbiTimeout())},c.handleCallback=function(t,r,e){var n=null;try{_.isFunction(e)&&(n=e())}catch(e){return c.reject(e)}return u.isPromise(n)?n.then((function(e){return r(t)}),c.reject):r(t)},c.processQueue=function(e){var t=e.pending;e.processScheduled=!1,e.pending=void 0;for(var r=0,n=t;r<n.length;r++){var i=n[r],o=i.result,a=void 0,a=1===e.status?i.onFulfilled:a;a=2===e.status?i.onRejected:a;try{_.isFunction(a)?c.resolvePromise(o,a(e.value)):1===e.status?c.resolvePromise(o,e.value):c.rejectPromise(o,e.value)}catch(e){c.rejectPromise(o,e)}}},c.createResolved=function(e){var t=new u.PbiDeferred(!0);return t.resolve(e),t.promise},c.createRejected=function(e){var t=new u.PbiDeferred(!0);return t.reject(e),t.promise},c);function c(e,t){var r=this;this.timeout=c.ensurePbiTimeout(),this.autoFlush=c.autoFlushInitialized||!!t,this.state={status:0},e&&e((function(e){return c.resolvePromise(r,e)}),(function(e){return c.rejectPromise(r,e)}))}u.PbiPromise=e})(powerbi=powerbi||{}),(function(t){var e=(n.prototype.then=function(e,t){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==t,this.defer.promise.then(e,t)},n.prototype.catch=function(e){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==e,this.defer.promise.catch(e)},n.prototype.finally=function(e){return this.defer.promise.finally(e)},n.init=function(e,t,r){n.factory=e,n.exceptions=t,n.defaultFactoryWasProvided=!1},n.ensureFactory=function(){var e=n.factory;return e||(e=n.factory=t.createJQueryPromiseFactory(),n.defaultFactoryWasProvided=!0),e},n.resolve=function(r){return new n(function(e,t){return e(r)})},n.reject=function(r){return new n(function(e,t){return t(r)})},n.allSettled=function(o){return new n(function(e,t){var r=o.length;if(0<r)for(var n=[],i=0;i<r;i++)o[i].then((function(e){return n.push({value:e,type:0})})).catch((function(e){return n.push({value:e,type:1})})).finally((function(){n.length===r&&e(n)}));else e([])})},n.prototype.onResolve=function(e){var t,r=this;(t=e)&&_.isFunction(t.then)?e.then((function(e){return r.onResolve(e)}),(function(e){return r.onReject(e)})):this.defer.resolve(e)},n.prototype.onReject=function(e){var t;this.hasRejectionHandling||!(e instanceof Error)||e.suppressExceptionHandler||(t=n.exceptions)&&(e.suppressExceptionHandler=!0,t(e)),this.defer.reject(e)},n);function n(e){var t=this;this.defer=n.ensureFactory().defer(),e((function(e){return t.onResolve(e)}),(function(e){return t.onReject(e)}))}t.Promise=e;r.prototype.resolve=function(e){this.resolver(e)},r.prototype.reject=function(e){this.rejector(e)},e=r;function r(){var r=this;this.promise=new t.Promise(function(e,t){r.resolver=e,r.rejector=t})}t.Deferred=e})(powerbi=powerbi||{}),(function(e){!(function(T){function n(e,t,r){if(r){for(var n=e-1;-1<n;n--)if(o(t[n]))return n+1}else for(var n=e,i=t.length;n<i;n++)if(o(t[n]))return n;return r?0:t.length}function o(e){return T.BREAKERS_REGEX.lastIndex=0,T.BREAKERS_REGEX.test(e)}function F(e,t,r){return t.text=e,r(t)}T.NEW_LINE_REGEX=/\n+/g,T.BREAKERS_REGEX=/[\s\n]+/g,T.PRESERVE_WHITESPACE_BREAKER_REGEX=/([^\S\r\n])/g,T.find=function(e,t){0<=e&&t.length;var r={start:0,end:0};return 0===t.length||(r.start=n(e,t,!0),r.end=n(e,t,!1)),r},T.hasBreakers=o,T.wordCount=function(e){var t=1;for(T.BREAKERS_REGEX.lastIndex=0,T.BREAKERS_REGEX.exec(e);0!==T.BREAKERS_REGEX.lastIndex;)t++,T.BREAKERS_REGEX.exec(e);return t},T.getMaxWordWidth=function(e,t,r){for(var n=0,i=0,o=T.split(e);i<o.length;i++){var a=o[i];r.text=a,n=Math.max(n,t(r))}return n};var t=(e.prototype.getWidth=function(){return this.width},e.prototype.addWord=function(e,t){this.words.push(e),this.width+=t},e.prototype.toString=function(e){return this.words.join(e?"":" ")},e.prototype.isEmpty=function(){return _.isEmpty(this.words)},e);function e(){this.words=[],this.width=0}var N=(r.prototype.newLine=function(){var e=this.lastLine;return this.lastLine=new t,this.lines.push(this.lastLine),e},Object.defineProperty(r.prototype,"count",{get:function(){return this.lines.length},enumerable:!1,configurable:!0}),r.prototype.getLastLine=function(){return this.lastLine},r.prototype.getLastLineWidth=function(){return this.getLastLine().getWidth()},r.prototype.addWord=function(e,t){this.lastLine.addWord(e,t)},r.prototype.getLines=function(){return this.lines},r);function r(){this.lastLine=new t,this.lines=[this.lastLine]}function M(e,t,r,n,i){var o={chunks:[],lastChunkWidth:0};if(i<1)return o;if(0===e.length)return o;for(var a,s,l,u=(s=r,l=n,(a=t).text="a",Math.floor(l/s(a))),c=e;0<c.length;){if(o.chunks.length===i-1){o.chunks.push(c),o.lastChunkWidth=F(c,t,r);break}var d=(function(e,t,r,n,i){if(_.isEmpty(e))return{sizeInCharacters:0,sizeInPixels:0};if(0===n)return{sizeInCharacters:1,sizeInPixels:F(e.substr(0,1),t,r)};var o={sizeInCharacters:0,sizeInPixels:0},a=Math.min(i,e.length),s=-1,l=e.length+1;for(;s<l-1;){var u,c=F(e.substr(0,a),t,r),d=c/n;a=u=c<=n?(s=a,o.sizeInCharacters=a,o.sizeInPixels=c,u=0<d?Math.ceil(a/d):a+1,u=Math.max(u,a+1),Math.min(u,l-1)):(l=a,u=0<d?Math.floor(a/d):a-1,u=Math.min(u,a-1),Math.max(u,s+1))}return 0!==o.sizeInCharacters?o:{sizeInCharacters:1,sizeInPixels:F(e.substr(0,1),t,r)}})(c,t,r,n,u),u=d.sizeInCharacters,h=d.sizeInCharacters;if(c.length,o.chunks.push(c.substr(0,h)),o.lastChunkWidth=d.sizeInPixels,h===c.length)break;c=c.substr(h,c.length-h)}return o}T.splitByWidth=function e(t,o,r,a,n,s,i,l,u){if(void 0===u&&(u=!1),!t)return[""];if(n<1&&(n=Number.POSITIVE_INFINITY),l){for(var c=[],d=0,h=t.split(T.NEW_LINE_REGEX);d<h.length;d++){var g,p=e(h[d],o,r,a,Math.max(1,n),s,i,!1,u);0<n?(c.push.apply(c,p||[]),n-=p.length):(g=_.last(c),c[c.length-1]=g+" "+p)}return c}s=s||function(e,t){return e.text};for(var f=F(" ",o,r),m=new N,y=0,v=T.split(t,u);y<v.length;y++){var S=v[y],b=F(S,o,r),C=b,w=m.getLastLine().isEmpty();if(w||" "===S||(C+=f),m.getLastLineWidth()+C<=a||m.count>=n)m.addWord(S,C);else if(w||m.newLine(),b<=a)m.addWord(S,b);else if(w=n-m.count,!i||w<=0)m.addWord(S,b);else for(var E=M(S,o,r,a,1+w),I=0,x=E.chunks.length;I<x;I++){var P=E.chunks[I];I<x-1?(m.addWord(P,a),m.newLine()):m.addWord(P,E.lastChunkWidth)}}return _.map(m.getLines(),(function(e){return e.getWidth()>a?(t=e.toString(u),n=s,i=a,(r=o).text=t,n(r,i)):e.toString(u);var t,r,n,i}))},T.splitWordByWidth=M})(e.WordBreaker||(e.WordBreaker={}))})(jsCommon=jsCommon||{}),(function(e){var r;(r=e.WordBreaker||(e.WordBreaker={})).split=function(e,t){return(e=t?e.replace(r.NEW_LINE_REGEX,""):e).split(t?r.PRESERVE_WHITESPACE_BREAKER_REGEX:r.BREAKERS_REGEX)}})(jsCommon=jsCommon||{}),(function(i){var e=(d.setCanvasCtx=function(e){d.canvasCtx=e},d.ensureDOM=function(){var e;if(!d.canvasCtx){if(d.spanElement||(d.spanElement=$("<span></span>"),$("body").append(d.spanElement)),null==d.letterSpacing)try{var t=window.getComputedStyle(null===(e=d.spanElement)||void 0===e?void 0:e.get(0));0<t.letterSpacing.indexOf("px")&&(d.letterSpacing=+t.letterSpacing.replace("px",""))}catch(e){}d.svgTextElement||(d.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),d.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");t=window.getComputedStyle(d.svgTextElement.node());d.fallbackFontFamily=t?t.fontFamily:""}},d.removeSpanElement=function(){d.spanElement&&d.spanElement.remove&&d.spanElement.remove(),d.spanElement=null},d.measureSvgTextWidth=function(e,t){if(_.isEmpty(e.fontSize)||e.fontSize.indexOf("px"),!e||!e.fontSize)return 0;if(d.ensureDOM(),!d.canvasCtx)return((null!=t?t.length:null!=e.text&&e.text.length)||0)*(parseInt(e.fontSize,10)||9);if(!d.setCanvasFont(d.canvasCtx,e))return 0;if(null==t&&null==e.text)return 0;e=null!=t?t:e.text;return d.canvasCtx.measureText(e).width+(null!=d.letterSpacing?d.letterSpacing*e.length:0)},d.measureSvgTextRect=function(e,t){return _.isEmpty(e.fontSize)||e.fontSize.indexOf("px"),d.ensureDOM(),d.svgTextElement.text(t||e.text).attrs({visibility:"hidden","font-family":e.fontFamily||d.fallbackFontFamily,"font-variant":e.fontVariant,"font-size":e.fontSize,"font-weight":e.fontWeight,"font-style":e.fontStyle,"white-space":e.whiteSpace||"nowrap"}),i.visuals.SVGUtil.tryGetBBox(d.svgTextElement.node())},d.measureSvgTextHeight=function(e,t){t=d.measureSvgTextRect(e,t);return t?t.height:0},d.measureSvgGlyphHeight=function(e,t,r){e.indexOf("px"),d.ensureDOM(),d.svgTextElement.classed(t,!0).style("font-size",e).style("position","absolute").style("visibility","hidden");r=d.measureSvgTextRect({fontFamily:null,fontSize:e},r);return d.svgTextElement.classed(t,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),r?r.height:0},d.estimateSvgTextRect=function(e){_.isEmpty(e.fontSize)||e.fontSize.indexOf("px");var t=(e.fontFamily||"")+(e.fontSize||""),r=i.ephemeralStorageService.getData(t);return null==r&&(e={fontFamily:e.fontFamily,fontSize:e.fontSize,text:"M"},0<(r=d.measureSvgTextRect(e)).height&&!1!==d.isFontLoaded(e)&&i.ephemeralStorageService.setData(t,r)),r},d.isFontLoaded=function(e){var t=document.fonts,r=e.fontFamily,n=!1;if(d.fontLoadCache[r])return!0;if(t&&r)try{n=t.check("16px "+r)}catch(e){}else{e.fontSize="16px";t=d.measureSvgTextRect(e),e=r?r.split(",")[0]:"";if(-1!==e.indexOf("Segoe UI"))n=i.Double.equalWithPrecision(t.height,21.28,1e-5);else{if(-1===e.indexOf("wf_standard-font"))return null;n=i.Double.equalWithPrecision(t.height,16.35,1e-5)}}return d.fontLoadCache[r]=n},d.clearFontLoadedCache=function(){d.fontLoadCache={}},d.estimateSvgTextBaselineDelta=function(e){e=d.estimateSvgTextRect(e);return e.y+e.height},d.estimateSvgTextHeight=function(e,t){void 0===t&&(t=!1);e=d.estimateSvgTextRect(e).height;return t&&(e*=.7),e},d.measureSvgTextElementWidth=function(e){return d.measureSvgTextWidth(d.getSvgMeasurementProperties(e))},d.getMeasurementProperties=function(e){return{text:e.val()||e.text(),fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontWeight:e.css("font-weight"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),whiteSpace:e.css("white-space")}},d.getSvgMeasurementProperties=function(e){var t=window.getComputedStyle(e,null);return t?{text:e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}:{text:e&&e.textContent,fontFamily:"",fontSize:"0"}},d.getDivElementWidth=function(e){e.is("div");e=getComputedStyle(e[0]);return e?e.width:"0"},d.getTailoredTextOrDefault=function(e,t){if(e.text,_.isEmpty(e.fontSize)||e.fontSize.indexOf("px"),!e||!e.fontSize)return"";d.ensureDOM();var r=e.text;if(!r||!d.canvasCtx)return"";if(!d.setCanvasFont(d.canvasCtx,e))return"";if((o=d.canvasCtx.measureText(r).width+(null!=d.letterSpacing?d.letterSpacing*r.length:0))<=t)return r;for(var n=1,i=(r=d.ellipsis+r).length;n<i;){var o,a=n+i>>1,s=r.substr(0,a);(o=d.canvasCtx.measureText(s).width+(null!=d.letterSpacing?d.letterSpacing*s.length:0))<t?n=1+a:i=t<o?a-1:n=a}e=r.substr(0,n);return t<(o=d.canvasCtx.measureText(r.substr(0,n)).width+(null!=d.letterSpacing?d.letterSpacing*e.length:0))&&n--,r.substr(d.ellipsis.length,n-d.ellipsis.length)+d.ellipsis},d.setCanvasFont=function(e,t){try{e.font=(t.fontStyle||"")+" "+(t.fontVariant||"")+" "+(t.fontWeight||"")+" "+t.fontSize+" "+(t.fontFamily||d.fallbackFontFamily)}catch(e){return!1}return!0},d.svgEllipsis=function(e,t,r){var n=(r=r||d.getSvgMeasurementProperties(e)).text,t=d.getTailoredTextOrDefault(r,t);n!==t&&(e.textContent=t)},d.wordBreak=function(e,t,r,n){void 0===n&&(n=0),jsCommon.API.deprecated("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead");var i=d.getSvgMeasurementProperties(e),o=d.estimateSvgTextHeight(i)+n,n=Math.max(1,Math.floor(r/o)),a=d3.select(e),s=a.attr("y"),r=e.textContent;e.textContent=null;for(var l=jsCommon.WordBreaker.splitByWidth(r,i,d.measureSvgTextWidth,t,n),u=0,c=l.length;u<c;u++)i.text=l[u],a.append("tspan").attrs({x:0,dy:0===u?s:o}).text(d.getTailoredTextOrDefault(i,t))},d.wordBreakOverflowingText=function(e,t,r,n){void 0===n&&(n=0);var i=d.getSvgMeasurementProperties(e),n=d.estimateSvgTextHeight(i)+n,r=Math.max(1,Math.floor(r/n)),n=e.textContent;e.textContent=null;r=jsCommon.WordBreaker.splitByWidth(n,i,d.measureSvgTextWidth,t,r);d3.select(e).selectAll(d.OverflowingText.selector).data(r).enter().append("span").classed(d.OverflowingText.class,!0).text((function(e){return e})).style("width",jsCommon.PixelConverter.toString(t))},d.ellipsis="…",d.OverflowingText=jsCommon.CssConstants.createClassAndSelector("overflowingText"),d.letterSpacing=null,d.fontLoadCache={},d);function d(){}i.TextMeasurementService=e})(powerbi=powerbi||{}),(function(e){(e=e.KeyUtils||(e.KeyUtils={})).isArrowKey=function(e){return 40===e||38===e||37===e||39===e},e.isArrowKeyboardEventCode=function(e){return"ArrowDown"===e||"ArrowUp"===e||"ArrowRight"===e||"ArrowLeft"===e},e.isCtrlShortcutKey=function(e){return 65===e||67===e||88===e||86===e||90===e||89===e},e.isNudgeModifierKey=function(e){return 16===e},e.isDeleteKey=function(e){return 46===e}})(jsCommon=jsCommon||{}),(function(e){function t(e){return e&&_.isObject(e)&&e.then&&_.isFunction(e.then)}e.isPromise=t,e.getThen=function(e){return t(e)?e.then:null}})(powerbi=powerbi||{}),(function(e){function t(){var e="touchstart";return e=window.PointerEvent?"pointerdown":e}(e=(e=e.visuals||(e.visuals={})).TouchUtils||(e.TouchUtils={})).touchStartEventName=t,e.touchEndEventName=function(){var e="touchend";return e=window.PointerEvent?"pointerup":e},e.touchMoveEventName=function(){var e="touchmove";return e=window.PointerEvent?"pointermove":e},e.usePointerEvents=function(){var e=t();return"pointerdown"===e||"MSPointerDown"===e}})(powerbi=powerbi||{}),(function(e){(e=e.FileUtils||(e.FileUtils={})).getFileExtension=function(e){var t=_.lastIndexOf(e,".");return 0<=t?e.substr(t+1):""},e.getFileWithoutExtension=function(e){var t=_.lastIndexOf(e,".");return 0<=t?e.substr(0,t):e}})(jsCommon=jsCommon||{}),(function(e){function t(e){this.hostServices=e,this.waitingForData=!1}e=e.visuals||(e.visuals={}),t.prototype.shouldLoadMoreData=function(){if(!this.dataView)return!1;var e=this.dataView.metadata;return!(this.waitingForData||!e||!e.segment)},t.prototype.isLoadingMoreData=function(){return this.waitingForData},t.prototype.updateDataView=function(e){this.dataView=e},t.prototype.loadMoreData=function(){return!!this.shouldLoadMoreData()&&(this.hostServices.loadMoreData(),this.waitingForData=!0)},t.prototype.onLoadMoreDataCompleted=function(){this.waitingForData=!1},e.SimpleLoadMoreDataHandler=t})(powerbi=powerbi||{}),(function(e){(e=e.DomEventUtils||(e.DomEventUtils={})).hasEventHandler=function(e,t){return!_.isEmpty(e)&&(!!(e=$._data(e[0],"events"))&&e.hasOwnProperty(t))},e.getEventTarget=function(e){if(e=e.target)return 1===(e=3===e.nodeType?e.parentNode:e).nodeType?e:void 0}})(jsCommon=jsCommon||{}),(function(e){var t=(r.prototype.toString=function(){var e="";return e+=r.traceTypeStrings[this.type]+" ("+this.timeStamp.toUTCString()+"): "+this.text,this.requestId&&(e+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(e+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),e},r.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],r);function r(e,t,r,n,i){this.text=e,this.type=t,this.sessionId=r,this.requestId=n,this.timeStamp=new Date,this.additionalInfo=i}e.TraceItem=t})(jsCommon=jsCommon||{}),(function(e){var v=e.Deprecated;!(function(r){function t(e,t){if(void 0===t&&(t=!0),_.isEmpty(e))return!1;var r=g(e);if(!r)return!1;switch(f(r.scheme)){case a.http:case a.https:return t||!_.isEmpty(r.host);default:return!1}}function n(e){return!(!e||0!==e.indexOf("data:"))}function i(e,t){return"data:"+e+";base64,"+r.utoa(t)}function e(e){return e&&e.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();switch(t.length){case 1:return"%0"+t;case 2:return"%"+t;case 3:return"%u0"+t;default:return"%u"+t}}))}function o(e){return e&&e.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,(function(e,t,r){return String.fromCharCode(parseInt(t||r,16))}))}r.isValidHttpUrl=t,r.isValidImageUrl=function(e){return t(e)},r.isDataUri=n,r.getBase64ContentFromDataUri=function(e){if(!n(e))throw new Error("Expected data uri");var t=";base64,",r=e.indexOf(t);if(r<0)throw new Error("Expected base 64 content in data url");return t=r+t.length,e.substr(t,e.length-t)},r.makeUTF8EncodedBase64DataUri=i,r.makeJsonDataUri=function(e){return i("application/json",e)},r.MIMEMap={txt:"text/plain",css:"text/css",html:"text/html",gif:"image/gif",jpg:"image/jpg",png:"image/png",svg:"image/svg+xml"},r.getMIMEType=function(e){return e=e.split(".").pop().toLowerCase(),r.MIMEMap[e]},r.escapeSlow=e,r.unescapeSlow=o;var a,s,l=v.unescape||o,u=v.escape||e;function c(e){return l(encodeURIComponent(e))}function d(e){return decodeURIComponent(u(e))}function h(e){var t=m(e);return{baseUrl:t?e.slice(0,e.indexOf("?")):e,queryParameters:y(t)}}function g(e){var t={scheme:"",host:"",path:"",query:"",fragment:""};if(null==e)return t;e=e.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return e?{scheme:e[1],host:e[2],path:e[3],query:e[4],fragment:e[5]}:t}r.encodeUTF8=c,r.decodeUTF8=d,r.utoa=function(e){return btoa(c(e))},r.atou=function(e){return d(atob(e))},r.getQueryParameters=function(e){if(e=m(e))return y(e)},r.setQueryParameters=function(e,t,r){void 0===r&&(r=!1);var n=h(e),e=n.baseUrl;if(r&&_.assign(t,n.queryParameters),_.isEmpty(t))return e;var i,o=[];for(i in t){var a=t[i];if(null==a)o.push(encodeURIComponent(i));else if("string"==typeof a)o.push(encodeURIComponent(i)+"="+encodeURIComponent(a));else for(var s=0,l=a;s<l.length;s++){var u=l[s];o.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}}return e+="?"+o.join("&")},r.splitUrlAndQuery=h,r.parseUrl=g,(s=a=r.UrlScheme||(r.UrlScheme={}))[s.NONE=0]="NONE",s[s.http=1]="http",s[s.https=2]="https",s[s.file=3]="file",s[s.ftp=4]="ftp",s[s.mailto=5]="mailto",s[s.news=6]="news",s[s.telnet=7]="telnet",r.getUrlScheme=function(e){return null==(e=r.parseUrl(e))||null==e.scheme?a.NONE:f(e.scheme)},r.getHost=function(e){return(e=g(e))&&e.host};var p=/https?:\/\/[^\/]+/i;function f(e){if(_.isEmpty(e))return a.NONE;switch(e.toLowerCase()){case"http":return a.http;case"https":return a.https;case"file":return a.file;case"ftp":return a.ftp;case"mailto":return a.mailto;case"news":return a.news;case"telnet":return a.telnet;default:return a.NONE}}function m(e){var t=document.createElement("a");return t.href=e,t.search}function y(e){if(!e)return{};for(var t={},r=0,n=(e=_.startsWith(e,"?")?e.substring(1):e).split("&");r<n.length;r++){var i=n[r].split("="),o=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]),i=t[o];null==i?t[o]=a:"string"==typeof i?t[o]=[i,a]:i.push(a)}return t}r.getAbsolutePath=function(e){return e&&e.replace(p,"")}})(e.UrlUtils||(e.UrlUtils={}))})(jsCommon=jsCommon||{}),(function(t){var e=(r.getLanguage=function(){return this.navigator.userLanguage||this.navigator.language},r.isChrome=function(){if(null!=this.isChromeCache)return this.isChromeCache;var e=this.navigator.vendor||"",t=this.navigator.userAgent.toLowerCase();return this.isChromeCache=-1<e.toLowerCase().indexOf("google")&&-1<t.indexOf("chrome")&&-1===t.indexOf("edge")&&-1===t.indexOf("opr"),this.isChromeCache},r.isInternetExplorerOrEdge=function(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var e=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=-1<e.indexOf("msie")||-1<e.indexOf("trident")||-1<e.indexOf("edge"),this.isInternetExplorerOrEdgeCache},r.isInternetExplorerOrEdgeOrNewEdge=function(){if(null!=this.isInternetExplorerOrEdgeOrNewEdgeCache)return this.isInternetExplorerOrEdgeOrNewEdgeCache;var e=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeOrNewEdgeCache=-1<e.indexOf("msie")||-1<e.indexOf("trident")||-1<e.indexOf("edg"),this.isInternetExplorerOrEdgeOrNewEdgeCache},r.isInternetExplorer11=function(){var e=this.navigator.userAgent.toLowerCase(),t=e.match(/rv:(\d+)/i);return!!(t&&t[1]&&parseInt&&11===parseInt(t[1],10))&&-1<e.indexOf("trident")&&-1===e.indexOf("msie")},r.isEdgeLegacy=function(){return!r.isInternetExplorer11()&&!!("StyleMedia"in window)},r.isWindows10=function(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")},r.isCtrlOrMeta=function(e){return!0===e[r.isMacOs()?"metaKey":"ctrlKey"]},r.isPointerTypeTouch=function(e){return"touch"===e.pointerType},r.getInternetExplorerVersion=function(){var e,t=0;return!("Microsoft Internet Explorer"===this.navigator.appName||0<=this.navigator.userAgent.indexOf("MSIE"))||(e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent))&&(t=parseFloat(e[1])),t},r.isFirefox=function(){return-1<this.navigator.userAgent.toLowerCase().indexOf("firefox")},r.isMacOs=function(){return 0<=this.navigator.userAgent.indexOf("Macintosh")},r.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)},r.isSafari11OrHigher=function(){if(!this.isSafari())return!1;var e=this.navigator.userAgent.match(/version\/(\d+)/i),e=null==e?void 0:e[1];return!(null==e||!parseInt)&&11<=parseInt(e,10)},r.isIOSWebView=function(){var e=this.navigator.userAgent.toLowerCase();return-1<e.indexOf("iphone")||-1<e.indexOf("ipad")||-1<e.indexOf("macintosh")&&1<this.navigator.maxTouchPoints},r.isAndroidWebView=function(){return-1<this.navigator.userAgent.toLowerCase().indexOf("android")},r.focus=function(e,t){if(e)if(e.focus)t?e.focus(t):e.focus();else try{HTMLElement.prototype.focus.apply(e)}catch(e){}},r.setBrowserSupportsHttp2=function(e){this.browserSupportsHttp2=e},r.calculateBrowserSupportsHttp2=function(){if(!window||!window.performance)return!1;var e=window.performance;return"h2"===(e.getEntriesByType&&e.getEntriesByType("navigation")&&e.getEntriesByType("navigation")[0]&&e.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&(!(!this.isInternetExplorer11()||!this.isWindows10())||!(!this.isMacOs()||!this.isSafari11OrHigher()))},r.navigator=window.navigator,r.browserSupportsHttp2=function(){return null!=r.browserSupportsHttp2Cache?r.browserSupportsHttp2Cache:r.browserSupportsHttp2Cache=r.calculateBrowserSupportsHttp2()},r);function r(){}t.BrowserUtils=e,(t.SelectionUtility||(t.SelectionUtility={})).getMultiSelectMode=function(e){return e.shiftKey?1:t.BrowserUtils.isCtrlOrMeta(e)?3:0}})(jsCommon=jsCommon||{}),(function(e){(function(a){a.subSelectableRegionAttr="data-subselectable-region";var e=(t.getInstance=function(){return this._instance||(this._instance=new t)},t.prototype.registerObjectHoverEventHandlers=function(t){var e,r;_.find(this.eventHandlerState,(function(e){return e.element===t}))||(t.addEventListener("mouseover",this.hoverInEventHandler),t.addEventListener("mouseout",this.hoverOutEventHandler),e={element:t,eventType:"mouseover",eventHandler:this.hoverInEventHandler},r={element:t,eventType:"mouseout",eventHandler:this.hoverOutEventHandler},this.eventHandlerState.push(e),this.eventHandlerState.push(r))},t.prototype.clearEventHandlers=function(){for(var e=0,t=this.eventHandlerState;e<t.length;e++){var r=t[e],n=r.element,i=r.eventType,r=r.eventHandler;n.removeEventListener(i,r)}this.eventHandlerState=[]},t.prototype.onHoverStart=function(e,t){if(this.svgOverlay=c(),"datalabel"===t||"datapoint"===t||"categorylabel"===t)for(var r=0,n=l(e,t);r<n.length;r++){var i=o(n[r],this.svgOverlay,!0);this.onHoverBorderState.push(i)}else{i=o(e,this.svgOverlay,!0);this.onHoverBorderState.push(i)}},t.prototype.onHoverEnd=function(){for(var e=0,t=this.onHoverBorderState;e<t.length;e++){var r=t[e];null!=r&&r.remove()}this.onHoverBorderState=[],d(this.svgOverlay)},t);function t(){var r=this;this.onHoverBorderState=[],this.eventHandlerState=[],this.hoverInEventHandler=function(e){var t=e.target,e=u(t),t=n(t);t&&e&&r.onHoverStart(t,e)},this.hoverOutEventHandler=function(e){n(e.target)&&r.onHoverEnd()}}function s(e,t,r,n){void 0===n&&(n=!0);var i=e;if(i!==(r=r||document.body)||n&&t(i))for(!n&&e&&(i=i.parentElement||i.parentNode||void 0);i&&i!==document.body&&i.nodeType===Node.ELEMENT_NODE;){if(t(i))return i;if(i===r)break;i=i.parentElement||i.parentNode||void 0}}function l(e,t){e=e.parentElement;if(!e)return[];e=e.children;return _.filter(e,(function(e){return e.hasAttribute(a.subSelectableRegionAttr)&&e.getAttribute(a.subSelectableRegionAttr)===t})).map((function(e){return e}))}function n(e){return s(e,(function(e){return e.hasAttribute(a.subSelectableRegionAttr)}))}function u(e){e=n(e);if(e){e=e.getAttribute(a.subSelectableRegionAttr);if(e)return e}}function o(e,t,r){void 0===r&&(r=!0);e=n(e);if(e)return i(e,t,r)}function i(e,t,r){if(r=void 0===r?!0:r){e=e.getBoundingClientRect();return t.append("rect").attr("x",e.x).attr("y",e.y).attr("width",e.width).attr("height",e.height).style("stroke","rgb(0,120,212)").style("stroke-width","2").style("fill-opacity","0")}}function c(){return d3.select(document.body).append("svg").style("position","absolute").style("z-index","99999").style("top","0").style("left","0").style("width",5e3).style("height",5e3).style("pointer-events","none")}function d(e){e&&e.remove()}a.FormatSubselectionEventHandlerManager=e,a.getFirstMatchingAncestor=s,a.getDataSelectableSiblingsSameType=l,a.getSelectableRegionElement=n,a.getSelectedRegionType=u,a.renderBordersAndHandles=o,a.renderBordersSVG=i,a.createSVGOverlay=c,a.removeSVGOverlay=d;r.getInstance=function(){return this._instance||(this._instance=new r)},r.prototype.select=function(e){var t=u(e),r=s(e,(function(e){return e.hasAttribute(a.subSelectableRegionAttr)}));if(r&&t){e={element:r,type:t};if("title"===t)r.setAttribute("contentEditable","true");else if("datapoint"===t||"datalabel"===t||"categorylabel"===t)for(var n=0,i=l(r,t);n<i.length;n++){var o={element:i[n],type:t};this.selectionState?this.selectionState.push(o):this.selectionState=[o]}this.selectionState?this.selectionState.push(e):this.selectionState=[e]}},r.prototype.isSelected=function(e){var t=s(e,(function(e){return e.hasAttribute(a.subSelectableRegionAttr)}));return!!t&&void 0!==_.find(this.selectionState,(function(e){return e.element===t}))},r.prototype.clearSelectionAll=function(){_.isEmpty(this.selectionState)||"title"===this.selectionState[0].type&&this.selectionState[0].element.setAttribute("contentEditable","false"),this.selectionState=[]},r.prototype.hasSelection=function(){return 0<this.selectionState.length},e=r;function r(){this.selectionState=[]}a.VCSubselectionHelper=e})((e=e.visuals||(e.visuals={})).FormatSubselectionUtility||(e.FormatSubselectionUtility={}))})(powerbi=powerbi||{}),(function(e){(e.LogicExtensions||(e.LogicExtensions={})).XOR=function(e,t){return(e||t)&&!(e&&t)},(e.JsonComparer||(e.JsonComparer={})).equals=function(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)},(function(t){t.TextSizeMin=8,t.TextSizeMax=60;var r=t.TextSizeMax-t.TextSizeMin;t.getScale=function(e){return(e-t.TextSizeMin)/r}})(e.TextSizeDefaults||(e.TextSizeDefaults={}));var t=(r.fromPoint=function(e){return r.toString(r.fromPointToPixel(e))},r.fromPointToPixel=function(e){return r.PxPtRatio*e},r.toPoint=function(e){return e/r.PxPtRatio},r.toString=function(e){return e+r.PixelString},r.PxPtRatio=4/3,r.PixelString="px",r);function r(){}e.PixelConverter=t,(e.RegExpExtensions||(e.RegExpExtensions={})).run=function(e,t,r){return e.lastIndex=r||0,e.exec(t)}})(jsCommon=jsCommon||{}),(function(e){(e=e.EnumExtensions||(e.EnumExtensions={})).hasFlag=function(e,t){return(e&t)===t},e.setFlag=function(e,t){return e|t},e.resetFlag=function(e,t){return e&~t},e.toString=function(e,t){return e[t]},e.getBitCount=function(e){if(null===e||e%1!=0)return 0;for(var t=0,r=e;0!==r;)1==(1&r)&&t++,r>>>=1;return t}})(jsCommon=jsCommon||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).utility||(e.utility={})).StyleUtils||(e.StyleUtils={})).getRotateAngleFromElement=function(e){if(e=(e=e.get(0).style).transform||e.webkitTransform){e=e.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(e)return parseFloat(e[1])}return 0},e.getTranslateTransformFromElement=function(e){var t,r={x:0,y:0};return e&&e.length&&((e=(t=e.get(0).style).transform||t.webkitTransform)&&0<e.length&&((t=e.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/))?(r.x=parseFloat(t[1]),r.y=parseFloat(t[2])):(t=e.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(r.x=parseFloat(t[1]),r.y=0))),r},e.getPadding=function(e){return{left:parseFloat(e.css("padding-left"))||0,right:parseFloat(e.css("padding-right"))||0,top:parseFloat(e.css("padding-top"))||0,bottom:parseFloat(e.css("padding-bottom"))||0}}})(powerbi=powerbi||{}),(function(e){!(function(e){var r;function l(e){return function(){e.forEach((function(e){null!=e&&e.each((function(){var e;if(null!=this.__transition)if(_.some(this.__transition,(function(e){return 0===e.state}))){var t=d3.select(this);requestAnimationFrame(l([t]))}else for(var r=this.__transition||{},n=0,i=Object.keys(r);n<i.length;n++){var o=r[i[n]];o&&null!==(e=o.timer)&&void 0!==e&&e._call();for(var a=0,s=o.on._.end;a<s.length;a++)s[a].value.apply(this)}}))}))}}function u(e){return _.map(e,(function(e,t){return(1==(1&(t=t))?",":0===t?"M":"L")+e})).join("")+"z"}(t=r=e.SVGUtil||(e.SVGUtil={})).AlmostZero=1e-6,t.translate=function(e,t){return"translate("+e+","+t+")"},t.translateXWithPixels=function(e){return"translateX("+e+"px)"},t.translateWithPixels=function(e,t){return"translate("+e+"px,"+t+"px)"},t.translateAndRotate=function(e,t,r,n,i){return"translate("+e+","+t+") rotate("+i+","+r+","+n+")"},t.scale=function(e){return"scale("+e+")"},t.translateAndScale=function(e,t,r){return"translate("+e+","+t+") scale("+r+")"},t.transformOrigin=function(e,t){return e+" "+t},t.flushAllD3Transitions=l,t.flushAllD3TransitionsIfNeeded=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];!e||(t=(t=e).animation?e.animation:e)&&t.transitionImmediate&&(_.isEmpty(r)||requestAnimationFrame(l(r)))},t.ensureValidSVGPoint=function(e){isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0)},t.parseTranslateTransform=function(e){if(!e||0===e.length)return{x:"0",y:"0"};var t=e.split(/[\s,]+/);t.length;var r="0",e=t[0];return{x:1===t.length?e.substring(10,e.length-1):(r=(t=t[1]).substring(0,t.length-1),e.substring(10,e.length)),y:r}},t.createArrow=function(e,t,r){var n="M0 0";return n+="L0 "+t,{path:n+="L"+e+" "+t/2+" Z",transform:"rotate("+r+" "+e/2+" "+t/2+")"}},t.tryGetBBox=function(e){var t;try{t=e.getBBox()}catch(e){}return t||{x:0,y:0,width:0,height:0}},t.XYArrayToPath=u,t.XYArrayToReducedPath=function(e,t){if(!(e.length<4||e.length%2!=0)){var r=_.map(e,(function(e){return Math.round(e*t)})),n=[],i=r[0],o=r[1];n.push(i),n.push(o);for(var a=2;a<r.length;a+=2){var s=r[a],l=r[a+1];Math.abs(i-s)+Math.abs(o-l)<2||(n.push(s),n.push(l))}return u(n)}},t.scaleStroke=function(e,t,r){return"vectorEffect"in document.documentElement.style?r:((e=e.split(" ")).length,r*(Math.max(+e[2],+e[3])/t))};var t=(n.prototype.recalculate=function(){this.scale={x:1,y:1};var e=this.scaleDetectorElement.getBoundingClientRect(),t=r.tryGetBBox(this.scaleDetectorElement);0<t.height&&0<t.width&&(this.scale={x:e.width/t.width,y:e.height/t.height})},n.prototype.getScale=function(){return this.scale||this.recalculate(),this.scale},n);function n(e){this.scaleDetectorElement=e.append("rect").classed("scale-detector",!0).attrs({width:1,height:1,"stroke-width":"0px",fill:"none"}).node()}e.SVGScaleDetector=t})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(e){(e.FreezeUtility||(e.FreezeUtility={})).deepFreeze=function e(t){for(var r in Object.freeze(t),t)(r=t[r])&&"object"==typeof r&&e(r)}})(jsCommon=jsCommon||{}),(function(i){var e=(t.prototype.logTrace=function(e){if(window.DEBUG)switch(e.type){case i.TraceType.Information:break;case i.TraceType.UnexpectedError:case i.TraceType.Error:case i.TraceType.Fatal:break;case i.TraceType.ExpectedError:case i.TraceType.Warning:case i.TraceType.Verbose:}},t);function t(){}var r=new(i.ConsoleTracer=e),e=(n.assertFail=function(e){this.error(e,!0)},n.warning=function(e,t,r){this.logTraceInternal(new i.TraceItem(e,i.TraceType.Warning,this.sessionId,t,r))},n.error=function(e,t,r,n){t&&(e=i.StringExtensions.format("{0}.\nStack:\n{1}",e,i.getStackTrace())),this.logTraceInternal(new i.TraceItem(e,i.TraceType.Error,this.sessionId,r,n))},n.information=function(e,t,r){this.logTraceInternal(new i.TraceItem(e,i.TraceType.Information,this.sessionId,t,r))},n.verbose=function(e,t,r){this.logTraceInternal(new i.TraceItem(e,i.TraceType.Verbose,this.sessionId,t,r))},n.addListener=function(e){this.listeners.push(e)},n.removeListener=function(e){e=this.listeners.indexOf(e);0<=e&&this.listeners.splice(e,1)},n.resetListeners=function(){this.listeners=new Array(r)},n.reset=function(){this.lastTraceIndex=-1},n.getTraces=function(){if(this.lastTraceIndex<0)return[];for(var e=new Array(this.lastTraceIndex+1),t=0;t<=this.lastTraceIndex;t++)e[t]=this.traces[t];return e},n.disableDefaultListener=function(){this.removeListener(r)},n.enableDefaultListener=function(){this.addListener(r)},n.logTraceInternal=function(e){1e3<=this.lastTraceIndex+1&&this.reset(),this.traces[++this.lastTraceIndex]=e;for(var t=0,r=this.listeners.length;t<r;t++)this.listeners[t].logTrace(e)},n.traces=new Array(1e3),n.lastTraceIndex=-1,n.listeners=new Array(r),n);function n(){}i.Trace=e,powerbi.ensureJsCommon().Trace=e})(jsCommon=jsCommon||{}),(function(e){(e=e.TraceType||(e.TraceType={}))[e.Information=0]="Information",e[e.Verbose=1]="Verbose",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.ExpectedError=4]="ExpectedError",e[e.UnexpectedError=5]="UnexpectedError",e[e.Fatal=6]="Fatal"})(jsCommon=jsCommon||{}),(function(n){var a;n.getWaitForMSMapLoad=function(){return a},n.setWaitForMSMapLoad=function(e){a=e},n.ensureMap=function(e,t,r,n){if(a)return a.promise;r=jsCommon.UrlUtils.setQueryParameters(r,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0);var i=(o=jsCommon.UrlUtils.getQueryParameters(r)).c||o.culture,o={};return _.isEmpty(n)||(o.setLang=n),_.isEmpty(i)||(n=i.split("-",2),o.setMkt=i,o.UR=1<n.length?n[1]:i,o.setLang=n[0]),o=jsCommon.UrlUtils.setQueryParameters(r,o,!0),a=e.defer(),t.require({javascript:o}),a.promise},n.mapControlLoaded=function(){a.resolve(void 0)},n.loadAzureMapScripts=function(e,r){return n.WaitForAzMapLoad||(n.WaitForAzMapLoad=e.defer(),r.require({javascript:"https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",css:["https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css"]}).then((function(e){var t=window;t.atlas=t.atlas||e,r.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}).then((function(e){r.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]}).then((function(){return n.WaitForAzMapLoad.resolve(void 0)}))}))}))),n.WaitForAzMapLoad.promise}})(powerbi=powerbi||{}),window.globalMapControlLoaded=function(){powerbi.mapControlLoaded()},(function(e){(e=e.TraceType||(e.TraceType={}))[e.information=0]="information",e[e.verbose=1]="verbose",e[e.warning=2]="warning",e[e.error=3]="error",e[e.expectedError=4]="expectedError",e[e.unexpectedError=5]="unexpectedError",e[e.fatal=6]="fatal"})(InJs=InJs||{}),(function(e){var t=(r.prototype.check=function(e,t,r){if(t(e))return r(e);this.success=!1},r.check=function(e){var t=new r;return e(t),t.success},r);function r(){this.success=!0}function n(e){return!!e}e.TypeChecker=t,e.exists=n,e.size=function(t){return function(e){return!!e&&e.length===t}},e.identity=function(e){return e}})(jsCommon=jsCommon||{}),(function(e){(e.visuals||(e.visuals={})).Point=function(e,t){this.x=e||0,this.y=t||0}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).Rect=function(e,t,r,n){this.left=e||0,this.top=t||0,this.width=r||0,this.height=n||0}})(powerbi=powerbi||{}),(function(e){var r,n;e=e.visuals||(e.visuals={}),r=e.shapes||(e.shapes={}),(n=r.BoundingRectHelpers||(r.BoundingRectHelpers={})).generatePointsFromBounds=function(e,t,r,n){r.length,n&&n.length;for(var i,o=!0,a=[e.left,e.right],s=[e.top,e.bottom],l=0;l<a.length;l++)for(var u=0;u<s.length;u++){var c=4*l+2*u;t(a[l],s[i=u,0===l?i:1-i],c,r,n)||(o=!1)}return o},n.getPolygonFromBoundingRect=function(e){var t=new Float64Array(8);return n.generatePointsFromBounds(e,(function(e,t,r,n){return n[r]=e,n[r+1]=t,!0}),t),new r.Polygon(t)}})(powerbi=powerbi||{}),(function(r){var e,n,i;function o(e,t,r){e=i.parseNumber(e),t=i.parseNumber(t);return null==e||null==t?null!=r?r:null:{x:e,y:t}}e=r.visuals||(r.visuals={}),n=e.shapes||(e.shapes={}),i=jsCommon.Utility,(e=n.Point||(n.Point={})).offset=function(e,t,r){return{x:0<=e.x+t?e.x+t:0,y:0<=e.y+r?e.y+r:0}},e.equals=function(e,t){return null!=e&&null!=t&&e.x===t.x&&e.y===t.y},e.clone=function(e){return null!==e?{x:e.x,y:e.y}:null},e.toString=function(e){return"{x:"+e.x+", y:"+e.y+"}"},e.serialize=function(e){return e.x+","+e.y},e.getDistance=function(e,t){if(null===e||null===t)return null;var r=t.x-e.x,e=t.y-e.y;return Math.sqrt(r*r+e*e)},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.x,t.x)&&r.Double.equalWithPrecision(e.y,t.y)},e.parsePoint=function(e,t){return null==e?null!=t?t:null:_.isArray(e)?2!==e.length?null!=t?t:null:o(e[0],e[1],t):"string"!=typeof e?o(e.x,e.y,t):2!==(e=e.split(",")).length?null!=t?t:null:o(e[0],e[1],t)},e.getPointsOrientation=function(e,t,r){return 0==(t=(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y))?n.Orientation.Colinear:0<t?n.Orientation.Clockwise:n.Orientation.Counterclockwise},e.isOnSameSegment=function(e,t,r){return r.x<=Math.max(e.x,t.x)&&r.x>=Math.min(e.x,t.x)&&r.y<=Math.max(e.y,t.y)&&r.y>=Math.min(e.y,t.y)}})(powerbi=powerbi||{}),(function(r){var e,o;function n(e){return null!==e?{left:e.left,top:e.top,right:e.right,bottom:e.bottom}:null}function i(e,t,r,n,i){e=o.parseNumber(e),t=o.parseNumber(t),r=o.parseNumber(r),n=o.parseNumber(n);return null==e||null==t||null==r||null==n?null!=i?i:null:{left:e,top:t,right:r,bottom:n}}e=(e=r.visuals||(r.visuals={})).shapes||(e.shapes={}),o=jsCommon.Utility,(e=e.Thickness||(e.Thickness={})).inflate=function(e,t){var r=n(e);return r?(t&&(r.left=e.left+t.left,r.right=e.right+t.right,r.bottom=e.bottom+t.bottom,r.top=e.top+t.top),r):null},e.getWidth=function(e){return e.left+e.right},e.getHeight=function(e){return e.top+e.bottom},e.clone=n,e.equals=function(e,t){return null!=e&&null!=t&&e.left===t.left&&e.bottom===t.bottom&&e.right===t.right&&e.top===t.top},e.flipHorizontal=function(e){var t=e.right;e.right=e.left,e.left=t},e.flipVertical=function(e){var t=e.top;e.top=e.bottom,e.bottom=t},e.toString=function(e){return"{top:"+e.top+", left:"+e.left+", right:"+e.right+", bottom:"+e.bottom+"}"},e.toCssString=function(e){return e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px"},e.isEmpty=function(e){return 0===e.left&&0===e.top&&0===e.right&&0===e.bottom},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.left===t.left&&e.top===t.top&&e.right===t.right&&e.bottom===t.bottom},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.left,t.left)&&r.Double.equalWithPrecision(e.top,t.top)&&r.Double.equalWithPrecision(e.right,t.right)&&r.Double.equalWithPrecision(e.bottom,t.bottom)},e.parseThickness=function(e,t){return null==e?null!=t?t:null:_.isArray(e)?4!==e.length?null!=t?t:null:i(e[0],e[1],e[2],e[3]):"string"!=typeof e?i(e.left,e.top,e.right,e.bottom,t):4!==(e=e.split(",")).length?null!=t?t:null:i(e[0],e[1],e[2],e[3])}})(powerbi=powerbi||{}),(function(r){var e;function t(e){return 0===e.x&&0===e.y}function n(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function i(e,t){return{x:e.x*t,y:e.y*t}}(e=(e=(e=r.visuals||(r.visuals={})).shapes||(e.shapes={})).Vector||(e.Vector={})).isEmpty=t,e.equals=function(e,t){return null!=e&&null!=t&&e.x===t.x&&e.y===t.y},e.clone=function(e){return null!==e?{x:e.x,y:e.y}:null},e.toString=function(e){return"{x:"+e.x+", y:"+e.y+"}"},e.getLength=n,e.getLengthSqr=function(e){return e.x*e.x+e.y*e.y},e.scale=i,e.normalize=function(e){return t(e)?e:i(e,1/n(e))},e.rotate90DegCW=function(e){return{x:e.y,y:-e.x}},e.rotate90DegCCW=function(e){return{x:-e.y,y:e.x}},e.rotate=function(e,t){return{x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)}},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.x===t.x&&e.y===t.y},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.x,t.x)&&r.Double.equalWithPrecision(e.y,t.y)},e.add=function(e,t){if(e&&t)return{x:e.x+t.x,y:e.y+t.y}},e.subtract=function(e,t){if(e&&t)return{x:e.x-t.x,y:e.y-t.y}},e.dotProduct=function(e,t){if(e&&t)return e.x*t.x+e.y*t.y},e.getDeltaVector=function(e,t){if(e&&t)return{x:t.x-e.x,y:t.y-e.y}}})(powerbi=powerbi||{}),(function(r){var e,n;function i(e){return null!==e?{width:e.width,height:e.height}:null}function o(e,t,r){e=n.parseNumber(e),t=n.parseNumber(t);return null==e||null==t?null!=r?r:null:{width:e,height:t}}e=(e=r.visuals||(r.visuals={})).shapes||(e.shapes={}),n=jsCommon.Utility,(e=e.Size||(e.Size={})).isEmpty=function(e){return 0===e.width&&0===e.height},e.equals=function(e,t){return null!=e&&null!=t&&e.width===t.width&&e.height===t.height},e.clone=i,e.inflate=function(e,t){return(e=i(e))?(t&&(e.width+=t.left+t.right,e.height+=t.top+t.bottom),e):null},e.deflate=function(e,t){return(e=i(e))?(t&&(e.width=e.width-t.left-t.right,e.width<0&&(e.width=0),e.height=e.height-t.top-t.bottom,e.height<0&&(e.height=0)),e):null},e.combine=function(e,t){return t&&(e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height)),e},e.toRect=function(e){return{left:0,top:0,width:e.width,height:e.height}},e.toString=function(e){return"{width:"+e.width+", height:"+e.height+"}"},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.width===t.width&&e.height===t.height},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.width,t.width)&&r.Double.equalWithPrecision(e.height,t.height)},e.parseSize=function(e,t){return null==e?null!=t?t:null:_.isArray(e)?2!==e.length?null!=t?t:null:o(e[0],e[1],t):"string"!=typeof e?o(e.width,e.height,t):2!==(e=e.split(",")).length?null!=t?t:null:o(e[0],e[1],t)}})(powerbi=powerbi||{}),(function(i){var e,o;function r(e){return null!==e?{left:e.left,top:e.top,width:e.width,height:e.height}:null}function n(e,t,r,n,i){e=o.parseNumber(e),t=o.parseNumber(t),r=o.parseNumber(r),n=o.parseNumber(n);return null==e||null==t||null==r||null==n?null!=i?i:null:{left:e,top:t,width:r,height:n}}e=(e=i.visuals||(i.visuals={})).shapes||(e.shapes={}),o=jsCommon.Utility,(e=e.Rect||(e.Rect={})).getOffset=function(e){return{x:e.left,y:e.top}},e.getSize=function(e){return{width:e.width,height:e.height}},e.setSize=function(e,t){e.width=t.width,e.height=t.height},e.right=function(e){return e.left+e.width},e.bottom=function(e){return e.top+e.height},e.topLeft=function(e){return{x:e.left,y:e.top}},e.topRight=function(e){return{x:e.left+e.width,y:e.top}},e.bottomLeft=function(e){return{x:e.left,y:e.top+e.height}},e.bottomRight=function(e){return{x:e.left+e.width,y:e.top+e.height}},e.equals=function(e,t){return null!=t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},e.clone=r,e.toString=function(e){return"{left:"+e.left+", top:"+e.top+", width:"+e.width+", height:"+e.height+"}"},e.offset=function(e,t,r){return{left:0<=e.left+t?e.left+t:0,top:0<=e.top+r?e.top+r:0,width:e.width,height:e.height}},e.add=function(e,t){return{left:e.left+t.left,top:e.top+t.top,height:e.height+t.height,width:e.width+t.width}},e.subtract=function(e,t){return{left:e.left-t.left,top:e.top-t.top,height:e.height-t.height,width:e.width-t.width}},e.inflate=function(e,t){return(e=r(e))?(t&&(e.left-=t.left,e.top-=t.top,e.width+=t.left+t.right,e.height+=t.top+t.bottom),e):null},e.deflate=function(e,t){return(e=r(e))?(t&&(e.left+=t.left,e.top+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom),e):null},e.inflateBy=function(e,t){return{left:e.left-t,top:e.top-t,width:e.width+t+t,height:e.height+t+t}},e.deflateBy=function(e,t){return{left:e.left+t,top:e.top+t,width:e.width-t-t,height:e.height-t-t}},e.getClosestPoint=function(e,t,r){return{x:Math.min(Math.max(e.left,t),e.left+e.width),y:Math.min(Math.max(e.top,r),e.top+e.height)}},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&i.Double.equalWithPrecision(e.left,t.left)&&i.Double.equalWithPrecision(e.top,t.top)&&i.Double.equalWithPrecision(e.width,t.width)&&i.Double.equalWithPrecision(e.height,t.height)},e.isEmpty=function(e){return null==e||0===e.width&&0===e.height},e.containsPoint=function(e,t,r){return void 0===r&&(r=!1),null!==e&&null!==t&&(r?i.Double.lessWithPrecision(e.left,t.x)&&i.Double.lessWithPrecision(t.x,e.left+e.width)&&i.Double.lessWithPrecision(e.top,t.y)&&i.Double.lessWithPrecision(t.y,e.top+e.height):i.Double.lessOrEqualWithPrecision(e.left,t.x)&&i.Double.lessOrEqualWithPrecision(t.x,e.left+e.width)&&i.Double.lessOrEqualWithPrecision(e.top,t.y)&&i.Double.lessOrEqualWithPrecision(t.y,e.top+e.height))},e.isIntersecting=function(e,t){return!(!e||!t)&&!(t.left>e.left+e.width||t.left+t.width<e.left||t.top>e.top+e.height||t.top+t.height<e.top)},e.intersect=function(e,t){if(!e)return t;if(!t)return e;var r=Math.max(e.left,t.left),n=Math.max(e.top,t.top),i=Math.min(e.left+e.width,t.left+t.width),t=Math.min(e.top+e.height,t.top+t.height);return r<=i&&n<=t?{left:r,top:n,width:i-r,height:t-n}:{left:0,top:0,width:0,height:0}},e.combine=function(e,t){if(!e)return t;if(!t)return e;var r=Math.min(e.left,t.left),n=Math.min(e.top,t.top);return{left:r,top:n,width:Math.max(e.left+e.width,t.left+t.width)-r,height:Math.max(e.top+e.height,t.top+t.height)-n}},e.parseRect=function(e,t){return null==e?null!=t?t:null:_.isArray(e)?4!==e.length?null!=t?t:null:n(e[0],e[1],e[2],e[3],t):"string"!=typeof e?n(e.left,e.top,e.width,e.height,t):4!==(e=e.split(",")).length?null!=t?t:null:n(e[0],e[1],e[2],e[3],t)},e.getCentroid=function(e){return{x:e.left+e.width/2,y:e.top+e.height/2}},e.keepPositionWithinBoundingRect=function(e,t){var r=t.width||0,t=t.height||0;e.left+e.width>r&&(e.left=Math.max(r-e.width,0)),e.top+e.height>t&&(e.top=Math.max(t-e.height,0)),e.left=Math.max(0,e.left),e.top=Math.max(0,e.top)},e.overlappingRange=function(e,t,r,n){return void 0!==e&&void 0!==t&&void 0!==r&&void 0!==n&&(i.Double.lessOrEqualWithPrecision(e,n)&&i.Double.lessOrEqualWithPrecision(r,t))}})(powerbi=powerbi||{}),(function(e){!(function(e){var u;function a(e){e&&(this.polygonPoints=this.convertArrayPathToPoints(e))}u=e.shapes||(e.shapes={}),a.fromPolygonPoints=function(e){var t=new a(null);return t.polygonPoints=e,t},a.prototype.absoluteCentroid=function(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid},a.prototype.absoluteBoundingRect=function(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect},a.prototype.contains=function(e){var t={x:e.left,y:e.top},r={x:e.left+e.width,y:e.top},n={x:e.left,y:e.top+e.height},e={x:e.left+e.width,y:e.top+e.height};return this.inside(t)&&this.inside(r)&&this.inside(n)&&this.inside(e)},a.prototype.conflicts=function(e){if(!this.isConflictWithBoundingBox(e))return!1;var t={x:e.left,y:e.top},r={x:e.left+e.width/2,y:e.top},n={x:e.left+e.width,y:e.top},i={x:e.left,y:e.top+e.height},o={x:e.left+e.width/2,y:e.top+e.height},a={x:e.left+e.width,y:e.top+e.height},s={x:e.left,y:e.top+e.height/2},e={x:e.left+e.width,y:e.top+e.height/2};return this.inside(t)||this.inside(r)||this.inside(n)||this.inside(i)||this.inside(o)||this.inside(a)||this.inside(s)||this.inside(e)},a.prototype.lineIntersectionPoint=function(e,t){for(var r=0;r<this.polygonPoints.length;r++){var n=this.polygonPoints[r],i=r===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[r+1],i=this.getLineIntersection(e,t,n,i);if(null!==i)return i}return null},a.calculateAbsolutePolygonArea=function(e){for(var t=1,r=0,n=0;n<e.length;n++)r+=e[n].x*e[t].y-e[t].x*e[n].y,t=(t+1)%e.length;return r*=.5},a.prototype.overlapPath=function(e){if(this.inside({x:e[0],y:e[1]}))return!0;var t=new a(e);if(t.inside(this.polygonPoints[0]))return!0;for(var r=0;r<this.polygonPoints.length;r++)if(t.lineIntersectionPoint(this.polygonPoints[r],this.polygonPoints[(r+1)%this.polygonPoints.length]))return!0;return!1},a.prototype.inside=function(e){for(var t=e.x,r=e.y,n=!1,i=0,o=this.polygonPoints.length-1;i<this.polygonPoints.length;o=i++){var a=this.polygonPoints[i].x,s=this.polygonPoints[i].y,l=this.polygonPoints[o].x,u=this.polygonPoints[o].y;r<s!=r<u&&t<(l-a)*(r-s)/(u-s)+a&&(n=!n)}return n},a.translateX=function(e,t){for(var r=new Float64Array(2*e.polygonPoints.length),n=0;n<e.polygonPoints.length;n++)r[2*n]=e.polygonPoints[n].x+t,r[2*n+1]=e.polygonPoints[n].y;return new a(r)},a.polygonBoundsOverlap=function(e,t){var r=u.Rect.overlappingRange(a.getPolyBoundLeft(e),a.getPolyBoundRight(e),a.getPolyBoundLeft(t),a.getPolyBoundRight(t)),t=u.Rect.overlappingRange(a.getPolyBoundLower(e),a.getPolyBoundUpper(e),a.getPolyBoundLower(t),a.getPolyBoundUpper(t));return r&&t},a.circleRectangleOverlap=function(e,t,r){var n=Math.max(e.left,Math.min(t.x,e.right)),e=Math.min(e.bottom,Math.max(t.y,e.top)),n=n-t.x,t=e-t.y;return n*n+t*t<=r*r},a.linesIntersect=function(e,t,r,n,i){void 0===i&&(i=!0);var o=u.Point.getPointsOrientation(e,t,r),a=u.Point.getPointsOrientation(e,t,n),s=u.Point.getPointsOrientation(r,n,e),l=u.Point.getPointsOrientation(r,n,t);return o!==a&&s!==l||!!i&&(!(o!==u.Orientation.Colinear||!u.Point.isOnSameSegment(e,t,r))||(!(a!==u.Orientation.Colinear||!u.Point.isOnSameSegment(e,t,n))||(!(s!==u.Orientation.Colinear||!u.Point.isOnSameSegment(r,n,e))||!(l!==u.Orientation.Colinear||!u.Point.isOnSameSegment(r,n,t)))))},a.getPolyBoundLeft=function(e){return null===(e=_.minBy(e.polygonPoints,(function(e){return e.x})))||void 0===e?void 0:e.x},a.getPolyBoundRight=function(e){return null===(e=_.maxBy(e.polygonPoints,(function(e){return e.x})))||void 0===e?void 0:e.x},a.getPolyBoundUpper=function(e){return null===(e=_.maxBy(e.polygonPoints,(function(e){return e.y})))||void 0===e?void 0:e.y},a.getPolyBoundLower=function(e){return null===(e=_.minBy(e.polygonPoints,(function(e){return e.y})))||void 0===e?void 0:e.y},a.prototype.isConflictWithBoundingBox=function(e){return u.Rect.isIntersecting(this.absoluteBoundingRect(),e)},a.prototype.calculatePolygonCentroid=function(){for(var e,t,r=a.calculateAbsolutePolygonArea(this.polygonPoints),n=t=0,i=1,o=0;o<this.polygonPoints.length;o++)e=this.polygonPoints[o].x*this.polygonPoints[i].y-this.polygonPoints[i].x*this.polygonPoints[o].y,n+=(this.polygonPoints[o].x+this.polygonPoints[i].x)*e,t+=(this.polygonPoints[o].y+this.polygonPoints[i].y)*e,i=(i+1)%this.polygonPoints.length;return{x:n/=6*r,y:t/=6*r}},a.prototype.calculateBoundingRect=function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=0,o=this.polygonPoints;i<o.length;i++){var a=o[i];a.x<e?e=a.x:a.x>r&&(r=a.x),a.y<t?t=a.y:a.y>n&&(n=a.y)}return{left:e,top:t,width:r-e,height:n-t}},a.prototype.getLineIntersection=function(e,t,r,n){var i=e.x,o=e.y,a=t.x,s=t.y,l=r.x,e=r.y,t=a-i,r=s-o,a=n.x-l,s=n.y-e,n=(-r*(i-l)+t*(o-e))/(-a*r+t*s),s=(a*(o-e)-s*(i-l))/(-a*r+t*s);return 0<=n&&n<=1&&0<=s&&s<=1?{x:i+s*t,y:o+s*r}:null},a.prototype.convertArrayPathToPoints=function(e){for(var t=[],r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t},u.Polygon=a})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(e){!(function(a){var e,t=jsCommon.CssConstants.createClassAndSelector,i="data-sub-selection-outline-id";function r(e){return e+".htmlSubSelection"}e=t("sub-selectable"),a.htmlSubSelectableClass=e.class,a.htmlSubselectableselector=e.selector,e=t("outline-host-container"),a.outlineHostContainerClass=e.class,a.outlineHostContainerSelector=e.selector,e=t("outline-svg"),a.outlineSVGClass=e.class,a.outlineSVGSelector=e.selector,e=t("outline-svg-content"),a.outlineSVGContentClass=e.class,a.outlineSVGContentSelector=e.selector,t=t("outline-rect"),a.outlineRectangleClass=t.class,a.outlineRectangleSelector=t.selector;var n=0,t=(o.prototype.destroy=function(){this.removeEventHandlers(),this.hideAllOutlines(),this.outlineHost.remove()},o.prototype.setFormatMode=function(e){e?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines())},o.prototype.attachEventHandlers=function(){var e=this;this.host.on(r("pointerover"),(function(){e.onPointerOver(d3.event)}))},o.prototype.onPointerOver=function(e){var r=this,e=this.getSubSelectionElementsFromEvent(e);this.updateElementOutlines(e,1);e.forEach((function(e){var t=d3.select(e);t.on("pointerleave.htmlSubSelection",(function(){r.updateElementOutline(e,0),t.on("pointerLeaveEventName",null)}))}))},o.prototype.getSubSelectionElementsFromEvent=function(e){var t=e.composedPath();if(!t)return[];for(var r,e=t.indexOf(this.hostElement),n=t.slice(0,e+1),i=n.length-1;0<=i;i--){var o=n[i];if(d3.select(o).classed(a.htmlSubSelectableClass)){r=o;break}}return r?[r]:[]},o.prototype.removeEventHandlers=function(){this.host.on(r("pointerover"),null),this.host.on(r("pointerout"),null)},o.prototype.subSelect=function(e){},o.prototype.updateElementOutline=function(e,t){return this.updateElementOutlines([e],t)[0]},o.prototype.updateElementOutlines=function(e,r){var n=this,i=[];return e.forEach((function(e){var t=d3.select(e),t=n.getElementOutlineId(t),e=n.getRectangleSubSelectionOutline(t,e,r);n.subSelectionOutlines[t]=e,i.push(t)})),this.renderOutlines(),i},o.prototype.getRectangleSubSelectionOutline=function(e,t,r){var n=t.getBoundingClientRect(),i=n.x,o=n.y,t=n.width;return{height:n.height,width:t,x:i,y:o,id:e,type:0,visibility:r}},o.prototype.renderOutlines=function(){var e=[],t=this.subSelectionOutlines;if(t)for(var r in t){r=t[r];0!==r.visibility&&e.push(r)}var n=this;this.outlineHost.selectAll(a.outlineSVGSelector).data(e,(function(e){return""+e.id})).join((function(e){e=e.append("svg").attr(i,(function(e){return e.id})).style("position","absolute").style("pointer-events","none").classed(a.outlineSVGClass,!0);return n.renderOutline(e),e}),(function(e){return n.renderOutline(e)}))},o.prototype.renderOutline=function(e){e.style("top",(function(e){return e.y+"px"})).style("left",(function(e){return e.x+"px"})).style("width",(function(e){return e.width+"px"})).style("height",(function(e){return e.height+"px"}));var r=this;return e.selectAll(a.outlineHostContainerSelector).data((function(e){return[e]}),(function(e){return""+e.type})).join((function(e){return e.append("g").classed(a.outlineSVGContentClass,!0).attr(i,(function(e){return e.id})).each((function(e){var t=d3.select(this),e=e.type;0===e&&r.createRectangleOutline(t),r.renderOutlineContent(t)}))}),(function(e){return e.select(a.outlineHostContainerSelector).each((function(){var e=d3.select(this);r.renderOutlineContent(e)}))})),e},o.prototype.renderOutlineContent=function(e){var r=this;e.each((function(e){var t=e.type,e=d3.select(this);0===t&&r.renderRectangleOutline(e)}))},o.prototype.createRectangleOutline=function(e){e.append("rect").classed(a.outlineRectangleClass,!0).attr("width","100%").attr("height","100%").attr("fill","none")},o.prototype.renderRectangleOutline=function(e){e.select(a.outlineRectangleSelector).attr("stroke",(function(e){return 2===e.visibility?"#0078D4":"orange"})).attr("stroke-width",(function(e){return 2===e.visibility?8:4}))},o.prototype.updateOutline=function(e){this.updateOutlines([e])},o.prototype.updateOutlines=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r],o=i.id;t.push(o),this.subSelectionOutlines[o]=i}this.renderOutlines()},o.prototype.hideAllOutlines=function(){var e,t=this.subSelectionOutlines,r=[];for(e in t){var n=t[e];r.push(__assign(__assign({},n),{visibility:0}))}this.updateOutlines(r)},o.prototype.getOutline=function(e){return this.getOutlines([e])[0]},o.prototype.getOutlines=function(e){var t=this;return e.map((function(e){return t.subSelectionOutlines[e]}))},o.prototype.getElementOutlineId=function(e){var t=e.attr(i);return null==t&&(t=""+n++,e.attr(i,t)),t},o);function o(e,t){this.hostElement=e,this.host=d3.select(e),this.outlineHost=d3.select(t).append("div").style("position","absolute").style("top",0).style("left",0).classed(a.outlineHostContainerClass,!0),this.subSelectionOutlines={}}a.HtmlSubSelectionHelper=t})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{});var debugIntialized=!1;initializeDebug();;
"use strict";var powerbi,__extends=this&&this.__extends||(function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}})(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t){for(var r=0,i=t.length,n=e.length;r<i;r++,n++)e[n]=t[r];return e};!(function(e){var r;function t(){}e=(e=e.data||(e.data={})).EditorState||(e.EditorState={}),t.NATURAL_LANGUAGE="NaturalLanguage",r=t,e.EditorStateKind=r,e.EditorState=function(e){if(this.version=e.version,this.kind=e.kind,e.kind!==r.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var t=e.version;1===t&&(e={description:e.annotation.description,isAutoGenerated:e.annotation.isAutoGenerated,name:e.annotation.name,references:e.annotation.references,utterance:e.annotation.utterance},this.annotation=e)}})(powerbi=powerbi||{}),(function(e){var t,r;t=e.data||(e.data={}),r=e.data.EditorState.EditorStateKind,(t=t.EditorStateNaturalLanguage||(t.EditorStateNaturalLanguage={})).EditorStateNaturalLanguageVersionCurrent=1,t.instanceOfEditorStateNaturalLanguageV1=function(e,t){return t===r.NATURAL_LANGUAGE}})(powerbi=powerbi||{}),(function(o){!(function(e){var t=(r.prototype.visitEntity=function(e,t){return this.visitDefault(e,t)},r.prototype.visitSubqueryRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitNamedQueryRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitColumnRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitMeasureRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitAggr=function(e,t){return this.visitDefault(e,t)},r.prototype.visitPercentile=function(e,t){return this.visitDefault(e,t)},r.prototype.visitRangePercent=function(e,t){return this.visitDefault(e,t)},r.prototype.visitGroupRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitHierarchy=function(e,t){return this.visitDefault(e,t)},r.prototype.visitHierarchyLevel=function(e,t){return this.visitDefault(e,t)},r.prototype.visitPropertyVariationSource=function(e,t){return this.visitDefault(e,t)},r.prototype.visitSelectRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitBetween=function(e,t){return this.visitDefault(e,t)},r.prototype.visitIn=function(e,t){return this.visitDefault(e,t)},r.prototype.visitAnd=function(e,t){return this.visitDefault(e,t)},r.prototype.visitOr=function(e,t){return this.visitDefault(e,t)},r.prototype.visitCompare=function(e,t){return this.visitDefault(e,t)},r.prototype.visitConditional=function(e,t){return this.visitDefault(e,t)},r.prototype.visitContains=function(e,t){return this.visitDefault(e,t)},r.prototype.visitExists=function(e,t){return this.visitDefault(e,t)},r.prototype.visitNot=function(e,t){return this.visitDefault(e,t)},r.prototype.visitStartsWith=function(e,t){return this.visitDefault(e,t)},r.prototype.visitConstant=function(e,t){return this.visitDefault(e,t)},r.prototype.visitDateSpan=function(e,t){return this.visitDefault(e,t)},r.prototype.visitDateAdd=function(e,t){return this.visitDefault(e,t)},r.prototype.visitNow=function(e,t){return this.visitDefault(e,t)},r.prototype.visitDefaultValue=function(e,t){return this.visitDefault(e,t)},r.prototype.visitAnyValue=function(e,t){return this.visitDefault(e,t)},r.prototype.visitArithmetic=function(e,t){return this.visitDefault(e,t)},r.prototype.visitFloor=function(e,t){return this.visitDefault(e,t)},r.prototype.visitFillRule=function(e,t){return this.visitDefault(e,t)},r.prototype.visitThemeDataColor=function(e,t){return this.visitDefault(e,t)},r.prototype.visitResourcePackageItem=function(e,t){return this.visitDefault(e,t)},r.prototype.visitScopedEval=function(e,t){return this.visitDefault(e,t)},r.prototype.visitFilteredEval=function(e,t){return this.visitDefault(e,t)},r.prototype.visitWithRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitTransformTableRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitTransformOutputRoleRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitRoleRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitSummaryValueRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitAllRolesRef=function(e,t){return this.visitDefault(e,t)},r.prototype.visitDiscretize=function(e,t){return this.visitDefault(e,t)},r.prototype.visitMember=function(e,t){return this.visitDefault(e,t)},r.prototype.visitNativeMeasure=function(e,t){return this.visitDefault(e,t)},r.prototype.visitNativeColumn=function(e,t){return this.visitDefault(e,t)},r.prototype.visitSparklineData=function(e,t){return this.visitDefault(e,t)},r.prototype.visitDefault=function(e,t){},r);function r(){}e.DefaultSQExprVisitorWithArg=t;var i,t=(__extends(n,i=t),n);function n(){return null!==i&&i.apply(this,arguments)||this}e.DefaultSQExprVisitor=t;a.prototype.visitEntity=function(e){this.visitDefault(e)},a.prototype.visitSubqueryRef=function(e){this.visitDefault(e)},a.prototype.visitNamedQueryRef=function(e){this.visitDefault(e)},a.prototype.visitColumnRef=function(e){e.source.accept(this)},a.prototype.visitMeasureRef=function(e){e.source.accept(this)},a.prototype.visitAggr=function(e){e.arg.accept(this)},a.prototype.visitPercentile=function(e){e.arg.accept(this)},a.prototype.visitRangePercent=function(e){e.min.accept(this),e.max.accept(this)},a.prototype.visitGroupRef=function(e){e.source.accept(this);for(var t=0,r=e.groupedExprs;t<r.length;t++)r[t].accept(this)},a.prototype.visitHierarchy=function(e){e.arg.accept(this)},a.prototype.visitHierarchyLevel=function(e){e.arg.accept(this)},a.prototype.visitPropertyVariationSource=function(e){e.arg.accept(this)},a.prototype.visitSelectRef=function(e){this.visitDefault(e)},a.prototype.visitBetween=function(e){e.arg.accept(this),e.lower.accept(this),e.upper.accept(this)},a.prototype.visitIn=function(e){for(var t=e.args,r=0,i=t.length;r<i;r++)t[r].accept(this);var n=e.values;if(n)for(r=0,i=n.length;r<i;r++)for(var a=n[r],o=0,u=a.length;o<u;o++)a[o].accept(this);else e.table.accept(this)},a.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},a.prototype.visitOr=function(e){e.left.accept(this),e.right.accept(this)},a.prototype.visitCompare=function(e){e.left.accept(this),e.right.accept(this)},a.prototype.visitConditional=function(e){e.cases;for(var t=0,r=e.cases;t<r.length;t++){var i=r[t];i.condition.accept(this),i.value.accept(this)}e.defaultValue&&e.defaultValue.accept(this)},a.prototype.visitContains=function(e){e.left.accept(this),e.right.accept(this)},a.prototype.visitExists=function(e){e.arg.accept(this)},a.prototype.visitNot=function(e){e.arg.accept(this)},a.prototype.visitStartsWith=function(e){e.left.accept(this),e.right.accept(this)},a.prototype.visitConstant=function(e){this.visitDefault(e)},a.prototype.visitDateSpan=function(e){e.arg.accept(this)},a.prototype.visitDateAdd=function(e){e.arg.accept(this)},a.prototype.visitNow=function(e){this.visitDefault(e)},a.prototype.visitDefaultValue=function(e){this.visitDefault(e)},a.prototype.visitAnyValue=function(e){this.visitDefault(e)},a.prototype.visitArithmetic=function(e){e.left.accept(this),e.right.accept(this)},a.prototype.visitFloor=function(e){e.arg.accept(this)},a.prototype.visitFillRule=function(e){e.input.accept(this),o.FillRuleDefinition.accept(e.rule,new o.PropertyDefinitionVisitor(this,null))},a.prototype.visistExists=function(e){e.arg.accept(this)},a.prototype.visitThemeDataColor=function(e){this.visitDefault(e)},a.prototype.visitResourcePackageItem=function(e){this.visitDefault(e)},a.prototype.visitScopedEval=function(e){e.expression.accept(this);for(var t=0,r=e.scope;t<r.length;t++)r[t].accept(this)},a.prototype.visitFilteredEval=function(e){e.expression.accept(this);for(var t=0,r=e.filters;t<r.length;t++){var i=r[t];if(!_.isEmpty(i.target))for(var n=0,a=i.target;n<a.length;n++)a[n].accept(this);i.condition.accept(this)}},a.prototype.visitWithRef=function(e){this.visitDefault(e)},a.prototype.visitTransformTableRef=function(e){this.visitDefault(e)},a.prototype.visitTransformOutputRoleRef=function(e){this.visitDefault(e)},a.prototype.visitRoleRef=function(e){this.visitDefault(e)},a.prototype.visitSummaryValueRef=function(e){this.visitDefault(e)},a.prototype.visitAllRolesRef=function(e){this.visitDefault(e)},a.prototype.visitDiscretize=function(e){this.visitDefault(e)},a.prototype.visitMember=function(e){this.visitDefault(e)},a.prototype.visitNativeMeasure=function(e){this.visitDefault(e)},a.prototype.visitNativeColumn=function(e){this.visitDefault(e)},a.prototype.visitSparklineData=function(e){e.measure.accept(this);for(var t=0,r=e.grouping;t<r.length;t++)r[t].accept(this);null!==(e=e.scalarKey)&&void 0!==e&&e.accept(this)},a.prototype.visitDefault=function(e){},t=a;function a(){}e.DefaultSQExprVisitorWithTraversal=t})(o.data||(o.data={}))})(powerbi=powerbi||{}),(function(e){var p,f;function t(){}p=e.data||(e.data={}),f=jsCommon.ArrayExtensions,t.prototype.visitColumnRef=function(e){var t=e.source,r=t.accept(this);return t===r?e:new p.SQColumnRefExpr(r,e.ref,void 0,e.getAnnotations())},t.prototype.visitMeasureRef=function(e){var t=e.source,r=t.accept(this);return t===r?e:new p.SQMeasureRefExpr(r,e.ref,e.getAnnotations())},t.prototype.visitNativeMeasure=function(e){var t=e.expressionContentCache&&e.expressionContentCache.dependencies,r=t&&this.rewriteAll(t);return t===r?e:new p.SQNativeMeasureExpr(e.language,e.expression,e.dataType,e.proposedName,__assign(__assign({},e.expressionContentCache),{dependencies:r}),e.format,e.getAnnotations())},t.prototype.visitNativeColumn=function(e){var t=e.expressionContentCache&&e.expressionContentCache.dependencies,r=t&&this.rewriteAll(t),i=e.source.accept(this);if(t===r&&e.source===i)return e;r=e.expressionContentCache?__assign(__assign({},e.expressionContentCache),{dependencies:r}):void 0;return new p.SQNativeColumnExpr(e.language,e.expression,e.dataType,i,e.proposedName,r,e.format,e.getAnnotations())},t.prototype.visitAggr=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQAggregationExpr(r,e.func,e.getAnnotations())},t.prototype.visitSelectRef=function(e){return e},t.prototype.visitPercentile=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQPercentileExpr(r,e.k,e.exclusive,e.getAnnotations())},t.prototype.visitRangePercent=function(e){var t=e.min,r=t.accept(this),i=e.max,n=i.accept(this);return t===r&&i===n?e:new p.SQRangePercentExpr(r,n,e.percent,e.getAnnotations())},t.prototype.visitGroupRef=function(e){for(var t=e.source,r=e.source.accept(this),i=e.groupedExprs,n=new Array(i.length),a=0;a<i.length;a++)n[a]=i[a].accept(this);return t===r&&p.SQExprUtils.sequenceEqual(i,n)?e:new p.SQGroupRefExpr(e.ref,r,n,e.getAnnotations())},t.prototype.visitHierarchy=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQHierarchyExpr(r,e.hierarchy,e.getAnnotations())},t.prototype.visitHierarchyLevel=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQHierarchyLevelExpr(r,e.level,e.getAnnotations())},t.prototype.visitPropertyVariationSource=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQPropertyVariationSourceExpr(r,e.name,e.property,e.getAnnotations())},t.prototype.visitEntity=function(e){return e},t.prototype.visitSubqueryRef=function(e){return e},t.prototype.visitNamedQueryRef=function(e){return e},t.prototype.visitAnd=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQAndExpr(r,n,e.getAnnotations())},t.prototype.visitBetween=function(e){var t=e.arg,r=t.accept(this),i=e.lower,n=i.accept(this),a=e.upper,o=a.accept(this);return t===r&&i===n&&a===o?e:new p.SQBetweenExpr(r,n,o,e.getAnnotations())},t.prototype.visitIn=function(e){var t,r=e.args,i=this.rewriteAll(r),n=e.values,a=e.table,o=a;if(n)for(var u=0,s=n.length;u<s;u++){var l=n[u],c=this.rewriteAll(l);(t=l!==c&&!t?f.take(n,u):t)&&t.push(c)}return a&&(o=a.accept(this)),r!==i||t||a!==o?new p.SQInExpr(i,t||n,o,e.getAnnotations()):e},t.prototype.rewriteAll=function(e){var t=this;return f.rewriteArray(e,(function(e){return e.accept(t)}))},t.prototype.visitOr=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQOrExpr(r,n,e.getAnnotations())},t.prototype.visitCompare=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQCompareExpr(e.comparison,r,n,e.getAnnotations())},t.prototype.visitConditional=function(e){e.cases;for(var t,r=e.defaultValue,i=r&&r.accept(this),n=e.cases,a=0,o=n.length;a<o;a++){var u=n[a],s=this.visitCase(u);(t=u!==s&&!t?f.take(n,a):t)&&t.push(s)}return t=t||n,i===r&&t===n?e:new p.SQConditionalExpr(t,i,e.getAnnotations())},t.prototype.visitCase=function(e){var t=e.condition,r=t.accept(this),i=e.value,n=i.accept(this);return t===r&&i===n?e:{condition:r,value:n}},t.prototype.visitContains=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQContainsExpr(r,n,e.getAnnotations())},t.prototype.visitExists=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQExistsExpr(r,e.getAnnotations())},t.prototype.visitNot=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQNotExpr(r,e.getAnnotations())},t.prototype.visitStartsWith=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQStartsWithExpr(r,n,e.getAnnotations())},t.prototype.visitConstant=function(e){return e},t.prototype.visitFloor=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQFloorExpr(r,e.size,e.timeUnit,e.getAnnotations())},t.prototype.visitDateSpan=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQDateSpanExpr(e.unit,r,e.getAnnotations())},t.prototype.visitDateAdd=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQDateAddExpr(e.unit,e.amount,r,e.getAnnotations())},t.prototype.visitNow=function(e){return e},t.prototype.visitDefaultValue=function(e){return e},t.prototype.visitAnyValue=function(e){return e},t.prototype.visitArithmetic=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQArithmeticExpr(r,n,e.operator,e.getAnnotations())},t.prototype.visitScopedEval=function(e){var t=e.expression,r=t.accept(this),i=e.scope,n=this.rewriteAll(i);return t===r&&i===n?e:new p.SQScopedEvalExpr(r,n,e.getAnnotations())},t.prototype.visitFilteredEval=function(e){for(var t=e.expression,r=t.accept(this),i=!1,n=[],a=0,o=e.filters;a<o.length;a++){var u=o[a],s=u.target,l=void 0;_.isEmpty(s)||(l=this.rewriteAll(s));var c=u.condition,u=u.condition.accept(this);s===l&&c===u||(i=!0),n.push({target:l,condition:u})}return t!==r||i?new p.SQFilteredEvalExpr(r,n,e.getAnnotations()):e},t.prototype.visitWithRef=function(e){return e},t.prototype.visitTransformTableRef=function(e){return e},t.prototype.visitTransformOutputRoleRef=function(e){return e},t.prototype.visitRoleRef=function(e){return e},t.prototype.visitSummaryValueRef=function(e){return e},t.prototype.visitAllRolesRef=function(e){return e},t.prototype.visitFillRule=function(e){var t=e.input,r=t.accept(this),i=e.rule,n=i.linearGradient2,a=n;n&&(a=this.visitLinearGradient2(n));var o=i.linearGradient3,i=o;if(o&&(i=this.visitLinearGradient3(o)),t===r&&n===a&&o===i)return e;o={};return a&&(o.linearGradient2=a),i&&(o.linearGradient3=i),new p.SQFillRuleExpr(r,o,e.getAnnotations())},t.prototype.visitLinearGradient2=function(e){var t=e.min,r=this.visitFillRuleStop(t),i=e.max,n=this.visitFillRuleStop(i),a=e.nullColoringStrategy,o=this.visitFillNullStrategy(a);if(t===r&&i===n&&a===o)return e;n={min:r,max:n};return o&&(n.nullColoringStrategy=o),n},t.prototype.visitLinearGradient3=function(e){var t=e.min,r=this.visitFillRuleStop(t),i=e.mid,n=this.visitFillRuleStop(i),a=e.max,o=this.visitFillRuleStop(a),u=e.nullColoringStrategy,s=this.visitFillNullStrategy(u);if(t===r&&i===n&&a===o&&u===s)return e;o={min:r,mid:n,max:o};return s&&(o.nullColoringStrategy=s),o},t.prototype.visitFillRuleStop=function(e){var t=e.color,r=e.color.accept(this),i=e.value,n=i;if(i&&(n=i.accept(this)),t===r&&i===n)return e;r={color:r};return n&&(r.value=n),r},t.prototype.visitFillNullStrategy=function(e){if(e){var t=e.strategy,r=t.accept(this),i=e.color,n=i;if(i&&(n=i.accept(this)),t===r&&i===n)return e;r={strategy:r};return n&&(r.color=n),r}},t.prototype.visitThemeDataColor=function(e){return e},t.prototype.visitResourcePackageItem=function(e){return e},t.prototype.visitDiscretize=function(e){var t=e.source.accept(this);return t===e.source?e:new p.SQDiscretizeExpr(t,e.count,e.getAnnotations())},t.prototype.visitMember=function(e){var t=e.source.accept(this);return t===e.source?e:new p.SQMemberExpr(t,e.member,e.getAnnotations())},t.prototype.visitSparklineData=function(e){var t=e.measure.accept(this),r=this.rewriteAll(e.grouping),i=null===(a=e.scalarKey)||void 0===a?void 0:a.accept(this),n=e.pointsPerSparkline,a=e.includeMinGroupingInterval;return t===e.measure&&r===e.grouping&&e.scalarKey===i&&e.pointsPerSparkline===n&&e.includeMinGroupingInterval===a?e:new p.SQSparklineDataExpr(t,r,i,n,a)},p.SQExprRewriter=t})(powerbi=powerbi||{}),(function(e){var n;n=e.data||(e.data={}),(function(){(n.VariationRewriter||(n.VariationRewriter={})).run=function(e,t){return e.accept(new i(t))};var r,i=(r=n.SQExprRewriter,__extends(e,r),e.prototype.visitPropertyVariationSource=function(e){var t=e.arg.getTargetEntity();if(!t)return e;var r=t.schema,t=this.schema.schema(r).findTargetEntityOfVariation(t.entity,e.property,e.name);return t?n.SQExprBuilder.entity(r,t.name):e},e);function e(e){var t=r.call(this)||this;return t.schema=e,t}})()})(powerbi=powerbi||{}),(function(e){e.isValueRef=function(e){return!!e&&(void 0!==e.selector&&void 0!==e.propertyIdentifier)};var t=(r.prototype.accept=function(e){this.references.push(e)},r);function r(){this.references=[]}e.ValueRefVisitor=t})(powerbi=powerbi||{}),(function(e){var t=(r.prototype.visitExpr=function(e){return this.exprVisitor,e.accept(this.exprVisitor)},r.prototype.visitValueRef=function(e){return this.valueRefVisitor,this.valueRefVisitor.accept(e)},r);function r(e,t){this.exprVisitor=e,this.valueRefVisitor=t}e.PropertyDefinitionVisitor=t})(powerbi=powerbi||{}),(function(r){(r.DataBarsDefinition||(r.DataBarsDefinition={})).accept=function(e,t){e.minValue&&t.visitExpr(e.minValue),e.maxValue&&t.visitExpr(e.maxValue),r.FillDefinition.accept(e.positiveColor,t),r.FillDefinition.accept(e.negativeColor,t),r.FillDefinition.accept(e.axisColor,t),t.visitExpr(e.reverseDirection),t.visitExpr(e.hideText)}})(powerbi=powerbi||{}),(function(){(powerbi||(powerbi={})).createEnumType=function(e){return new t(e)};var t=(e.prototype.members=function(e){var t=this.allMembers;if(!e)return t;for(var r=[],i=0,n=t;i<n.length;i++){var a=n[i];_.includes(e,a.value)&&r.push(a)}return r},e);function e(e){this.allMembers=e}})(),(function(e){(e.ErrorRangeDefinition||(e.ErrorRangeDefinition={})).accept=function(e,t){e.explicit&&(e=e.explicit,t.visitExpr(e.isRelative),e.upperBound&&t.visitExpr(e.upperBound),e.lowerBound&&t.visitExpr(e.lowerBound))}})(powerbi=powerbi||{}),(function(r){(r.Fill||(r.Fill={})).isFill=function(e){return e&&(void 0!==e.solid&&void 0!==e.solid.color||void 0!==e.gradient&&(void 0!==e.gradient.startColor||void 0!==e.gradient.endColor)||void 0!==e.pattern&&(void 0!==e.pattern.patternKind||void 0!==e.pattern.color))},(r.FillDefinition||(r.FillDefinition={})).accept=function(e,t){e.solid&&e.solid.color&&t.visitExpr(e.solid.color)},(r.fillDefinitionHelpers||(r.fillDefinitionHelpers={})).createSolidFillDefinition=function(e,t){if(e||t)return{solid:{color:t?r.data.SQExprBuilder.color(e,t):r.data.SQExprBuilder.text(e)}}},(r.FillSolidColorTypeDescriptor||(r.FillSolidColorTypeDescriptor={})).nullable=function(e){return!0!==e&&!!e.nullable}})(powerbi=powerbi||{}),(function(e){var t;function n(e,t){t.visitExpr(e.color);e=e.value;e&&t.visitExpr(e)}function a(e,t){e&&(t.visitExpr(e.strategy),e.color&&t.visitExpr(e.color))}(t=e.NullStrategy||(e.NullStrategy={})).asZero="asZero",t.noColor="noColor",t.specificColor="specificColor",t.type=e.createEnumType([{value:t.asZero,displayName:function(e){return e.get("ConditionalFormattingDialog_FormatNull_AsZero")}},{value:t.noColor,displayName:function(e){return e.get("ConditionalFormattingDialog_FormatNull_NoFormat")}},{value:t.specificColor,displayName:function(e){return e.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}}]),(e.FillRuleDefinition||(e.FillRuleDefinition={})).accept=function(e,t){var r,i;e.linearGradient2?(r=e.linearGradient2,i=t,n(r.min,i),n(r.max,i),a(r.nullColoringStrategy,i)):e.linearGradient3&&(e=e.linearGradient3,t=t,n(e.min,t),n(e.mid,t),n(e.max,t),a(e.nullColoringStrategy,t))}})(powerbi=powerbi||{}),(function(e){var t;(t=e.GeoJsonTypes||(e.GeoJsonTypes={})).shared="shared",t.packaged="packaged",(e=e.GeoJsonContentTypes||(e.GeoJsonContentTypes={})).geojson="geojson",e.topojson="topojson"})(powerbi=powerbi||{}),(function(e){(e.IconDefinition||(e.IconDefinition={})).accept=function(e,t){e.layout&&t.visitExpr(e.layout),e.verticalAlignment&&t.visitExpr(e.verticalAlignment),e.value&&t.visitExpr(e.value)}})(powerbi=powerbi||{}),(function(e){(e.ImageDefinition||(e.ImageDefinition={})).urlType={misc:{imageUrl:!0}}})(powerbi=powerbi||{}),(function(o){var u=jsCommon.EnumExtensions,e=(s.fromDescriptor=function(e){if((e=e||{}).scripting&&e.scripting.source)return s.fromExtendedType(32776193);if(e.enumeration)return s.fromEnum(e.enumeration);if(e.flagsEnumeration)return s.fromFlagsEnum(e.flagsEnumeration);if(e.temporal){if(e.temporal.year)return s.fromExtendedType(66308);if(e.temporal.quarter)return s.fromExtendedType(262916);if(e.temporal.month)return s.fromExtendedType(131844);if(e.temporal.day)return s.fromExtendedType(328452);if(e.temporal.paddedDateTableDate)return s.fromExtendedType(197127)}if(e.geography){if(e.geography.address)return s.fromExtendedType(6554625);if(e.geography.city)return s.fromExtendedType(6620161);if(e.geography.continent)return s.fromExtendedType(6685697);if(e.geography.country)return s.fromExtendedType(6751233);if(e.geography.county)return s.fromExtendedType(6816769);if(e.geography.region)return s.fromExtendedType(6882305);if(e.geography.postalCode)return s.fromExtendedType(6947841);if(e.geography.stateOrProvince)return s.fromExtendedType(7013377);if(e.geography.place)return s.fromExtendedType(7078913);if(e.geography.latitude)return s.fromExtendedType(7144707);if(e.geography.longitude)return s.fromExtendedType(7210243)}if(e.misc){if(e.misc.image)return s.fromExtendedType(13109259);if(e.misc.imageUrl)return s.fromExtendedType(13174785);if(e.misc.webUrl)return s.fromExtendedType(13240321);if(e.misc.barcode)return s.fromExtendedType(13305857);if(e.misc.sparkline)return s.fromSparklineType(e.misc.sparkline)}if(e.formatting){if(e.formatting.color)return s.fromExtendedType(19664897);if(e.formatting.formatString)return s.fromExtendedType(19730433);if(e.formatting.alignment)return s.fromExtendedType(20058113);if(e.formatting.labelDisplayUnits)return s.fromExtendedType(20123649);if(e.formatting.displayUnitsWithoutAuto)return s.fromExtendedType(20516865);if(e.formatting.fontFamily)return s.fromExtendedType(20385793);if(e.formatting.fontSize)return s.fromExtendedType(20189443);if(e.formatting.altText)return s.fromExtendedType(20451329);if(e.formatting.stylePreset)return s.fromExtendedType(20582401)}if(e.text)return s.fromExtendedType(1);if(e.integer)return s.fromExtendedType(260);if(e.numeric)return s.fromExtendedType(259);if(e.bool)return s.fromExtendedType(5);if(e.dateTime)return s.fromExtendedType(519);if(e.duration)return s.fromExtendedType(10);if(e.binary)return s.fromExtendedType(11);if(e.json)return s.fromExtendedType(14);if(e.none)return s.fromExtendedType(12);if(e.extendedType)return s.fromExtendedType(e.extendedType);if(e.operations&&e.operations.searchEnabled)return s.fromExtendedType(65541);if(e.reference){if(e.reference.bookmark)return s.fromExtendedType(39337985);if(e.reference.bookmarkGroup)return s.fromExtendedType(39534593);if(e.reference.section)return s.fromExtendedType(39403521);if(e.reference.perspective)return s.fromExtendedType(39469057);if(e.reference.rowRefText)return s.fromExtendedType(39600129)}if(e.variant){e=_.map(e.variant,(function(e){return s.fromDescriptor(e)}));return s.fromVariant(e)}return s.fromExtendedType(0)},s.fromExtendedType=function(e){var t=(e=e||0)&g,e=(function(e){if(function(e){return(e&y)===e}(e))return null;var t=o.ExtendedTypeNames[e];if(!t)return null;e=t.lastIndexOf("_");0<e&&((e=t.slice(0,e))in v&&(t=e));return t})(e);return s.fromPrimitiveTypeAndCategory(t,e)},s.fromPrimitiveTypeAndCategory=function(e,t){t=t||null;var r=(e=e||0).toString();return t&&(r+="|"+t),s.typeCache[r]||(s.typeCache[r]=new s(function(e,t){var r=o.PrimitiveTypeNames[e],i=v[r];null==i&&(i=0);e&&t&&((r=v[t])&&(0==(t=r&g)?(r|=i,o.ExtendedTypeNames[r]&&(o.ExtendedTypeNames[r],i=r)):t===e&&(i=r)));return i}(e,t),t))},s.fromEnum=function(e){return new s(26214401,null,e)},s.fromFlagsEnum=function(e){return new s(26280196,null,null,e)},s.fromVariant=function(e){return new s(13,null,null,null,e)},s.fromSparklineType=function(e){return new s(13371406,"Sparkline",null,null,null,e)},s.isCompatibleFromAny=function(e,t,r){e=s.fromDescriptor(e);return!!s.isCompatibleTo(e,[t],r)||e&&e.isCompatibleFrom(s.fromDescriptor(t),r)},s.isCompatibleTo=function(e,t,r){for(var i=s.fromDescriptor(e),n=0,a=t;n<a.length;n++){var o=a[n];if(s.fromDescriptor(o).isCompatibleFrom(i,r))return!0}return!1},s.prototype.isCompatibleFrom=function(e,t){if(this===e)return!0;if(e.variant)for(var r=0,i=e.variant;r<i.length;r++){var n=i[r];if(!this.isCompatibleFrom(n,t))return!1}if(this.variant)for(var a=0,o=this.variant;a<o.length;a++)if(o[a].isCompatibleFrom(e,t))return!0;var u=e.primitiveType;return this.primitiveType===u||0===u||this.numeric&&e.numeric&&(!t||!this.integer||e.integer)},s.prototype.equals=function(e){return _.isEqual(this,e)},Object.defineProperty(s.prototype,"primitiveType",{get:function(){return S(this.underlyingType)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"extendedType",{get:function(){return this.underlyingType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"categoryString",{get:function(){return this.category},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return 1===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"numeric",{get:function(){return u.hasFlag(this.underlyingType,256)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"integer",{get:function(){return 4===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bool",{get:function(){return 5===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dateTime",{get:function(){return 7===this.primitiveType||6===this.primitiveType||9===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"duration",{get:function(){return 10===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"binary",{get:function(){return 11===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"json",{get:function(){return 14===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"none",{get:function(){return 12===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"temporal",{get:function(){return this.temporalType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"geography",{get:function(){return this.geographyType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"misc",{get:function(){return this.miscType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"formatting",{get:function(){return this.formattingType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"enum",{get:function(){return this.enumType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"flagsEnum",{get:function(){return this.flagsEnumType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"scripting",{get:function(){return this.scriptingType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"reference",{get:function(){return this.referenceType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"variant",{get:function(){return this.variationTypes},enumerable:!1,configurable:!0}),s.typeCache={},s);function s(e,t,r,i,n,a){e&&o.ExtendedTypeNames[e],this.underlyingType=e,this.category=t,u.hasFlag(e,512)&&(this.temporalType=new c(e)),u.hasFlag(e,1024)&&(this.geographyType=new p(e)),u.hasFlag(e,2048)&&(this.miscType=new f(e,a)),u.hasFlag(e,4096)&&(this.formattingType=new h(e)),u.hasFlag(e,26214401)&&(this.enumType=r),u.hasFlag(e,26280196)&&(this.flagsEnumType=i),u.hasFlag(e,8192)&&(this.scriptingType=new l(e)),u.hasFlag(e,16384)&&(this.referenceType=new d(e)),u.hasFlag(e,13)&&(this.variationTypes=n)}o.ValueType=e,jsCommon.forceEnumeration(e.prototype);var l=(Object.defineProperty(t.prototype,"source",{get:function(){return E(this.underlyingType,32776193)},enumerable:!1,configurable:!0}),t);function t(e){e&&u.hasFlag(e,8192),this.underlyingType=e}var c=(Object.defineProperty(r.prototype,"year",{get:function(){return E(this.underlyingType,66048)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quarter",{get:function(){return E(this.underlyingType,262656)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"month",{get:function(){return E(this.underlyingType,131584)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"day",{get:function(){return E(this.underlyingType,328192)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"paddedDateTableDate",{get:function(){return E(this.underlyingType,197127)},enumerable:!1,configurable:!0}),r);function r(e){e&&u.hasFlag(e,512),this.underlyingType=e}var p=(Object.defineProperty(i.prototype,"address",{get:function(){return E(this.underlyingType,6554625)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"city",{get:function(){return E(this.underlyingType,6620161)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"continent",{get:function(){return E(this.underlyingType,6685697)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"country",{get:function(){return E(this.underlyingType,6751233)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"county",{get:function(){return E(this.underlyingType,6816769)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"region",{get:function(){return E(this.underlyingType,6882305)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"postalCode",{get:function(){return E(this.underlyingType,6947840)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stateOrProvince",{get:function(){return E(this.underlyingType,7013377)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"place",{get:function(){return E(this.underlyingType,7078913)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"latitude",{get:function(){return E(this.underlyingType,7144448)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return E(this.underlyingType,7209984)},enumerable:!1,configurable:!0}),i);function i(e){e&&u.hasFlag(e,1024),this.underlyingType=e}var f=(Object.defineProperty(n.prototype,"image",{get:function(){return E(this.underlyingType,13109259)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"imageUrl",{get:function(){return E(this.underlyingType,13174785)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"webUrl",{get:function(){return E(this.underlyingType,13240321)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"barcode",{get:function(){return E(this.underlyingType,13305856)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sparkline",{get:function(){if(E(this.underlyingType,13371406))return this.sparklineType},enumerable:!1,configurable:!0}),n);function n(e,t){e&&u.hasFlag(e,2048),this.underlyingType=e,this.sparklineType=t}Object.getOwnPropertyNames(f.prototype).forEach((function(e){"constructor"!==e&&Object.defineProperty(f.prototype,e,{enumerable:!0})}));var d=(Object.defineProperty(a.prototype,"bookmark",{get:function(){return E(this.underlyingType,39337985)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bookmarkGroup",{get:function(){return E(this.underlyingType,39534593)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"section",{get:function(){return E(this.underlyingType,39403521)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"perspective",{get:function(){return E(this.underlyingType,39469057)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rowRefText",{get:function(){return E(this.underlyingType,39600129)},enumerable:!1,configurable:!0}),a);function a(e){e&&u.hasFlag(e,16384),this.underlyingType=e}var h=(Object.defineProperty(m.prototype,"color",{get:function(){return E(this.underlyingType,19664897)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"formatString",{get:function(){return E(this.underlyingType,19730433)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"alignment",{get:function(){return E(this.underlyingType,20058113)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"labelDisplayUnits",{get:function(){return E(this.underlyingType,20123649)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"displayUnitsWithoutAuto",{get:function(){return E(this.underlyingType,20516865)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontFamily",{get:function(){return E(this.underlyingType,20385793)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontSize",{get:function(){return E(this.underlyingType,20189443)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"altText",{get:function(){return E(this.underlyingType,20451329)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"stylePreset",{get:function(){return E(this.underlyingType,20582401)},enumerable:!1,configurable:!0}),m);function m(e){e&&u.hasFlag(e,4096),this.underlyingType=e}Object.getOwnPropertyNames(h.prototype).forEach((function(e){"constructor"!==e&&Object.defineProperty(h.prototype,e,{enumerable:!0})})),o.PrimitiveTypeNames=((e={})[0]="Null",e[1]="Text",e[2]="Decimal",e[3]="Double",e[4]="Integer",e[5]="Boolean",e[6]="Date",e[7]="DateTime",e[8]="DateTimeZone",e[9]="Time",e[10]="Duration",e[11]="Binary",e[12]="None",e[13]="Variant",e[14]="Json",e),o.ExtendedTypeNames=((e={})[256]="Numeric",e[512]="Temporal",e[1024]="Geography",e[2048]="Miscellaneous",e[4096]="Formatting",e[8192]="Scripting",e[0]="Null",e[1]="Text",e[258]="Decimal",e[259]="Double",e[260]="Integer",e[5]="Boolean",e[518]="Date",e[519]="DateTime",e[520]="DateTimeZone",e[521]="Time",e[10]="Duration",e[11]="Binary",e[12]="None",e[13]="Variant",e[66048]="Years",e[66049]="Years_Text",e[66308]="Years_Integer",e[66054]="Years_Date",e[66055]="Years_DateTime",e[131584]="Months",e[131585]="Months_Text",e[131844]="Months_Integer",e[131590]="Months_Date",e[131591]="Months_DateTime",e[197127]="PaddedDateTableDates",e[262656]="Quarters",e[262657]="Quarters_Text",e[262916]="Quarters_Integer",e[262662]="Quarters_Date",e[262663]="Quarters_DateTime",e[328192]="DayOfMonth",e[328193]="DayOfMonth_Text",e[328452]="DayOfMonth_Integer",e[328198]="DayOfMonth_Date",e[328199]="DayOfMonth_DateTime",e[6554625]="Address",e[6620161]="City",e[6685697]="Continent",e[6751233]="Country",e[6816769]="County",e[6882305]="Region",e[6947840]="PostalCode",e[6947841]="PostalCode_Text",e[6948100]="PostalCode_Integer",e[7013377]="StateOrProvince",e[7078913]="Place",e[7144448]="Latitude",e[7144706]="Latitude_Decimal",e[7144707]="Latitude_Double",e[7209984]="Longitude",e[7210242]="Longitude_Decimal",e[7210243]="Longitude_Double",e[13109259]="Image",e[13174785]="ImageUrl",e[13240321]="WebUrl",e[13305856]="Barcode",e[13305857]="Barcode_Text",e[13306116]="Barcode_Integer",e[19664897]="Color",e[19730433]="FormatString",e[20058113]="Alignment",e[20123649]="LabelDisplayUnits",e[20516865]="DisplayUnitsWithoutAuto",e[20385793]="FontFamily",e[20451329]="AltText",e[20189443]="FontSize",e[26214401]="Enumeration",e[26280196]="FlagsEnumeration",e[32776193]="ScriptSource",e[65541]="SearchEnabled",e[39337985]="BookmarkRef",e[39534593]="BookmarkGroupRef",e[39403521]="SectionRef",e[20582401]="StylePreset",e[39469057]="PerspectiveRef",e[16384]="Reference",e[14]="Json",e[13371406]="Sparkline",e[39600129]="RowRefText",e);var v={Numeric:256,Temporal:512,Geography:1024,Miscellaneous:2048,Formatting:4096,Scripting:8192,Null:0,Text:1,Decimal:258,Double:259,Integer:260,Boolean:5,Date:518,DateTime:519,DateTimeZone:520,Time:521,Duration:10,Binary:11,None:12,Variant:13,Years:66048,Years_Text:66049,Years_Integer:66308,Years_Date:66054,Years_DateTime:66055,Months:131584,Months_Text:131585,Months_Integer:131844,Months_Date:131590,Months_DateTime:131591,PaddedDateTableDates:197127,Quarters:262656,Quarters_Text:262657,Quarters_Integer:262916,Quarters_Date:262662,Quarters_DateTime:262663,DayOfMonth:328192,DayOfMonth_Text:328193,DayOfMonth_Integer:328452,DayOfMonth_Date:328198,DayOfMonth_DateTime:328199,Address:6554625,City:6620161,Continent:6685697,Country:6751233,County:6816769,Region:6882305,PostalCode:6947840,PostalCode_Text:6947841,PostalCode_Integer:6948100,StateOrProvince:7013377,Place:7078913,Latitude:7144448,Latitude_Decimal:7144706,Latitude_Double:7144707,Longitude:7209984,Longitude_Decimal:7210242,Longitude_Double:7210243,Image:13109259,ImageUrl:13174785,WebUrl:13240321,Barcode:13305856,Barcode_Text:13305857,Barcode_Integer:13306116,Color:19664897,FormatString:19730433,Alignment:20058113,LabelDisplayUnits:20123649,DisplayUnitsWithoutAuto:20516865,FontFamily:20385793,AltText:20451329,FontSize:20189443,Enumeration:26214401,FlagsEnumeration:26280196,ScriptSource:32776193,SearchEnabled:65541,BookmarkRef:39337985,BookmarkGroupRef:39534593,SectionRef:39403521,StylePreset:20582401,PerspectiveRef:39469057,Reference:16384,Json:14,Sparkline:13371406,RowRefText:39600129},g=255,y=65535,x=4294901760;function S(e){return e&g}function E(e,t){return(e&x)==(t&x)}})(powerbi=powerbi||{}),(function(e){(e=(e=e.data||(e.data={})).DataShapeBindingdataReductionPlotAxisTransform||(e.DataShapeBindingdataReductionPlotAxisTransform={}))[e.None=0]="None",e[e.Log=1]="Log"})(powerbi=powerbi||{}),(function(e){var i;function a(e,t,r){e={Index:_.findIndex(e,(function(e){return e.name===t}))};return r&&1===r&&(e.Transform=i.DataShapeBindingdataReductionPlotAxisTransform.Log),e}((i=e.data||(e.data={})).DataShapeBindingDataReduction||(i.DataShapeBindingDataReduction={})).createFrom=function(e,t){var r,i,n;if(e)return e.top&&(r={Top:{}},e.top.count&&(r.Top.Count=e.top.count)),e.bottom&&(r={Bottom:{}},e.bottom.count&&(r.Bottom.Count=e.bottom.count)),e.sample&&(r={Sample:{}},e.sample.count&&(r.Sample.Count=e.sample.count)),e.window&&(r={Window:{}},e.window.count&&(r.Window.Count=e.window.count)),e.binnedLineSample&&(r={BinnedLineSample:{}},null!=e.binnedLineSample.primaryScalarKey&&(r.BinnedLineSample.PrimaryScalarKey=e.binnedLineSample.primaryScalarKey),e.binnedLineSample.count&&(r.BinnedLineSample.Count=e.binnedLineSample.count),e.binnedLineSample.warningCount&&(r.BinnedLineSample.WarningCount=e.binnedLineSample.warningCount)),e.overlappingPointsSample&&(r={OverlappingPointsSample:{}},(n=e.overlappingPointsSample).count&&(r.OverlappingPointsSample.Count=n.count),(i=n.x)&&1===_.size(i.role.items)&&(r.OverlappingPointsSample.X=a(t,i.role.items[0].queryName,i.transform)),(n=n.y)&&1===_.size(n.role.items)&&(r.OverlappingPointsSample.Y=a(t,n.role.items[0].queryName,n.transform))),r=e.topNPerLevel?{TopNPerLevel:{Count:e.topNPerLevel.count}}:r}})(powerbi=powerbi||{}),(function(e){function c(e){this.schemasByName=e.schemas,e.links&&(this.links=e.links)}e=e.data||(e.data={}),c.merge=function(e){if(1===e.length)return e[0];for(var t,r={},i=[],n=0,a=e;n<a.length;n++){var o,u=a[n];for(o in u.schemasByName)r[o],r[o]=u.schemasByName[o];i.push.apply(i,u.links||[])}for(t in r){var s,l=r[t];l.isExtensionSchema&&((s=r[l.extends]).isExtensionSchema,c.mergeCapabilities(s,l))}e={schemas:r};return _.some(i)&&(e.links=i),new c(e)},Object.defineProperty(c.prototype,"schemas",{get:function(){return _.values(this.schemasByName)},enumerable:!1,configurable:!0}),c.prototype.schema=function(e){return this.schemasByName[e]},c.mergeCapabilities=function(e,t){t.capabilities=__assign(__assign({},e.capabilities),{canEdit:t.capabilities.canEdit,isExtendable:t.capabilities.isExtendable})},e.FederatedConceptualSchema=c})(powerbi=powerbi||{}),(function(u){var l,s,c;function p(e){return null!=e&&1===e.kind}function r(e){return null!=e&&3===e.kind}function i(e){return null!=e&&2===e.kind}function n(e){return null!=e&&0===e.kind}function a(e){return null!=e&&4===e.kind}function o(e,t){if(!_.isEmpty(e)){e=f(e);return _.isEmpty(e)?void 0:u.DataViewScopeIdentity.filterFromExprs(e,t)}}function f(e){if(!_.isEmpty(e)){for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r],a=null==n?void 0:n.data,o=void 0;if(!_.isEmpty(a))for(var u=0,s=a.length;u<s;u++)o=l.SQExprBuilder.and(o,(null==n?void 0:n.data[u]).expr);o&&t.push(o)}return t}}function d(e,t){return(e=e||null)===(t=t||null)||!e==!t&&(e.id===t.id&&(e.metadata===t.metadata&&(!!(function(e,t){if((e=e||null)===(t=t||null))return!0;if(!e!=!t)return!1;if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(!m(e[r],t[r]))return!1;return!0})(e.data,t.data)&&e.highlightMatching===t.highlightMatching)))}function h(e,t){return(e=e||null)===(t=t||null)||!e==!t&&d(v(e),v(t))}function m(e,t){return p(e)&&p(t)?u.DataViewScopeIdentity.equals(e,t):r(e)&&r(t)?l.DataViewScopeWildcard.equals(e,t):i(e)&&i(t)?l.DataViewScopeTotal.equals(e,t):n(e)&&n(t)?l.DataViewRoleWildcard.equals(e,t):!(!a(e)||!a(t))&&l.DataViewWildcard.equals(e,t)}function v(e){if(e){var t,r=[];for(t in e.dataMap)for(var i=0,n=c.ensureArray(e.dataMap[t]);i<n.length;i++){var a=n[i];r.push(a)}var o={};return 0<r.length&&(o.data=r),e.metadata&&(o.metadata=_.head(e.metadata)),e.id&&(o.id=e.id),o}}l=u.data||(u.data={}),c=jsCommon.ArrayExtensions,(s=l.Selector||(l.Selector={})).AllEncompasingKey="{}",s.isScopeIdentity=p,s.isScopeWildcard=r,s.isScopeTotal=i,s.isRoleWildcard=n,s.isWildcard=a,s.isWildcardSelector=function(e){return!(!e||!e.data)&&(e&&e.data&&1===e.data.length&&a(e.data[0]))},s.toScopeIdentities=function(e){if(e&&!_.isEmpty(e.data)){for(var t=e.data.length,r=new Array(t),i=0;i<t;i++){var n=e.data[i];if(!s.isScopeIdentity(n))return;r[i]=n}return r}},s.getScopeIdentities=function(e){if(e&&e.dataMap){var t,r=[];for(t in e.dataMap){var i=c.ensureArray(e.dataMap[t]);r.push.apply(r,i||[])}return r}},s.filterFromSelector=o,s.filterFromSelectorsByColumn=function(e,t){return o(_.map(e,(function(e){return s.convertSelectorsByColumnToSelector(e)})))},s.filterExprsFromSelectors=f,s.hasIdentities=function(e){if(!_.isEmpty(e))for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i.dataMap)for(var n in i.dataMap){n=i.dataMap[n];if(!_.isEmpty(n)&&_.some(n,(function(e){return null!=e})))return!0}}},s.equals=d,s.equalsSelectorsByColumn=h,s.equalsSelectorsByColumnArray=function(e,t){if((e=e||null)===(t=t||null))return!0;if(!e!=!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!h(e[r],t[r]))return!1;return!0},s.equalsData=m,s.getKey=function(e){if(e.data)if(0<e.data.length){for(var t="data: ["+e.data[0].key,r=1,i=e.data.length;r<i;r++)t+=", "+e.data[r].key;t+="]"}else t="data: []";var n=e.metadata;return n&&(t?t+=", metadata: "+n:t="metadata: "+n),(n=e.id)&&(t?t+=", id: "+n:t="id: "+n),t?"{"+t+"}":"{}"},s.getDecomposedKeys=function(e,t){if(void 0===t&&(t=!0),_.isEmpty(e.data))return[s.AllEncompasingKey];var r=[];if(t)r=_.map(e.data,(function(e){return e.key}));else for(var i=0,n=e.data;i<n.length;i++){var a,o=n[i];p(o)&&(a=(a=u.data.ScopeIdentityExtractor.getKeys(o.expr))||u.data.ScopeIdentityExtractor.getValues(o.expr),_.forEach(a,(function(e){r.push(u.data.SQExprShortSerializer.serialize(e))})))}return r},s.containsWildcard=function(e){return!!(e=e.data)&&_.some(e,(function(e){return n(e)||r(e)||a(e)}))},s.hasRoleWildcard=function(e){if(e=e.data,_.isEmpty(e))return!1;for(var t=0,r=e;t<r.length;t++)if(n(r[t]))return!0;return!1},s.convertSelectorsByColumnToSelector=v,s.getSelectorTargetExpr=function(t,e){if(t&&t.metadata){e=_.find(e,(function(e){return e.queryName===t.metadata}));return e?e.expr:void 0}},s.normalizeSelector=function(e){return e&&e.data?{data:e.data}:e},s.clone=function(e){var t={};return e.data&&(t.data=__spreadArray([],e.data)),e.metadata&&(t.metadata=e.metadata),e.id&&(t.id=e.id),void 0!==e.highlightMatching&&(t.highlightMatching=e.highlightMatching),t}})(powerbi=powerbi||{}),(function(e){var V,b;function C(e,t,r){V.SQExpr.isAnd(e)?(i(r),C(e.left,t,r.left),C(e.right,t,r.right)):V.SQExpr.isCompare(e)&&(V.SQExpr.isEntity(e.left)||V.SQExpr.isMeasure(e.left)||V.SQExpr.isColumn(e.left)||V.SQExpr.isAggregation(e.left),i(r,e.left),V.SQExpr.isConstant(e.right),t.push(e.right))}function i(e,t){t?e.value=t:(e.left={},e.right={})}function D(e,t){return!(!e||!t)&&(e.left&&e.right?!(!t.left||!t.right)&&(D(e.left,t.left)&&D(e.right,t.right)):!!e.value&&(!!t.value&&V.SQExpr.equals(e.value,t.value)))}function R(e){if(V.Selector.isScopeIdentity(e))return e.expr}function T(e,t,r){if(t.left&&t.right){var i=T(e,t.left,r),n=T(e,t.right,r);return V.SQExprBuilder.and(i,n)}if(t.value){i=t.value,r=e[r.index++];return V.SQExpr.isEntity(i)||V.SQExpr.isMeasure(i)||V.SQExpr.isColumn(i)||V.SQExpr.isAggregation(i),V.SQExpr.isConstant(r),V.SQExprBuilder.compare(0,i,r)}}V=e.data||(e.data={}),e=V.DecomposedIdentities||(V.DecomposedIdentities={}),b=jsCommon.ArrayExtensions,e.decomposeSelectorsByColumn=function(e){if(e){for(var t={},r=[],i=[],n=[],a=[],o=[],u=[],s=0,l=e;s<l.length;s++){var c=l[s],p=[],f={};if(u.push(c.id),o.push(c.metadata),c.dataMap){for(var d in c.dataMap)for(var h=0,m=b.ensureArray(c.dataMap[d]);h<m.length;h++){var v=m[h],g={},y=[],x={},S=_.indexOf(n,d);S<0&&(n.push(d),S=n.length-1),C(R(v),y,x);for(var E=-1,w=0;w<i.length;w++)if(D(x,i[w])){E=w;break}E<0&&(i.push(x),E=i.length-1),g[E]=y,f[S]=f[S]||[],f[S].push(E),p.push(g)}a.push(f),r.push(p)}}return _.isEmpty(r)||_.isEmpty(r)||(t.decomposedIdentities={values:r,columns:i}),_.isEmpty(n)||_.isEmpty(a)||(t.queryNames=n,t.queryNameMap=a),_.some(o,(function(e){return!!e}))&&(t.metadata=o),_.some(u,(function(e){return!!e}))&&(t.id=u),t}},e.decomposeFilterExpressionMetadata=function(e){if(e){var t={expressions:e.expressions},r=[],i=[],n=[];if(e.cachedValueItems){for(var a=0,o=e.cachedValueItems;a<o.length;a++){var u=o[a];n.push(u.valueMap);for(var s=[],l=0,c=u.identities;l<c.length;l++){var p={},f=[],d={};C(R(c[l]),f,p);for(var h=-1,m=0;m<i.length;m++)if(D(p,i[m])){h=m;break}h<0&&(i.push(p),h=i.length-1),d[h]=f,s.push(d)}r.push(s)}t.decomposedIdentities={values:r,columns:i},t.valueMap=n}return t}},e.convertDecomposedSelectors=function(e){if(e){var t=[],r=e.decomposedIdentities&&e.decomposedIdentities.values,i=e.decomposedIdentities&&e.decomposedIdentities.columns,n=e.queryNames,a=e.queryNameMap;if(r&&i)for(var o=0;o<r.length;o++){var u=r[o];(C={dataMap:{}}).metadata=e.metadata&&e.metadata[o],C.id=e.id&&e.id[o];for(var s=a[o],l=0,c=u;l<c.length;l++)for(var p=c[l],f=0,d=_.keys(p);f<d.length;f++){var h,m=d[f],v=_.toNumber(m);for(h in s){var g=s[h];if(0<=_.indexOf(g,v)){var y=n[h],x=T(p[v],i[v],{index:0}),x=V.createDataViewScopeIdentity(x);C.dataMap[y]=C.dataMap[y]||[],C.dataMap[y].push(x),_.pull(g,v);break}}}t.push(C)}else{if(!_.isEmpty(e.metadata))for(var S=0,E=e.metadata;S<E.length;S++){var w=E[S];(C={}).metadata=w,t.push(C)}if(!_.isEmpty(e.id))for(var b=_.isEmpty(t),o=0;o<e.id.length;o++){var C,D=e.id[o];(C=b?{}:t[o]).id=D,b&&t.push(C)}}return t}},e.convertDecomposedFilterExpressionMetadata=function(e){if(e){var t={expressions:e.expressions},r=e.decomposedIdentities&&e.decomposedIdentities.values,i=e.decomposedIdentities&&e.decomposedIdentities.columns,n=[];if(r&&i){for(var a=0;a<r.length;a++){for(var o=[],u=0,s=r[a];u<s.length;u++){var l,c=s[u];for(l in c){var p=i[l],p=T(c[l],p,{index:0}),p=V.createDataViewScopeIdentity(p);o.push(p)}}n.push({identities:o,valueMap:e.valueMap[a]})}_.isEmpty(n)||(t.cachedValueItems=n),e.jsonFilter&&(t.jsonFilter=e.jsonFilter)}return t}}})(powerbi=powerbi||{}),(function(t){var e;(e=t.data||(t.data={})).getArithmeticOperatorName=function(e){switch(e){case 0:return"Add";case 1:return"Subtract";case 2:return"Multiply";case 3:return"Divide"}return t.contract.fail("Unexpected ArithmeticOperatorKind: "+e)},e.aggregateFunctionName=function(e){switch(e){case 0:return"Sum";case 1:return"Avg";case 2:return"Count";case 3:return"Min";case 4:return"Max";case 5:return"CountNonNull";case 6:return"Median";case 7:return"StandardDeviation";case 8:return"Variance"}}})(powerbi=powerbi||{}),(function(e){var u;function t(e,t,r,i){this.items=e,this._activeProjectionRefs=t,this._showAll=r,this.parameters=i||[]}u=e.data||(e.data={}),t.prototype.all=function(){return this.items},t.prototype.addProjection=function(e,t){var r,i;t&&(r=t.fieldIndex,i=t.parameter,n=t.indexInParameter);var n=this.getProjectionIndex(r,i,n);this.fixUpParameterIndices(i,r,1),n>=this.items.length?this.items.push(e):this.items.splice(n,0,e)},t.prototype.removeProjection=function(e){var t,r;e&&(t=e.fieldIndex,r=e.parameter,i=e.indexInParameter);var i=this.getProjectionIndex(t,r,i);this.fixUpParameterIndices(r,t,-1),this.items.splice(i,1)},t.prototype.fixUpParameterIndices=function(e,t,r){for(var i=0,n=this.parameters;i<n.length;i++){var a=n[i];e?a.index===e.index&&(void 0===a.length&&(a.length=0),a.length+=r):null!=t&&a.index>=t&&(0<r?a.index>=t:a.index>t)&&(a.index+=r)}},t.prototype.moveFields=function(e,t,r){if(0===this.parameters.length)i=e,a=r,o=t;else{if(0<=e&&e<this.getFieldCount()&&0<=t&&this.getFieldCount(),this.getFieldCount(),this.getFieldCount(),r<=0||e===t)return[];var i=this.convertFieldIndexToProjectionIndex(e),n=this.indexOfLastProjectionInField(e+r-1),a=n-i+1,o=this.convertFieldIndexToProjectionIndex(t);e<t&&(o+=this.indexOfLastProjectionInField(t+r-1)-o+1-a);for(var u=0,s=this.parameters;u<s.length;u++){var l=s[u];l.index>=e&&l.index<=e+r-1?l.index=t+l.index-e:l.index>e&&l.index<=t+r-1?l.index-=r:l.index<e&&l.index>=t&&(l.index+=r)}if(n<i)return[]}i=this.items.splice(i,a);return(a=this.items).splice.apply(a,__spreadArray([o,0],i||[])),i},t.prototype.assignProjection=function(e,t){this.items[t]=e},t.prototype.updateQueryRef=function(e,t){this.items[e].queryRef=t},t.prototype.getQueryRefs=function(){return _.map(this.items,(function(e){return e.queryRef}))},t.prototype.getFieldParameters=function(){return this.parameters},t.prototype.addFieldParameter=function(e){for(var t=0,r=this.parameters;t<r.length;t++){var i=r[t];i.index>=e.index&&i.index++}this.parameters.push(e)},t.prototype.getColumnProjectionIndex=function(t){return _.find(this.parameters,(function(e){return e.index===t})),this.convertFieldIndexToProjectionIndex(t)},t.prototype.getProjectionsByProjectionIndex=function(e){var t=this.convertProjectionIndexToFieldIndex(e),t=this.getParameterByFieldIndex(t);return t?this.getParameterProjections(t):[this.items[e]]},t.prototype.getProjectionsByFieldIndex=function(e){var t=this.getParameterByFieldIndex(e);if(t){var r=this.getParameterProjections(t),t=_.filter(r,(function(e){return null!=e}));return t.length,r.length,t}e=this.convertFieldIndexToProjectionIndex(e),e=this.items[e];return null==e?[]:[e]},t.prototype.convertProjectionIndexToFieldIndex=function(e){var t;if(_.isEmpty(this.parameters))return e;for(var r=0,i=0,n=0,a=_.sortBy(this.parameters,(function(e){return e.index}));n<a.length;n++){var o=a[n];if(r+e-i<o.index)break;if((i+=o.index-r-1)+(null!==(t=o.length)&&void 0!==t?t:0)>e)return o.index;r=o.index,i+=null!==(o=o.length)&&void 0!==o?o:0}return r+e-i},t.prototype.doesParameterExist=function(t){return _.some(this.parameters,(function(e){return e.index===t}))},t.prototype.getParameterProjectionIndex=function(e,t){return this.doesParameterExist(e.index),this.convertFieldIndexToProjectionIndex(e.index)+t},t.prototype.getColumnProjection=function(e){if(!this.doesParameterExist(e))return this.items[this.getColumnProjectionIndex(e)]},t.prototype.getParameterProjections=function(e){if(!e||!e.length)return[];var t=this.convertFieldIndexToProjectionIndex(e.index);return this.items.slice(t,t+e.length)},t.prototype.removeFieldParameters=function(e){for(var o=this,t=0,r=e;t<r.length;t++){var i=(function(t){var e=_.findIndex(o.parameters,(function(e){return e.index===t.index&&u.SQExpr.equals(e.expr,t.expr)}));if(e<0)return{value:!1};var e=o.parameters.splice(e,1)[0],r=e.index;0===e.length||e.length;for(var i=0,n=o.parameters;i<n.length;i++){var a=n[i];a.index>r&&a.index--}})(r[t]);if("object"==typeof i)return i.value}return!0},t.prototype.findParameterBySQExpr=function(t){return _.isEmpty(this.parameters)?[]:this.parameters.filter((function(e){return u.SQExpr.equals(e.expr,t)}))},t.prototype.getParameterByFieldIndex=function(t){return _.find(this.parameters,(function(e){return e.index===t}))},Object.defineProperty(t.prototype,"activeProjectionRefs",{get:function(){return this._activeProjectionRefs},set:function(e){if(_.isEmpty(e))this._activeProjectionRefs=void 0;else{for(var t=this.items.map((function(e){return e.queryRef})),r=0,i=e;r<i.length;r++){var n=i[r];if(!_.includes(t,n))return}this._activeProjectionRefs=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAll",{get:function(){return this._showAll},set:function(e){this._showAll=e},enumerable:!1,configurable:!0}),t.prototype.addActiveQueryReference=function(e){this._activeProjectionRefs?this._activeProjectionRefs.push(e):this._activeProjectionRefs=[e]},t.prototype.getLastActiveQueryReference=function(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]},t.prototype.replaceQueryRef=function(e,t){_.isEmpty(this._activeProjectionRefs);for(var r=0,i=this.items;r<i.length;r++){var n=i[r];n.queryRef===e&&(n.queryRef=t)}},t.prototype.clone=function(){return new t(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,(function(e){return{expr:e.expr,index:e.index,length:e.length}})))},t.prototype.getProjectionIndex=function(e,t,r){var i;return t?(i=null!==(i=t.length)&&void 0!==i?i:0,null!=r?this.convertFieldIndexToProjectionIndex(t.index)+r:this.convertFieldIndexToProjectionIndex(t.index)+i):null!=e?this.convertFieldIndexToProjectionIndex(e):this.items.length},t.prototype.convertFieldIndexToProjectionIndex=function(e){return u.ProjectionUtils.convertFieldIndexToProjectionIndexUsingParameters(e,this.parameters)},t.prototype.indexOfLastProjectionInField=function(t){var e=this.convertFieldIndexToProjectionIndex(t),r=_.find(this.parameters,(function(e){return e.index===t}));return r&&(e+=r.length-1),e},t.prototype.getFieldCount=function(){for(var e,t=this.items.length,r=0,i=this.parameters;r<i.length;r++)t-=(null!==(e=i[r].length)&&void 0!==e?e:0)-1;return t},e=t,u.QueryProjectionCollection=e,jsCommon.forceEnumeration(e.prototype),(e=u.QueryProjectionsByRole||(u.QueryProjectionsByRole={})).clone=function(e){if(!e)return e;var t,r={};for(t in e)r[t]=e[t].clone();return r},e.getRole=function(e,t){if(e)return e[t]}})(powerbi=powerbi||{}),(function(e){var s,r;function n(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1),this.roles=e,this.root={identityValues:null,children:[],parent:null},this.levels=[],this.supportsMerge=!!t,this.canCollapseRoot=!!r}function i(e,t){return _.find(e,(function(e){return _.isEqual(e.roles,t)}))}function a(e,t){return!e==!t&&(!!_.isEqual(e.roles,t.roles)&&(!!r(e.levels,t.levels,o)&&u(e.root,t.root)))}function o(e,t){return!e&&!t||!(!e||!t)&&(!!_.isEqual(e.queryRefs,t.queryRefs)&&(!!r(e.identityKeys,t.identityKeys,s.SQExpr.equals)&&(e.isCollapsed===t.isCollapsed&&!!r(e.toggledNodes,t.toggledNodes,u))))}function u(e,t){return!!r(e.identityValues,t.identityValues,s.SQExpr.equals)&&(!!e.isToggled==!!t.isToggled&&!!r(e.children,t.children,u))}s=e.data||(e.data={}),r=jsCommon.ArrayExtensions.sequenceEqual,n.prototype.updateLevels=function(e,t){if(!_.isEmpty(e)&&(0!==t||this.canCollapseRoot)){_.size(e);var r=e.length,i=this.levels;this.levels=new Array(r);for(var n=0;n<r;n++){var a=t-1<=n,o=i[n],u=[e[n]];o&&_.isEqual(o.queryRefs,u)?(this.levels[n]=o).isCollapsed=a:this.levels[n]={isCollapsed:a,queryRefs:u,toggledNodes:[]}}this.canCollapseRoot&&(0===t?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(t)}},n.prototype.clone=function(){for(var r=this,e=new n(_.clone(this.roles),this.supportsMerge,this.canCollapseRoot),i=new Array(this.levels.length),t=0;t<this.levels.length;t++)i[t]=[];return e.levels=_.map(this.levels,(function(e,t){return r.cloneExpansionLevel(e,i,t)})),e.root=this.cloneExpansionNode(this.root,null,i,-1),e},n.prototype.isStateModified=function(){return _.some(this.levels,(function(e){return!e.isCollapsed}))||!_.isEmpty(this.root.children)},n.prototype.addLevel=function(e,t){this.supportsMerge;var r={isCollapsed:!0,queryRefs:[e],toggledNodes:[],isPinned:t<=_.findLastIndex(this.levels,(function(e){return e.isPinned}))||void 0};_.size(this.levels);for(var e=_.findIndex(this.levels,(function(e){return!_.isEmpty(e.toggledNodes)}),t),i=-1===e?t:e;i<_.size(this.levels);i++)this.setLevelState(i,!0);if(this.levels.splice(t,0,r),this.unlockLevels(t),r.isPinned)for(i=0;i<t;i++)delete this.levels[i].AIInformation},n.prototype.removeLevel=function(t){this.supportsMerge,0<=t&&_.size(this.levels);var e=this.getVisibleDescendentsDepth(this.root,-1);this.removeIntermediateNodes(this.root,-1,(function(e){return e===t})),this.levels.splice(t,1),0<t&&t===e-1&&this.setLevelState(t-1,!0),t<_.size(this.levels)&&this.unlockLevels(t)},n.prototype.moveLevels=function(t,e,r){this.supportsMerge,_.size(this.levels),_.size(this.levels);var i=_.findLastIndex(this.levels,(function(e){return e.isPinned})),n=Math.min(t,e);if(t<e){_.size(this.levels),this.removeIntermediateNodes(this.root,-1,(function(e){return t<=e&&e<t+r}));for(var a=t;a<Math.min(t+r,_.size(this.levels));a++)this.levels[a].toggledNodes=[]}var o=this.levels.splice(t,r);(u=this.levels).splice.apply(u,__spreadArray([e,0],o||[]));for(var u=_.findIndex(this.levels,(function(e){return!_.isEmpty(e.toggledNodes)}),e),a=-1===u?e:u;a<_.size(this.levels);a++)this.setLevelState(a,!0);if(this.unlockLevels(n),i<t&&e<=i?_.forEach(o,(function(e){return e.isPinned=!0})):t<=i&&i<e&&_.forEach(o,(function(e){return e.isPinned=!1})),_.forEach(o,(function(e){return delete e.AIInformation})),this.levels[e].isPinned)for(a=0;a<e;a++)delete this.levels[a].AIInformation},n.prototype.getVisibleDescendentsDepth=function(e,t){var r=this.levels.length;if(-1===t&&this.canCollapseRoot&&e.isToggled)return 0;for(var i=[e];;){if(t===r-1)return t+1;for(var n=this.levels[t]&&this.levels[t].isCollapsed,a=void 0,o=[],u=0,s=i;u<s.length;u++){var l=s[u];!n==!l.isToggled&&(o.push.apply(o,l.children||[]),a=!0)}if(a&&t++,!(0<o.length))break;i=o}for(;t<r-1&&(-1===t||!this.levels[t].isCollapsed);)t++;return t+1},n.prototype.removeIntermediateNodes=function(t,r,i){var n,a=this;i(r)&&(n=!!t.isToggled!=!!this.levels[r].isCollapsed,_.pull(t.parent.children,t),_.forEach(t.children,(function(e){n&&(e.isToggled=!a.levels[r+1].isCollapsed),e.parent=t.parent,t.parent.children.push(e)}))),_.forEach(__spreadArray([],t.children||[]),(function(e){return a.removeIntermediateNodes(e,r+1,i)}))},n.prototype.cloneExpansionLevel=function(e,t,r){return{isCollapsed:e.isCollapsed,identityKeys:this.cloneExpressionList(e.identityKeys),queryRefs:_.clone(e.queryRefs),toggledNodes:t[r],isPinned:e.isPinned,isLocked:e.isLocked,AIInformation:e.AIInformation?{method:e.AIInformation.method,disabled:e.AIInformation.disabled}:void 0}},n.prototype.cloneExpansionNode=function(e,t,r,i){var n={identityValues:this.cloneExpressionList(e.identityValues),children:[],parent:t};void 0!==e.isToggled&&(n.isToggled=e.isToggled),0<=i&&r[i].push(n);for(var a=0,o=e.children;a<o.length;a++){var u=o[a];n.children.push(this.cloneExpansionNode(u,n,r,i+1))}return n},n.prototype.cloneExpressionList=function(e){return e?_.map(e,(function(e){return e})):null},n.prototype.setNodeState=function(e,t){if(e&&_.isEmpty(e.data))return this.canCollapseRoot,t?this.root.isToggled=!0:delete this.root.isToggled,this.root;var r=s.Selector.toScopeIdentities(e);if(r){for(var i=r.length,n=this.root,a=0;a<i;a++){var o=r[a],u=s.ScopeIdentityExtractor.getKeys(o.expr);if(!this.ensureLevel(a,u))return;o=s.ScopeIdentityExtractor.getValues(o.expr),n=this.ensureChildNode(a,n,o,a===i-1?t:void 0)}return this.pruneNonToggledLeaf(n)?void 0:n}},n.prototype.ensureLevel=function(e,t){e=this.levels[e];if(e.identityKeys){if(!r(e.identityKeys,t,s.SQExpr.equals))return}else e.identityKeys=t;return e},n.prototype.ensureChildNode=function(e,t,r,i){var e=this.levels[e],n=this.findNodeMatchingIdentities(t.children,r);return n||(n={children:[],identityValues:r,parent:t},t.children.push(n)),void 0!==i&&(i!==!!e.isCollapsed?(n.isToggled=!0,_.indexOf(e.toggledNodes,n)<0&&e.toggledNodes.push(n)):(delete n.isToggled,e.toggledNodes=_.filter(e.toggledNodes,(function(e){return e!==n})))),n},n.prototype.pruneNonToggledLeaf=function(t){for(var e=!1;t.parent&&!t.isToggled&&_.isEmpty(t.children);)t.parent.children=_.filter(t.parent.children,(function(e){return e!==t})),t=t.parent,e=!0;return e},n.prototype.setLevelState=function(e,t){if(-1===e)return this.canCollapseRoot,void(t?this.root.isToggled=!0:delete this.root.isToggled);e=this.levels[e];if(e){e.isCollapsed=t;for(var r=0,i=e.toggledNodes;r<i.length;r++){var n=i[r];delete n.isToggled,this.pruneNonToggledLeaf(n)}e.toggledNodes=[]}},n.prototype.pinLevels=function(e){_.size(this.levels);for(var t=0;t<Math.min(e,_.size(this.levels));t++)this.levels[t].isPinned=!0},n.prototype.unpinLevels=function(e){_.size(this.levels);for(var t=this.getVisibleDescendentsDepth(this.root,-1),r=Math.max(e,t-1);r<_.size(this.levels);r++)delete this.levels[r].isPinned},n.prototype.lockLevels=function(e){_.size(this.levels);for(var t=0;t<Math.min(e,_.size(this.levels));t++)this.levels[t].isLocked=!0},n.prototype.unlockLevels=function(e){_.size(this.levels);for(var t=e;t<_.size(this.levels);t++)delete this.levels[t].isLocked},n.prototype.setAILevelInformation=function(e,t){_.size(this.levels),t?this.levels[e].AIInformation=_.cloneDeep(t):delete this.levels[e].AIInformation},n.prototype.getAILevelInformation=function(e){return _.size(this.levels),_.cloneDeep(this.levels[e].AIInformation)},n.prototype.isWholeLevelExpanded=function(e){e=this.levels[e];return!e||!e.isCollapsed&&_.isEmpty(e.toggledNodes)},n.prototype.isHierarchyExpanded=function(){this.levels,this.isWholeLevelCollapsed(this.levels.length-1);for(var e=0;e<this.levels.length-1;e++)if(!this.isWholeLevelExpanded(e))return!1;return!0},n.prototype.isWholeLevelCollapsed=function(e){e=this.levels[e];return e&&e.isCollapsed&&_.isEmpty(e.toggledNodes)},n.prototype.getNodeLevelState=function(e,t,r){if(r>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var i=e[0],n=this.ensureLevel(r,s.ScopeIdentityExtractor.getKeys(i.expr));if(n){var a,o=!_.isEmpty(n.toggledNodes),i=s.ScopeIdentityExtractor.getValues(i.expr);return(t&&(a=this.findNodeMatchingIdentities(t.children,i)),1===e.length)?a?{isNodeCollapsed:a.isToggled?!n.isCollapsed:n.isCollapsed,levelHasToggledNodes:o}:{isNodeCollapsed:n.isCollapsed,levelHasToggledNodes:o}:(e.splice(0,1),this.getNodeLevelState(e,a,r+1))}},n.prototype.rewrite=function(t){for(var e=0,r=this.levels;e<r.length;e++){var i=r[e];i.identityKeys&&(i.identityKeys=_.map(i.identityKeys,(function(e){return e.accept(t)})))}return this.root=this.rewriteNodeExpansionState(this.root,t),this},n.prototype.rewriteNodeExpansionState=function(e,t){var r=this;return e.identityValues&&(e.identityValues=_.map(e.identityValues,(function(e){return e.accept(t)}))),e.children=_.map(e.children,(function(e){return r.rewriteNodeExpansionState(e,t)})),e},n.prototype.findNodeMatchingIdentities=function(e,t){return _.find(e,(function(e){return r(e.identityValues,t,s.SQExpr.equals)}))},e=n,s.ExpansionState=e,(e=e=s.ExpansionState||(s.ExpansionState={})).clone=function(e){if(e)return _.map(e,(function(e){return e.clone()}))},e.findExpansionState=i,e.findExpansionStateForRole=function(e,t){return _.find(e,(function(e){return _.includes(e.roles,t)}))},e.areEqual=function(e,t){return r(e,t,a)},e.equal=a,e.equalLevelState=o,e.equalNodeState=u,e.hasExpansionState=function(e){return!_.isEmpty(e)},e.hasNodes=function(e){return!_.isEmpty(e.root.children)||!_.isEmpty(e.root.identityValues)},e.hasPinnedLevels=function(e){return 0<=_.findIndex(e.levels,(function(e){return e.isPinned}))},e.getAILevelInformation=function(e,t,r){if(t=i(e,t))return t.getAILevelInformation(r)},e.getPinnedLevelsCount=function(e,t){return(t=i(e,t))?_.findLastIndex(t.levels,(function(e){return e.isPinned}))+1:0}})(powerbi=powerbi||{}),(function(e){var t;(t=e.DisplayUnitSystemType||(e.DisplayUnitSystemType={}))[t.Default=0]="Default",t[t.Verbose=1]="Verbose",t[t.WholeUnits=2]="WholeUnits",t[t.DataLabels=3]="DataLabels",(e.VisualElement||(e.VisualElement={})).getDataRolesFromVisualElements=function(e){for(var r=[],t=0,i=e;t<i.length;t++)for(var n=0,a=i[t].DataRoles;n<a.length;n++)!(function(t){_.find(r,(function(e){return _.isEqual(e,t)}))||r.push(t)})(a[n]);return r}})(powerbi=powerbi||{}),(function(e){var c,p;function l(e){var t;if(e)return{levels:(t=e.levels,_.cloneDeep(t)),root:(function t(e){return{windowValues:_.map(e.windowValues,r),identityValues:_.clone(e.identityValues),children:_.map(e.children,(function(e){return t(e)}))}})(e.root)}}function r(e){return{identityValues:_.clone(e.identityValues),restartValues:_.clone(e.restartValues),windowKind:e.windowKind}}c=e.data||(e.data={}),p=jsCommon.ArrayExtensions.sequenceEqual,(e=c.WindowExpansionState||(c.WindowExpansionState={})).clone=l,e.generateNewWindowForNode=function(r,e,t,i){if(r){r=l(r);var n=c.Selector.toScopeIdentities(e);if(!n)return r;for(var a=r.root,o=0;a&&o<_.size(n)-1;){var u=(function(){var e=c.ScopeIdentityExtractor.getKeys(n[o].expr);if(!r.levels[o]||!p(e,r.levels[o].identityKeys,c.SQExpr.equals))return{value:r};var t=c.ScopeIdentityExtractor.getValues(n[o].expr);a=_.find(a.children,(function(e){return p(e.identityValues,t,c.SQExpr.equals)})),o++})();if("object"==typeof u)return u.value}if(!a||o<_.size(n)-1)return r;var s=c.ScopeIdentityExtractor.getValues(n[o].expr);if(i)a.windowValues=[{identityValues:s,windowKind:t,restartValues:i}];else{i=_.find(a.windowValues,(function(e){return p(s,e.identityValues,c.SQExpr.equals)}));if(!i)return a.windowValues=[],r;i.windowKind=t,a.windowValues=[i]}return r}},e.mergeWithExpansionState=function(e,t,r,i){if(e&&e.root){var n=_.map(e.levels,(function(e){return (function(e,t,r){if(e.identityKeys)return e.identityKeys;e=_.map(e.queryRefs,(function(e){e=t.withName(e),e=e.expr;return c.SQExpr.isHierarchyLevel(e)?e.getTargetColumnRef(r):e}));return _.size(e),e[0].getKeyColumns(r)})(e,r,i)})),a=0;return t&&(a=-1===(a=_.findIndex(t.levels,(function(e,t){return!p(e.identityKeys,n[t],c.SQExpr.equals)})))?_.size(t.levels):a),{levels:_.map(n,(function(e){return{identityKeys:e}})),root:(function t(e,r,i,n,a){var o=r&&r.children||[];var u=r&&r.windowValues||[];i<=n&&(o=[],u=[]);var s=function(t){return r&&_.find(o,(function(e){return p(t,e.identityValues,c.SQExpr.equals)}))};var l=_.filter(e.children,(function(e){return a[n]&&!!e.isToggled==!!a[n].isCollapsed}));return{children:_.map(l,(function(e){return t(e,s(e.identityValues),i,n+1,a)})),identityValues:e.identityValues,windowValues:u}})(e.root,t&&t.root,a,0,e.levels)}}}})(powerbi=powerbi||{}),(function(u){var n,o,s,e=(l.prototype.add=function(e){e<this.min&&(this.min=e),e>this.max&&(this.max=e),this.sequence.push(e)},l.prototype.moveToCover=function(e,t,r){t=l.getDelta(t,r,this.unit),t=Math.floor(t/this.interval);for(this.min=l.addInterval(e,this.min,t*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<r;)this.max=l.addInterval(e,this.max,this.interval,this.unit),this.sequence.push(this.max)},l.calculate=function(e,t,r,i,n){switch(n=n||l.getIntervalUnit(t,r,i)){case u.DateTimeUnit.Year:return l.calculateYears(e,t,r,i);case u.DateTimeUnit.Month:return l.calculateMonths(e,t,r,i);case u.DateTimeUnit.Week:return l.calculateWeeks(e,t,r,i);case u.DateTimeUnit.Day:return l.calculateDays(e,t,r,i);case u.DateTimeUnit.Hour:return l.calculateHours(e,t,r,i);case u.DateTimeUnit.Minute:return l.calculateMinutes(e,t,r,i);case u.DateTimeUnit.Second:return l.calculateSeconds(e,t,r,i);case u.DateTimeUnit.Millisecond:return l.calculateMilliseconds(e,t,r,i)}},l.calculateYears=function(e,t,r,i){r=u.NumericSequenceRange.calculateDataRange(t.getFullYear(),r.getFullYear(),!1),i=u.NumericSequence.calculate(u.NumericSequenceRange.calculate(0,r.max-r.min),i,0,null,null,[1,2,5]),r=Math.floor(r.min/i.interval)*i.interval,r=u.FeatureSwitchedDate.fromDateParts(e,r,0,1);return l.fromNumericSequence(e,r,i,u.DateTimeUnit.Year)},l.calculateMonths=function(e,t,r,i){var n=t.getFullYear(),a=r.getFullYear(),t=t.getMonth(),r=12*(a-n)+r.getMonth(),n=u.FeatureSwitchedDate.fromDateParts(e,n,0,1),i=u.NumericSequence.calculateUnits(t,r,i,[1,2,3,6,12]);return l.fromNumericSequence(e,n,i,u.DateTimeUnit.Month)},l.calculateWeeks=function(e,t,r,i){var n=(+t.getDay()+7)%7,n=t.getDate()-n,n=u.FeatureSwitchedDate.fromDateParts(e,t.getFullYear(),t.getMonth(),n),r=u.Double.ceilWithPrecision(l.getDelta(n,r,u.DateTimeUnit.Week)),i=u.NumericSequence.calculateUnits(0,r,i,[1,2,4,8]);return l.fromNumericSequence(e,n,i,u.DateTimeUnit.Week)},l.calculateDays=function(e,t,r,i){var n=u.FeatureSwitchedDate.fromDateParts(e,t.getFullYear(),t.getMonth(),t.getDate()),r=u.Double.ceilWithPrecision(l.getDelta(t,r,u.DateTimeUnit.Day)),i=u.NumericSequence.calculateUnits(0,r,i,[1,2,7,14]);return l.fromNumericSequence(e,n,i,u.DateTimeUnit.Day)},l.calculateHours=function(e,t,r,i){var n=u.FeatureSwitchedDate.fromDateParts(e,t.getFullYear(),t.getMonth(),t.getDate()),t=u.Double.floorWithPrecision(l.getDelta(n,t,u.DateTimeUnit.Hour)),r=u.Double.ceilWithPrecision(l.getDelta(n,r,u.DateTimeUnit.Hour)),i=u.NumericSequence.calculateUnits(t,r,i,[1,2,3,6,12,24]);return l.fromNumericSequence(e,n,i,u.DateTimeUnit.Hour)},l.calculateMinutes=function(e,t,r,i){var n=u.FeatureSwitchedDate.fromDateParts(e,t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),t=u.Double.floorWithPrecision(l.getDelta(n,t,u.DateTimeUnit.Minute)),r=u.Double.ceilWithPrecision(l.getDelta(n,r,u.DateTimeUnit.Minute)),i=u.NumericSequence.calculateUnits(t,r,i,[1,2,5,10,15,30,60,120,180,360,720,1440]);return l.fromNumericSequence(e,n,i,u.DateTimeUnit.Minute)},l.calculateSeconds=function(e,t,r,i){var n=u.FeatureSwitchedDate.fromDateParts(e,t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),t=u.Double.floorWithPrecision(l.getDelta(n,t,u.DateTimeUnit.Second)),r=u.Double.ceilWithPrecision(l.getDelta(n,r,u.DateTimeUnit.Second)),i=u.NumericSequence.calculateUnits(t,r,i,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return l.fromNumericSequence(e,n,i,u.DateTimeUnit.Second)},l.calculateMilliseconds=function(e,t,r,i){var n=u.FeatureSwitchedDate.fromDateParts(e,t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),t=l.getDelta(n,t,u.DateTimeUnit.Millisecond),r=l.getDelta(n,r,u.DateTimeUnit.Millisecond),i=u.NumericSequence.calculate(u.NumericSequenceRange.calculate(t,r),i,0);return l.fromNumericSequence(e,n,i,u.DateTimeUnit.Millisecond)},l.addInterval=function(e,t,r,i){switch(r=Math.round(r),i){case u.DateTimeUnit.Year:return n.addYears(e,t,r);case u.DateTimeUnit.Month:return n.addMonths(e,t,r);case u.DateTimeUnit.Week:return n.addWeeks(e,t,r);case u.DateTimeUnit.Day:return n.addDays(e,t,r);case u.DateTimeUnit.Hour:return n.addHours(e,t,r);case u.DateTimeUnit.Minute:return n.addMinutes(e,t,r);case u.DateTimeUnit.Second:return n.addSeconds(e,t,r);case u.DateTimeUnit.Millisecond:return n.addMilliseconds(e,t,r)}},l.fromNumericSequence=function(e,t,r,i){for(var n=new l(i),a=0,o=r.sequence;a<o.length;a++){var u=o[a],u=l.addInterval(e,t,u,i);n.add(u)}return n.interval=r.interval,n.intervalOffset=r.intervalOffset,n},l.getDelta=function(e,t,r){var i=0;switch(r){case u.DateTimeUnit.Year:i=t.getFullYear()-e.getFullYear();break;case u.DateTimeUnit.Month:i=12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth();break;case u.DateTimeUnit.Week:i=(t.getTime()-e.getTime())/6048e5;break;case u.DateTimeUnit.Day:i=(t.getTime()-e.getTime())/864e5;break;case u.DateTimeUnit.Hour:i=(t.getTime()-e.getTime())/36e5;break;case u.DateTimeUnit.Minute:i=(t.getTime()-e.getTime())/6e4;break;case u.DateTimeUnit.Second:i=(t.getTime()-e.getTime())/1e3;break;case u.DateTimeUnit.Millisecond:i=t.getTime()-e.getTime()}return i},l.getIntervalUnit=function(e,t,r){r=Math.max(r,2);var i=l.getDelta(e,t,u.DateTimeUnit.Day);if(356<i&&180*r<=i)return u.DateTimeUnit.Year;if(60<i&&7*r<i)return u.DateTimeUnit.Month;if(14<i&&2*r<i)return u.DateTimeUnit.Week;var n=l.getDelta(e,t,u.DateTimeUnit.Hour);if(2<i&&12*r<n)return u.DateTimeUnit.Day;if(24<=n&&r<=n)return u.DateTimeUnit.Hour;n=l.getDelta(e,t,u.DateTimeUnit.Minute);if(2<n&&r<=n)return u.DateTimeUnit.Minute;n=l.getDelta(e,t,u.DateTimeUnit.Second);if(2<n&&.8*r<=n)return u.DateTimeUnit.Second;if(0<l.getDelta(e,t,u.DateTimeUnit.Millisecond))return u.DateTimeUnit.Millisecond;return 0!==e.getMilliseconds()?u.DateTimeUnit.Millisecond:0!==e.getSeconds()?u.DateTimeUnit.Second:0!==e.getMinutes()?u.DateTimeUnit.Minute:0!==e.getHours()?u.DateTimeUnit.Hour:1!==e.getDate()?u.DateTimeUnit.Day:0!==e.getMonth()?u.DateTimeUnit.Month:u.DateTimeUnit.Year},l.MIN_COUNT=1,l.MAX_COUNT=1e3,l);function l(e){this.unit=e,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}function c(e){return e%4==0&&e%100!=0||e%400==0}function i(e,t,r){var i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),t=u.FeatureSwitchedDate.fromTimeValue(e,t.getTime());return t.setFullYear(i,n,a+r),t}u.DateTimeSequence=e,e=n=u.DateUtils||(u.DateUtils={}),o=[31,28,31,30,31,30,31,31,30,31,30,31],s=[31,29,31,30,31,30,31,31,30,31,30,31],e.addYears=function(e,t,r){var i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),o=2===n&&29===a,t=u.FeatureSwitchedDate.fromTimeValue(e,t.getTime());return i+=r,o&&!c(i)&&(a=28),t.setFullYear(i,n,a),t},e.addMonths=function(e,t,r){var i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),t=u.FeatureSwitchedDate.fromTimeValue(e,t.getTime());return i+=(r-r%12)/12,11<(n+=r%12)&&(n%=12,i++),a=Math.min(a,(c(i)?s:o)[n]),t.setFullYear(i,n,a),t},e.addWeeks=function(e,t,r){return i(e,t,7*r)},e.addDays=i,e.addHours=function(e,t,r){return u.FeatureSwitchedDate.fromTimeValue(e,t.getTime()+36e5*r)},e.addMinutes=function(e,t,r){return u.FeatureSwitchedDate.fromTimeValue(e,t.getTime()+6e4*r)},e.addSeconds=function(e,t,r){return u.FeatureSwitchedDate.fromTimeValue(e,t.getTime()+1e3*r)},e.addMilliseconds=function(e,t,r){return u.FeatureSwitchedDate.fromTimeValue(e,t.getTime()+r)}})(powerbi=powerbi||{}),(function(a){var t=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,u=(e.prototype.project=function(e){return this.value?a.Double.removeDecimalNoise(e/this.value):e},e.prototype.isApplicableTo=function(e){e=Math.abs(e);var t=a.Double.getPrecision(e,3);return a.Double.greaterOrEqualWithPrecision(e,this.applicableRangeMin,t)&&a.Double.lessWithPrecision(e,this.applicableRangeMax,t)},e.prototype.isScaling=function(){return 1<this.value},e);function e(){}a.DisplayUnit=u;var r=(i.prototype.getUnits=function(e){void 0===e&&(e=!1);var t=_.clone(this.units);return e&&_.remove(t,(function(e){return 0===e.value})),t},Object.defineProperty(i.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),i.prototype.update=function(e){void 0!==e&&(this.displayUnit=this.findApplicableDisplayUnit(e))},i.prototype.findApplicableDisplayUnit=function(e){for(var t=0,r=this.units;t<r.length;t++){var i=r[t];if(i.isApplicableTo(e))return i}},i.prototype.format=function(e,t,r,i){r=this.getNumberOfDecimalsForFormatting(t,r);var n="";return this.isFormatSupported(t)&&!this.hasScientificFormat(t)&&this.isScalingUnit()&&this.shouldRespectScalingUnit(t)&&(e=this.displayUnit.project(e),n=this.displayUnit.labelFormat),this.formatHelper(e,n,t,r,i)},i.prototype.isFormatSupported=function(e){return!i.UNSUPPORTED_FORMATS.test(e)},i.prototype.isPercentageFormat=function(e){return e&&0<=e.indexOf("%")},i.prototype.shouldRespectScalingUnit=function(e){return!0},i.prototype.getNumberOfDecimalsForFormatting=function(e,t){return t},i.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},i.prototype.formatHelper=function(e,t,r,i,n){if("g"!==r&&"G"!==r||null==i||(r=a.visuals.valueFormatter.DefaultNumericFormat),(r=a.NumberFormat.addDecimalsToFormat(r,i,n))&&!a.formattingService.isStandardNumberFormat(r))return a.formattingService.formatNumberWithCustomOverride(e,r,t);t=t||"{0}";r=a.formattingService.formatValue(e,r=r||"G");return a.formattingService.format(t,[r])},i.prototype.formatSingleValue=function(e,t,r,i){return this.update(this.shouldUseValuePrecision(e)?a.Double.getPrecision(e,8):e),this.format(e,t,r,i)},i.prototype.shouldUseValuePrecision=function(e){if(0===this.units.length)return!0;for(var t=0,r=0,i=this.units;r<i.length;r++){var n=i[r];if(n.isScaling()){t=n.applicableRangeMin;break}}return Math.abs(e)<t},i.prototype.isScientific=function(e){return e<-1e15||1e15<e||-1e-4<e&&e<1e-4&&0!==e},i.prototype.hasScientificFormat=function(e){return e&&(-1!==e.toUpperCase().indexOf("E+")||-1!==e.toUpperCase().indexOf("E-"))},i.prototype.supportsScientificFormat=function(e){return!e||t.test(e)},i.prototype.shouldFallbackToScientific=function(e,t){return!this.hasScientificFormat(t)&&this.supportsScientificFormat(t)&&this.isScientific(e)},i.prototype.getScientificFormat=function(e,t,r,i){if(this.isFormatSupported(t)&&this.shouldFallbackToScientific(e,t)){e=a.NumberFormat.getNumericFormat(e,t);return(e=r?a.NumberFormat.addDecimalsToFormat(e||"0",Math.abs(r),i):e)?e+"E+0":"0.##E+0"}return t},i.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,i);function i(e){this.units=e||[]}a.DisplayUnitSystem=r;var n,o=(__extends(s,n=r),s);function s(){return n.call(this,[])||this}a.NoDisplayUnitSystem=o;var l,o=(__extends(c,l=r),c.prototype.format=function(e,t,r,i){return t=this.getScientificFormat(e,t,r,i),l.prototype.format.call(this,e,t,r,i)},c.reset=function(){c.units=null},c.getUnits=function(e){return c.units||((c.units=m(e,(function(e,t,r){return 1e3<=e-t?e/10:r})))[c.units.length-1].applicableRangeMax=1/0),c.units},c);function c(e){return l.call(this,c.getUnits(e))||this}a.DefaultDisplayUnitSystem=o;var p,o=(__extends(f,p=r),f.reset=function(){f.units=null},f.getUnits=function(e){return f.units||((f.units=m(e))[f.units.length-1].applicableRangeMax=1/0),f.units},f.prototype.format=function(e,t,r,i){return t=this.getScientificFormat(e,t,r,i),p.prototype.format.call(this,e,t,r,i)},f);function f(e){return p.call(this,f.getUnits(e))||this}a.WholeUnitsDisplayUnitSystem=o;var d,r=(__extends(h,d=r),h.prototype.isFormatSupported=function(e){return!h.UNSUPPORTED_FORMATS.test(e)},h.getUnits=function(e){var t,r,i;return h.units||(r=function(e,t,r){return-1===e&&1e3<=e-t?e/10:r},v(t=[],0,(i=e(-1)).title,i.format,r),v(t,1,(i=e(0)).title,i.format,r),(h.units=t.concat(m(e,r)))[h.units.length-1].applicableRangeMax=1/0),h.units},h.prototype.format=function(e,t,r,i){return t=this.getScientificFormat(e,t,r,i),d.prototype.format.call(this,e,t,r,i)},h.UNSUPPORTED_FORMATS=/^(e\d*)$/i,h);function h(e,t){return void 0===t&&(t=!1),d.call(this,h.getUnits(e))||this}function m(e,t){for(var r=[],i=3;i<24;i++){var n=e(i);n&&v(r,a.Double.pow10(i),n.title,n.format,t)}return r}function v(e,t,r,i,n){var a,o;(r||i)&&(a=t,0<e.length&&(o=e[e.length-1],n&&(a=n(t,o.value,a)),o.applicableRangeMax=a),(o=new u).value=t,o.applicableRangeMin=a,o.applicableRangeMax=1e3*a,o.title=r,o.labelFormat=i,e.push(o))}a.DataLabelsDisplayUnitSystem=r})(powerbi=powerbi||{}),(function(R){var e=(T.calculate=function(e,t,r,i,n,a){void 0===i||i>=R.Double.MIN_EXP&&R.Double.MAX_EXP;var o=new T;if(t=void 0===t?10:R.Double.ensureInRange(t,T.MIN_COUNT,T.MAX_COUNT),void 0===i&&(i=R.Double.MIN_EXP),void 0===n&&(n=!1),void 0===r&&(r=1),void 0===a&&(a=[1,2,5]),e.forcedSingleStop)return o.interval=e.getSize(),o.intervalOffset=o.interval-(e.forcedSingleStop-e.min),o.min=e.min,o.max=e.max,o.sequence=[e.forcedSingleStop],o;var u,s=0,l=0,c=9,p=0<r&&!e.hasFixedMin,f=0<r&&!e.hasFixedMax,d=e.getSize(),h=R.Double.log10(d),d=R.Double.log10(a[0]);if(h-=d,h-=R.Double.log10(t),h=Math.max(h,i-d+1),0!==s){var m=R.Double.pow10(h),v=R.Double.floorToPrecision(e.min,m),g=R.Double.ceilToPrecision(e.max,m);(b=R.NumericSequenceRange.calculateFixedRange(v,g)).shrinkByStep(e,s),l=b.min,c=b.max,u=Math.floor(b.getSize()/s)}else for(var y=void 0,y=0;y<3;y++){for(var x=h+y,m=R.Double.pow10(x),v=R.Double.floorToPrecision(e.min,m),g=R.Double.ceilToPrecision(e.max,m),S=a.length,E=R.Double.pow10(x-1),w=0;w<S;w++){var b,C=a[w]*E;if((b=R.NumericSequenceRange.calculateFixedRange(v,g,n)).shrinkByStep(e,C),p&&e.min===b.min&&1<=r&&(b.min-=C),f&&e.max===b.max&&1<=r&&(b.max+=C),(u=R.Double.ceilWithPrecision(b.getSize()/C,R.Double.DEFAULT_PRECISION))<=t||2===y&&w===S-1||1===t&&2===u&&(C>e.getSize()||e.min<0&&0<e.max&&2*C>=e.getSize())){s=C,l=b.min,c=b.max;break}}if(0!==s)break}(32*t<u||T.MAX_COUNT<u)&&(s=(c-l)/(u=Math.min(32*t,T.MAX_COUNT))),o.min=l,o.max=c,o.interval=s,o.intervalOffset=l-e.min,o.maxAllowedMargin=r,o.canExtendMin=p,o.canExtendMax=f;var D=R.Double.getPrecision(s,0);o.precision=D;var _=[],V=R.Double.roundToPrecision(l,D);_.push(V);for(w=0;w<u;w++)V=R.Double.roundToPrecision(V+s,D),_.push(V);return o.sequence=_,o.trimMinMax(e.min,e.max),o},T.calculateUnits=function(e,t,r,i){r=R.Double.ensureInRange(r,T.MIN_COUNT,T.MAX_COUNT),e===t&&(t=e+1);for(var n=0,a=0,o=i;a<o.length;a++){n=o[a];if(R.Double.ceilWithPrecision(t/n)-R.Double.floorWithPrecision(e/n)<=r)break}i=-e;i%=n;var u=new T;u.sequence=[];for(var s=e+i;u.sequence.push(s),!(t<=s);s+=n);return u.interval=n,u.intervalOffset=i,u.min=u.sequence[0],u.max=u.sequence[u.sequence.length-1],u},T.prototype.trimMinMax=function(e,t){var r=(e-this.min)/this.interval,i=(this.max-t)/this.interval;(!this.canExtendMin||r>this.maxAllowedMargin&&.001<r)&&(this.min=e),(!this.canExtendMax||i>this.maxAllowedMargin&&.001<i)&&(this.max=t)},T.MIN_COUNT=1,T.MAX_COUNT=1e3,T);function T(){}R.NumericSequence=e})(powerbi=powerbi||{}),(function(o){var u,e=(s.prototype._ensureIncludeZero=function(){this.includeZero&&(0<this.min&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))},s.prototype._ensureNotEmpty=function(){var e,t,r;this.min===this.max&&(this.min?(e=this.min,r=void 0,0<=(t=o.Double.log10(Math.abs(e)))&&t<4?(r=.5,this.forcedSingleStop=e):(r=o.Double.pow10(t)/2,this.forcedSingleStop=null),this.min=e-r,this.max=e+r):(this.min=0,this.max=s.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0))},s.prototype._ensureDirection=function(){var e;this.min>this.max&&(e=this.min,this.min=this.max,this.max=e)},s.prototype.getSize=function(){return this.max-this.min},s.prototype.shrinkByStep=function(e,t){var r=this.min/t,i=e.min/t,n=Math.floor(i-r);this.min+=n*t,r=this.max/t,i=e.max/t,n=Math.ceil(i-r),this.max+=n*t},s.calculate=function(e,t,r,i,n){var a=new s;return a.includeZero=!!n,a.hasDataRange=u.hasValue(e)&&u.hasValue(t),a.hasFixedMin=u.hasValue(r),a.hasFixedMax=u.hasValue(i),e=o.Double.ensureInRange(e,s.MIN_SUPPORTED_DOUBLE,s.MAX_SUPPORTED_DOUBLE),t=o.Double.ensureInRange(t,s.MIN_SUPPORTED_DOUBLE,s.MAX_SUPPORTED_DOUBLE),a.hasFixedMin&&a.hasFixedMax?(a.min=r,a.max=i):a.hasFixedMin?(a.min=r,a.max=r<t?t:r):a.hasFixedMax?(a.min=e<i?e:i,a.max=i):a.hasDataRange?(a.min=e,a.max=t):(a.min=0,a.max=0),a._ensureIncludeZero(),a._ensureNotEmpty(),a._ensureDirection(),0===a.min?a.hasFixedMin=!0:0===a.max&&(a.hasFixedMax=!0),a},s.calculateDataRange=function(e,t,r){return u.hasValue(e)&&u.hasValue(t)?s.calculate(e,t,null,null,r):s.calculateFixedRange(0,s.DEFAULT_MAX)},s.calculateFixedRange=function(e,t,r){var i=new s;return i.hasDataRange=!1,i.includeZero=r,i.min=e,i.max=t,i._ensureIncludeZero(),i._ensureNotEmpty(),i._ensureDirection(),i.hasFixedMin=!0,i.hasFixedMax=!0,i},s.DEFAULT_MAX=10,s.MIN_SUPPORTED_DOUBLE=-1e307,s.MAX_SUPPORTED_DOUBLE=1e307,s);function s(){}o.NumericSequenceRange=e,(u=o.ValueUtil||(o.ValueUtil={})).hasValue=function(e){return null!=e}})(powerbi=powerbi||{}),(function(i){!(function(a){var o,r,t;(e=o=a.RelativeDateQualifier||(a.RelativeDateQualifier={}))[e.Last=0]="Last",e[e.Current=1]="Current",e[e.Next=2]="Next",(e=r=a.RelativeDateUnit||(a.RelativeDateUnit={}))[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.CalendarWeek=5]="CalendarWeek",e[e.Month=6]="Month",e[e.CalendarMonth=7]="CalendarMonth",e[e.Year=8]="Year",e[e.CalendarYear=9]="CalendarYear",(e=t=a.RelativeFilterType||(a.RelativeFilterType={}))[e.Unsupported=0]="Unsupported",e[e.Time=1]="Time",e[e.Date=2]="Date";var e=(u.convertRelativeDateUnitToRelativeFilterType=function(e){switch(e){case r.Second:case r.Minute:case r.Hour:return t.Time;case r.Day:case r.Week:case r.CalendarWeek:case r.Month:case r.CalendarMonth:case r.Year:case r.CalendarYear:return t.Date;default:return}},u.convertTimeUnitToRelativeFilterType=function(e){switch(e){case 5:return t.Unsupported;case 6:case 7:return t.Time;case 0:case 1:case 2:case 3:case 4:return t.Date;default:return}},u.getDateRange=function(e,t){switch(t.relativeUnit){case r.Minute:return this.getMinutesRange(e,t);case r.Hour:return this.getHoursRange(e,t);case r.Day:return this.getDaysRange(e,t);case r.Week:return this.getWeeksRange(e,t);case r.CalendarWeek:return this.getCalendarWeekRange(e,t);case r.Month:return this.getMonthRange(e,t);case r.CalendarMonth:return this.getCalendarMonthRange(e,t);case r.Year:return this.getYearRange(e,t);case r.CalendarYear:return this.getCalendarYearRange(e,t);default:return void t.relativeUnit}},u.getMinutesRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(e.valueOf()-6e4*t.duration),r.max=e;break;case o.Current:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),0)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),59));break;case o.Next:r.min=e,r.max=new Date(e.valueOf()+6e4*t.duration)}return r},u.getHoursRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(e.valueOf()-36e5*t.duration),r.max=e;break;case o.Current:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),0,0)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),59,59));break;case o.Next:r.min=e,r.max=new Date(e.valueOf()+36e5*t.duration)}return r},u.getDaysRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addDays(r.max,1-t.duration);break;case o.Current:r.min=e,r.max=e;break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addDays(r.min,t.duration-1)}return r},u.getWeeksRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addDays(r.max,-7*t.duration+1);break;case o.Current:r=this.getCalendarWeek(e);break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addDays(r.min,7*t.duration-1)}return r},u.getCalendarWeekRange=function(e,t){var r={min:null,max:null},i=e.getUTCDay();switch(t.relativeQualifier){case o.Last:var n=this.addDays(e,-i-1);r.min=this.addDays(n,-7*t.duration+1),r.max=n;break;case o.Current:r=this.getCalendarWeek(e);break;case o.Next:n=this.addDays(e,7-i);r.min=n,r.max=this.addDays(n,7*t.duration-1)}return r},u.getMonthRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addMonths(r.max,-t.duration);break;case o.Current:r=this.getCalendarMonth(e);break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addMonths(r.min,t.duration)}return r},u.getCalendarMonthRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()-t.duration,1)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),0));break;case o.Current:r=this.getCalendarMonth(e);break;case o.Next:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,1)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1+t.duration,0))}return r},u.getYearRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addYears(r.max,-t.duration);break;case o.Current:r=this.getCalendarYear(e);break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addYears(r.min,t.duration)}return r},u.getCalendarYearRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(Date.UTC(e.getUTCFullYear()-t.duration,0,1)),r.max=new Date(Date.UTC(e.getUTCFullYear()-1,11,31));break;case o.Current:r=this.getCalendarYear(e);break;case o.Next:r.min=new Date(Date.UTC(e.getUTCFullYear()+1,0,1)),r.max=new Date(Date.UTC(e.getUTCFullYear()+t.duration,11,31))}return r},u.getTimeRangeRestatement=function(e,t,r,i){return t?this.getDetailedTimeRestatement(r):this.getSimplifiedTimeRestatement(e,i)},u.getDetailedTimeRestatement=function(e){return 1<Math.abs(e.max.valueOf()-e.min.valueOf())/864e5||e.max.getUTCDate()!==e.min.getUTCDate()?i.formattingService.format("{0} - {1}",[e.min,e.max]):i.formattingService.format("{0:T} - {1:T}",[e.min,e.max])},u.getSimplifiedTimeRestatement=function(e,t){switch(e.relativeQualifier){case o.Current:switch(e.relativeUnit){case r.Minute:return t("RelativeTimeRestatement_this_Minute");case r.Hour:return t("RelativeTimeRestatement_this_Hour");default:e.relativeUnit}break;case o.Last:switch(e.relativeUnit){case r.Minute:return 1===e.duration?t("RelativeTimeRestatement_last_Minute"):t("RelativeTimeRestatement_last_Minutes",e.duration);case r.Hour:return 1===e.duration?t("RelativeTimeRestatement_last_Hour"):t("RelativeTimeRestatement_last_Hours",e.duration);default:e.relativeUnit}break;case o.Next:switch(e.relativeUnit){case r.Minute:return 1===e.duration?t("RelativeTimeRestatement_next_Minute"):t("RelativeTimeRestatement_next_Minutes",e.duration);case r.Hour:return 1===e.duration?t("RelativeTimeRestatement_next_Hour"):t("RelativeTimeRestatement_next_Hours",e.duration);default:e.relativeUnit}break;default:e.relativeQualifier}return""},u.getDateRangeRestatement=function(e){return i.formattingService.format("{0:d} - {1:d}",[e.min,e.max])},u.getRestatement=function(e,t,r,i){n=a.RelativeDateFilterPattern.isRelativeTimeUnit(e.relativeUnit)&&i||new Date,e.anchorDate&&a.RelativeDateFilterPattern.isRelativeDateUnit(e.relativeUnit)&&(i=e.anchorDate,n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())));var n=this.getDateRange(n,e);return n.min.epochTimeStamp=n.min.getTime(),n.max.epochTimeStamp=n.max.getTime(),a.RelativeDateFilterPattern.isRelativeTimeUnit(e.relativeUnit)?this.getTimeRangeRestatement(e,t,n,r):u.getDateRangeRestatement(n)},u.addMinutes=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t,e.getSeconds())},u.addHours=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t,e.getMinutes(),e.getSeconds())},u.addDays=function(e,t){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+t))},u.addMonths=function(e,t){if(0===t)return e;var r,i=e.getUTCDate()-(0<t?1:-1),n=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t,i)),a=n.getUTCDate();return 0<i&&(a!==i&&0<t?n=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t+1,0)):t<0&&(r=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),i)),a===i&&r.getUTCMonth()===e.getUTCMonth()||(n=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t+1,1))))),n},u.addYears=function(e,t){return this.addMonths(e,12*t)},u.getDurationMax=function(e,t){if(e===o.Current)return 1;switch(t){case r.Year:case r.CalendarYear:return 100;case r.Month:case r.CalendarMonth:case r.CalendarWeek:case r.Week:return 1e3;default:case r.Day:case r.Hour:case r.Minute:return 1e4}},u.getCalendarWeek=function(e){var t=e.getUTCDay(),t=this.addDays(e,-t);return{min:t,max:this.addDays(t,6)}},u.getCalendarMonth=function(e){return{min:new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)),max:new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0))}},u.getCalendarYear=function(e){return{min:new Date(Date.UTC(e.getUTCFullYear(),0,1)),max:new Date(Date.UTC(e.getUTCFullYear(),11,31))}},u);function u(){}a.RelativeDateRangeHelper=e})(i.data||(i.data={}))})(powerbi=powerbi||{}),(function(x){var e;(function(t){var c=jsCommon.StringExtensions;t.DefaultIntegerFormat="g",t.DefaultNumericFormat="#,0.00",t.DefaultDateFormat="d";var i={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},r={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};function n(e){t.allowFormatBeautificationTraced||(jsCommon.Trace.information("allowFormatBeautification used",void 0,{key:e}),t.allowFormatBeautificationTraced=!0)}t.beautifyTrace=n,t.allowFormatBeautificationTraced=!1,t.getLocalizedString=function(e){return i[e]};var p={null:i.NullValue,true:i.BooleanTrue,false:i.BooleanFalse,NaN:i.NaNValue,infinity:i.InfinityValue,negativeInfinity:i.NegativeInfinityValue,beautify:function(e){return(e=r[t=e])?(n(e),i[e]||t):t;var t},describe:function(e){var t=-1===e?"Auto":e.toString(),r=i["DisplayUnitSystem_E"+t+"_Title"],t=e<=0?"{0}":i["DisplayUnitSystem_E"+t+"_LabelFormat"];if(r||t)return{title:r,format:t}},restatementComma:i.RestatementComma,restatementCompoundAnd:i.RestatementCompoundAnd,restatementCompoundOr:i.RestatementCompoundOr},f=1e4,d=2,a={displayName:"",type:x.ValueType.fromPrimitiveTypeAndCategory(7)};function h(e,t){var r=(t=void 0===t?!1:t)?p.beautify(e):e;return{format:function(e){return null==e?p.null:g(e,r)}}}t.getFormatMetadata=function(e){return x.NumberFormat.getCustomFormatMetadata(e)},t.setLocaleOptions=function(e){p=e,x.DefaultDisplayUnitSystem.reset(),x.WholeUnitsDisplayUnitSystem.reset()},t.createDefaultFormatter=h,t.create=function(e){var t,r,i,n=e.allowFormatBeautification?p.beautify(e.format):e.format;if(function(e){var t=e.value,r=e.value2,i=e.format,n=e.columnType;if(e.formatSingleValues&&i&&Math.abs(t)<f){e=!x.NumberFormat.isStandardFormat(i);if(e){if(x.NumberFormat.getCustomFormatMetadata(i,!0).precision<d)return!1}else if(x.Double.isInteger(t))return!1}if("number"==typeof t||"number"==typeof r)return!(n&&n.temporal&&n.temporal.year)}(e)){var a=m(e.displayUnitSystemType),o=!!e.formatSingleValues;a.update(Math.max(Math.abs(e.value||0),Math.abs(e.value2||0)));var u,s=null!=e.precision;return s?u=-e.precision:a.displayUnit&&1<a.displayUnit.value&&(u=-2),{format:function(e){var t=y(e,!0);if(!c.isNullOrUndefinedOrWhiteSpaceString(t))return t;t=Number(e);return t&&!a.isScalingUnit()&&Math.abs(t)<1e3&&!s&&(e=x.Double.roundToPrecision(t)),o?a.formatSingleValue(t,n,u,s):a.format(t,n,u,s)},displayUnit:a.displayUnit,options:e}}if(t=e.value,r=e.value2,i=e.tickCount,t instanceof Date&&r instanceof Date&&null!=i){var l=x.DateTimeSequence.getIntervalUnit(e.value,e.value2,e.tickCount);return{format:function(e){return null==e?p.null:g(e,x.formattingService.dateFormatString(l))},options:e}}return h(n)},t.format=function(e,t,r){return null==e?p.null:g(e,r?p.beautify(t):t)},t.formatVariantMeasureValueWithDataPointObjects=function(e,t,r,i,n){return r&&r.type&&r.type.dateTime||!(e instanceof Date)?g(e,l(t,r,i),n):g(e,u(a,null,!1),n)};var e=(o.prototype.format=function(e,t){var r=this.options;if(!this.isDateTimeColumn&&e instanceof Date)return g(e,u(a,null,!1),r.nullsAreBlank);var i=this.columnFormatString;return!t||null!=(t=x.DataViewObjects.getValue(t,r.formatStringPropId))&&(i=t),this.displayUnitSystem&&"number"==typeof e&&null!=e?this.displayUnitSystem.format(e,i,r.precision,r.trailingZeroes):g(e,i,r.nullsAreBlank)},o);function o(e){e.column,e.formatStringPropId,this.options=e,this.columnFormatString=u(e.column,e.formatStringPropId,!1),this.isDateTimeColumn=e.column&&e.column.type&&e.column.type.dateTime,(null!=e.displayUnit&&1!==e.displayUnit||null!=e.precision)&&(this.displayUnitSystem=new x.DefaultDisplayUnitSystem(p.describe),this.displayUnitSystem.update(e.displayUnit))}function m(e){if(null==e)return new x.DefaultDisplayUnitSystem(p.describe);switch(e){case x.DisplayUnitSystemType.Default:return new x.DefaultDisplayUnitSystem(p.describe);case x.DisplayUnitSystemType.WholeUnits:return new x.WholeUnitsDisplayUnitSystem(p.describe);case x.DisplayUnitSystemType.Verbose:return new x.NoDisplayUnitSystem;case x.DisplayUnitSystemType.DataLabels:return new x.DataLabelsDisplayUnitSystem(p.describe);default:return new x.DefaultDisplayUnitSystem(p.describe)}}function u(e,t,r){if(e){if(t){t=x.DataViewObjects.getValue(e.objects,t);if(t)return t}if(!r&&e.type)return s(e.type)}}function s(e){return e.dateTime?t.DefaultDateFormat:e.integer?e.temporal&&e.temporal.year?"0":t.DefaultIntegerFormat:e.numeric?t.DefaultNumericFormat:void 0}function l(e,t,r,i){e=x.DataViewObjects.getValue(e,r);return e||u(t,r,i)}function v(e,t){if(!e)return null;var r=e.length;if(0<r){u=e[0];for(var i=r-1,n=1,a=i;n<a;n++)var o=e[n],u=c.format(p.restatementComma,u,o);1<r&&(o=e[i],u=c.format(t,u,o))}else u=null;return u}function g(e,t,r){r=y(e,r||!1);return c.isNullOrUndefinedOrWhiteSpaceString(r)?x.formattingService.formatValue(e,t):r}function y(e,t){return null==e&&t?p.null:!0===e?p.true:!1===e?p.false:"number"==typeof e&&isNaN(e)?p.NaN:e===Number.NEGATIVE_INFINITY?p.negativeInfinity:e===Number.POSITIVE_INFINITY?p.infinity:""}t.VariantValueFormatter=e,t.createDisplayUnitSystem=m,t.getDisplayUnits=function(e){return new x.DataLabelsDisplayUnitSystem(p.describe,e=void 0===e?!1:e).getUnits(e)},t.getFormatString=u,t.getDefaultFormatString=s,t.getFormatStringWithDataPointObjects=l,t.formatListAnd=function(e){return v(e,p.restatementCompoundAnd)},t.formatListOr=function(e){return v(e,p.restatementCompoundOr)}})((e=x.visuals||(x.visuals={})).valueFormatter||(e.valueFormatter={}))})(powerbi=powerbi||{}),(function(e){(e=e.DateTimeUnit||(e.DateTimeUnit={}))[e.Year=0]="Year",e[e.Month=1]="Month",e[e.Week=2]="Week",e[e.Day=3]="Day",e[e.Hour=4]="Hour",e[e.Minute=5]="Minute",e[e.Second=6]="Second",e[e.Millisecond=7]="Millisecond"})(powerbi=powerbi||{}),(function(e){var r;function i(e){return void 0===e.source.index}function n(e){return _.some(e,i)}r=e.data||(e.data={}),(e=r.DynamicFormatStringUtils||(r.DynamicFormatStringUtils={})).isDynamicFormatValueColumn=i,e.hasDynamicFormatValues=n,e.removeDynamicFormatValues=function(e){if(n(e)){var t=r.DataViewTransform.createValueColumns(e.filter((function(e){return!i(e)})),void 0,e.source);return t.grouped=e.grouped.bind(t),t}}})(powerbi=powerbi||{}),(function(p){!(function(c){var r=jsCommon.ArrayExtensions;c.getDataSelectorComparer=function(e,t){return new(t?i:a)(e)};var i=(n.prototype.matches=function(e,t){if(this.isWildcard)return c.DataViewWildcard.matches(this.dataParts[0],!_.isEmpty(t));if(e.length!==this.dataParts.length)return!1;if(_.isEmpty(t)&&this.totalIdentity||!_.isEmpty(t)&&!this.totalIdentity)return!1;if(this.totalIdentity&&!r.hasSameValues(this.totalIdentity.exprs,t,c.SQExpr.equals))return!1;if(_.isEmpty(e)&&_.isEmpty(this.dataParts))return!0;e=n.flattenDataParts(e);return!_.isEmpty(e)&&r.hasSameValues(this.selectorDataExprs,e,n.isDataExprsMatch)},n.prototype.matchesKeys=function(e,t){if(this.isWildcard)return e.length===t;e=_.flatten(e);return 0!==this.keys.length&&0!==e.length&&(this.keys.length===e.length&&r.hasSameValues(e,this.keys,c.SQExpr.equals))},n.flattenDataParts=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var n=i[r];if(c.Selector.isScopeIdentity(n)){var a=new c.ScopeIdentityExtractor.ScopeIdKeysAndValuesExtractorImpl;n.expr.accept(a);for(var o=0;o<a.pairs.length;o++)t.push({value:a.values[o],key:a.keys[o]})}else if(c.Selector.isScopeWildcard(n))for(var u=0,s=n.exprs;u<s.length;u++){var l=s[u];t.push({key:l})}else if(!c.Selector.isScopeTotal(n))return n.kind.toString(),[]}return t},n.isDataExprsMatch=function(e,t){return null!=e.value||t.value,e.value&&t.value?c.SQExpr.equals(e.key,t.key)&&c.SQExpr.equals(e.value,t.value):c.SQExpr.equals(e.key,t.key)},n);function n(e){var t;e.data,this.dataParts=e.data,c.Selector.isWildcardSelector(e)?this.isWildcard=!0:(t=_.last(e.data),this.totalIdentity=c.Selector.isScopeTotal(t)?t:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,e.data.length-1)),this.selectorDataExprs=n.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,(function(e){return e.key})),this.totalIdentity&&(e=this.keys).push.apply(e,this.totalIdentity.exprs||[]))}var a=(o.prototype.matches=function(e,t){var r=this.dataParts,i=r.length,n=e.length,a=!_.isEmpty(t);if(a&&n++,this.isWildcard)return c.DataViewWildcard.matches(r[0],a);if(i!==n)return!1;for(var o=0,u=e.length;o<u;o++){var s=r[o],l=e[o];if(c.Selector.isRoleWildcard(s))return!1;if(c.Selector.isScopeIdentity(s)){if(!p.DataViewScopeIdentity.equals(s,l))return!1}else{if(!c.Selector.isScopeWildcard(s))return c.Selector.isScopeTotal(s)?_.isEmpty(t):s.kind.toString(),!1;if(!c.DataViewScopeWildcard.matches(s,l))return!1}}if(_.isEmpty(t))return!0;s=_.last(r);return c.Selector.isScopeTotal(s)&&c.DataViewScopeTotal.matches(s,t)},o.prototype.matchesKeys=function(e,t){if(e.length,this.isWildcard)return e.length===t;var r=_.flatten(e),i=this.keys.length;if(0===i||0===r.length)return!1;if(i!==r.length)return!1;for(var n=0;n<i;n++)if(!c.SQExpr.equals(r[n],this.keys[n]))return!1;return!0},o.getDataRepetitionIdentityKeys=function(e){return c.Selector.isScopeIdentity(e)?c.ScopeIdentityExtractor.getKeys(e.expr):c.Selector.isScopeWildcard(e)||c.Selector.isScopeTotal(e)?e.exprs:void(c.Selector.isRoleWildcard(e)||c.Selector.isWildcard(e))},o);function o(e){if(this.selector=e,this.selector,this.selector.data,this.isWildcard=c.Selector.isWildcardSelector(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var t=0,r=this.dataParts;t<r.length;t++){var i=r[t],n=o.getDataRepetitionIdentityKeys(i);if(!n){this.keys=[];break}(i=this.keys).push.apply(i,n)}}})(p.data||(p.data={}))})(powerbi=powerbi||{}),(function(e){var t,r;t=e.data||(e.data={}),r=e.Prototype.inheritSingle,(t=t.DataViewCategoricalUtils||(t.DataViewCategoricalUtils={})).getCategoriesDataViewObjects=function(e){return!_.isEmpty(e)&&e[0].objects},t.setCategoriesDataViewObjects=function(e,t){if(!_.isEmpty(e)){e=r(e);return(e[0]=r(e[0])).objects=t,e}},t.getRowCount=function(e){var t=_.isEmpty(e.categories)?_.isEmpty(e.values)?0:e.values[0].values.length:e.categories[0].values.length;return _.every(e.categories,(function(e){return e.values.length===t})),_.every(e.categories,(function(e){return e.identity.length===t})),_.every(e.values,(function(e){return e.values.length===t})),t}})(powerbi=powerbi||{}),(function(e){var t,c,p,a;function n(e){return _.isEmpty(e.children)}function o(e,t){if(e)if(a.isArrayOrInheritedArray(e))for(var r=0,i=e;r<i.length;r++){var n=i[r];n&&s(n,[],t)}else s(e,[],t)}function s(e,t,r){_.includes(t,e),t.push(e);var i=r(e,t),n=null!=i&&0!==i;if(1===i){e=e.children;if(!_.isEmpty(e))for(var a=0,o=e;a<o.length;a++){var u=o[a];if(u&&!(n=s(u,t,r)))break}}return _.last(t),t.pop(),n}function r(e,r){var i=0;o(e,(function(e,t){return n(e)&&(r(e,i,t),i++),1}))}function i(e){return _.map(e,(function(e){e=e.sources;return{selectIndices:_.map(e,(function(e){return e.index}))}}))}t=e.data||(e.data={}),c=e.Prototype.inherit,p=e.Prototype.inheritSingle,a=jsCommon.ArrayExtensions,(e=t.DataViewMatrixUtils||(t.DataViewMatrixUtils={})).isLeafNode=n,e.forEachNodeDepthFirst=o,e.forEachLeafNode=r,e.forEachNodeAtLevel=function e(t,r,i){if(t.level!==r){var n=t.children;if(n&&0<n.length)for(var a=0,o=n.length;a<o;a++)e(n[a],r,i)}else i(t)},e.inheritMatrixNodeHierarchy=function e(t,r,i){var n=t,a=void 0===t.level;if(a||t.level<=r){var o=i?p:c,u=o(t);if((a||t.level<r)&&!_.isEmpty(t.children)){u.children=o(t.children);for(var s=0,l=u.children.length;s<l;s++)u.children[s]=e(u.children[s],r,i)}n=u}return n},e.containsCompositeGroup=function e(t){var r,i=!1;if(t)if("rows"in(r=t)&&"columns"in r&&"valueSources"in r)i=e(t.rows)||e(t.columns);else if(t=t.levels,!_.isEmpty(t))for(var n=0,a=t;n<a.length;n++){var o=a[n];if(o.sources&&2<=o.sources.length&&(_.every(o.sources,(function(e){return e.isMeasure===o.sources[0].isMeasure})),!o.sources[0].isMeasure)){i=!0;break}}return i},e.extractSelectIndices=function(e){var t=e.rows&&e.rows.levels,r=e.columns&&e.columns.levels,e=e.valueSources;return{primaryAxis:!_.isEmpty(t)&&i(t),secondaryAxis:!_.isEmpty(r)&&i(r),intersection:!_.isEmpty(e)&&_.map(e,(function(e){return e.index}))}},e.getRowGroupingLevelsCount=function(e){return e&&e.rows&&!_.isEmpty(e.rows.levels)?e.rows.levels.length:0},e.getColumnGroupingLevelsCount=function(e){return!e||_.isEmpty(e.levels)?0:e.levels.length-(t.DataViewMatrixMeasureHeaders.hasMeasureHeadersLevel(e.levels)?1:0)},e.getLeafNodesPath=function(e){if(null==e||e.children,!e||_.isEmpty(e.children))return[];var i=[];return r(e,(function(e,t,r){i.push(_.clone(r))})),i},e.getScopedValueSources=function(e){if(e=e.valueSources)return _.isEqual(_.keys(e),["0"]),e[0],e[0]},e.getNodeScopedValues=function(e){if(e.nodeValues,e.nodeValues)return _.isEqual(_.keys(e.nodeValues),["0"]),e.nodeValues[0]}})(powerbi=powerbi||{}),(function(e){var i;function f(e,t){var r=e.roles;return!!r&&_.some(t,(function(e){return r[e]}))}i=e.data||(e.data={}),(e=i.DataViewMetadataColumnUtils||(i.DataViewMetadataColumnUtils={})).isForRole=function(e,t){return!!(e=e.roles)&&!!e[t]},e.isForAnyRole=f,e.isExactMatchRole=function(e,t){if(!e)return!1;if(!e[t])return!1;if(2<=_.size(e))for(var r in e)if(r!==t&&e[r])return!1;return!0},e.leftJoinMetadataColumnsAndProjectionOrder=function(e,t,r){var i=[];if(!_.isEmpty(e))for(var n=(function(e){for(var t={},r=0,i=e.length;r<i;r++){var n=e[r],a=t[n];(a=a||(t[n]=[])).push(r)}return t})(t),a=0,o=e.length;a<o;a++){var u=e[a];if(!r||f(u,r)){var s=n[u.index];if(_.isEmpty(s)){p={metadataColumn:u,sourceIndex:a,projectionOrderIndex:void 0};i.push(p)}else for(var l=0,c=s;l<c.length;l++){var p={metadataColumn:u,sourceIndex:a,projectionOrderIndex:c[l]};i.push(p)}}}return i},e.getHierarchyVariationProperty=function(e){if(e=_.find(e,(function(e){return e.expr&&i.SQExpr.isHierarchyLevel(e.expr)}))){e=e.expr.arg;if(i.SQExpr.isHierarchy(e)){e=e.arg;if(i.SQExpr.isPropertyVariationSource(e))return e.property}}},e.findExprColumn=function(t,e,r){return i.SQExpr.isSelectRef(t)?(e=_.find(e,(function(e){return e.queryName===t.expressionName&&e.groupName===r})))?0!==t.attributeKind?e:e.formatSource&&e.formatSource.formatString?e.formatSource.formatString:void 0:void 0:_.find(e,(function(e){return i.SQExpr.equals(e.expr,t)&&e.groupName===r}))},e.getAggregate=function(e,t){var r=e.aggregates;if(r)switch(t){case 3:return r.min;case 4:return r.max;case 2:return r.count;case 1:return r.average;case 6:return r.median;default:return}}})(powerbi=powerbi||{}),(function(e){var a;(a=e.DataViewUtils||(e.DataViewUtils={})).areMetadataColumnsEquivalent=function(e,t){return!e&&!t||!(!e||!t)&&(e.displayName===t.displayName&&(e.queryName===t.queryName&&(e.isMeasure===t.isMeasure&&(e.type===t.type&&e.sort===t.sort))))},a.isMetadataEquivalent=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var r=e.columns.length,i=t.columns.length;if(r!==i)return!1;for(var n=0;n<i;n++)if(!a.areMetadataColumnsEquivalent(e.columns[n],t.columns[n]))return!1;return!0},a.isDataViewValueColumnGroup=function(e){return e&&e.values&&e.values[0]&&!!e.values[0].values},a.isDataViewCategoryColumnList=function(e){return e&&void 0!==e.length}})(powerbi=powerbi||{}),(function(e){var h;function m(t,e,r){r=e[r];if(r){r=r.all();return _.filter(_.map(r,(function(e){return i(t,e)})),(function(e){return e}))}}function i(e,t){t=r(e,t);if(t)return t}function r(e,t){if(t)return e.select().withName(t.queryRef)}function v(t,e){e=_.filter(_.map(e,(function(e){return r(t,e)})),(function(e){return e}));return _.map(e,(function(e){return h.SQExprUtils.transformToVisualQueryField(e.expr,e.name)}))}h=e.data||(e.data={}),(e=h.ProjectionUtils||(h.ProjectionUtils={})).tryGetExprs=m,e.tryGetExprByProjection=i,e.tryGetFieldExprs=function(e,t,r){var i=t[r];if(i){var n=i.getFieldParameters();if(_.isEmpty(n)){r=m(e,t,r);return _.map(r,(function(e){return h.SQExprUtils.transformToVisualQueryField(e.expr,e.name)}))}for(var a=[],o=i.all()||[],u=0,s=0,l=0,c=n=_.sortBy(n,(function(e){return e.index}));l<c.length;l++){var p=c[l],f=u,d=p.index+s,f=o.slice(f,d);a.push.apply(a,v(e,f)),a.push(h.SQExprUtils.transformToVisualQueryField(p.expr,void 0,!0));p=null!==(p=p.length)&&void 0!==p?p:0;s+=p-1,u=d+p}n=o.slice(u,o.length);return a.push.apply(a,v(e,n)),a}},e.convertFieldIndexToProjectionIndexUsingParameters=function(t,e){for(var r,e=_.filter(e,(function(e){return e.index<t})),i=t,n=0,a=e;n<a.length;n++)i+=(null!==(r=a[n].length)&&void 0!==r?r:0)-1;return i}})(powerbi=powerbi||{}),(function(u){var c,e;function p(e,t){if(e){e=(e=c.VariationRewriter.run(e,t)).getTargetEntity();if(e){t=c.SQExprUtils.getConceptualEntity(e,t),t=_.filter(t.properties,(function(e){return e.type.temporal&&e.type.temporal.paddedDateTableDate}));return 1===t.length?c.SQExprBuilder.columnRef(e,t[0].name):void 0}}}(c=u.data||(u.data={})).scalarKeyMinPropertyIdentifier={objectName:"scalarKey",propertyName:"min"},(e=c.ScalarKeyUtils||(c.ScalarKeyUtils={})).getScalarKeys=function(e,t){var r;if(e&&(r=e.objects),!_.isEmpty(r)){for(var i=void 0,n=r.length,a=0;a<n;a++){var o=r[a],o=u.DataViewObjects.getValue(o,t);void 0!==o&&((i=i||{values:new Array(n)}).values[a]={min:o})}return i}},e.hasScalarKeys=function(e){var t,r=!1,i={visitRole:function(e){r=r||_.some(e.items,(function(e){return e.scalarKeyInfo&&e.scalarKeyInfo.hasScalarKey}))}};return e.categorical?(t=e.categorical.categories,c.CompiledDataViewMapping.visitCategoricalCategories(t,i)):e.matrix&&(e=e.matrix.rows,c.CompiledDataViewMapping.visitMatrixRows(e,i)),r},e.isScalarKeySupportedForRole=function(e,t,r,i){var n=c.ProjectionUtils.tryGetExprs(t,r,i);if(_.isEmpty(n))return!1;if(!((null===(t=n[0])||void 0===t?void 0:t.expr)instanceof c.SQHierarchyLevelExpr))return!1;if(t=null===(t=n[0])||void 0===t?void 0:t.expr,1!==c.SQExprGroupUtils.groupExprs(e,_.map(n,(function(e){return e.expr}))).length)return!1;if(t=c.SQExprConverter.asFieldPattern(t,e),!(t=(t=c.SQHierarchyExprUtils.getConceptualHierarchyLevelFromExpr(e,t))&&t.column))return!1;if(!(t=t.type).temporal||!t.temporal.year)return!1;if(!p(null===(n=n[0])||void 0===n?void 0:n.expr,e))return!1;var a=r[i],o=a.getLastActiveQueryReference();if(o){var u=a.all(),s=_.findIndex(u,(function(e){return e.queryRef===o}));if(-1===s)return!1;for(var l=0;l<s;l++)if(!_.includes(a.activeProjectionRefs,u[l].queryRef))return!1}return!0},e.getScalarKeyExpr=p})(powerbi=powerbi||{}),(function(e){function a(e,t){e&&(d(e,t,"CategoricalCategory"),h(e,t,"CategoricalCategory"),v(e,t,"CategoricalCategory"),y(e,t))}function o(e,t){if(e){d(e,t,"CategoricalValue"),h(e,t,"CategoricalValue"),v(e,t,"CategoricalValue");e=e.group;if(e)for(var r=0,i=e.select;r<i.length;r++){var n=i[r];d(n,t,"CategoricalValueGroup"),h(n,t,"CategoricalValueGroup")}}}function u(e,t){e=e.rows;d(e,t,"TableField"),h(e,t,"TableField"),v(e,t,"TableField"),y(e,t)}function s(e,t){!(function(e,t,r){{var i;e&&(i=null===(i=e)||void 0===i?void 0:i.values,h(e,t,r),(function(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r),m(a,t,r)}})(e,t,r),e.dataReductionAlgorithm&&(function(e){e&&_.some(e,(function(e){return e.dataReductionAlgorithm}))})(e.select),y(e,t),i&&(h(i,t,"MatrixRowsScopedValue"),v(i,t,"MatrixRowsScopedValue")))}})(e,t,"MatrixRowsGroup")}function l(e,t){r(e,t,"MatrixColumnsGroup")}function c(e,t){r(e,t,"MatrixIntersection")}function r(e,t,r){e&&(h(e,t,r),v(e,t,r),y(e,t))}function p(e,t){e&&(h(e,t,"TreeNode"),y(e,t))}function f(e,t){e&&h(e,t,"TreeValue")}function d(e,t,r){e=e.bind;e&&t.visitRole(e.to,r)}function h(e,t,r){e=e.for;e&&t.visitRole(e.in,r)}function m(e,t,r){var i=e.composite;if(i){t.enterComposite&&t.enterComposite(e);for(var n=0,a=i;n<a.length;n++){var o=a[n];d(o,t,r),h(o,t,r)}t.exitComposite&&t.exitComposite(e)}}function v(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r)}}function g(e,t){!e||(e=e.group)&&(t.visitRole(e.by,"CategoricalSeries"),y(e,t))}function y(e,t){!t.visitReduction||(e=e.dataReductionAlgorithm)&&t.visitReduction(e)}(e=(e=e.data||(e.data={})).CompiledDataViewMapping||(e.CompiledDataViewMapping={})).visitMapping=function(e,t){var r,i,n=e.categorical;n&&(function(e,t){a(e.categories,t);var r=e.values;o(r,t),g(r,t),y(e,t)})(n,t),(n=e.table)&&u(n,t),(n=e.matrix)&&(r=t,s((i=n).rows,r),l(i.columns,r),c(i.values,r)),(i=e.tree)&&(r=t,p((i=i).nodes,r),f(i.values,r)),(e=e.single)&&(e=e,t.visitRole(e.role))},e.visitCategoricalCategories=a,e.visitCategoricalValues=o,e.visitTable=u,e.visitMatrixRows=s,e.visitMatrixColumns=l,e.visitMatrixValues=c,e.visitTreeNodes=p,e.visitTreeValues=f,e.visitComposite=m,e.visitGrouped=g})(powerbi=powerbi||{}),(function(e){var s;function l(e,t,r,i,n,a,o,u,s,l){this.featureSwitches=e,this.warningType=t,this.propertyId=r,this.selector=i,this.objectDisplayNameGetter=n,this.propertyDisplayNameGetter=a,this.valueExpr=o,this.value=u,this.expectedValueType=s,this.columnExpr=l,1===this.warningType?(this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):2===this.warningType?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}e=e.data||(e.data={}),s=jsCommon.StringExtensions,Object.defineProperty(l.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundExprWarningTypeInvalidType";case 2:return"DataBoundExprWarningTypeMissingReference";case 0:return"DataBoundExprWarningTypeInvalidValue";default:this.warningType}},enumerable:!1,configurable:!0}),l.prototype.getMessages=function(e,t){if(t){if(this.cachedMessage)return this.cachedMessage;var r=e.get("NamePattern_Colon"),i=[],n=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(e):this.propertyDisplayNameGetter,a=s.format(e.get(this.titleKey),n),n=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(e):this.objectDisplayNameGetter;this.featureSwitches.useModernFormatPane||(u=s.format(r,e.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),n),i.push(u));var o,u=t(this.valueExpr);u&&(u=s.format(r,e.get("Field_Source"),u),i.push(u)),void 0!==this.columnExpr&&(o=t(this.columnExpr),o=s.format(r,e.get("Field_Target"),o),i.push(o)),1===this.warningType&&this.expectedValueType&&(o=s.format(r,e.get("DataBoundExprWarning_ExpectedDataType"),l.getPrimitiveValueType(this.expectedValueType,e)),i.push(o)),0===this.warningType&&this.value&&(r=s.format(r,e.get("Value"),this.value.toString()),i.push(r));e=e.get(this.hintKey);return i.push(e),this.cachedMessage={title:a,message:e,detail:i.join("\n")},this.cachedMessage}},l.prototype.getTitle=function(e){var t=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(e):this.propertyDisplayNameGetter;return s.format(e.get(this.titleKey),t)},l.prototype.getMessage=function(e){return e.get(this.hintKey)},l.getPrimitiveValueType=function(e,t){switch(e.primitiveType){case 1:return t.get("Text");case 2:case 3:case 4:return t.get("ConditionalFormattingDialog_Number");case 5:return t.get("ConditionalFormattingDialog_Boolean");case 6:case 7:return t.get("ConditionalFormattingDialog_Date")}},e.DataBoundExprWarning=l})(powerbi=powerbi||{}),(function(e){function o(e,t){e=e.roles;return e&&e[t]}(e=(e=e.data||(e.data={})).DataRoleHelper||(e.DataRoleHelper={})).getMeasureIndexOfRole=function(e,t){if(!_.isEmpty(e)){var r=e[0];if(r.values&&0<r.values.length)for(var i=0,n=r.values.length;i<n;++i){var a=r.values[i];if(a&&a.source&&o(a.source,t))return i}}return-1},e.getCategoryIndexOfRole=function(e,t){if(!_.isEmpty(e))for(var r=0,i=e.length;r<i;r++)if(o(e[r].source,t))return r;return-1},e.getCategoryIndexesOfRole=function(e,t){var r=[];if(!_.isEmpty(e))for(var i=0,n=e.length;i<n;i++)o(e[i].source,t)&&r.push(i);return r},e.hasRole=o,e.hasRoleInMetadataColumns=function(e,t){return _.some(e,(function(e){return o(e,t)}))},e.hasRoleInDataView=function(e,t){return null!=e&&null!=e.metadata&&e.metadata.columns&&_.some(e.metadata.columns,(function(e){return e.roles&&void 0!==e.roles[t]}))},e.hasRoleInValueColumn=function(e,t){return e&&e.source&&e.source.roles&&!0===e.source.roles[t]}})(powerbi=powerbi||{}),(function(b){var C,D,V;C=b.data||(b.data={}),D=jsCommon.StringExtensions,V=b.Prototype.inheritSingle,(C.DataViewHierarchyLevelBackfill||(C.DataViewHierarchyLevelBackfill={})).apply=function(e,t){var r=e.categorical;if(!r||_.isEmpty(r.categories))return e;var i,n,a=r.categories,o=C.ScalarKeyUtils.getScalarKeys(a[0],C.scalarKeyMinPropertyIdentifier);if(!o||_.isEmpty(o.values))return e;for(var u,s=[],l=0,c=a.length;l<c;l++)for(var p=(x=a[l]).source.type,f=x.values,d=void 0,h=void 0,m=0,v=_.size(f);m<v;m++){var g=f[m],y=o.values[m];null==g&&null!=y&&(i||(n=((i=V(e)).categorical=V(r)).categories=V(a)),d||(h=(d=n[l]=V(x)).values=V(f)),y=(function(e,t,r){if(!_.isDate(e)||!t||!t.temporal)return null;return t.temporal.year?(function(e){return e.getFullYear()})(e):t.temporal.quarter?(function(e,t){e=Math.floor((e.getMonth()+3)/3);return D.format(t,e.toLocaleString())})(e,r):t.temporal.month?(function(e){return b.formattingService.formatValue(e,"MMMM")})(e):t.temporal.day?(function(e){return e.getDate()})(e):void 0})(y.min,p,t),h[m]=y,s[m]||(u=u||m,s[m]=[]),s[m][l]=C.SQExprBuilder.typedConstant(y,p))}for(l=0,c=_.size(n);l<c;l++)for(var x=n[l],S=u,E=_.size(x.identity);S<E;S++){var w=s[S];w&&(w.length,x.identityFields.length,x.identity[S]=C.createDataViewScopeIdentity(C.SQExprUtils.getDataViewScopeIdentityComparisonExpr(x.identityFields,w)))}return i||e}})(powerbi=powerbi||{}),(function(d){var h,e,o,m,v;function s(t,e,r,i,n,a,o){void 0===o&&(o=!1),t&&t.categorical&&_.size(t.categorical.categories),_.isEmpty(i),_.every(i,(function(e){return _.includes(t.categorical.categories,e)}));var u=i.length-1,s=_.filter(i,(function(e,t){return t===u||!_.includes(n,e.source.queryName)})),e=1===i.length?(o||(c=s[0].values),s[0].source.type):(o||(c=(function(e,t){for(var r=[],i=0,n=e;i<n.length;i++)for(var a=n[i],o=v.getFormatString(a.source,t),u=0,s=a.values.length;u<s;u++){var l=a.values&&a.values[u],l=v.format(l,o);r[u]=void 0===r[u]?l:r[u]+" "+l}return r})(s,e)),d.ValueType.fromDescriptor({text:!0})),e=g(r,_.map(s,(function(e){return e.source})),e,a),a=m(t);if(!(function(e,t){var r=m(e.metadata.columns);r.push(t);t=m(e.metadata);t.columns=r,e.metadata=t})(a,e),!o){var o=t.categorical,e=(function(e,t,r,i){e&&e.length;r={source:t,values:r},e=e[0];e.identity&&(r.identity=e.identity);e.identityFields&&(r.identityFields=e.identityFields);i&&(r.objects=i);return r})(s,e,c,h.DataViewCategoricalUtils.getCategoriesDataViewObjects(o.categories)),l=_.last(i),c=_.findIndex(o.categories,(function(e){return e===l})),p=m(o.categories);p.splice(c,0,e);for(var f=p.length-1;0<=f;f--)!(function(t){_.find(i,(function(e){return e===p[t]}))&&p.splice(t,1)})(f);o=m(o);o.categories=p,a.categorical=o}return a}function g(e,t,r,i){if(_.chain(t).map((function(e){return e.isMeasure})).uniq().value().length,i)var n=i+" "+_.last(t).displayName;else for(var a=0,o=t;a<o.length;a++){var u=o[a];n=null==n?u.displayName:n+" "+u.displayName}i={};i[e]=!0;r={displayName:n,roles:i,type:r},t=_.last(t);return void 0!==t.isMeasure&&(r.isMeasure=t.isMeasure),r.queryName=t.queryName,r}h=d.data||(d.data={}),o=d.Prototype.inherit,m=d.Prototype.inheritSingle,v=d.visuals.valueFormatter,(e=h.DataViewConcatenateCategoricalColumns||(h.DataViewConcatenateCategoricalColumns={})).detectAndApply=function(e,t,r,i,n,a){var o=e,u=e.categorical;return u&&(r=(function(e,t,r){var i;var n=_.chain(t).filter((function(e){return!d.DataViewMapping.getRegressionUsage(e)})).map((function(e){return e.categorical})).value();{var a,o;_.isEmpty(n)||!_.every(n,(function(e){return!!e}))||(a=(function(e){_.every(e,(function(e){return!!e}));e=d.DataViewMapping.getRolesIfSameInAllCategoricalMappings(e,d.DataViewMapping.getAllRolesInCategories);if(1===_.size(e))return _.head(e)})(n))&&r&&_.includes(r.roles,a)&&(function(t,e){return _.every(e,(function(e){return e.categorical})),_.every(e,(function(e){return!_.isEmpty(e.conditions)&&_.every(e.conditions,(function(e){return e[t]&&1===e[t].max}))}))})(a,t)&&(o=_.filter(e.categories,(function(e){return e.source.roles&&!!e.source.roles[a]})),_.isEmpty(o)||_.every(o,(function(e){return e.values.length===o[0].values.length}))&&(i={roleName:a,categories:o}))}return i})(u,r,a),a=h.DataViewMetadataColumnUtils.getHierarchyVariationProperty(e.metadata.columns),r&&(2<=r.categories.length||a)&&(n=_.chain(n&&n[r.roleName]).filter((function(e){return e.suppressConcat})).map((function(e){return e.queryRef})).value(),o=s(e,h.DataViewObjectDescriptors.findFormatString(t),r.roleName,r.categories,n,a))),o},e.concatenateCategoryColumnsForVisual=function(e,t,r,i,n){var a;return void 0===n&&(n=!1),!_.isEmpty(i.categories)&&2<=i.categories.length?(a=o(e.columns),s({metadata:o(e,(function(e){e.columns=a})),categorical:i},t,r,i.categories,[],void 0,n)):{metadata:e,categorical:i}},e.getUntransformedCategories=function(e){var t=Object.getPrototypeOf(e);return(t&&t.categories?t:e).categories},e.createConcatenatedColumnMetadata=g})(powerbi=powerbi||{}),(function(s){var l;(function(e){function n(e,t,r,i){var n,a,o=new s.ValueRefVisitor;return l.DataViewObjectDefinitions.isObjectPropertySQExprWithContext(e)?(n=new u(t,r,i,e.context),a=new s.PropertyDefinitionVisitor(n,o),(n.propertyVisitor=a).visitExpr(e.value)):l.DataViewObjectDefinitions.isObjectPropertySQExpr(e)?(n=new u(t,r,i),a=new s.PropertyDefinitionVisitor(n,o),(n.propertyVisitor=a).visitExpr(e)):(n=new u(t,r,i),a=new s.PropertyDefinitionVisitor(n,o),n.propertyVisitor=a,s.StructuralObjectDefinition.accept(e,n)),{expressions:n.exprs,references:o.references}}e.getDataBoundExprs=function(e,t,r,i){return(i=n(e,t,r,i))&&i.expressions},e.getDataBoundExprsAndReferences=n,e.addUnique=function(e,r){var t=_.find(e,(function(e){return t=e,e=r,l.SQExpr.equals(t.expr,e.expr)&&_.isEmpty(t.selector&&t.selector.data)===_.isEmpty(e.selector&&e.selector.data);var t}));if(t){var i=r.aggregates;if(i){var n=t.aggregates;if(n){if(i.min&&(n.min=!0),i.max&&(n.max=!0),i.average&&(n.average=!0),i.median&&(n.median=!0),i.percentiles)if(n.percentiles)for(var a=0,o=i.percentiles;a<o.length;a++)!(function(t){_.find(n.percentiles,(function(e){return _.isEqual(t,e)}))||n.percentiles.push(t)})(o[a]);else n.percentiles=i.percentiles}else t.aggregates=i}}else e.push(r)};var a,u=(a=l.DefaultSQExprVisitorWithTraversal,__extends(t,a),t.prototype.resolveSelectRef=function(e){return e&&l.SQExpr.isSelectRef(e)?this.getSelectByRef(e):e},t.prototype.visitMeasureRef=function(e){e={expr:e,selector:this.selector};this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.visitArithmetic=function(e){e={expr:e,selector:this.selector};this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.visitAggr=function(e){if(!l.SQExpr.isSelectRef(e.arg)){var t={expr:e,selector:this.selector};return this.context&&(t.context=this.context),void this.exprs.push(t)}e={expr:this.getSelectByRef(e.arg),selector:this.selector,aggregates:this.getAggregates(e.func)};this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.getAggregates=function(e){switch(e){case 4:return{max:!0};case 3:return{min:!0};case 6:return{median:!0};case 1:return{average:!0}}},t.prototype.visitPercentile=function(e){if(!l.SQExpr.isSelectRef(e.arg)){var t={expr:e,selector:this.selector};return this.context&&(t.context=this.context),void this.exprs.push(t)}e={expr:this.getSelectByRef(e.arg),selector:this.selector,aggregates:{percentiles:[{k:e.k,exclusive:e.exclusive}]}};this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.visitColumnRef=function(e){e={expr:e,selector:this.selector};this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.visitHierarchyLevel=function(e){e={expr:e,selector:this.selector};this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.visitNativeMeasure=function(e){e={expr:e,selector:this.selector};this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.visitSelectRef=function(e){e=this.getSelectByRef(e);e&&(e={expr:e,selector:this.selector},this.context&&(e.context=this.context),this.exprs.push(e))},t.prototype.getSelectByRef=function(e){e=this.querySelects.withName(e.expressionName);return e&&e.expr},t.prototype.visitScopedEval=function(e){var t=e.decomposeGlobalAggregateOfScopedExpr();e=t?{expr:this.resolveSelectRef(t.source),selector:{data:[l.DataViewWildcard.create()]},aggregates:this.getAggregates(t.func)}:e.hasGlobalScope()?{expr:e.expression,selector:null}:{expr:e,selector:{data:[l.DataViewWildcard.create()]}},this.context&&(e.context=this.context),this.exprs.push(e)},t.prototype.visitFillRule=function(e){e.input.accept(this),this.inputExpr=this.resolveSelectRef(e.input),this.visitFillRuleDefinition(e.rule)},t.prototype.visitFillDefinition=function(e){s.FillDefinition.accept(e,this.propertyVisitor)},t.prototype.visitFillRuleDefinition=function(e){this.inputExpr;var t=e.linearGradient2||e.linearGradient3;t.min,t.max;var r={};t.min.value||(r.min=!0),t.max.value||(r.max=!0),(r.min||r.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:r}),s.FillRuleDefinition.accept(e,this.propertyVisitor))},t.prototype.visitDataBarsDefinition=function(e){this.inputExpr;var t={};e.minValue||(t.min=!0),e.maxValue||(t.max=!0),(t.min||t.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:t}),s.DataBarsDefinition.accept(e,this.propertyVisitor))},t.prototype.visitIconDefinition=function(e){s.IconDefinition.accept(e,this.propertyVisitor)},t.prototype.visitParagraphs=function(e){s.ParagraphsDefinition.accept(e,this.propertyVisitor)},t.prototype.visitErrorRangeDefinition=function(e){s.ErrorRangeDefinition.accept(e,this.propertyVisitor)},t);function t(e,t,r,i){var n=a.call(this)||this;return n.selector=e,n.querySelects=t,n.context=i,n.exprs=[],n.inputExpr=n.resolveSelectRef(r),n}})((l=s.data||(s.data={})).DataBoundExprExtractor||(l.DataBoundExprExtractor={}))})(powerbi=powerbi||{}),(function(e){var s=jsCommon.ArrayExtensions,l=jsCommon.Errors.TypeAssertionError;function t(e){return!!e&&!!e.group}function r(e){return!!e&&!!e.bind}function i(e){return!!e&&!!e.for}function n(e){return!!e&&!!e.composite}function a(e){return!!e&&!!e.select}function o(e){return!!e&&!!e.scope}!(function(r){r.getRegressionUsage=function(e){return e&&e.usage&&e.usage.regression||void 0};var e=(t.prototype.visitRole=function(e,t){!this.includeScopedValuesRoles&&"MatrixRowsScopedValue"===t||this.roleNames.push(e)},t.fromMatrixRows=function(e,t){t=new this(t);return r.visitMatrixRows(e,t),t.roleNames},t.fromMatrixColumns=function(e){var t=new this;return r.visitMatrixRows(e,t),t.roleNames},t.fromMatrixValues=function(e){var t=new this;return r.visitMatrixValues(e,t),t.roleNames},t);function t(e){this.includeScopedValuesRoles=e,this.roleNames=[]}function i(e){return!!e&&!!e.group}function n(e){return!!e&&!!e.bind}function a(e){return!!e&&!!e.for}function o(e){return!!e&&!!e.composite}function u(e){return!!e&&!!e.select}r.RoleNamesCollector=e,r.isForecastDefined=function(e){return!!(e&&e.usage&&e.usage.forecast)},r.isAnomalyDefined=function(e){return!!(e&&e.usage&&e.usage.anomalyDetection)},r.getParameterColumns=function(e){var t=[];if(e&&e.metadata)for(var r=0,i=e.metadata.columns;r<i.length;r++){var n=i[r];n.parameter&&t.push(n)}return t},r.getRolesIfSameInAllCategoricalMappings=function(e,t){if(0!==_.size(e)){var e=_.map(e,(function(e){return t(e)})),r=e[0];if(!(2<=e.length)||_.every(e,(function(e){return s.sequenceEqual(e,r,(function(e,t){return e===t}))})))return r}},r.getAllRolesInCategories=function(e){if(!e.categories)return[];var t=[];return r.visitCategoricalCategories(e.categories,{visitRole:function(e){t.push(e)}}),t},r.targetDataViewKinds=function(e){if(!e)return 0;for(var t=0,r=0,i=e;r<i.length;r++){var n=i[r];n.categorical&&(t|=1),n.matrix&&(t|=2),n.single&&(t|=8),n.table&&(t|=8),n.tree&&(t|=16)}return t},r.isDataViewGroupedRoleMapping=i,r.isDataViewRoleBindMapping=n,r.isDataViewRoleForMapping=a,r.isDataViewRoleCompositeMapping=o,r.isDataViewListRoleMapping=u,r.assertsertDataViewGroupedRoleMapping=function(e){if(!i(e))throw new l("DataViewGroupedRoleMapping")},r.assertDataViewRoleBindMapping=function(e){if(!n(e))throw new l("DataViewRoleBindMapping")},r.assertDataViewRoleForMapping=function(e){if(!a(e))throw new l("DataViewRoleForMapping")},r.assertDataViewRoleCompositeMapping=function(e){if(!o(e))throw new l("DataViewRoleCompositeMapping")},r.assertDataViewListRoleMapping=function(e){if(!u(e))throw new l("DataViewListWithCompositeRoleMapping")}})(e.DataViewMapping||(e.DataViewMapping={})),(e=(e=e.data||(e.data={})).CompiledDataViewMapping||(e.CompiledDataViewMapping={})).isCompiledDataViewGroupedRoleMapping=t,e.isCompiledDataViewRoleBindMapping=r,e.isCompiledDataViewRoleForMapping=i,e.isCompiledDataViewRoleCompositeMapping=n,e.isCompiledDataViewListRoleMapping=a,e.isCompiledDataViewMappingScopedAggregate=o,e.assertCompiledDataViewGroupedRoleMapping=function(e){if(!t(e))throw new l("CompiledDataViewGroupedRoleMapping")},e.assertCompiledDataViewRoleBindMapping=function(e){if(!r(e))throw new l("CompiledDataViewRoleBindMapping")},e.assertCompiledDataViewRoleForMapping=function(e){if(!i(e))throw new l("CompiledDataViewRoleForMapping")},e.assertCompiledDataViewRoleCompositeMapping=function(e){if(!n(e))throw new l("CompiledDataViewRoleCompositeMapping")},e.assertCompiledDataViewListRoleMapping=function(e){if(!a(e))throw new l("CompiledDataViewListWithCompositeRoleMapping")},e.assertCompiledDataViewMappingScopedAggregate=function(e){if(!o(e))throw new l("CompiledDataViewMappingScopedAggregate")},e.getRoleFromMapping=function(e){return r(e)?e.bind.to:i(e)?e.for.in:void 0},e.getRoleActiveItems=function(t){return _.isEmpty(t.items)?[]:_.isEmpty(t.activeItems)?t.items:_.filter(t.items,(function(e){return _.includes(t.activeItems,e.queryName)}))}})(powerbi=powerbi||{}),(function(e){function t(e,t){this.strategy=e,this.roles=t}function a(e,t,r){if(e||t||r)return!e||t||r?e||!t||r?e||t||!r?$.extend(e,t,r):r:t:e}e=e.data||(e.data={}),t.prototype.compileMapping=function(e){var t=this.compileMetadata(),r={metadata:t};return e.categorical&&(r.categorical=this.compileCategorical(e.categorical)),e.table&&(r.table=this.compileTable(e.table)),e.single&&(r.single=this.compileSingle(e.single)),e.tree&&(r.tree=this.compileTree(e.tree)),e.matrix&&(r.matrix=this.compileMatrix(e.matrix)),e.scriptResult&&(r.scriptResult=this.compileScriptResult(e.scriptResult,t)),e.usage&&(r.usage=this.compileUsage(e.usage)),r},t.prototype.compileMetadata=function(){return this.strategy.compileMetadata()},t.prototype.compileCategorical=function(e){var t={};e.categories&&(t.categories=this.compileRoleMappingWithReduction(e.categories));var r,i,n=e.values;return n&&(r=this.compileGrouped(n),i=this.compileList(n),n=this.compileRoleMapping(n),t.values=a(r,i,n)),e.includeEmptyGroups&&(t.includeEmptyGroups=e.includeEmptyGroups),null!=e.dataVolume&&(t.dataVolume=e.dataVolume),e.dataReductionAlgorithm&&(t.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),t},t.prototype.compileTable=function(e){var t={rows:a(this.compileRoleMappingWithReduction(e.rows),this.compileListWithReduction(e.rows))};return null!=e.dataVolume&&(t.dataVolume=e.dataVolume),t},t.prototype.compileSingle=function(e){return{role:this.compileRole(e.role)}},t.prototype.compileScriptResult=function(e,t){return{dataInput:this.compileMapping(e.dataInput),script:this.compileScriptDefinition(e.script,t)}},t.prototype.compileScriptDefinition=function(e,t){return this.strategy.compileScriptDefinition(e,t)},t.prototype.compileTree=function(e){var t={};return e.nodes&&(t.nodes=this.compileForWithReduction(e.nodes)),e.values&&(t.values=this.compileFor(e.values)),null!=e.dataVolume&&(t.dataVolume=e.dataVolume),t},t.prototype.compileMatrix=function(e){var t,r,i={};return e.rows&&(t=this.compileForWithReduction(e.rows),r=this.compileListWithCompositeWithReduction(e.rows),i.rows=a(t,r)),e.columns&&(i.columns=this.compileForWithReduction(e.columns)),e.values&&(t=this.compileRoleMapping(e.values),r=this.compileList(e.values),i.values=a(t,r)),null!=e.dataVolume&&(i.dataVolume=e.dataVolume),e.includeEmptyGroups&&(i.includeEmptyGroups=e.includeEmptyGroups),i},t.prototype.compileUsage=function(e){if(e.regression||e.forecast||e.anomalyDetection)return e},t.prototype.compileListWithReduction=function(e){var t=this.compileList(e);if(t)return e.dataReductionAlgorithm&&(t.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),t},t.prototype.compileList=function(e){var t=this;if(e.select)return{select:_.map(e.select,(function(e){return t.compileRoleMapping(e)}))}},t.prototype.compileListWithCompositeWithReduction=function(e){var t,r=this.compileListWithComposite(e);if(r)return e.dataReductionAlgorithm&&(r.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),e.values&&(t=this.compileRoleMapping(e.values),e=this.compileList(e.values),r.values=a(t,e)),r},t.prototype.compileListWithComposite=function(e){var r=this;if(e.select)return{select:_.map(e.select,(function(e,t){return r.compileRoleMappingWithComposite(e,0===t)}))}},t.prototype.compileGrouped=function(e){var t=this;if(e.group){var r={group:{by:this.compileRole(e.group.by),select:_.map(e.group.select,(function(e){return t.compileRoleMapping(e)}))}};return e.group.dataReductionAlgorithm&&(r.group.dataReductionAlgorithm=this.compileReduction(e.group.dataReductionAlgorithm)),r}},t.prototype.compileRoleMapping=function(e){return a(this.compileBind(e),this.compileFor(e))},t.prototype.compileRoleMappingWithComposite=function(e,t){return a(this.compileBind(e),this.compileFor(e),this.compileComposite(e,t))},t.prototype.compileRoleMappingWithReduction=function(e){var t=this.compileRoleMapping(e),r=this.compileList(e);if(t||r){r=a(t,r);return r&&e.dataReductionAlgorithm&&(r.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),r}},t.prototype.compileBind=function(e){if(e.bind)return{bind:{to:this.compileRole(e.bind.to,e.bind.aggregates)}}},t.prototype.compileForWithReduction=function(e){var t=this.compileFor(e);if(t)return e.dataReductionAlgorithm&&(t.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),t},t.prototype.compileFor=function(e){if(e.for)return{for:{in:this.compileRole(e.for.in)}}},t.prototype.compileComposite=function(e,t){var r=this;if(e.composite){var i={composite:_.map(e.composite,(function(e){return r.compileRoleMapping(e)}))};return t||!(e.dataReductionAlgorithm&&e.dataReductionAlgorithm.window)||e.synchronized,e.synchronized&&(i.synchronized=e.synchronized),e.dataReductionAlgorithm&&(i.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),i}},t.prototype.compileRole=function(e,t){return this.strategy.compileRole(e,t)},t.prototype.compileReduction=function(e){if(e){var t,r={};return e.top&&(r.top={},e.top.count&&(r.top.count=e.top.count)),e.bottom&&(r.bottom={},e.bottom.count&&(r.bottom.count=e.bottom.count)),e.sample&&(r.sample={},e.sample.count&&(r.sample.count=e.sample.count)),e.window&&(r.window={},e.window.count&&(r.window.count=e.window.count)),e.binnedLineSample&&(r.binnedLineSample={},e.binnedLineSample.count&&(r.binnedLineSample.count=e.binnedLineSample.count),e.binnedLineSample.warningCount&&(r.binnedLineSample.warningCount=e.binnedLineSample.warningCount)),e.overlappingPointsSample&&(t=e.overlappingPointsSample,r.overlappingPointsSample={},t.count&&(r.overlappingPointsSample.count=t.count),(t=this.getCompiledRoleForCartesianRoleKind(0))&&(r.overlappingPointsSample.x={role:t}),(t=this.getCompiledRoleForCartesianRoleKind(1))&&(r.overlappingPointsSample.y={role:t})),e.topNPerLevel&&(r.topNPerLevel={count:e.topNPerLevel.count,fallbackTopCount:e.topNPerLevel.fallbackTopCount}),r}},t.prototype.getCompiledRoleForCartesianRoleKind=function(t){var e=_.filter(this.roles,(function(e){return e.cartesianKind===t}));if(_.size(e),1===_.size(e))return this.compileRole(e[0].name)},e.DataViewMappingCompiler=t})(powerbi=powerbi||{}),(function(e){function n(e,t){i(e.categories,t);var r=e.values;a(r,t),v(r,t),g(e,t)}function i(e,t){e&&(d(e,t,"CategoricalCategory"),h(e,t,"CategoricalCategory"),m(e,t,"CategoricalCategory"),g(e,t))}function a(e,t){if(e){d(e,t,"CategoricalValue"),h(e,t,"CategoricalValue"),m(e,t,"CategoricalValue");e=e.group;if(e)for(var r=0,i=e.select;r<i.length;r++){var n=i[r];d(n,t,"CategoricalValueGroup"),h(n,t,"CategoricalValueGroup")}}}function o(e,t){e=e.rows;d(e,t,"TableField"),h(e,t,"TableField"),m(e,t,"TableField"),g(e,t)}function u(e,t){r(e.rows,t),s(e.columns,t),l(e.values,t)}function r(e,t){var r;r=t,t="MatrixRowsGroup",(e=e)&&(h(e,r,t),(function(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r),(function(e,t,r){e=e.composite;if(e){t.enterComposite&&t.enterComposite();for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r)}t.exitComposite&&t.exitComposite()}})(a,t,r)}})(e,r,t),g(e,r),(e=e.values)&&(h(e,r,"MatrixRowsScopedValue"),m(e,r,"MatrixRowsScopedValue")))}function s(e,t){c(e,t,"MatrixColumnsGroup")}function l(e,t){c(e,t,"MatrixIntersection")}function c(e,t,r){e&&(h(e,t,r),m(e,t,r),g(e,t))}function p(e,t){e&&(h(e,t,"TreeNode"),g(e,t))}function f(e,t){e&&h(e,t,"TreeValue")}function d(e,t,r){e=e.bind;e&&t.visitRole(e.to,r)}function h(e,t,r){e=e.for;e&&t.visitRole(e.in,r)}function m(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r)}}function v(e,t){!e||(e=e.group)&&(t.visitRole(e.by,"CategoricalSeries"),g(e,t))}function g(e,t){!t.visitReduction||(e=e.dataReductionAlgorithm)&&t.visitReduction(e)}(e=e.DataViewMapping||(e.DataViewMapping={})).visitMapping=function(e,t){var r,i;(r=e.categorical)&&n(r,t),(i=e.table)&&o(i,t),(r=e.matrix)&&u(r,t),(i=e.tree)&&(r=t,p((i=i).nodes,r),f(i.values,r)),(e=e.single)&&(e=e,t.visitRole(e.role,"SingleField"))},e.visitCategorical=n,e.visitCategoricalCategories=i,e.visitCategoricalValues=a,e.visitTable=o,e.visitMatrix=u,e.visitMatrixRows=r,e.visitMatrixColumns=s,e.visitMatrixValues=l,e.visitTreeNodes=p,e.visitTreeValues=f,e.visitGrouped=v})(powerbi=powerbi||{}),(function(c){var e,a;function r(e,t,r){if(!_.isEmpty(t)&&!_.isEmpty(r)){for(var i,n,a,o=f(e.metadata.columns,r),u=d(e.metadata.columns,r),s={},l=0,c=t;l<c.length;l++){var p=c[l];p.table&&e.table&&(s.table=!0),p.matrix&&e.matrix&&(s.matrix=!0),p.categorical&&e.categorical&&(s.categorical=!0),p.tree&&e.tree&&(s.tree=!0),p.single&&e.single&&(s.single=!0)}s.categorical&&(function(e,t,r){e=e&&e.values;if(e){e=e.grouped();if(e)for(var i=0,n=e;i<n.length;i++)for(var a=n[i].values,o=0,u=a;o<u.length;o++){var s=u[o],l=s.source.index;if(t(l))for(var c=0,p=s.values.length;c<p;c++)s.values=h(s.values,c,l,r)}}})(e.categorical,o,u),s.table&&(function(e,t,r){var i=e&&e.columns;if(i){for(var n=[],a=0,o=i;a<o.length;a++){var u=o[a];t(u.index)&&n.push(u.index)}for(var s=e.rows,l=0,c=s.length;l<c;l++)for(var p=0,f=n;p<f.length;p++){var d=f[p];s[l]=h(s[l],d,d,r)}}})(e.table,o,u),s.tree&&(function e(t,r,i){if(t.values)for(var n in t.values)r(n)&&("object"==typeof t.values[n]&&"value"in t.values[n]?t.values[n]=h(t.values[n],"value",n,i):t.values=h(t.values,+n,+n,i));else if(t.children)for(var a=0,o=t.children;a<o.length;a++){var u=o[a];e(u,r,i)}})(e.tree.root,o,u),s.matrix&&(i=e.matrix,n=o,a=u,(o=i&&i.rows&&i.rows.root)&&(function e(t,r,i,n){if(r.values)for(var a in r.values){var o=r.values[a],u=o.valueSourceIndex||0,u=t.valueSources[u].index;_.isNumber(u)&&i(u)&&(r.values[a]=h(o,"value",u,n))}else if(r.children)for(var s=0,l=r.children;s<l.length;s++){var c=l[s];e(t,c,i,n)}})(i,o,n,a)),s.single&&(function(e,t,r,i){if(e.single){for(var n=[],a=0,o=r;a<o.length;a++){var u=o[a];u.name&&n.push(u.name)}for(var s=e.metadata.columns,l=0,c=t;l<c.length;l++){var p=c[l].single.role;if(-1!==n.indexOf(p)){p=(function(e,t){for(var r=0,i=e;r<i.length;r++){var n=i[r],a=n&&n.roles;if(a&&a[t])return n}})(s,p);return p&&(e.single=h(e.single,"value",p.index,i))}}}})(e,t,r,u)}}function f(e,t){if(!e||!t)return function(){return!1};for(var r={},i=0,n=e;i<n.length;i++){var a=n[i],o=a.roles;if(o)for(var u=0,s=t;u<s.length;u++)if(o[s[u].name]){r[a.index]=!0;break}}return function(e){return!isNaN(e)&&!!r[e]}}function d(e,t){if(!e||!t)return function(){return!0};for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i],o=(function(e,t){var r=u(e,t);if(!_.isEmpty(r))return function(e){return (function(e,t){for(var r=0,i=t;r<i.length;r++){var n=i[r];if(n.numeric||n.integer)return"number"==typeof e}return!1})(e,r)}})(a,t);o&&(r[a.index]=o)}return function(e,t){return!r[e]||r[e](t)}}function u(e,t){var r=[],i=e&&e.roles;if(!i)return r;for(var n=0,a=t;n<a.length;n++){var o=a[n];if(i[o.name])for(var u=0,s=o.requiredTypes;u<s.length;u++){var l=s[u],l=c.ValueType.fromDescriptor(l);r.push(l)}}return r}function h(e,t,r,i){if(e){var n=e[t];return null===n||i(r,n)||((e=a(e))[t]=null),e}}e=c.data||(c.data={}),a=c.Prototype.inheritSingle,(e=e.DataViewNormalizeValues||(e.DataViewNormalizeValues={})).apply=function(e){var t=_.filter(e.dataRoles,(function(e){return!_.isEmpty(e.requiredTypes)}));r(e.dataview,e.dataViewMappings,t)},e.filterVariantMeasures=r,e.generateMetadataColumnFilter=f,e.generateValueFilter=d,e.getColumnRequiredTypes=u,e.normalizeVariant=h})(powerbi=powerbi||{}),(function(e){(e.DataViewObjectProperty||(e.DataViewObjectProperty={})).propertyIdentifiersEqual=function(e,t){return e===t||null!=e&&null!=t&&(e.objectName===t.objectName&&e.propertyName===t.propertyName)}})(powerbi=powerbi||{}),(function(n){var e;function a(e,t,r,i){if(t.propertyName.charAt(0),!e)return r;e=e[t.objectName];return n.DataViewObject.getValue(e,t.propertyName,r,i)}function r(e,t,r){return e&&e[t]?e[t]:r}(e=n.DataViewObjects||(n.DataViewObjects={})).getValue=a,e.getObject=r,e.getUserDefinedObjects=function(e,t){if(t=r(e,t))return t.$instances},e.getGradientRuleOfDataView=function(e,t){if(t)return null===(t=null===(e=null===(e=null===(e=null==e?void 0:e.metadata)||void 0===e?void 0:e.objectsRules)||void 0===e?void 0:e[t.objectName])||void 0===e?void 0:e[t.propertyName])||void 0===t?void 0:t.gradient},e.getFillColor=function(e,t,r,i){return(i=a(e,t,void 0,i))&&i.solid&&i.solid.color?i.solid.color:r},e.hasFillColor=function(e,t,r){return!!((r=a(e,t,void 0,r))&&r.solid&&r.solid.color)},e.mergeObjects=function(e,t,r){for(var i in t){var n,a=t[i];null!=a&&((n=e[i])?(function e(t,r,i){r.$instances;if(i){var n=t.$instances,a=(n=null==n?t.$instances={}:n)[i];a=a||(n[i]={}),e(a,r,null)}else for(var o in r)"$instances"!==o&&(null!=r[o]&&(t[o]=r[o]))})(n,a,r):e[i]=null==r?a:{$instances:((n={})[r]=a,n)})}}})(powerbi=powerbi||{}),(function(e){function a(e,t,r,i){if(!e)return r;if(i){var n=e.$instances;if(!n)return r;i=n[i];if(!i)return r;e=i}t=e[t];return void 0===t?r:t}(e=e.DataViewObject||(e.DataViewObject={})).getValue=a,e.getFillColorByPropertyName=function(e,t,r,i,n){return(i=a(e,t,void 0,i))&&i.solid&&(i.solid.color||n&&null===i.solid.color)?i.solid.color:r}})(powerbi=powerbi||{}),(function(E){var w,n,r;function o(e,t,r){var i=e[t];i||(e[t]=[],i=e[t]);for(var n=0,a=i.length;n<a;n++){var o=i[n];if(w.Selector.equals(o.selector,r))return o}t={selector:r,properties:{}};return i.push(t),t}function p(e,t){for(var r in t){var i=t[r];i&&(e[r]||(e[r]=i))}}function u(e,t,r,i){r=c(e,t,r);return _.sumBy(r,(function(e){return w.DataViewObjectDefinition.deleteSingleProperty(e,i)?1:0}))}function a(e,t,r,i){o(e,t.objectName,r).properties[t.propertyName]=i}function s(e,t,r){r=i(e,t,r);if(r)return r[t.propertyName]}function i(e,t,r){r=c(e,t.objectName,r);if(r)for(var i=0,n=r;i<n.length;i++){var a=n[i];if(a.properties[t.propertyName])return a.properties}}function l(e,t,r){if(e){var i=e[t];if(i)for(var n=0,a=i.length;n<a;n++){var o=i[n];if(w.Selector.equals(o.selector,r))return o}}}function c(e,t,r){if(!e)return[];t=e[t];return t?_.filter(t,(function(e){return w.Selector.equals(e.selector,r)})):[]}function f(e,t){t=w.DataViewObjectDescriptors.findPropertyById(e,t);if(t)return t.formatStringProperty}function d(e,t){return e===t||(e instanceof w.SemanticFilter&&t instanceof w.SemanticFilter?w.SemanticFilter.isSameFilter(e,t):(e instanceof w.SQExpr&&t instanceof w.SQExpr?w.SQExpr:r).equals(e,t))}function h(e){for(var t,r=[],i=0,n=e;i<n.length;i++){var a=n[i];r.push({properties:(t=a.properties,_.clone(t)),selector:a.selector})}return r}w=E.data||(E.data={}),r=jsCommon.JsonComparer,(n=w.DataViewObjectDefinitions||(w.DataViewObjectDefinitions={})).ensure=o,n.updateSelector=function(e,t,r,i){(t=_.find(e[t],(function(e){return w.Selector.equals(e.selector,r)})))&&(t.selector=i)},n.deleteObjectDefinition=function(e,t,r){var i=e[t];if(!i)return!1;var n=0<_.remove(i,(function(e){return w.Selector.equals(e.selector,r)})).length;return _.isEmpty(i)&&delete e[t],n},n.deleteProperties=function(e,t){if(e&&t)for(var r in t)for(var i=0,n=t[r];i<n.length;i++){var a,o=n[i];for(a in o.properties)u(e,r,o.selector,a)}},n.extend=function(e,t,r){if(e&&t)for(var i in t){var n=t[i];n&&(function(e,t,r){var i;if(r)e.splice.apply(e,__spreadArray([0,0],t||[]));else for(var n=0,a=t;n<a.length;n++){var o=a[n];i=!1;for(var u,s=0,l=e;s<l.length;s++){var c=l[s];if(w.Selector.equals(c.selector,o.selector)){p(c.properties,o.properties),i=!0;break}}i||(p((u={selector:o.selector,properties:{}}).properties,o.properties),e.push(u))}})(e[i]||(e[i]=[]),n,r)}},n.moveProperty=function(e,t,r,i,n){var a=l(e,t,r);!a||(t=a.properties[i])&&(o(e,n,r).properties[i]=t,delete a.properties[i])},n.deleteProperty=u,n.setValue=a,n.setValueFormatting=function(e,t,r,i,n){(r=f(t,r))&&(n?a(e,r,i,n):u(e,r.objectName,i,r.propertyName))},n.getValue=s,n.getPropertyContainer=i,n.getValueFormatting=function(e,t,r,i){if(r=f(t,r)){i=s(e,r,i);if(i)return n.isObjectPropertySQExpr(i)&&w.SQExpr.isConstantText(i)?i:void 0}},n.getObjectDefinition=l,n.getObjectDefinitions=c,n.propertiesAreEqual=d,n.allPropertiesAreEqual=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!d(e[r],t[r]))return!1;return!0},n.getUnequalProperties=function(e,t){var r,i=[];for(r in e)d(e[r],t[r])||i.push(r);for(r in t)_.includes(i,r)||d(e[r],t[r])||i.push(r);return i},n.encodePropertyValue=function e(t,r){var i=r,r=r;if(i.bool||i.operations&&i.operations.searchEnabled)return w.SQExprBuilder.boolean(!!(t="boolean"==typeof t&&t));if(i.text||i.duration||i.scripting&&i.scripting.source)return w.SQExprBuilder.text(t?t.toString():"");if(i.numeric){if($.isNumeric(t))return w.SQExprBuilder.double(+t)}else if(i.integer){if($.isNumeric(t))return w.SQExprBuilder.integer(Math.floor(+t))}else if(r.fill){if(t)return null==(a=t).id||null==a.shade?{solid:{color:w.SQExprBuilder.text((a.value||t).toString())}}:{solid:{color:w.SQExprBuilder.themeDataColor(a.id,a.shade)}};if(null===t&&r.fill.solid&&r.fill.solid.color){var n=!1,a=r.fill.solid.color;if(n="boolean"!=typeof a?a.nullable:n)return{solid:{color:w.SQExprBuilder.nullConstant()}}}}else{if(i.formatting)return i.formatting.labelDisplayUnits||i.formatting.displayUnitsWithoutAuto||i.formatting.fontSize?w.SQExprBuilder.double(+t):w.SQExprBuilder.text(t?t.toString():"");if(i.enumeration||i.flagsEnumeration)return $.isNumeric(t)?w.SQExprBuilder.double(+t):w.SQExprBuilder.text(t?t.toString():"");if(i.misc)t=t?w.SQExprBuilder.text(t.toString()):null;else if(i.dateTime)t=t?w.SQExprBuilder.dateTime(t):null;else if(!i.variant)if(r.image){if(t){var n=t,o={name:w.SQExprBuilder.text(n.name.toString()),url:w.SQExprBuilder.text(n.url.toString())};return n.scaling&&(o.scaling=w.SQExprBuilder.text(n.scaling.toString())),o}}else if(r.geoJson){if(t)return o=t,{type:w.SQExprBuilder.text(o.type.toString()),name:w.SQExprBuilder.text(o.name.toString()),content:o.content?w.SQExprBuilder.text(o.content.toString()):w.SQExprBuilder.nullConstant()}}else if(i.reference)(i.reference.bookmark||i.reference.section||i.reference.perspective||i.reference.bookmarkGroup||i.reference.rowRefText)&&(t=w.SQExprBuilder.text(t?t.toString():""));else if(r.filter)w.SemanticFilter;else{if(r.paragraphs){var u=t,s=[];if(_.isEmpty(u))return s;for(var l=0,c=u;l<c.length;l++){var p=c[l],f=__assign(__assign({},p),{textRuns:[]});if(_.isEmpty(p.textRuns))s.push(f);else{for(var d=0,h=p.textRuns;d<h.length;d++){var m=h[d];if(E.ParagraphsDefinition.isTextRunDefinitionGeneric(m))f.textRuns.push(m);else if(E.ParagraphsDefinition.isConditionalDefinitionGeneric(m)){var v=void 0;_.isNumber(m.expression)?v=e(m.expression,{integer:!0}):E.isValueRef(m.expression)?v=m.expression:m.expression;var g={cases:[],defaultCase:m.defaultCase,expression:v};if(!_.isEmpty(m.cases))for(var y=0,x=m.cases;y<x.length;y++){var S=x[y],S={pattern:e(S.pattern,{integer:!0}),textRuns:S.textRuns};g.cases.push(S)}f.textRuns.push(g)}}s.push(f)}}return s}if(!r.queryTransform&&r.exprList)return u=t,(r={exprs:[],kind:"ExprList"}).exprs=_.map(u.exprs,(function(e){return e})),r}}return t},n.clone=function(e){var t,r={};for(t in e){var i=e[t];_.isEmpty(i)||(r[t]=h(i))}return r},n.isEmpty=function(e){if(_.isEmpty(e))return!0;for(var t in e){t=e[t];if(!_.isEmpty(t))for(var r=0,i=t;r<i.length;r++){var n=i[r];if(!_.isEmpty(n.properties))return!1}}return!0},n.cloneDefinitions=h,n.getDataBoundExprs=function(e,t,r,i,n){return w.DataBoundExprExtractor.getDataBoundExprs(e,r,i,n)},n.getDataBoundExprsAndValueRef=function(e,t,r,i,n){return w.DataBoundExprExtractor.getDataBoundExprsAndReferences(e,r,i,n)},n.isPropertyDefinition=function(e){return!!e&&!!(e instanceof w.SQExpr||E.StructuralObjectDefinition.isStructuralObjectDefinition(e))},n.visitPropertyDefinitions=function(e,t,r){for(var i in e){var n=e[i],a=t&&t[i];if(n&&(!t||a))for(var o=0,u=n;o<u.length;o++){var s,l=u[o];for(s in l.properties){var c=l.properties[s],p=a&&a.properties[s];!c||t&&!p||r(l.properties,s,l.selector,i,a)}}}},n.visitPropertyExprs=function(e){var t,r=e.definitions,i=e.descriptors,o=e.visitor,u=e.structuralObjectVisitor,s=[],l={stopVisiting:!1};for(t in r){var n=i&&i[t];if(!_.isEmpty(r[t])&&(n||!i)){for(var a=0,c=r[t];a<c.length;a++){var p=c[a].properties;if(p)for(var f in p){if(l.stopVisiting)return;var d=n&&n.properties[f];!d&&i||!(function e(t,r,i){var n=t[r];if(o&&n instanceof w.SQExpr)o(n,t,r,i,s,l);else if("object"==typeof n&&(u&&u(n,t,r,i,s,l),o))for(var a in n){if(l.stopVisiting)return;s.push(a),e(n,a,i),s.pop()}})(p,f,d&&d.type)}}_.isEmpty(s)}}},n.reduce=function(e){if(!_.isEmpty(e)){for(var t in e)if(e[t]){for(var r=[],i=0,n=e[t];i<n.length;i++){var a=n[i],a=w.DataViewObjectDefinition.reduce(a);a&&r.push(a)}_.isEmpty(r)?delete e[t]:e[t]=r}else delete e[t];return _.isEmpty(e)?void 0:e}},n.isObjectPropertySQExpr=function(e){return e instanceof w.SQExpr},n.isObjectPropertySQExprWithContext=function(e){return e&&"ExprWithContext"===e.propertyDefinitionKind}})(powerbi=powerbi||{}),(function(e){function i(e,t){if(t in e.properties)return delete e.properties[t],!0}(e=(e=e.data||(e.data={})).DataViewObjectDefinition||(e.DataViewObjectDefinition={})).deleteSingleProperty=i,e.isValidPropertyName=function(e){return!_.startsWith(e,"$")},e.reduce=function(e){var t=e&&e.properties;if(t){for(var r in t)_.isEmpty(t[r])&&i(e,r);return _.isEmpty(t)?void 0:e}}})(powerbi=powerbi||{}),(function(t){var e;function r(e){e=e&&e.type;return e&&e.filter&&e.filter.selfFilter}function i(e,t){if(e)for(var r in e){var i,n=e[r].properties;for(i in n)if(t(n[i]))return{objectName:r,propertyName:i}}}(e=(e=t.data||(t.data={})).DataViewObjectDescriptors||(e.DataViewObjectDescriptors={})).findFormatString=function(e){return i(e,(function(e){e=t.ValueType.fromDescriptor(e.type).formatting;return e&&e.formatString}))},e.findFilterOutput=function(e){return i(e,(function(e){e=e.type;return e&&e.filter&&!e.filter.selfFilter}))},e.findSelfFilter=function(e){return i(e,r)},e.isSelfFilter=r,e.findSelfFilterEnabled=function(e){return i(e,(function(e){e=e.type;return e&&e.operations&&e.operations.searchEnabled}))},e.findDefaultValue=function(e){return i(e,(function(e){e=e.type;return e&&!!e.expression&&e.expression.defaultValue}))},e.findPropertyById=function(e,t){if(!_.isEmpty(e)){e=e[t.objectName];if(e&&!_.isEmpty(e.properties))return e.properties[t.propertyName]}}})(powerbi=powerbi||{}),(function(p){var s,e;function l(e,t,r,i){var n,e=(function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(s.Selector.equals(n.selector,t))return n}})(n=r?e.metadata||(e.metadata=[]):e.metadataOnce||(e.metadataOnce=[{selector:r,objects:[]}]),r);if(e){var a,e=e.objects;if(a=(function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(n.name===t)return n}})(e,t.objectName)){if(a.properties[t.propertyName])return}else a={name:t.objectName,properties:{}},e.push(a)}else a={name:t.objectName,properties:{}},n.push({selector:r,objects:[a]});a.properties[t.propertyName]=i}s=p.data||(p.data={}),(e=s.DataViewObjectEvaluationUtils||(s.DataViewObjectEvaluationUtils={})).evaluateDataViewObjects=function(e,t,r,i,n){for(var a,o=0,u=i;o<u.length;o++){var s=u[o],l=s.name;n&&(n.objectName=l);var c=e.run(l,t,r[l],s.properties,n);c&&((a=a||{})[l]?p.DataViewObjects.mergeObjects(a,((s={})[l]=c,s)):a[l]=c)}return a},e.groupObjectsBySelector=function(e){var t={data:[]};if(e)for(var r in e)for(var i=e[r],n=0,a=i.length;n<a;n++){var o=i[n];!(function(e,t){var r;r=t&&t.data?e.data:t&&t.metadata?(e.metadata||(e.metadata=[]),e.metadata):(e.metadataOnce||(e.metadataOnce=[]),e.metadataOnce);for(var i=0,n=r;i<n.length;i++){var a=n[i];if(s.Selector.equals(t,a.selector))return a}e={selector:t,objects:[]};return r.push(e),e})(t,o.selector).objects.push({name:r,properties:o.properties})}return t},e.addImplicitObjects=function(e,t,r,i){i&&(function(e,t,r,i){var n=s.DataViewObjectDescriptors.findFormatString(t);if(n)for(var a=0,o=i.length;a<o;a++){var u=i[a];u&&(u.queryName,(function(e,t,r,i){i&&l(e,t,{metadata:r},s.SQExprBuilder.text(i))})(e,n,u.queryName,u.format||(function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(n&&n.index===t)return n.format}})(r,a)))}}(e,t,r,i),(function(e,t,r){var i=s.DataViewObjectDescriptors.findDefaultValue(t);if(i)for(var n=0,a=r;n<a.length;n++){var o=a[n];o&&(o.queryName,(function(e,t,r,i){i&&l(e,t,{metadata:r},i)})(e,i,o.queryName,o.defaultValue))}})(e,t,i))}})(powerbi=powerbi||{}),(function(p){!(function(s){var n=jsCommon.Color,l=s.DataBoundExprWarning,r=p.visuals,a=p.visuals.visualStyles;s.createDataViewObjectEvaluator=function(e,t){return new i(e,t)};var i=(o.prototype.getObjectsRules=function(){return this.objectsRules},o.prototype.run=function(e,t,r,i,n){if(r){var a,o,u=r.properties;for(o in i){this.propertyId={objectName:e,propertyName:o};var s=i[o],l=u[o];l&&(n&&(n.objectDescriptor=r,n.propertyName=o),void 0!==(s=this.evaluateProperty(t,l,s))&&((a=a||{})[o]=s))}return this.propertyId=void 0,a}},o.prototype.evaluateProperty=function(e,t,r,i){var n=t.type;if(n&&n.expression)return r;var a,o,u=this.evaluateValue(e,r,p.ValueType.fromDescriptor(t.type));return void 0!==u||r instanceof s.RuleEvaluation?u:(n.fillRule?o=this.evaluateFillRule(r):null!==(u=null===(u=n.fill)||void 0===u?void 0:u.solid)&&void 0!==u&&u.color&&null!==(a=null===r||void 0===r?void 0:r.solid)&&void 0!==a&&a.color?(a=n.fill.solid.color.nullable,o=this.evaluateSolidColorFill(e,r,a)):n.dataBars&&(o=this.evaluateDataBars(e,r)),o?(i&&o.error&&i.warnings.push(new l(this.featureSwitches,0,{objectName:i.objectName,propertyName:i.propertyName},i.selector,i.objectDescriptor.displayName,t.displayName,o.error.expr,o.error.value,null,i.targetExpr)),o.value):n.image?this.evaluateImage(e,r):n.paragraphs?this.evaluateParagraphs(e,r):n.geoJson?this.evaluateGeoJson(e,r):n.filter?this.evaluateSemanticFilter(r):n.icon?this.evaluateIcon(e,r):n.exprList?this.evaluateExprList(e,r):n.errorRange?this.evaluateErrorRange(e,r):void 0)},o.prototype.evaluateSemanticFilter=function(e){return e},o.prototype.evaluateSolidColorFill=function(e,t,r){var i;if(null!==(i=null==t?void 0:t.solid)&&void 0!==i&&i.color){t=this.evaluateColor(e,t.solid.color,r);if(t.error)return t;t=t.value;return t||null===t&&r?{value:{solid:{color:t}}}:void 0}},o.prototype.ensureColorAllocator=function(e,t){var r=this.colorAllocatorCache.get(e);return void 0!==r||(r=this.createColorAllocator(e,t),this.colorAllocatorCache.register(e,r,this.propertyId),this.propertyId&&r&&this.addObjectRule(r)),r},o.prototype.addObjectRule=function(e){this.objectsRules||(this.objectsRules={}),(this.objectsRules[this.propertyId.objectName]||(this.objectsRules[this.propertyId.objectName]={}))[this.propertyId.propertyName]={gradient:{options:e.getRule(),source:e.getSource()}}},o.prototype.createColorAllocator=function(e,t){t=t.getExprColumn(e.input);if(!t)return null;e=this.evaluateFillRule(e.rule).value;return e?r.createColorAllocatorFactory().fromFillRule(e,t):null},o.prototype.evaluateFillRule=function(e){var t=s.createEmptyEvalContext();if(e.linearGradient2){var r=e.linearGradient2;if((a=this.evaluateColorStop(t,r.min)).error)return a;if((o=this.evaluateColorStop(t,r.max)).error)return o;var i={linearGradient2:{min:a.value,max:o.value}};if(u=this.evaluateNullStrategy(t,r.nullColoringStrategy)){if(u.error)return u;var n=u.value;i.linearGradient2.nullColoringStrategy=n}}else if(e.linearGradient3){var a,r=e.linearGradient3;if((a=this.evaluateColorStop(t,r.min)).error)return a;var o,u,e=this.evaluateColorStop(t,r.mid);if(e.error)return e;if((o=this.evaluateColorStop(t,r.max)).error)return o;if(i={linearGradient3:{min:a.value,mid:e.value,max:o.value}},u=this.evaluateNullStrategy(t,r.nullColoringStrategy)){if(u.error)return u;n=u.value;i.linearGradient3.nullColoringStrategy=n}}return{value:i}},o.prototype.evaluateColorStop=function(e,t){var r=this.evaluateColor(e,t.color,!1);if(r.error)return r;r={color:r.value},t=this.evaluateValue(e,t.value,o.numericType);return null!=t&&(r.value=t),{value:r}},o.prototype.evaluateColor=function(e,t,r){var i=this.evaluateValue(e,t,o.colorValueType),e=null!=i?a.getThemeColor(this.visualStyle,i):i;if(null!=e)return{value:e};if(null===i&&r)return{value:null};if(!i)return{value:void 0};r=i.toString();return r&&(r=r.replace(/\s+/g,""),r=n.isValidCssString(r)?r:n.getWebColorValue(r)),void 0===r?{error:{expr:t,value:i}}:{value:r}},o.prototype.evaluateNullStrategy=function(e,t){if(t){t.strategy;var r={strategy:this.evaluateValue(e,t.strategy,o.nullStrategyType)};if(t.color){t=this.evaluateColor(e,t.color,!1);if(t.error)return t;r.color=t.value}return{value:r}}},o.prototype.evaluateImage=function(e,t){if(t){var r={name:this.evaluateValue(e,t.name,o.textType),url:this.evaluateValue(e,t.url,p.ValueType.fromDescriptor(p.ImageDefinition.urlType))};return t.scaling&&(r.scaling=this.evaluateValue(e,t.scaling,o.textType)),r}},o.prototype.evaluateParagraphs=function(e,t){var r=this;if(t)return this.evaluateArrayCopyOnChange(e,t,(function(e,t){return r.evaluateParagraph(e,t)}))},o.prototype.evaluateParagraph=function(e,t){var r,i=this,n=t.textRuns,e=this.evaluateArrayCopyOnChange(e,n,(function(e,t){return i.evaluateTextRun(e,t)}));return n!==e&&((r=_.clone(t)).textRuns=e),r||t},o.prototype.evaluateTextRun=function(e,t){return p.ParagraphsDefinition.isTextRunDefinition(t)?this.evaluateTextRunDefinition(e,t):p.ParagraphsDefinition.isTextRunConditionalDefinition(t)?this.evaluateTextRunConditional(e,t):void 0},o.prototype.evaluateTextRunDefinition=function(e,t){var r,e=t.value instanceof s.SQExpr?(r=t.value,this.evaluateValue(e,t.value,o.textType)):t.value,e={value:e};return t.textStyle&&(e.textStyle=t.textStyle),t.url&&(e.url=t.url),t.mentionEmail&&(e.mentionEmail=t.mentionEmail),r&&(e.valueExpr=r),e},o.prototype.evaluateTextRunConditional=function(e,t){var r=this;return{cases:this.evaluateArrayCopyOnChange(e,t.cases,(function(e,t){return r.evaluateTextRunConditionalCase(e,t)})),defaultCase:this.evaluateTextRunCaseValue(e,t.defaultCase),expression:this.evaluateTextRunConditionalExpression(e,t.expression)}},o.prototype.evaluateTextRunConditionalCase=function(e,t){return __assign({pattern:this.evaluateValue(e,t.pattern,o.textType)},this.evaluateTextRunCaseValue(e,t))},o.prototype.evaluateTextRunCaseValue=function(e,t){var r=this;return{textRuns:this.evaluateArrayCopyOnChange(e,t.textRuns,(function(e,t){return r.evaluateTextRunDefinition(e,t)}))}},o.prototype.evaluateTextRunConditionalExpression=function(e,t){return t instanceof s.SQExpr?this.evaluateValue(e,t,o.textType):p.isValueRef(t)?t:void 0},o.prototype.evaluateGeoJson=function(e,t){if(t)return{name:this.evaluateValue(e,t.name,o.textType),type:this.evaluateValue(e,t.type,o.textType),content:this.evaluateValue(e,t.content,o.textType)}},o.prototype.evaluateDataBars=function(e,t){var r=this.evaluateSolidColorFill(e,t.positiveColor,!1);if(r.error)return{error:r.error};var i=this.evaluateSolidColorFill(e,t.negativeColor,!1);if(i.error)return{error:i.error};var n=this.evaluateSolidColorFill(e,t.axisColor,!1);return n.error?{error:n.error}:{value:{minValue:this.evaluateValue(e,t.minValue,o.numericType),maxValue:this.evaluateValue(e,t.maxValue,o.numericType),positiveColor:r.value,negativeColor:i.value,axisColor:n.value,reverseDirection:this.evaluateValue(e,t.reverseDirection,o.boolType),hideText:this.evaluateValue(e,t.hideText,o.boolType)}}},o.prototype.evaluateIcon=function(e,t){if(p.StructuralObjectDefinition.isIconDefinition(t)){var r,i={kind:"Icon"};return t.layout&&(i.layout=this.evaluateValue(e,t.layout,o.textType)),t.verticalAlignment&&(i.verticalAlignment=this.evaluateValue(e,t.verticalAlignment,o.textType)),t.value&&(null==(r=this.evaluateValue(e,t.value,o.textType))?i.value=null:(e=a.getThemeIcon(this.visualStyle,r))?e.svgId?(t=null===(t=e.description)||void 0===t?void 0:t.resourceKey,i.value={svgId:e.svgId},t&&(i.value.descriptionKey=t)):e.url&&(i.value={url:e.url}):i.value={url:r}),i}},o.prototype.evaluateThemeDataColor=function(e){return a.getThemeDataColor(this.visualStyle,e)},o.prototype.evaluateExprList=function(e,t){if(p.StructuralObjectDefinition.isExprListDefinition(t))return{exprs:t.exprs,kind:"ExprList"}},o.prototype.evaluateArrayCopyOnChange=function(e,t,r){for(var i,n=0,a=t.length;n<a;n++){var o=t[n],u=r(e,o);(i=!i&&o!==u?_.take(t,n):i)&&i.push(u)}return i||t},o.prototype.evaluateErrorRange=function(e,t){if(p.StructuralObjectDefinition.isErrorRangeDefinition(t)&&t.explicit){var r=t.explicit,t={isRelative:!0===this.evaluateValue(e,r.isRelative,o.boolType)};return r.lowerBound&&(t.lowerBound=this.evaluateValue(e,r.lowerBound,o.numericType)),r.upperBound&&(t.upperBound=this.evaluateValue(e,r.upperBound,o.numericType)),t}},o.prototype.evaluateValue=function(e,t,r){return t instanceof s.SQExpr?this.expressionEvaluator.evaluate(t,e):t instanceof s.RuleEvaluation?t.evaluate(e):void 0},o.boolType=p.ValueType.fromDescriptor({bool:!0}),o.colorValueType=p.ValueType.fromDescriptor({formatting:{color:!0}}),o.numericType=p.ValueType.fromDescriptor({numeric:!0}),o.textType=p.ValueType.fromDescriptor({text:!0}),o.nullStrategyType=p.ValueType.fromDescriptor({enumeration:p.NullStrategy.type}),o);function o(e,t){var r=this;this.featureSwitches=e,this.visualStyle=t,this.featureSwitches,this.colorAllocatorCache=s.createColorAllocatorCache(),this.expressionEvaluator=new c(function(e){return r.evaluateThemeDataColor(e)},function(e,t){return r.ensureColorAllocator(e,t)})}s.DataViewObjectEvaluator=i;var u,c=(u=s.DefaultSQExprVisitorWithArg,__extends(e,u),e.prototype.evaluate=function(e,t){if(null!=e)return e.accept(this,t)},e.prototype.visitColumnRef=function(e,t){return t.getExprValue(e)},e.prototype.visitConstant=function(e,t){return e.value},e.prototype.visitMeasureRef=function(e,t){return t.getExprValue(e)},e.prototype.visitArithmetic=function(e,t){return t.getExprValue(e)},e.prototype.visitNativeMeasure=function(e,t){return t.getExprValue(e)},e.prototype.visitAggr=function(e,t){return t.getExprValue(e)},e.prototype.visitScopedEval=function(e,t){return t.getScopedEvalExprValue(e)},e.prototype.visitFillRule=function(e,t){var r=this.colorAllocatorGetter(e,t);if(r){t=this.evaluate(e.input,t);if(void 0!==t)return r.color(t)}},e.prototype.visitPercentile=function(e,t){return t.getExprValue(e)},e.prototype.visitRangePercent=function(e,t){var r=this.evaluate(e.min,t);if(_.isFinite(r)){t=this.evaluate(e.max,t);if(_.isFinite(t)){e=e.percent;return 0===e?r:1===e?t:r+e*(t-r)}}},e.prototype.visitSelectRef=function(e,t){return t.getExprValue(e)},e.prototype.visitThemeDataColor=function(e,t){var r=this.dataColorEvaluator(e.colorId);if(r)return n.shadeColor(r,e.percent)},e.prototype.visitAnd=function(e,t){return e.left.accept(this,t)&&e.right.accept(this,t)},e.prototype.visitCompare=function(e,t){var r=this.evaluate(e.left,t);if(_.isNaN(r))return!1;var i=this.evaluate(e.right,t);if(_.isNaN(i))return!1;e=e.comparison;if(null===i||null===r)return i===r&&(0===e||2===e||4===e);switch(e){case 0:return r===i;case 1:return i<r;case 2:return i<=r;case 3:return r<i;case 4:return r<=i}},e.prototype.visitConditional=function(e,t){var r=e.cases;if(!_.isEmpty(r))for(var i=0,n=r;i<n.length;i++){var a=n[i],o=a.condition,a=a.value;if(!0===this.evaluate(o,t))return this.evaluate(a,t)}return this.evaluate(e.defaultValue,t)},e);function e(e,t){var r=u.call(this)||this;return r.dataColorEvaluator=e,r.colorAllocatorGetter=t,r}})(p.data||(p.data={}))})(powerbi=powerbi||{}),(function(e){var p,f;p=e.data||(e.data={}),f=e.Prototype.inheritSingle,(p.DataViewCategoricalEvalGrouped||(p.DataViewCategoricalEvalGrouped={})).apply=function(e){var t=e.values;if(t){if(!!t.source){var r=f(t.grouped()),i=0===p.DataViewCategoricalUtils.getRowCount(e),i=1<=t.length&&(i||void 0!==_.head(t).identity);if(!_.isEmpty(t)&&i)for(var n=0,a=void 0,o=0,u=t.length;o<u;o++){var s,l=t[o];p.DynamicFormatStringUtils.isDynamicFormatValueColumn(l)||(a&&l.identity===a.identity||(a=(s=r[n])?f(s):(l.identity,s=r[n]={values:null}),(r[n]=a).values=[],n++,l.identity,a.identity),a.values.push(l))}else for(o=0,u=r.length;o<u;o++){var c=r[o];_.isEmpty(c.values)||(r[o]=c=f(c),c.values=[])}}else r=[{values:t}];t.grouped=function(){return r},e.values=t}}})(powerbi=powerbi||{}),(function(e){var E,c,r,w,a;function s(e,t,r){if(_.isEmpty(r))return[];t=a.fromMatrixValues(t);if(_.isEmpty(t))return[];e=l(e,t),t=E.DataViewMetadataColumnUtils.leftJoinMetadataColumnsAndProjectionOrder(r,e,t);return _.chain(t).filter((function(e){return void 0!==e.projectionOrderIndex})).sortBy((function(e){return e.projectionOrderIndex})).value()}function o(e,t,r,i){var n=e.valueSources,a=s(r,t.values,n);if(p(n,a))return e;0<a.length||_.isEmpty(n);t=w(e),n=t.columns.levels,e=[];0<n.length&&(e=n[0].sources.filter((function(t){return t.isMeasure&&null!=t.index&&!_.isEmpty(t.roles)&&!_.find(a,(function(e){return e.metadataColumn===t}))}))),t.rows=f(t.rows,t.valueSources,a,e);n=_.map(a,(function(e){return e.metadataColumn}));return t.valueSources=n,t.valueSources=t.valueSources.concat(e),t.columns=c.update(t.columns,__spreadArray([],n||[]),e,a),i.hierarchyTreesRewritten=!0,t}function u(e,t,r,i){for(var n=e,a=0;a<e.rows.levels.length;a++){var o=e.rows.levels[a],u=E.DataViewMatrixUtils.getScopedValueSources(o);_.isEmpty(u)||(o=[],a===e.rows.levels.length-1&&(E.DataViewMatrixUtils.getColumnGroupingLevelsCount(e.columns),o=s(r,t,u)),p(u,o)||((n=w(n)).rows=f(n.rows,u,o,[],a),n.rows.levels=w(n.rows.levels),u=n.rows.levels[a]=w(n.rows.levels[a]),0<o.length?u.valueSources={0:_.map(o,(function(e){return e.metadataColumn}))}:u.valueSources=void 0,i.hierarchyTreesRewritten=!0))}return n}function l(e,t){for(var r=[],i=0,n=t;i<n.length;i++){var a=e[n[i]];_.isEmpty(a)||r.push.apply(r,a||[])}return r}function p(e,t){return r.sequenceEqual(e,t,(function(e,t){return e===t.metadataColumn}))}function f(e,t,m,v,r){void 0===r||v.length;function i(e,t){var r=t?e.values:E.DataViewMatrixUtils.getNodeScopedValues(e);if(r&&0!==x){if(!y){y=0;var i,n={};for(i in r)y++,n[r[i].valueSourceIndex||0]=!0;x=Object.keys(n).length}if(void 0===g){if(S<x&&0<v.length&&(x-=v.length,0===(y-=v.length)))return;g=y/x}if(0<S){for(var a={},o=0;o<g;o++)for(var u=o*x,s=o*S,l=0;l<S;l++)l!==((c=r[u+m[l].sourceIndex]).valueSourceIndex||0)&&((c=w(c)).valueSourceIndex=l||void 0),a[s+l]=c;for(var c,p=S,f=Object.keys(a).length,d=y+v.length,h=y;h<d;h++)(c=r[h]).valueSourceIndex=p++||void 0,a[f++]=c}else a=void 0;t?e.values=a:e.nodeValues=a?{0:a}:void 0}}var g,y,x=t.length,S=m.length,e=w(e);return e.root=void 0===r?E.DataViewPivotMatrix.cloneTreeExecuteOnLeaf(e.root,(function(e){return i(e,!0)})):E.DataViewPivotMatrix.cloneTreeAndProcessNodes(e.root,{nodeProcessor:function(e){e.level===r&&i(e,!1)},skipChildren:function(e){return e.level>=r}}),e}function d(e,t){var r,i=e.levels,n=_.chain(i).map((function(e,t){return t})).filter((function(e){e=i[e];return 2<=_.size(e.sources)&&!c.isMeasureHeadersLevel(e)})).value();if(!_.isEmpty(n)){for(var a=_.uniq(t),o=n.length-1;0<=o;o--){var u=n[o],s=e.levels[u],l=(function(e,t){e=e.sources;{var r;e&&2<=e.length&&(r=E.DataViewMetadataColumnUtils.leftJoinMetadataColumnsAndProjectionOrder(e,t),_.every(r,(function(e){return e.metadataColumn.isMeasure||void 0!==e.projectionOrderIndex||null==t[e.sourceIndex]})),r=_.sortBy(r,(function(e){return e.projectionOrderIndex})),r=_.map(r,(function(e,t){return{originalSourceIndex:e.sourceIndex,newSourceIndex:t}})))}return r})(s,a);_.isEmpty(l)||(void 0===r&&((r=w(e)).levels=w(e.levels),r.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(e.root,u,!0)),s=w(s),r.levels[u]=(function(e,t){var r=e.sources;e.sources=r.slice(0);for(var i=0,n=t;i<n.length;i++){var a=n[i];a.originalSourceIndex,r.length,e.sources[a.newSourceIndex]=r[a.originalSourceIndex]}return e})(s,l),(function(e,t,r){r.length,_.uniqBy(r,(function(e){return e.originalSourceIndex})).length;var u=_.reduce(r,(function(e,t){return e[t.originalSourceIndex]=t,e}),{});E.DataViewMatrixUtils.forEachNodeAtLevel(e,t,(function(e){var t=e.levelValues;if(!_.isEmpty(t)){_.every(t,(function(e){return!!u[e.levelSourceIndex]}));for(var r=_.sortBy(t,(function(e){e=u[e.levelSourceIndex];return e&&e.newSourceIndex})),i=0,n=r.length;i<n;i++){var a=w(r[i]),o=u[a.levelSourceIndex];a.levelSourceIndex=o&&o.newSourceIndex,r[i]=a}e.levelValues=r;t=_.last(r);e.value!==t.value&&(e.value=t.value),(e.levelSourceIndex||0)!==t.levelSourceIndex&&(e.levelSourceIndex=t.levelSourceIndex)}}))})(r.root,u,l))}return r}}function h(e){return!_.isEmpty(e)&&t(_.last(e))}function t(e){return e&&_.every(e.sources,(function(e){return e.isMeasure}))}function m(t,e){t&&_.every(t.children,(function(e){return e.level===t.children[0].level}));var r=t.children;return!_.isEmpty(r)&&r[0].level===e}function v(e,t,r,i){for(var n=new Array(t),a=0,o=t;a<o;a++){var u=void 0,s=i&&i[a].sourceIndex,u=(u=null!=s?r.children&&r.children[s]:u)?w(u):{};u.level=e,r.isSubtotal&&(u.isSubtotal=!0),u.levelSourceIndex=0<a?a:void 0,n[a]=u}return n}E=e.data||(e.data={}),r=jsCommon.ArrayExtensions,w=e.Prototype.inheritSingle,a=e.DataViewMapping.RoleNamesCollector,(e=E.DataViewMatrixProjectionOrder||(E.DataViewMatrixProjectionOrder={})).apply=function(e,t,r,i,n){return r&&(e=(function(e,t,r){var i,n=a.fromMatrixRows(t.rows),n=l(r,n),n=d(e.rows,n),t=a.fromMatrixColumns(t.columns),t=l(r,t),t=d(e.columns,t);(n||t)&&((i=w(e)).rows=n||i.rows,i.columns=t||i.columns);return i||e})(e=o(e,t,r,i),t,r),n.comboMultiples&&(t=t.rows.values,_.isEmpty(t)||(e=u(e,t,r,i)))),e},e.projectMeasures=o,e.projectScopedMeasures=u,(e=c=E.DataViewMatrixMeasureHeaders||(E.DataViewMatrixMeasureHeaders={})).update=function(e,t,r,i){var n=h(a=e.levels),a=(n?2<=_.size(a):1<=_.size(a))?2<=t.length:1<=t.length;return e=n?a?(function(e,a,o,u){e&&h(e.levels);var t=w(e),e=t.levels=w(t.levels),s=e.length-1,l=e[s]=w(e[s]);return l.sources=a,t.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(t.root,s,!0),E.DataViewMatrixUtils.forEachNodeDepthFirst(t.root,(function(e){var t;if(m(e,s)){var r=v(s,a.length,e,u);if(0==s&&0<o.length){for(var i=l.sources.length,n=0;n<o.length;n++)r.push({level:0,levelSourceIndex:i+n});e.children=r,(t=l.sources).push.apply(t,o||[])}else e.children=r;return 2}return 1})),t})(e,t,r,i):(function(e){e&&h(e.levels);var t=w(e),e=t.levels=w(t.levels),r=e.length-1;return e.splice(r,1),t.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(t.root,r,!0),E.DataViewMatrixUtils.forEachNodeDepthFirst(t.root,(function(e){return m(e,r)?(e.children=void 0,2):1})),t})(e):a?(function(e,t){e&&h(e.levels);var r=w(e),i=r.levels=w(r.levels),e={sources:t};i.push(e);var n=i.length-1;return r.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(r.root,n,!0),E.DataViewMatrixUtils.forEachNodeDepthFirst(r.root,(function(e){return E.DataViewMatrixUtils.isLeafNode(e)?(e.children=v(n,t.length,e),2):1})),r})(e,t):e},e.hasMeasureHeadersLevel=h,e.isMeasureHeadersLevel=t})(powerbi=powerbi||{}),(function(e){var S,E;S=e.data||(e.data={}),E=e.Prototype.inherit,(function(){(S.DataViewPivotCategorical||(S.DataViewPivotCategorical={})).apply=function(e){var t,r=e.categorical;if(!r)return null;var i=r.categories;if(!i||1!==i.length)return null;var n=r.values;if(_.isEmpty(n)||n.source)return null;for(var a=(r=i[0]).identity,o=r.values,u=[],s=[],l=new x,c=0,p=o.length;c<p;c++)for(var f=o[c],d=a[c],h=0,m=n.length;h<m;h++){var v=n[h],g=l.getPivotedDynamicFormatColumn(v.source,c);if(void 0===g&&(g=E(v.source)),v.identity)return null;g.groupName=f,null!==(t=g.formatSource)&&void 0!==t&&t.formatString&&(y=g.formatSource.formatString,l.trackOriginalDynamicFormatColumn(h,y),y=E(y),g.formatSource={formatString:y},l.addPivotedDynamicFormatColumn(h,c,y));var y={source:g,values:[v.values[c]],identity:d,min:v.min,max:v.max,subtotal:v.subtotal},v=v.highlights;v&&(y.highlights=[v[c]]),u.push(g),s.push(y)}return(i=E(e.metadata)).columns=u,{metadata:i,categorical:{values:n=S.DataViewTransform.createValueColumns(s,r.identityFields,r.source)},matrix:e.matrix}};var x=(e.prototype.trackOriginalDynamicFormatColumn=function(e,t){this.originalDynamicFormatColumns.push({valueColumnIndex:e,dynamicFormatStringColumn:t})},e.prototype.addPivotedDynamicFormatColumn=function(e,t,r){void 0===this.categoryIndexToDynamicFormatColumn[e]&&(this.categoryIndexToDynamicFormatColumn[e]=[]),this.categoryIndexToDynamicFormatColumn[e][t],this.categoryIndexToDynamicFormatColumn[e][t]=r},e.prototype.getPivotedDynamicFormatColumn=function(e,t){e=this.getValueColumnIndex(e);if(void 0!==e)return this.categoryIndexToDynamicFormatColumn[e][t],this.categoryIndexToDynamicFormatColumn[e][t]},e.prototype.getValueColumnIndex=function(t){var e=_.find(this.originalDynamicFormatColumns,(function(e){return e.dynamicFormatStringColumn===t}));if(e)return e.valueColumnIndex},e);function e(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}})()})(powerbi=powerbi||{}),(function(c){var e;function p(e){return f(e)}function f(e,t){var r={};return t&&(r.nodeProcessor=function(e){_.isEmpty(e.children)&&t(e)}),s(e,r)}function s(e,t){var r,i=c.Prototype.inherit(e),n=e.children;if((t.nodeProcessor&&t.nodeProcessor(i),!_.isEmpty(n))&&!(null!==(e=null===(r=t.skipChildren)||void 0===r?void 0:r.call(t,e))&&void 0!==e&&e))for(var a=n.length,o=i.children=new Array(a),u=0;u<a;u++)o[u]=s(n[u],t);return i}(e=(e=c.data||(c.data={})).DataViewPivotMatrix||(e.DataViewPivotMatrix={})).apply=function(e,t){t.columnHierarchyRewritten||(e.columns=c.Prototype.inherit(e.columns));var r=e.columns;t.rowHierarchyRewritten||(e.rows=c.Prototype.inherit(e.rows));var a,o,u,s,l,i,n=e.rows;1<r.levels.length||(a={level:0},o=r.root.children,u=_.size(o),s=n.levels.length,0<u?(l=0,i=function(e){if(e.values){a.values||(a.values={});for(var t=0;t<u;t++)a.values[l++]=e.values[t];e.values=void 0}if(1<u){e.children||(e.children=[]);for(var r=0;r<u;r++){var i={level:s},n=o[r];i.levelSourceIndex=n.levelSourceIndex,e.isSubtotal&&(i.isSubtotal=!0),e.children.push(i)}}},t.hierarchyTreesRewritten?(function e(t,r){var i=t.children;if(i&&0<i.length){for(var n=0,a=i.length;n<a;n++)e(i[n],r);return}r(t)})(n.root,i):e.columns.root=f(n.root,i)):t.hierarchyTreesRewritten||(e.columns.root=p(n.root)),1<u&&(i={sources:r.levels[0].sources},n.levels.push(i),r.levels.length=0),t.hierarchyTreesRewritten?(e.columns.root=n.root,e.rows.root={children:[a]}):((t=c.Prototype.inherit(e.rows.root)).children=[a],e.rows.root=t),e.columns.levels=n.levels,e.rows.levels=[])},e.cloneTree=p,e.cloneTreeExecuteOnLeaf=f,e.cloneTreeAndProcessNodes=s})(powerbi=powerbi||{}),(function(w){var o,b;o=w.data||(w.data={}),b=w.DataViewMapping.RoleNamesCollector,(o.DataViewPivotMatrixToPrimaryGroups||(o.DataViewPivotMatrixToPrimaryGroups={})).pivot=function(e,t,r,i,n,a){return (function(e,t,r,i){if(_.isEmpty(t)||!e||_.isEmpty(r))return!1;var n=e.matrix;if(!n)return!1;if(!n.rows||_.isEmpty(n.rows.levels)||!n.columns||_.isEmpty(n.columns.levels))return!1;for(var a=[],o=0,u=n.columns.levels;o<u.length;o++)for(var s=u[o],l=0,c=s.sources;l<c.length;l++)(x=c[l]).isMeasure||a.push(x);for(var p=[],f=0,d=n.rows.levels;f<d.length;f++)for(var s=d[f],h=0,m=s.sources;h<m.length;h++)(x=m[h]).isMeasure||p.push(x);for(var v=[],g=0,y=n.rows.levels;g<y.length;g++)for(var x,s=y[g],S=0,E=s.sources;S<E.length;S++)(x=E[S]).isMeasure&&v.push(x);if(!_.isEmpty(v))return!1;if(1!==a.length||p.length<1)return!1;e=_.filter(r,(function(e){return!w.DataViewMapping.getRegressionUsage(e)}));if(1!==e.length)return!1;if(2!==w.DataViewMapping.targetDataViewKinds(e))return!1;n=e[0].matrix;if(!n)return!1;r=b.fromMatrixRows(n.rows),e=b.fromMatrixColumns(n.columns);if(_.size(r)<2||0!==_.size(e))return!1;n=_.uniq([].concat.apply([],_.map(p,(function(e){return Object.keys(t[e.index].roles)})))),e=_.uniq([].concat.apply([],_.map(a,(function(e){return Object.keys(t[e.index].roles)}))));return _.isEqual(r,[].concat(e,n))&&_.isEqual(i,n)})(e,t,a,n)?(n={metadata:{columns:__spreadArray([],e.metadata.columns||[])}},e.single&&(n.single=e.single),e.table&&(n.table=e.table),e.matrix&&(e=(function(e){var t=e.rows,r=e.columns,i=t.root,n=i.children;t.levels.length,r.levels.length,r.levels[0].sources.length;var a={levels:[],root:{children:[]}},o={rows:a,columns:{levels:[],root:{children:[]}},valueSources:e.valueSources},u=a.root.children;a.levels.push(r.levels[0]),a.root.childIdentityFields=r.root.childIdentityFields;for(var s=0,l=r.root.children;s<l.length;s++){var c=l[s];void 0!==c.levelValues&&void 0!==c.value&&u.push({children:[],value:c.value,levelValues:c.levelValues,identity:c.identity,level:0})}var p,f=_.size(e.valueSources);if(a.levels.push(t.levels[0]),_.isEmpty(u))return o;for(p in n){var d,h=n[p];for(d in h.values){var m=Math.floor(d/f),v=u[m];v.childIdentityFields||(v.childIdentityFields=i.childIdentityFields);var g=h.values[d];null!=g&&((m=v.children[p])||(m={level:v.level+1,value:h.value,levelValues:h.levelValues,values:{},identity:h.identity},v.children.push(m)),m.values[d%f]=g)}}return o})((e.metadata,e.matrix)),_.isEmpty(e.valueSources)||o.DataViewMatrixUtils.containsCompositeGroup(e.columns)||(n.matrix=e)),n):e}})(powerbi=powerbi||{}),(function(u){var f;function o(e,t,r){for(var i=u.Prototype.inherit(e),n=0,a=r;n<a.length;n++){var o=a[n];i[o]=t[o]}return i}((f=u.data||(u.data={})).DataViewSelfCrossJoin||(f.DataViewSelfCrossJoin={})).apply=function(e,t){if(t&&_.includes(e.categorical.categories,t),e.categorical&&t){var r=e.categorical;if(!(_.isEmpty(r.categories)||r.values&&r.values.source)){var i=(function(e,t){_.includes(e.categories,t);var r=t.source.identityExprs;if(r)return r;if(1===e.categories.length)return t.identityFields})(r,t);if(!_.isEmpty(i))return (function(e,t,r,i){t.categories,_.size(r.values),_.size(r.identity);var n=r.values.length;if(0!==n){var a=t.values?t.values.grouped()[0].values:[],i=(function(e,t,i,r){var n=(function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=null;return t})(t),a=(function(e,t){_.size(e.values),_.size(e.identity),_.isEmpty(t);for(var r=e.identity,i=e.values,n=[],a={},o=0,u=_.size(r);o<u;o++){var s=r[o],l=f.ScopeIdentityExtractor.getSubset(s.expr,t),c=l&&f.createDataViewScopeIdentity(l),p=c&&c.key,s=a[p],l=void 0;void 0===s?(l={identity:c,groupValue:i[o],groupIndex:n.length,valueRowIndices:[]},n.push(l),a[p]=l.groupIndex):l=n[s],l.valueRowIndices.push(o)}return jsCommon.ArrayExtensions.isSorted(n,(function(e,t){return e.groupIndex-t.groupIndex})),n})(e,r);if(!_.isEmpty(a)){t=_.map(a,(function(e){var r=e.valueRowIndices;return _.map(i,(function(e){var t={values:o(n,e.values,r)};return e.highlights&&(t.highlights=o(n,e.highlights,r)),t}))}));return{groupColumn:{source:e.source,identityFrom:{fields:r,identities:_.map(a,(function(e){return e.identity}))},values:_.map(a,(function(e){return e.groupValue}))},valueColumns:_.map(i,(function(e){return{source:e.source}})),data:t}}})(r,n,a,i);if(i){i=f.createCategoricalDataViewBuilder().withCategories(t.categories).withGroupedValues(i).build();return(e=u.Prototype.inherit(e)).columns=i.metadata.columns,{metadata:e,categorical:i.categorical}}}})(e.metadata,r,t,i)}}}})(powerbi=powerbi||{}),(function(d){var a,e,o,u,F;function s(e){return e&&e.Groupings&&1===e.Groupings.length&&!_.isEmpty(e.Groupings[0].Projections)&&!e.Groupings[0].Subtotal&&_.isEmpty(e.Groupings[0].SuppressedProjections)}a=d.data||(d.data={}),o=jsCommon.ArrayExtensions,u=d.data.DataShapeBindingDataReduction,F=d.Prototype.inheritSingle,(e=a.DataViewPivotCategoricalToPrimaryGroups||(a.DataViewPivotCategoricalToPrimaryGroups={})).pivotBinding=function(e,t,r,i,n,a){var o;t&&1===t.length&&r.categorical&&r.categorical.dataReductionAlgorithm&&e&&s((o=e).Primary)&&!(!s(o.Secondary)||1!==o.Secondary.Groupings[0].Projections.length||o.DataReduction&&(o.DataReduction.Primary||o.DataReduction.Secondary||o.DataReduction.Intersection))&&(e.Primary.Groupings=[e.Secondary.Groupings[0],e.Primary.Groupings[0]],e.Secondary=void 0,e.DataReduction={Primary:u.createFrom(r.categorical.dataReductionAlgorithm,i),DataVolume:a||r.categorical.dataVolume||n})},e.unpivotResult=function(e,t,r,i,n){return (function(e,t,a,o,r){if(_.isEmpty(t)||!e||_.isEmpty(r))return!1;r=_.filter(r,(function(e){return!d.DataViewMapping.getRegressionUsage(e)}));if(1!==r.length)return!1;r=r[0].categorical;if(!r)return!1;e=e.matrix;if(!e)return!1;if(!e.rows||!e.rows.levels||2!==e.rows.levels.length)return!1;function i(e,t){if(e=o[e])for(var r=0,i=e.all();r<i.length;r++){var n=i[r];a[n.queryRef]===d.VisualDataRoleKind.Grouping&&t.push(n.queryRef)}}var n=[],u=[];if(d.DataViewMapping.visitCategoricalCategories(r.categories,{visitRole:function(e){i(e,n)}}),d.DataViewMapping.visitGrouped(r.values,{visitRole:function(e){i(e,u)}}),d.DataViewMapping.visitCategoricalValues(r.values,{visitRole:function(e){i(e,u)}}),_.isEmpty(n)||_.isEmpty(u))return!1;for(var s=0,l=e.columns.levels;s<l.length;s++)for(var c=l[s],p=0,f=c.sources;p<f.length;p++)if(!f[p].isMeasure)return!1;return!0})(e,t,r,i,n)?(n={metadata:{columns:o.copy(e.metadata.columns)}},e.single&&(n.single=e.single),e.table&&(n.table=e.table),e.matrix&&(e=(function(e){var t=e.rows,r=t.root,i=r.children,n=[],a=t.levels[0],o=r.childIdentityFields,u={},s=[],r=t.levels[1],t=_.isEmpty(i)?void 0:i[0].childIdentityFields,l=e.valueSources.length;if(i)for(var c=0,p=i;c<p.length;c++){var f=p[c];n.push(f);for(var d=0,h=f.children;d<h.length;d++)!(function(e){var t,r=e.identity.key;void 0===(t=u[r])&&(t=s.length,u[r]=t,s.push(e))})(x=h[d])}for(var m=new Array(s.length),v=0;v<n.length;++v)for(var f=i[v],g=0,y=f.children;g<y.length;g++){var x,S=(function(e){e=u[e.key];return e})((x=y[g]).identity);m[S]||(m[S]=new Array(n.length)),m[S][v]=x.values}a={root:{children:_.map(n,(function(e){e=F(e);return e.level=0,e.children=void 0,e.childIdentityFields=void 0,e})),childIdentityFields:o},levels:[a]};if(0<l){for(var E=_.map(e.columns.root.children,(function(e){var t={level:1};return e.levelSourceIndex&&(t.levelSourceIndex=e.levelSourceIndex),t})),w=0,b=a.root.children;w<b.length;w++)b[w].children=E;a.levels.push(e.columns.levels[0])}var C={root:{children:_.map(s,(function(e){e=F(e);return e.level=0,e.children=void 0,e.childIdentityFields=void 0,e})),childIdentityFields:t},levels:[r]};if(0<l)for(S=0;S<s.length;++S){for(var D=C.root.children[S],V={},v=0;v<n.length;++v)for(var R=m[S]&&m[S][v],T=0;T<l;++T)V[v*l+T]=R?R[T]:0===T?{value:null}:{value:null,valueSourceIndex:T};D.values=V}return{rows:C,columns:a,valueSources:e.valueSources}})(e.matrix),_.isEmpty(e.valueSources)||a.DataViewMatrixUtils.containsCompositeGroup(e.columns)||(n.categorical=(function(e,t){for(var r=e.columns.root.children.length,i=e.valueSources,n=i.length,a=(function(e){e&&e.rows&&e.rows.levels&&e.rows.levels.length;for(var t=_.map(e.rows.root.children,(function(e){return e.identity})),r=e.rows.root.childIdentityFields,i=e.rows.levels[0].sources,n=[],a=0,o=i.length;a<o;a++){var u=_.map(e.rows.root.children,(function(e){e=e.levelValues;if(void 0!==e)return e[a]&&e[a].levelSourceIndex,e[a].value}));n.push({source:i[a],values:u,identity:t,identityFields:r})}return n})(e),o=[],u=0;u<r;++u){var s=e.columns.root.children[u],l={values:[],identity:s.identity,name:null!=s.value?s.value:null};o.push(l);for(var c=0;c<n;++c){var p=i[c],p=__assign({},p);p.groupName=l.name,t.push(p);var f={source:p,values:[],identity:l.identity};l.values.push(f);for(var d=c+u*n,h=0,m=e.rows.root.children;h<m.length;h++){var v=m[h].values[d].value;f.values.push(v)}}}for(var g=[],y=0,x=o;y<x.length;y++)for(l=x[y],c=0;c<n;++c)g.push(l.values[c]);return g.grouped=function(){return o},g.identityFields=e.columns.root.childIdentityFields,g.source=e.columns.levels[0].sources[0],{categories:a,values:g}})(e,n.metadata.columns))),n):e}})(powerbi=powerbi||{}),(function(h){var m,v;m=h.data||(h.data={}),v=h.DataViewMapping,(m.DataViewTransformContext||(m.DataViewTransformContext={})).create=function(e,t,r,i,n,a,o,u,s,l){var c=o.selects,p=o.roles&&o.roles.activeItems,f=_.isEmpty(c)?{}:m.DataViewSelectTransform.createRoleKindFromMetadata(c,e),d=m.DataViewSelectTransform.projectionsFromSelects(c,p),l=h.DataViewAnalysis.chooseDataViewMappings(d,r,f,l,t,o.objects).supportedMappings;return{queryDataViewMetadata:e,objectDescriptors:t,dataRoles:i,drillCapabilities:n,expandCollapseCapabilities:a,transforms:o,selectTransforms:c,projectionOrdering:o.roles&&o.roles.ordering,projectionActiveItems:p,roleKindByQueryRef:f,queryProjectionsByRole:d,visualCapabilitiesRoleMappings:r,visualCapabilitiesDataViewKinds:v.targetDataViewKinds(r),applicableRoleMappings:l,applicableDataViewKinds:v.targetDataViewKinds(l),visualStyle:u,visualCapabilitiesKeepAllMetadataColumns:s}}})(powerbi=powerbi||{}),(function(u){var l,r,s,c;function f(e,t){t=s.leftJoinMetadataColumnsAndProjectionOrder(e,t),t=_.chain(t).filter((function(e){return void 0!==e.projectionOrderIndex})).sortBy((function(e){return e.projectionOrderIndex})).value();if(!r.sequenceEqual(e,t,(function(e,t){return e.index===t.metadataColumn.index})))return t}function p(e){if(!_.isEmpty(e)){e=e[0];return _.chain(e.values).map((function(e){return e.source})).filter((function(e){return void 0!==e.index})).value()}}l=u.data||(u.data={}),r=jsCommon.ArrayExtensions,s=u.data.DataViewMetadataColumnUtils,c=u.Prototype.inheritSingle,(l.DataViewCategoricalProjectionOrder||(l.DataViewCategoricalProjectionOrder={})).apply=function(e,t,r,i,n){var a,o=_.chain(t).filter((function(e){return e.categorical&&!u.DataViewMapping.getRegressionUsage(e)})).map((function(e){return e.categorical})).value();return e.categorical&&1<=o.length&&((o=(function(e,t,r,i){var n=e.values;if(n){var a=l.DynamicFormatStringUtils.removeDynamicFormatValues(n),o=(function(e){l.DynamicFormatStringUtils.hasDynamicFormatValues(e);var t,r,i,n,a=e.source,o=e.grouped();{var u,s;a?(r=p(o),t=o.length,s=_.size(r),u=t*s,0<(s=e.length-u)&&(i=u,n=_.chain(e).takeRight(s).map((function(e){return e.source})).value())):(i=0,n=p(o))}return{secondaryAxisSource:a,dynamicSeriesGroupCount:t,dynamicSeriesMeasureSources:r,staticSeriesMeasureStartingIndex:i,staticSeriesMeasureSources:n}})(a||n),r=(function(e,t,r,i){if(!r)return (function(e,t){var r=e.dynamicSeriesMeasureSources||[],e=e.staticSeriesMeasureSources||[],e=r.concat(e);return _.chain(e).filter((function(e){return!t||!!t[e.index]})).map((function(e){return e.index})).uniq().value()})(e,i);var n=_.reduce(t,(function(e,t,r){t=t.name;return void 0===e[t]&&(e[t]=r),e}),{}),t=e.dynamicSeriesMeasureSources||[],e=e.staticSeriesMeasureSources||[],e=t.concat(e),e=_.chain(e).filter((function(e){return!i||!!i[e.index]})).uniqBy((function(e){return e.index})).map((function(e){var t=e.roles;return t?_.filter(Object.keys(t),(function(e){return t[e]})):[]})).flatten().uniq().sortBy((function(e){return n[e]})).value();return _.chain(e).map((function(e){return r[e]||[]})).flatten().filter((function(e){return!i||!!i[e]})).uniq().value()})(o,t,r,i);if(a=(function(e,t){if(t&&e.source)if(!t[e.source.index]){e=c(e);return e.source=void 0,e.identityFields=void 0,e}})((a=(function(e,t,r){l.DynamicFormatStringUtils.hasDynamicFormatValues(e);var i=(function(e,t,r){if(debug.assertValue(e,"prototypeValues"),t.dynamicSeriesGroupCount&&!_.isEmpty(t.dynamicSeriesMeasureSources)){var i=f(t.dynamicSeriesMeasureSources,r);if(i){var n=i.length;if(0===n)return[];for(var a=t.dynamicSeriesMeasureSources.length,o=t.dynamicSeriesGroupCount,u=[],s=0;s<o;s++)for(var l=s*a,c=0;c<n;c++){var p=i[c].sourceIndex,p=e[l+p];u.push(p)}return u}}})(e,t,r),n=(function(e,t,r){if(debug.assertValue(e,"prototypeValues"),!_.isEmpty(t.staticSeriesMeasureSources)){var i=f(t.staticSeriesMeasureSources,r);if(i){var n=i.length;if(0===n)return[];for(var a=t.staticSeriesMeasureStartingIndex,o=[],u=0;u<n;u++){var s=i[u].sourceIndex,s=e[a+s];o.push(s)}return o}}})(e,t,r);if(i||n){r=c(e);return i?n?(_.isEmpty(i)||_.isEmpty(n),r.splice(0,r.length),r.push.apply(r,i||[]),r.push.apply(r,n||[])):(t.dynamicSeriesGroupCount,t.dynamicSeriesMeasureSources,e=t.dynamicSeriesMeasureSources.length*t.dynamicSeriesGroupCount,r.splice.apply(r,__spreadArray([0,e],i||[]))):n&&(t.staticSeriesMeasureSources,t.staticSeriesMeasureStartingIndex,i=t.staticSeriesMeasureSources.length,r.splice.apply(r,__spreadArray([t.staticSeriesMeasureStartingIndex,i],n||[]))),r}})(a||n,o,r)||a)||n,i)||a){n=!!a.source,i=0<a.length,e=c(e);return n||i?(e.values=a,l.DataViewCategoricalEvalGrouped.apply(e)):e.values=void 0,e}}})((o=(function(e,t,r,i){if(_.every(t,(function(e){return!!e})),!_.isEmpty(e.categories)){t=u.DataViewMapping.getRolesIfSameInAllCategoricalMappings(t,u.DataViewMapping.getAllRolesInCategories);if(t){i=(function(e,r,i){if(r)return _.reduce(e,(function(e,t){t=_.filter(r[t],(function(e){return!i||i[e]}));return e.push.apply(e,t||[]),e}),[])})(t,r,i);if(i)return (function(e,t,r){var i=e.categories;if(_.isEmpty(i))_.isEmpty(t);else if(!(function(r,e){return r.length===e.length&&_.every(e,(function(e,t){return r[t].source.index===e}))})(i,t)){var n=_.map(i,(function(e){return e.source})),t=s.leftJoinMetadataColumnsAndProjectionOrder(n,t,r),r=_.chain(t).filter((function(e){return void 0!==e.projectionOrderIndex})).sortBy((function(e){return e.projectionOrderIndex})).value(),t=_.map(r,(function(e){return i[e.sourceIndex]})),r=c(e);return _.isEmpty(t)?r.categories=void 0:((e=l.DataViewCategoricalUtils.getCategoriesDataViewObjects(i))&&(t=l.DataViewCategoricalUtils.setCategoriesDataViewObjects(t,e)||t),r.categories=t),r}})(e,i,t)}}})(t=e.categorical,o,i,n))||t,r,i,n))&&((a=c(e)).categorical=o)),a||e}})(powerbi=powerbi||{}),(function(a){var c,e,o,u,s,l;function p(e,t,r,i){for(var n=0,a=e.length,o=0,u=i;o<u.length;o++){var s=u[o];if(a<=n)return;var l=(function(e,t,r){for(var i=0,n=0,a=e;n<a.length;n++){var o=a[n],o=t[o]&&t[o].roles;if(c.DataViewMetadataColumnUtils.isExactMatchRole(o,r))i++;else if(0<i)break}return i})(e,t,s);if(0===l)return;if(2<=l&&!_.includes(r,s))return;n+=l}return!(n<a)}c=a.data||(a.data={}),s=jsCommon.ArrayExtensions,l=a.Prototype,e=c.DataViewUpgradeFromCY16SU09Map||(c.DataViewUpgradeFromCY16SU09Map={}),o=["Series","Category"],u=["Series","X","Y"],e.detectAndApply=function(e,t,r,i){if(!_.isEmpty(t.splits))return e;var n=e.matrix;return n&&(1!==(r=_.chain(r).map((function(e){e=e.matrix;if(e&&e.rows&&!e.columns&&!e.values){e=a.DataViewMapping.RoleNamesCollector.fromMatrixRows(e.rows);if(s.sequenceEqual(e,o,(function(e,t){return e===t}))||s.sequenceEqual(e,u,(function(e,t){return e===t})))return{primaryAxisRoles:e.slice(1),secondaryAxisRole:e[0]}}})).filter((function(e){return!!e})).value()).length||(function(e,t,r,i){var n=e.primaryAxis,a=e.secondaryAxis;if(!_.isEmpty(e.intersection)||1!==_.size(n)||1!==_.size(a))return!1;t=t.selects;return!!p(n[0].selectIndices,t,r,i.primaryAxisRoles)&&!!p(a[0].selectIndices,t,r,[i.secondaryAxisRole])})(c.DataViewMatrixUtils.extractSelectIndices(n),t,i,r[0])&&(n=(function(e){e.columns.levels.length,e.rows.levels.length,_.isEmpty(e.valueSources);var t=l.inheritSingle(e),r=t.rows=l.inheritSingle(e.rows),i=t.columns=l.inheritSingle(e.columns),n=(i.levels=l.inheritSingle(i.levels)).splice(0,1)[0];(r.levels=l.inheritSingle(r.levels)).splice(0,0,n);var a=e.rows.root,r=r.root=l.inheritSingle(i.root);i.root={children:[]};i=l.overrideArray(r.children,(function(e){var t=l.inheritSingle(e);return t.childIdentityFields=a.childIdentityFields,t.children=(e=a.children)&&(l.overrideArray(e,(function(e){e=l.inherit(e);return e.level+=1,e}))||l.inherit(e)),t}));i&&(r.children=i);return t})(n),(e=l.inheritSingle(e)).matrix=n)),e}})(powerbi=powerbi||{}),(function(k){var B,e,v,g,D,y,x;function p(e,r,t,i,n,a,o){n&&_.every(n,(function(e,t){return!e||(null===(e=r.selectTransforms)||void 0===e?void 0:e[t])})),(u=g(e)).metadata=g(e.metadata);var u=(function(e,t){if(x.getBitCount(t.visualCapabilitiesDataViewKinds)<=1)return e;t=t.applicableDataViewKinds;if(0===x.getBitCount(t))return e;e=D(e);e.categorical&&!x.hasFlag(t,1)&&(e.categorical=void 0);e.matrix&&!x.hasFlag(t,2)&&(e.matrix=void 0);e.table&&!x.hasFlag(t,8)&&(e.table=void 0);e.tree&&!x.hasFlag(t,16)&&(e.tree=void 0);e.single&&!x.hasFlag(t,4)&&(e.single=void 0);return e})(u,r),s=r.visualCapabilitiesDataViewKinds,l=r.visualCapabilitiesRoleMappings,c=r.selectTransforms,p=r.expandCollapseCapabilities,f=r.objectDescriptors,d=r.projectionOrdering,h=r.visualStyle,m={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},e=[];return R(u=(function(e,t,r,i,n,a,o,u,s){0===t||_.isEmpty(r);o=new B.DataViewObjectEvaluator(s,o);n.length=0,i&&(e.metadata.columns=(function(n,a,o,e){if(!a)return n;for(var u=g(n),s={},t=0,r=n.length;t<r;t++)!(function(e){var t=n[e],r=a[t.index];s[t.index]=!0;var i=t;if(r)i=u[e]=S(t,r);else if(!_.some(n,(function(e){return e.formatSource&&e.formatSource.formatString===t})))return;o.push({from:t,to:i})})(t);if(e)for(var i,t=0;t<a.length;t++)s[t]||(i=a[t],f={displayName:i.displayName,index:t,identityExprs:i.identityExprs},f=E(i,f),u.push(f));for(var l={},c=0,p=u;c<p.length;c++){var f;if((f=p[c]).roles&&!f.groupName&&f.index)for(var d in f.rolesIndex||(f.rolesIndex={}),f.roles)void 0===l[d]&&(l[d]=0),f.roles[d]&&(f.rolesIndex[d]=[l[d]++])}return _.every(o,(function(e){return e.from.index===e.to.index})),u})(e.metadata.columns,i,n,u),(function(e,t,r){if(debug.assertValue(e,"dataView"),r)for(var i,n=e.metadata.columns,a=0,o=r.length;a<o;a++){var u,s,l=r[a],c=l&&l.aggregateSources;c&&(i=i||B.createStaticEvalContext(e,r),s=(function(e,t,r){for(var i=0,n=e;i<n.length;i++){var a=n[i];if(a.index===t&&void 0===a.groupName)return a}r=S({displayName:r.displayName},r);return e.push(r),r})(n,a,l),u=s.aggregates={},l=k.ValueType.fromDescriptor(s.type),void 0!==(s=w(t,i,r,l,c.min))&&(u.min=s),void 0!==(s=w(t,i,r,l,c.max))&&(u.max=s))}})(e,o,i));e.categorical&&x.hasFlag(t,1)&&(e.categorical=(function(e,r){var t=g(e);function i(e){var t=b(e.source,r);if(t){e=g(e);return e.source=t,e}}var n=k.Prototype.overrideArray(e.categories,i);n&&(t.categories=n);e.values&&(n=k.Prototype.overrideArray(e.values,i)||D(e.values),!(t.values=n).source||(e=b(n.source,r))&&(n.source=e));return B.DataViewCategoricalEvalGrouped.apply(t),t})(e.categorical,n),e=(function(e,t){var r;var i=(function(e,s){if(e&&!_.isEmpty(s)){var l=e.categories;if(!_.isEmpty(l)){e=e.values;if(!_.isEmpty(e)&&!e.grouped().some((function(e){return!!e.identity})))for(var t=function(e,t){var r=s[e].categorical;if(!r)return"continue";_.filter(l,(function(e){return G(e.source.roles,r.values)})).length;for(var i=0,n=l;i<n.length;i++){var a=n[i],o=a.source.roles;if(G(o,r.values)){var u=r.categories;if(function(e,t){if(e&&t&&t.bind)return e[t.bind.to]}(o,u)||j(o,u))return{value:{type:2,selfCrossJoinCategory:a}};if(1===l.length)return{value:{type:1}}}}},r=0,i=s.length;r<i;r++){var n=t(r);if("object"==typeof n)return n.value}}}})(e.categorical,t);if(i)switch(i.type){case 1:r=B.DataViewPivotCategorical.apply(e);break;case 2:i.selfCrossJoinCategory,r=B.DataViewSelfCrossJoin.apply(e,i.selfCrossJoinCategory)}return r||e})(e,r));e.matrix&&x.hasFlag(t,2)&&(e.matrix=(function(e,t,r){function n(e){return b(e,t)}var i=g(e);function a(e){var t=null,r=k.Prototype.overrideArray(e.levels,(function(e){var t,r=null,i=k.Prototype.overrideArray(e.sources,n);return i&&(r=C(r,e,(function(e){return e.sources=i}))),e.valueSources&&(_.isEqual(_.keys(e.valueSources),["0"]),e.valueSources[0],(t=k.Prototype.overrideArray(e.valueSources[0],n))&&(r=C(r,e,(function(e){return e.valueSources={0:t}})))),r}));return t=r?C(t,e,(function(e){return e.levels=r})):t}e=a(i.rows);e&&(i.rows=e,r.rowHierarchyRewritten=!0);e=a(i.columns);e&&(i.columns=e,r.columnHierarchyRewritten=!0);r=k.Prototype.overrideArray(i.valueSources,n);r&&(i.valueSources=r);return i})(e.matrix,n,a));e.table&&x.hasFlag(t,8)&&(e.table=(function(e,t){var r=g(e),e=k.Prototype.overrideArray(e.columns,(function(e){return b(e,t)}));e&&(r.columns=e);return r})(e.table,n));e.single&&x.hasFlag(t,4)&&(e.single=(function(e,t){t=b(e.column,t);t&&((e=D(e)).column=t);return e})(e.single,n));return e})(u,s,l,c,e,m,h,r.visualCapabilitiesKeepAllMetadataColumns,t),r.visualCapabilitiesDataViewKinds,f,r.transforms.objects,c,h,t,i,o),u=O(u=(function(e,t,r,i,n,a){var o=t.projectionOrdering,u=t.applicableRoleMappings,e=D(e);(function(e,t,r){if(t){for(var i=new Array(r.length),n=0,a=e;n<a.length;n++)if(void 0!==(l=a[n]).index&&void 0!==l.roles&&null==l.groupName)for(var o in(i[l.index]=l).rolesIndex=l.rolesIndex||{},l.roles)l.roles[o]&&(l.rolesIndex[o]=[]);for(o in t)for(var u=t[o],s=0;s<u.length;s++){var l,c=u[s];(l=i[c])&&l.rolesIndex[o].push(s)}}})(e.metadata.columns,o,r),e.table&&x.hasFlag(t.applicableDataViewKinds,8)&&(function(e,t,r){if(!t)return;var n=(function(e,t){var r=Object.keys(e);if(1===r.length){r=r[0],t=_.map(t,(function(e){return e.from.index})),r=e[r];return (function(e,t){if(!y.sequenceEqual(e,t,(function(e,t){return e===t}))){for(var r=[],i=0,n=t.length;i<n;++i){var a=t[i];r[i]=e.indexOf(a)}return r}})(t,r)}})(t,r);if(!n)return;function i(e){for(var t=n.length,r=new Array(t),i=0;i<t;i++)r[i]=e[n[i]];return r}(e=D(e)).columns=i(e.columns),_.isEmpty(e.rows)||(e.rows=k.Prototype.overrideArray(e.rows,(function(e){var t=i(e);return e.objects&&(t.objects=i(e.objects)),t})));e.totals&&(r=i(e.totals),e.totals.objects&&(r.objects=i(e.totals.objects)),e.totals=r)})(e.table,o,r);e.matrix&&x.hasFlag(t.applicableDataViewKinds,2)&&((r=_.filter(u,(function(e){return!!e.matrix}))).length,r.length,e.matrix=B.DataViewMatrixProjectionOrder.apply(e.matrix,r[0].matrix,o,i,a),(function(e,t){if(e&&!_.isEmpty(t)){var r=e.rows.levels;if(!(r.length<1)){e=e.rows.root.children;if(e&&0!==e.length)for(var i=r[0].sources[0].roles,n=0,a=t.length;n<a;n++){var o=t[n].matrix;if(o&&(!j(i,o.rows)&&j(i,o.columns)))return!0}}}})(e.matrix,u)&&B.DataViewPivotMatrix.apply(e.matrix,i));return e=B.DataViewCategoricalProjectionOrder.apply(e,u,t.dataRoles,o,n)})(u,r,e,m,n,t),s,l,c,p,r.transforms.expansionStates),u=(function(e){var t=e.table;if(t&&1===t.columns.length&&t.columns[0].isMeasure&&1===t.rows.length&&1===t.rows[0].length){var r=t.columns[0],t=t.rows[0],r={column:r,value:t[0]};return e.single=r,t.objects&&(e.single.objects=t.objects[0]),e}return e})(u=B.DataViewHierarchyLevelBackfill.apply(u,v.quarterPrefix)),a||(u=B.DataViewConcatenateCategoricalColumns.detectAndApply(u,f,r.applicableRoleMappings,d,r.projectionActiveItems,r.drillCapabilities)),B.DataViewNormalizeValues.apply({dataview:u,dataViewMappings:l,dataRoles:r.dataRoles}),u}function S(e,t){return E(t,g(e))}function E(e,t){var r;return e.roles&&(t.roles=e.roles),e.type&&(t.type=e.type),t.format=(r=t,e.format||r.format),e.displayName&&(t.displayName=e.displayName),e.queryName&&(t.queryName=e.queryName),e.expr&&(t.expr=e.expr),e.kpi&&e.kpi.graphic&&(t.kpi=e.kpi),e.sort&&(t.sort=e.sort),null!=e.sortOrder&&(t.sortOrder=e.sortOrder),e.discourageAggregationAcrossGroups&&(t.discourageAggregationAcrossGroups=e.discourageAggregationAcrossGroups),e.parameter&&(t.parameter=e.parameter),t}function w(e,t,r,i,n){n=r[n.index];if(n)return e.evaluateValue(t,n.expr,i)}function b(t,e){e=_.find(e,(function(e){return e.from===t}));if(e)return e.to}function C(e,t,r){return e=e||g(t),r&&r(e),e}function V(e,t){return _.chain(e).map((function(e){return __assign(__assign({},e),{properties:_.pickBy(e.properties,t)})})).filter((function(e){return!_.isEmpty(Object.keys(e.properties))})).value()}function R(e,t,r,i,n,a,o,u,s){var l,c;r&&(l=(function(e,t,r){var i=B.DataViewObjectDescriptors.findFormatString(t);if(i&&e.metadata&&!_.isEmpty(e.metadata.columns)){for(var n,a=!1,o=0,u=e.metadata.columns;o<u.length;o++){var s=u[o],l=s.queryName;s.formatSource&&(a||(n=r?D(r):{},a=!0),s={metadata:s.queryName,data:[B.DataViewWildcard.create()],highlightMatching:1},l=B.SQExprBuilder.selectRef(l,0),B.DataViewObjectDefinitions.setValue(n,i,s,l))}return n}})(e,r,i),c=B.DataViewObjectEvaluationUtils.groupObjectsBySelector(i=l?l:i),B.DataViewObjectEvaluationUtils.addImplicitObjects(c,r,e.metadata.columns,n),l=c.metadataOnce,i=c.data,l&&(function(e,t,r,i,n,a,o,u){for(var s=new B.DataViewObjectEvaluator(o,a),l=0,c=i;l<c.length;l++){var p=c[l],f=p.selector&&p.selector.id,d=p.objects;_.isEmpty(d);var h=B.createStaticEvalContext(e,t),m=void 0;u&&(m={warnings:u,selector:p.selector,targetExpr:B.Selector.getSelectorTargetExpr(p.selector,t)});var v=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(s,h,r,d,m);if(v){var g,m=e.metadata.objects;for(g in m=m||(e.metadata.objects={}),k.DataViewObjects.mergeObjects(m,v,f),v){var y,x=v[g],S=r[g];for(y in x){var E=S.properties[y],w=E.rule;w&&(E=(function(e,t,r,i,n){var a=t.output;if(a){a=(function(e){return[{data:[B.DataViewRoleWildcard.fromRoles(e)]}]})(a.selector);if(n.fillRule)return (function(e,t,r,i,n){e=(function(e,t,r){var i=e.metadata.columns;switch(r){case 1:return _.find(i,(function(e){return e.roles&&e.roles[t]}));case 0:return _.find(i,(function(e){return e.queryName===t&&void 0===e.groupName}))}})(e,t.inputRole,1);if(e){e=k.visuals.createColorAllocatorFactory().fromFillRule(n,e);if(e){var a=new B.ColorRuleEvaluation(t.inputRole,e),o={};o[t.output.property]={solid:{color:a}};for(var u=[],s=0,l=r.length;s<l;s++)u.push({selector:r[s],rules:[a],objects:[{name:i,properties:o}]});return u}}})(e,t,a,r,i)}})(e,w,g,x[y],E.type),_.isEmpty(E)||n.push.apply(n,E||[]))}}}}})(e,n,r,l,i,a,o,u),c=c.metadata,_.isEmpty(c)||(function(e,t,r,i,n,a,o){for(var u=new B.DataViewObjectEvaluator(a,n),s=0,l=i;s<l.length;s++)for(var c=l[s],p=c.selector,f=c.objects,d=e.metadata.columns,h=p.metadata,m=B.createStaticEvalContext(e,t),v=0,g=d.length;v<g;v++){var y,x=d[v];x.queryName===h&&(y=void 0,o&&(y={warnings:o,selector:p,targetExpr:B.Selector.getSelectorTargetExpr(p,t)}),(y=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(u,m,r,f,y))&&(x.objects||(x.objects={}),k.DataViewObjects.mergeObjects(x.objects,y,p.id)))}})(e,n,r,c,a,o,u),_.isEmpty(i)||(function(e,t,r,i,n,a,o,u,s){a=new B.DataViewObjectEvaluator(u,a);e.categorical&&x.hasFlag(t,1)&&(l=s&&{warnings:s},(function(e,t,r,i,n,a,o){for(var u=0,s=i;u<s.length;u++){var l=s[u],c=l.selector,p=(l.rules,l.objects),f=B.Selector.containsWildcard(c);c=(function(t,e){B.Selector.hasRoleWildcard(e)&&(e=T(e,(function(e){return (function(e,t){if(t.categories)for(var r=0,i=t.categories;r<i.length;r++){var n=i[r];if(n.source&&M([n.source],e))return[n.identityFields]}})(e,t)})));return e})(e,c);l=B.getDataSelectorComparer(c,n);o&&(o.selector=c,o.targetExpr=B.Selector.getSelectorTargetExpr(c,t)),(function(e,t,r,i,n,a,o,u){if(debug.assertValue(e,"dataViewCategorical"),e.categories&&0!==e.categories.length){var s=(function(e,t,r){e.categories[0];for(var i=e.categories[0].identity,n=[],a=0,o=e.categories;a<o.length;a++){var u=o[a];if(!u.identityFields)return;if(!r.matchesKeys([u.identityFields],1))return;n.push(u)}n.length,e.categories.length;var s=t.metadata;if(s){var l=e.values;if(l)for(var c=0,p=l.length;c<p;c++){var f=l[c];if(f.source.queryName===s){n=[f];break}}}return{columns:n,identities:i}})(e,r,a);if(s){var l,c=_.filter(s.columns,(function(e){return!!e.highlights})),p=0<c.length,f=s.identities,d=B.createCategoricalEvalContext(e);if(f){for(var h,m,v=0,g=f.length;v<g;v++){var y=f[v];if(i||a.matches([y])){switch(d.setCurrentRowIndex(v),r.highlightMatching){case void 0:case 0:m=!(h=!0);break;case 1:h=!0,m=p;break;case 2:h=!p,m=p;break;default:r.highlightMatching}if(h){d.useHighlights(!1);var x=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(o,d,t,n,u);if(x)for(var S=0,E=s.columns;S<E.length;S++){var w=(V=E[S]).objects;(w=w||(V.objects=new Array(g)))[v]||(w[v]={}),k.DataViewObjects.mergeObjects(w[v],x,r.id)}l=!0}if(m){d.useHighlights(!0);var b=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(o,d,t,n,u);if(b)for(var C=0,D=c;C<D.length;C++){var V,R=(V=D[C]).highlightObjects;(R=R||(V.highlightObjects=new Array(g)))[v]||(R[v]={}),k.DataViewObjects.mergeObjects(R[v],b,r.id)}l=!0}if(!i)return}}}}}})(e,r,c,f,p,l,a,o),(function(e,t,r,i,n,a,o,u){var s=e.values;if(s&&s.identityFields&&a.matchesKeys([s.identityFields],1)){var l=s.grouped();if(l){for(var c,p=B.createCategoricalEvalContext(e),f=r.metadata,d=V(n,P),h=0,m=l;h<m.length;h++){var v=m[h];if(void 0!==v.name){_.isEmpty(d)||(p.setCurrentColumnGroupName(v.name),(function(e,t,r,i,n,a,o){if(debug.assertValue(e,"objectDescriptors"),B.Selector.isWildcardSelector(t)){var u=_.find(o.values,(function(e){return e.source.queryName===t.metadata}));if(u){u.source.groupName,o.name;for(var s=u.values.length,l=0;l<s;l++){a.setCurrentRowIndex(l),a.useHighlights(!1);var c,p=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(i,a,e,r,n);p&&((c=(c=u.objects)||(u.objects=new Array(s)))[l]||(c[l]={}),k.DataViewObjects.mergeObjects(c[l],p,t.id)),null!=u.highlights&&(a.useHighlights(!0),(c=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(i,a,e,r,n))&&((p=(p=u.highlightObjects)||(u.highlightObjects=new Array(s)))[l]||(p[l]={}),k.DataViewObjects.mergeObjects(p[l],c,t.id))),a.resetCurrentRowIndex()}}}})(t,r,d,o,u,p,v));var g=v.values;if(i||a.matches([v.identity])){var y=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(o,p,t,n,u);if(y)if(f)for(var x=0,S=g.length;x<S;x++){var E=g[x],w=E.source;if(w.queryName===f){var b=k.Prototype.inherit(w),w=b.objects;w=w||(b.objects={}),k.DataViewObjects.mergeObjects(w,y,r.id),E.source=b,c=!0;break}}else{var C=v.objects;C=C||(v.objects={}),k.DataViewObjects.mergeObjects(C,y,r.id),U(s,l),c=!0}if(!i)return}}}}}})(e,r,c,f,p,l,a,o),(function(e,t,r,i,n,a){var o,u,s;_.isEmpty(e.categories)&&((s=e.values)&&!_.isEmpty(s.identityFields)||(o=(function(e,t){var r=t.metadata;if(void 0!==r&&e)return _.filter(e,(function(e){return e.source.queryName===r})).length,_.find(e,(function(e){return e.source.queryName===r}))})(e.values,r))&&(u=B.createCategoricalEvalContext(e),s=B.Selector.isWildcardSelector(r),i=V(i,P),_.isEmpty(i)||s&&(e.values.length,e.values[0].values.length,u.setCurrentRowIndex(0),(i=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(n,u,t,i,a))&&((a=(a=o.objects)||(o.objects=[]))[0]||(a[0]={}),k.DataViewObjects.mergeObjects(a[0],i,r.id)))))})(e,r,c,p,a,o)}})(e.categorical,r,i,n,o,a,l));var l=e.matrix;l&&x.hasFlag(t,2)&&((c=(function(l,c,p,e,f,d,h,m){var v=l.valueSources,g=v.length,y=B.createMatrixEvalContext(l,d),x=l.rows.levels;var S=A(x),E=A(l.columns.levels),w=[];w.push.apply(w,S||[]),w.push.apply(w,E||[]);for(var b=!1,C=D(l),t=function(e){e.selector,e.rules;var t=e.objects,r=(function(t,e){B.Selector.hasRoleWildcard(e)&&(e=T(e,(function(e){return (function(e,t){if(t){var r=[];return r.push.apply(r,F(e,t.rows)||[]),r.push.apply(r,F(e,t.columns)||[]),r}})(e,t)})));return e})(l,e.selector),i=B.getDataSelectorComparer(r,f),n=B.Selector.containsWildcard(r),a=B.Selector.isWildcardSelector(r),o=null==r.metadata&&N(S,i),u=d.comboMultiples&&(function(e,t,r,i){if(_.isEmpty(e))return!1;if(e.length,t.length,!i)return!1;for(var n=0;n<e.length;n++)if(r.matchesKeys(_.take(t,n+1),n+1)){var a=B.DataViewMatrixUtils.getScopedValueSources(e[n]);if(!_.isEmpty(a)&&_.find(a,(function(e){return e.queryName===i})))return!0}return!1})(x,S,i,r.metadata),s=(1<g||g<=1&&null==r.metadata)&&N(E,i),e=null!=r.metadata&&0<g&&_.some(v,(function(e){return e.queryName===r.metadata}))&&i.matchesKeys(w,w.length),i={selector:r,selectorComparer:i,containsWildcard:n,isWildcard:a,canMatchColumnNode:s,canMatchRowNode:o,canMatchIntersection:e,canMatchScopedValue:u},n=void 0,a=void 0;s&&(a=Q("Columns",y,c,C.columns,p,t,i,h,m)),((n=e||u||o?Q("Rows",y,c,C.rows,p,t,i,h,m):n)||a)&&(b=!0,n&&(C.rows=n),a&&(C.columns=a))},r=0,i=e;r<i.length;r++){var n=i[r];t(n)}if(b)return C})(l,r,i,n,o,u,a,s))&&(e.matrix=c));var c=e.table;c&&x.hasFlag(t,8)&&((p=(function(e,t,r,i,n,a,o){for(var u=!1,s=0,l=i;s<l.length;s++){var c=l[s],p=c.selector,f=c.objects,d=B.Selector.containsWildcard(p);p=(function(t,e){B.Selector.hasRoleWildcard(e)&&(e=T(e,(function(e){return (function(e,t){if(!e)return[];for(var r=[],i=0,n=t.columns;i<n.length;i++){var a=n[i];a.identityExprs&&M([a],e)&&r.push(__spreadArray([],a.identityExprs||[]))}return r})(e,t)})));return e})(e,p);var h=B.getDataSelectorComparer(p,n),m=B.createTableEvalContext(e,t),c=void 0;_.isEmpty(e.rows)||(c=(function(e,t,r,i,n,a,o,u,s,l,c,p,f){if(debug.assertValue(e,"evalContext"),u.metadata&&!_.isEmpty(u.data)){var d,h=_.findIndex(r,(function(e){return e.queryName===u.metadata}));if(!(h<0)&&c.matchesKeys([a],1)){if(_.every(r,(function(e){return e.isMeasure}))){_.isEmpty(n),_.isEmpty(a),i.length;a=q(e,t,r,i[0],a,o,u,l,c,p,f);a&&((d=D(i))[0]=a)}else{if(_.some(u.data,(function(e){return B.Selector.isWildcard(e)&&2===e.matchingOption})))return;i.length,n.length;for(var m=r.length,v=0,g=n.length;v<g;v++){var y=n[v];if(s||c.matches([y])){e.setCurrentRow(i[v]);var x=void 0;f&&(x={warnings:f,selector:u,targetExpr:B.Selector.getSelectorTargetExpr(u,t)});var S=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(p,e,o,l,x);if(S&&(y=(d=d||D(i))[v]=D(d[v]),(x=y.objects)||(y.objects=x=new Array(m)),x[h]||(x[h]={}),k.DataViewObjects.mergeObjects(x[h],S,u.id)),!s)break}}}return d}}})(m,t,e.columns,e.rows,e.identity,e.identityFields,r,p,d,f,h,a,o));d=void 0;e.totals&&(d=q(m,t,e.columns,e.totals,e.identityFields,r,p,f,h,a,o)),(c||d)&&(u=!0,e=D(e),c&&(e.rows=c),d&&(e.totals=d))}if(u)return e})(c,r,i,n,o,a,s))&&(e.table=p));var p=e.single;p&&c&&x.hasFlag(t,4)&&((s=(function(e,t,r,i,n,a,o){var u;for(var s=B.createStaticEvalContext(e,t),l=0,c=i;l<c.length;l++){var p=c[l],f=p.selector,d=p.objects,p=B.getDataSelectorComparer(f,n);f.metadata===e.single.column.queryName&&p.matches([])&&(p=void 0,o&&(p={warnings:o,selector:f,targetExpr:B.Selector.getSelectorTargetExpr(f,t)}),(p=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(a,s,r,d,p))&&((u=u||D(e.single)).objects||(u.objects={}),k.DataViewObjects.mergeObjects(u.objects,p,f.id)))}return u})(e,r,i,n,o,a,s))&&(e.single=s));e.metadata.objectsRules=a.getObjectsRules()})(e,t,n,r,i,a,s,o,u))}function T(e,t){for(var r={data:[],id:e.id,metadata:e.metadata},i=0,n=e.data;i<n.length;i++){var a=n[i];if(B.Selector.isRoleWildcard(a)){var o=t(a.roles);if(!_.isEmpty(o))for(var u=0,s=o;u<s.length;u++){var l=s[u];r.data.push(B.DataViewScopeWildcard.fromExprs(l))}}else r.data.push(a)}return r}function F(e,t){if(!e||!t)return[];for(var r=[],i=0,n=t.levels;i<n.length;i++){for(var a=[],o=0,u=n[i].sources;o<u.length;o++){var s=u[o];s.identityExprs&&M([s],e)&&a.push.apply(a,s.identityExprs||[])}_.isEmpty(a)||r.push(a)}return r}function M(e,t){for(var r=0,i=e;r<i.length;r++){var n=i[r].roles;if(!n||!_.some(t,(function(e){return n[e]})))return}return 1}function P(e){return e instanceof B.SQExpr?B.SQExpr.isSelectRef(e)&&0===e.attributeKind:k.StructuralObjectDefinition.isErrorRangeDefinition(e)}function A(e){if(_.isEmpty(e))return[];for(var t=[],r=0,i=e;r<i.length;r++){for(var n=[],a=0,o=i[r].sources;a<o.length;a++){var u=o[a];u.identityExprs&&n.push.apply(n,u.identityExprs||[])}_.isEmpty(n)||t.push(n)}return t}function N(e,t){for(var r=[],i=e.length,n=0;n<i;n++)if(r.push(e[n]),t.matchesKeys(r,i))return!0;return!1}function Q(e,t,r,i,n,a,o,u,s){if(i){var l=i.root;if(l){s=L(e,t,r,[l],n,a,o,u,s);if(s){i=D(i);return i.root=s,i}}}}function L(e,t,r,i,n,a,o,u,s){var l=_.last(i);return B.DataViewMatrixUtils.isLeafNode(l)?"Rows"===e&&(o.canMatchScopedValue||o.canMatchIntersection)?(function(u,s,l,c,p,f,d,h){f.canMatchIntersection||f.canMatchScopedValue;var e=_.last(l),t=D(e),m=f.canMatchScopedValue,v=f.selector,g=m?B.DataViewMatrixUtils.getNodeScopedValues(e):e.values,y=m?u.getScopedValueSourcesQueryNames(e.level)||[]:u.getValueSourcesQueryNames(),r=(m?y:u.columnLeavesPath).length;if(!_.isEmpty(g)){g=D(g);for(var x=!1,i=function(i){var n=g[i];if(!n)return"continue";var a,o=m?void 0:u.columnLeavesPath[i],e=y[n.valueSourceIndex||0];if(!(function(e,t,r,i,n,a){if(t!==e.metadata)return!1;for(var o=[],e=[],u=0,s=r;u<s.length;u++)(l=s[u]).identity&&o.push(l.identity);if(!n){for(var l,c=0,p=i;c<p.length;c++)(l=p[c]).identity&&o.push(l.identity);_.last(i).isSubtotal&&e.push.apply(e,I(i)||[])}_.last(r).isSubtotal&&e.push.apply(e,I(r)||[]);_.isEmpty(e)&&(e=void 0);return a.matches(o,e)})(f.selector,e,l,o,m,f.selectorComparer))return"continue";h&&(a={warnings:h,selector:v,targetExpr:B.Selector.getSelectorTargetExpr(v,s)});function t(e){m?u.setAsScopedValue(n,l,i,e):u.setAsIntersection(n,l,o,i,e);var t,r=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(d,u,c,p,a);r&&(t=D(n),e&&!t.highlightObjects?t.highlightObjects={}:e||t.objects||(t.objects={}),k.DataViewObjects.mergeObjects(e?t.highlightObjects:t.objects,r,v.id),x=!0,n=g[i]=t)}var r=void 0!==n.highlight;switch(v.highlightMatching){case void 0:case 0:t(!1);break;case 1:t(!1),r&&t(!0);break;case 2:t(r);break;default:v.highlightMatching}},n=0;n<r;n++)i(n);if(x)return m?t.nodeValues={0:g}:t.values=g,t}})(t,r,i,n,a,o,u,s):void 0:(function(e,t,r,i,n,a,o,u,s){var l,c=o.selector,p=o.selectorComparer,f=t.getDataView();i[0]===f.rows.root?l=f.rows:i[0]===f.columns.root&&(l=f.columns);var d=_.last(i),h=d.children;var m=!1,v=!1,g=d.childIdentityFields,y=[],x=h[0].level;0===x||l.levels.length;var S=1<f.valueSources.length&&l===f.columns,E=S&&x===l.levels.length-1;{var w,b,C;_.isEmpty(l.levels)||(C=l.levels[x],b=C.sources,E?(y=t.getValueSourcesQueryNames(),w=_.compact(_.map(i,(function(e){return e.identity}))),x=void 0,d.isSubtotal&&1<i.length&&(x=i[i.length-2].childIdentityFields),m=null!=o.selector.metadata&&_.some(y,(function(e){return e===c.metadata}))&&p.matches(w,x),v=!1):_.isEmpty(g)||(y=_.map(b,(function(e){return e.queryName})),b=_.map(i,(function(e){return e.childIdentityFields})),S=l.levels.length-(S?1:0),m=null==c.metadata&&p.matchesKeys(b,S),(C=B.DataViewMatrixUtils.getScopedValueSources(C))&&f.rows,v=C&&null!=c.metadata&&null!=_.find(C,(function(e){return e.queryName===c.metadata}))))}for(var D=!1,V=H(d),R=0,T=h.length;R<T;R++){var F=!1,M=h[R],P=H(M),A=i.concat(P),N=!1;if(m||v){l===f.rows?m&&t.setAsRowNode(A):l===f.columns&&t.setAsColumnNode(A);for(var Q=[],I=0,q=A;I<q.length;I++){var O=q[I];O.identity&&Q.push(O.identity)}var U=void 0;_.isEmpty(y)||(U=y[M.levelSourceIndex||0]);var j=void 0;M.isSubtotal&&(E?1<i.length&&(j=i[i.length-2].childIdentityFields):j=g),(null==c.metadata||c.metadata===U&&!o.isWildcard)&&p.matches(Q,j)&&(N=!0,j=void 0,s&&(j={warnings:s,selector:c,targetExpr:B.Selector.getSelectorTargetExpr(c,r)}),(j=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(u,t,n,a,j))&&(F=!0,P.objects||(P.objects={}),k.DataViewObjects.mergeObjects(P.objects,j,c.id)))}if(N&&!o.isWildcard||L(e,t,r,A,n,a,o,u,s)&&(F=!0),F&&(D=!0,V.children[R]=P,!o.containsWildcard))break}if(D)return V})(e,t,r,i,n,a,o,u,s)}function I(e){e=_.findLast(e,(function(e){return null!=e.childIdentityFields}));return e?e.childIdentityFields:[]}function H(e){if(Object.getPrototypeOf(e)!==Object.prototype)return e;var t=D(e);return e.children&&(t.children=D(e.children)),t}function q(e,t,r,i,n,a,o,u,s,l,c){n=_.isEmpty(n)?void 0:n;if(o.metadata&&s.matches([],n)){n=_.findIndex(r,(function(e){return e.queryName===o.metadata}));if(!(n<0)){r=r.length;e.setCurrentRow(i),c&&(f={warnings:c,selector:o,targetExpr:B.Selector.getSelectorTargetExpr(o,t)});var p,f=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(l,e,a,u,f);return f&&((i=(p=D(i)).objects)||(p.objects=i=new Array(r)),i[n]||(i[n]={}),k.DataViewObjects.mergeObjects(i[n],f)),p}}}function O(e,t,r,i,n,a){if(_.isEmpty(r)||!n)return e;var o=n&&n.roles;if(_.isEmpty(o))return e;var u=n.addDataViewFlags,u=u.propertyIdentifier?k.DataViewObjects.getValue(e.metadata.objects,u.propertyIdentifier,u.defaultValue):u.defaultValue;if(!0!==u)return e;r=_.find(r,(function(e){return e.matrix})),r=r&&r.matrix;return r&&e.matrix&&x.hasFlag(t,2)&&((n=(function(e,t,r,i,n,a,o){t=k.DataViewMapping.RoleNamesCollector.fromMatrixRows(t.rows),n=n&&B.ExpansionState.findExpansionState(n,t),o=(function(e,r,t,i,n,a,o){if(debug.assertAnyValue(n,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(r,(function(e){return!_.includes(i,e)}))){for(var u=0,s=0,l=t;s<l.length;s++)!(function(t){_.some(r,(function(e){return t.roles[e]}))&&u++})(l[s]);if(0<u){(e=D(e)).levels=D(e.levels),e.levels;for(var c=0;c<e.levels.length;c++)c<u-1&&(e.levels[c]=D(e.levels[c]),e.levels[c].canBeExpanded=!0);t=(function n(a,o,u,s,l){if(a.isSubtotal||a.level===l-1)return void _.isEmpty(a.children);var c=!1;{var e,t;void 0!==a.level&&(a=D(a),s?(e=Number(!(!u||!u.isToggled)),t=s[a.level],t=Number(!(!t||!t.isCollapsed)),a.isCollapsed=!!(t^e)):a.isCollapsed=_.isEmpty(a.children)||1===a.children.length&&!!a.children[0].isSubtotal,c=!0)}if(!_.isEmpty(a.children))for(var r=function(e){var t=a.children[e],r=t.identity,i=r&&B.ScopeIdentityExtractor.getValues(r.expr),r=i&&_.find(u&&u.children,(function(e){return jsCommon.ArrayExtensions.sequenceEqual(e.identityValues,i,B.SQExpr.equals)})),r=n(t,o,r,s,l);r&&((a=D(a)).children=D(a.children),a.children[e]=r,c=!0)},i=0;i<a.children.length;i++)r(i);if(c)return a})(e.root,e.levels,n&&n.root,n&&n.levels,u);return t&&(e.root=t),o&&n&&f(e,a,n),e}}})(e.rows,t,r,i,n,a,o);if(o)return(e=D(e)).rows=o,e})(e.matrix,r,i,o,a,e.metadata.columns,n.addDataViewExpansionState))&&((e=D(e)).matrix=n)),e}function f(e,t,r){var i=r.levels;if(!_.isEmpty(i)){for(var n={},a=0,o=t;a<o.length;a++){var u=o[a];n[u.queryName]=u}for(var s=new Array(i.length),l=e.levels,c=0,p=0,f=i;p<f.length;p++){var d=f[p],h=d.queryRefs;if(!_.isEmpty(h)&&!_.isEmpty(l)&&l[c])for(var m=l[c].sources,v=0,g=h;v<g.length;v++)!(function(t){_.some(m,(function(e){return e.queryName===t}))})(g[v]);s[c++]={isCollapsed:d.isCollapsed,isPinned:d.isPinned,isLocked:d.isLocked,AIInformation:_.cloneDeep(d.AIInformation),sources:_.map(h,(function(e){return n[e]}))}}r=(function e(t,r,i,n){if(!t)return;var a=t.identityValues;var o;_.isEmpty(a)||(o=_.map(a,n));var u;if(!_.isEmpty(t.children)){a=t.children;u=new Array(a.length);for(var s=0,l=0,c=a;l<c.length;l++){var p=c[l],p=e(p,r,void 0===i?0:i+1,n);u[s++]=p}}return{isExpanded:void 0===i?void 0:!!r[i].isCollapsed==!!t.isToggled,values:o,children:u}})(r.root,s,void 0,k.data.SQExprUtils.getPrimitiveValuesFromSQConstantExpr);e.expansionStates=[{levels:s,root:r}]}}function U(e,t){e.grouped=t?function(){return t}:function(){return (function(e){for(var t,r=[],i=0,n=e.length;i<n;i++){var a,o=e[i];t&&t.identity===o.identity||(t={values:[]},o.identity&&(t.identity=o.identity,void 0!==(a=o.source).groupName?t.name=a.groupName:a.displayName&&(t.name=a.displayName)),r.push(t)),t.values.push(o)}return r})(e)}}function j(e,t){if(e&&t&&t.for)return e[t.for.in]}function G(e,t){if(e&&t&&t.group)return e[t.group.by]}B=k.data||(k.data={}),g=k.Prototype.inherit,D=k.Prototype.inheritSingle,y=jsCommon.ArrayExtensions,x=jsCommon.EnumExtensions,e=B.DataViewTransform||(B.DataViewTransform={}),v={quarterPrefix:"Qtr {0}"},e.setLocalizationOptions=function(e){v=e},e.apply=function(e){var t=e.prototype,r=e.objectDescriptors,i=e.transforms,n=e.visualStyle,a=e.withWarnings?[]:void 0;if(!t)return{dataViews:(function(e,t,r,i){if(t&&t.objects){var n={metadata:{columns:[]}};return R(n,0,e,t.objects,t.selects,r,i),[n]}return[]})(r,i,n,e.featureSwitches)};if(!i)return{dataViews:[t]};var o,u=B.DataViewTransformContext.create(t.metadata,r,e.dataViewMappings,e.dataRoles,e.drillCapabilities,e.expandCollapseCapabilties,i,n,e.keepAllMetadataColumnsCapability,e.featureSwitches),s=(function(e,t,r,i,n,a){var o=[],u=t.transforms.splits;if(_.isEmpty(u))o.push(p(e,t,r,i,null,n,a));else for(var s=0,l=u;s<l.length;s++){var c=l[s],c=p(e,t,r,i,c.selects,null,a);o.push(c)}return o})((s=t,n=(o=u).transforms,t=o.applicableRoleMappings,s=B.DataViewPivotCategoricalToPrimaryGroups.unpivotResult(s,o.selectTransforms,o.roleKindByQueryRef,o.queryProjectionsByRole,t),s=B.DataViewUpgradeFromCY16SU09Map.detectAndApply(s,n,t,o.drillCapabilities&&o.drillCapabilities.roles),s=B.DataViewPivotMatrixToPrimaryGroups.pivot(s,o.selectTransforms,o.roleKindByQueryRef,o.queryProjectionsByRole,o.drillCapabilities&&o.drillCapabilities.roles,t)),u,e.featureSwitches,a,e.bypassConcatenation,e.orderIndependentSelectorMatching);return{dataViews:s=B.DataViewRegression.run({visualDataViews:s,dataRoles:u.dataRoles,objectDescriptors:r,objectDefinitions:i.objects,transformSelects:i.selects,applicableDataViewMappings:u.applicableRoleMappings,roleKindByQueryRef:u.roleKindByQueryRef,queryProjectionsByRole:u.queryProjectionsByRole,visualStyle:u.visualStyle,featureSwitches:e.featureSwitches}),warnings:a}},e.transformObjects=R,e.evaluateMetadataOnceDataViewObjectDefinitions=function(e,t,r,i,n,a,o){var u,e=B.DataViewObjectEvaluationUtils.groupObjectsBySelector(e);if(_.isEmpty(e.metadataOnce))return{dataViewObjects:void 0};for(var s=new B.DataViewObjectEvaluator(i,r),l=a&&o?B.createStaticEvalContext(a,o):B.createEmptyEvalContext(),c=n?{warnings:[]}:void 0,p=0,f=e.metadataOnce;p<f.length;p++){var d=f[p],h=d.selector&&d.selector.id;c&&(c.selector=d.selector);d=B.DataViewObjectEvaluationUtils.evaluateDataViewObjects(s,l,t,d.objects,c);d&&k.DataViewObjects.mergeObjects(u=u||{},d,h)}return c&&!_.isEmpty(c.warnings)?{dataViewObjects:u,warnings:c.warnings}:{dataViewObjects:u}},e.applyExpansionStates=O,e.addExpansionStateToDataViewHierarchy=f,e.createValueColumns=function(e,t,r){return U(e=void 0===e?[]:e),t&&(e.identityFields=t),r&&(e.source=r),e},e.setGrouped=U})(powerbi=powerbi||{}),(function(e){var n;function a(e,t){if(!_.isEmpty(e)){switch(t){case 1:var r=_.findIndex(e,(function(e){return e&&!e.isSubtotal&&e.identity})),i=e[r],n=e[r+1];break;case 2:r=_.findLastIndex(e,(function(e){return e&&!e.isSubtotal&&e.identity}));i=e[r],n=e[r-1]}return i&&i.restartKind===t?i:n&&n.restartKind===t?n:void 0}}function o(e){return{restartValues:e.restartValues,identityValues:n.ScopeIdentityExtractor.getValues(e.identity.expr),windowKind:(function(e){switch(e){case 1:return 2;case 2:return 1}})(e.restartKind)}}((n=e.data||(e.data={})).WindowExpansionStateBuilder||(n.WindowExpansionStateBuilder={})).fromDataview=function(e){if(e&&e.matrix&&e.matrix.rows&&e.matrix.rows.root&&!_.isEmpty(e.matrix.rows.levels))return _.every(e.matrix.rows.levels,(function(e){return 1===_.size(e.sources)})),{levels:_.map(e.matrix.rows.levels,(function(e){return{identityKeys:e.sources[0].identityExprs}})),root:(function t(e){var r=[];var i=a(e.children,1);i&&r.push(o(i));var i=a(e.children,2);i&&r.push(o(i));i=_.filter(e.children,(function(e){return _.some(e.children,(function(e){return e.identity&&!e.isSubtotal}))}));return{identityValues:e.identity&&e.identity.expr&&n.ScopeIdentityExtractor.getValues(e.identity.expr),children:_.map(i,(function(e){return t(e)})),windowValues:r}})(e.matrix.rows.root)}}})(powerbi=powerbi||{}),(function(e){(e=e.data||(e.data={})).createDisplayNameGetter=function(t){return function(e){return e.get(t)}},e.getDisplayName=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?e:void 0}})(powerbi=powerbi||{}),(function(e){var t;t=e.data||(e.data={}),(e=t.InteractiveQueryCachingSettings||(t.InteractiveQueryCachingSettings={}))[e.Default=0]="Default",e[e.BypassCache=1]="BypassCache",(t=t.CacheOptions||(t.CacheOptions={}))[t.None=0]="None",t[t.AllowCache=1]="AllowCache",t[t.AllowQuery=2]="AllowQuery",t[t.CacheResult=4]="CacheResult",t[t.PreventRefresh=8]="PreventRefresh"})(powerbi=powerbi||{}),(function(e){var o,i;(o=e.data||(e.data={})).isFilterComparisonPattern=function(e){return void 0!==e.arg},(function(){(o.SQFilterBuilder||(o.SQFilterBuilder={})).fromFilter=function(e){var t={condition:i.visit(e,r.instance)};return _.isEmpty(e.target)||(t.target=_.map(e.target,(function(e){return o.SQExprBuilder.fieldExpr(e)}))),t};var r=(e.prototype.visitIn=function(e){return o.SQExprBuilder.inValues(_.map(e.args,(function(e){return o.SQExprBuilder.fieldExpr(e)})),_.map(e.values,(function(e){return _.map(e,(function(e){return o.SQExprBuilder.typedConstant(e.value,e.type)}))})))},e.prototype.visitBetween=function(e){if(e&&e.lower&&e.upper){var t=o.SQExprBuilder.dateSpan(e.lower.unit,o.SQExprBuilder.dateTime(e.lower.value)),r=o.SQExprBuilder.dateSpan(e.upper.unit,o.SQExprBuilder.dateTime(e.upper.value));return o.SQExprBuilder.between(o.SQExprBuilder.fieldExpr(e.arg),t,r)}},e.prototype.visitRelativeDateRange=function(e){return o.RelativeDateFilterPattern.buildFilterCondition({field:o.SQExprBuilder.fieldExpr(e.arg),options:e.options})},e.prototype.visitComposite=function(e){return null},e.prototype.visitTopN=function(e){return null},e.prototype.visitComplex=function(e){},e.prototype.visitAdvanced=function(e){},e.prototype.visitCompare=function(e){},e.prototype.visitHierarchical=function(e){},e.instance=new e,e);function e(){}})(),(function(){(o.SQFilterConverter||(o.SQFilterConverter={})).asFilterPattern=function(e,t){if(e){var r=e.where();if(r){var i=new a(t),n=e.from();return r.map((function(e){var t=i.tryMatchPattern(e,n);if(t){t={condition:t};return _.isEmpty(e.target)||(t.target=_.map(e.target,(function(e){return o.SQExprConverter.asFieldPattern(e)}))),t}}))}}};var a=(e.prototype.tryMatchPattern=function(e,t){var r;if(r=this.matchTopN(e,t))return r;var i=e&&e.condition;return i?(r=this.tryMatchExpr(i,2))?r:(r=this.tryMatchComplex(e,t))||void 0:void 0},e.prototype.tryMatchExpr=function(e,t){var r;return(r=this.matchBasicFilter(e))||(r=this.matchRelativeRange(e,o.RelativeFilterType.Date))||(r=this.matchRelativeRange(e,o.RelativeFilterType.Time))||(r=this.matchDateRange(e))||(r=this.matchAdvanced(e))||(r=this.matchCompareOperator(e))||1!==t&&(r=this.tryMatchHierarchical(e))||(r=this.matchComposite(e,t))?r:void 0},e.prototype.tryMatchComplex=function(e,t){t=o.PassthroughFilterPattern.extractParametersFromFilter(e,t);if(t)return{complex:{args:_.map(t.fieldsBeingFiltered,(function(e){return o.SQExprConverter.asFieldPattern(e)}))}}},e.prototype.matchBasicFilter=function(e){var t=!1;if(o.SQExpr.isNot(e)&&(t=!0,e=e.arg),o.SQExpr.isIn(e)&&!e.table&&e.values)return{in:{args:_.map(e.args,(function(e){return o.SQExprConverter.asFieldPattern(e)})),values:_.map(e.values,(function(e){return _.map(e,(function(e,t){return{value:e.value,type:e.type}}))})),not:t}}},e.prototype.matchDateRange=function(e){if(o.SQExpr.isBetween(e))return o.SQExpr.isDateSpan(e.lower)&&o.SQExpr.isDateSpan(e.upper)?{between:{arg:o.SQExprConverter.asFieldPattern(e.arg),lower:{value:e.lower.arg.value,unit:e.lower.unit},upper:{value:e.upper.arg.value,unit:e.upper.unit}}}:void 0},e.prototype.matchTopN=function(e,t){if(e&&t){t=o.TopNFilterPattern.extractParametersFromFilter(e,t);if(t)return{topN:{fieldBeingFiltered:o.SQExprConverter.asFieldPattern(t.fieldBeingFiltered),isTop:t.isTop,itemCount:t.itemCount,orderByField:o.SQExprConverter.asFieldPattern(t.orderByField)}}}},e.prototype.matchRelativeRange=function(e,t){t=o.RelativeDateFilterPattern.extractParametersFromCondition(e,t);if(t)return{relativeDateRange:{arg:o.SQExprConverter.asFieldPattern(t.field),options:t.options}}},e.prototype.matchCompareOperator=function(e){var t=e,r=!1;if(o.SQExpr.isNot(e)&&(t=e.arg,r=!0),o.SQExpr.isCompare(t)||o.SQExpr.isContains(t)||o.SQExpr.isStartsWith(t)){e=this.getValuePattern(t.left,t.right);if(e)return{compareOperator:{arg:o.SQExprConverter.asFieldPattern(t.left),filterOperator:this.mapFromSQExprKindToFilterOperator(t,r),condition:e}}}},e.prototype.getValuePattern=function(e,t){if(o.SQExpr.isDateSpan(t)){var r=t.arg;if(o.SQExpr.isConstant(r))return{dateSpan:{value:r.value,unit:t.unit}}}if(o.SQExpr.isConstant(t))return{constant:{value:t.value,type:t.type}};if(o.SQExpr.isDefaultValue(t)){e=o.SQExprUtils.getDefaultValue(e,this.schema);return{defaultValue:{value:e.value,type:e.type}}}return o.SQExpr.isAnyValue(t)?{anyValue:{}}:void 0},e.prototype.matchAdvanced=function(e){if(o.SQExpr.isAnd(e)||o.SQExpr.isOr(e)){var t=o.SQExpr.isAnd(e)?0:1,r=this.matchAdvanced(e.left)||this.matchCompareOperator(e.left);if(r){e=this.matchAdvanced(e.right)||this.matchCompareOperator(e.right);if(e)return{advancedOperator:{logicalOperator:t,left:r.advancedOperator||r.compareOperator,right:e.advancedOperator||e.compareOperator}}}}},e.prototype.mapFromSQExprKindToFilterOperator=function(e,t){var r=0;switch(e.kind){case 12:r=t?6:5;break;case 14:r=t?8:7;break;case 13:var i=e;0===i.comparison?r=o.SQExpr.isConstant(i.right)&&null==i.right.value?t?12:11:o.SQExpr.isConstant(i.right)&&""===i.right.value?t?14:13:t?10:9:1===i.comparison?r=3:2===i.comparison?r=4:3===i.comparison?r=1:4===i.comparison&&(r=2);break;default:r=0}return r},e.prototype.tryMatchHierarchical=function(e){var t,r,i=[],n=[],a={hierarchical:{included:i,excluded:n}};if(e instanceof o.SQAndExpr){if(t=this.tryGetHierarchicalNode(e.left,!1)||this.tryGetHierarchicalNode(e.right,!1),r=this.tryGetHierarchicalNode(e.left,!0)||this.tryGetHierarchicalNode(e.right,!0),!t||!r)return}else if(t=this.tryGetHierarchicalNode(e,!1),r=this.tryGetHierarchicalNode(e,!0),!t&&!r)return;return(!t||this.matchHierarchicalNode(t,!1,i))&&(!r||this.matchHierarchicalNode(r,!0,n))?a:void 0},e.prototype.tryGetHierarchicalNode=function(e,t){if(t){if(e instanceof o.SQNotExpr){if(e.arg instanceof o.SQInExpr||e.arg instanceof o.SQAndExpr)return e.arg}else if(e instanceof o.SQAndExpr)return e}else if(e instanceof o.SQOrExpr||e instanceof o.SQInExpr)return e},e.prototype.matchHierarchicalNode=function(e,t,r){if(e instanceof o.SQInExpr)return this.matchHierarchicalExpr(e,t,r);e=this.tryGetHierarchicalNode(e,t);if(!e)return!1;e instanceof o.SQOrExpr||o.SQAndExpr;return this.matchHierarchicalExpr(e.left,t,r)&&this.matchHierarchicalExpr(e.right,t,r)},e.prototype.matchHierarchicalExpr=function(e,t,r){if(e instanceof o.SQInExpr){var i=this.matchBasicFilter(e);return i?(r.push(i.in),i.in.not=t,!0):!1}return this.matchHierarchicalNode(e,t,r)},e.prototype.matchComposite=function(e,t){var r=!1;o.SQExpr.isNot(e)&&(r=!0,e=e.arg);var i=o.SQExpr.isOr(e);if((!i||0!==t)&&(o.SQExpr.isOr(e)||o.SQExpr.isAnd(e))){t=i?1:0,i=this.tryMatchExpr(e.left,t),e=this.tryMatchExpr(e.right,t);if(i&&e)return{composite:{not:r,operator:t,filters:[i,e]}}}},e);function e(e){this.schema=e}})(),(i=o.FilterPattern||(o.FilterPattern={})).visit=function(e,t){var r,i,n,a;return(e=e.condition).in?(r=e.in,t.visitIn(r)):e.between?(r=e.between,t.visitBetween(r)):e.relativeDateRange?(i=e.relativeDateRange,t.visitRelativeDateRange(i)):e.compareOperator?(i=e.compareOperator,t.visitCompare(i)):e.advancedOperator?(n=e.advancedOperator,t.visitAdvanced(n)):e.composite?(n=e.composite,t.visitComposite(n)):e.topN?(a=e.topN,t.visitTopN(a)):e.complex?(a=e.complex,t.visitComplex(a)):e.hierarchical?(e=e.hierarchical,t.visitHierarchical(e)):void 0}})(powerbi=powerbi||{}),(function(e){!(function(E){var f,h;!(function(r){function e(e){return r.aggregate(t(e),e.aggregate)}function t(e){return r.columnRef(a(e),e.name)}function i(e){return r.aggregate(r.groupRef(e.name,a(e),y(e.groupedColumns)),e.aggregate)}function n(e){return r.groupRef(e.name,a(e),y(e.groupedColumns))}function a(e){return r.entity(e.schema,e.entity,e.entityVar)}function o(e){return r.aggregate(a(e),e.aggregate)}function u(e){var t=a(e.source),t=r.propertyVariationSource(t,e.variationName,e.source.name);return r.hierarchy(t,e.hierarchy.name)}function s(e){var t=a(e.source),t=r.propertyVariationSource(t,e.variationName,e.source.name),t=r.hierarchy(t,e.level.name);return r.hierarchyLevel(t,e.level.level)}function l(e){return e.subqueryRef?r.columnRef(r.subqueryRef(e.subqueryRef),e.name):e.subquery?r.columnRef(r.subqueryRef(e.subquery),e.name):void 0}function c(e){return r.aggregate(r.columnRef(r.subqueryRef(e.subqueryRef),e.name),e.aggregate)}function p(e){return r.columnRef(r.transformTableRef(e.transformTable.name),e.name)}function f(e){return r.aggregate(d(e),e.aggregate)}function d(e){return r.hierarchyLevel(h(e),e.level)}function h(e){return r.hierarchy(a(e),e.name)}function m(e){return r.arithmetic(r.fieldExpr(e.left),r.fieldExpr(e.right),e.operator)}function v(e){return r.typedConstant(e.value,e.type)}function g(e){return r.sparklineData(r.fieldExpr(e.measure),_.map(e.grouping,(function(e){return r.fieldExpr(e)})))}function y(e){return _.map(e,(function(e){return r.fieldExpr(e)}))}r.fromColumnAggr=e,r.fromColumn=t,r.fromGroupingColumnAggr=i,r.fromGroupingColumn=n,r.fromEntity=a,r.fromEntityAggr=o,r.fromColumnHierarchyVariation=u,r.fromColumnHierarchyLevelVariation=s,r.fromColumnSubquery=l,r.fromColumnAggrSubquery=c,r.fromColumnTransformRef=p,r.fromHierarchyLevelAggr=f,r.fromHierarchyLevel=d,r.fromHierarchy=h,r.fromArithmetic=m,r.fromConstant=v,r.fromSparklineData=g;var x=(S.prototype.visitColumn=t,S.prototype.visitColumnAggr=e,S.prototype.visitGroupingColumn=n,S.prototype.visitGroupingColumnAggr=i,S.prototype.visitColumnHierarchyVariation=u,S.prototype.visitColumnHierarchyLevelVariation=s,S.prototype.visitColumnSubquery=l,S.prototype.visitColumnAggrSubquery=c,S.prototype.visitColumnTransformRef=p,S.prototype.visitEntity=a,S.prototype.visitEntityAggr=o,S.prototype.visitHierarchy=h,S.prototype.visitHierarchyLevel=d,S.prototype.visitHierarchyLevelAggr=f,S.prototype.visitMeasure=function(e){return r.measureRef(this.visitEntity(e),e.name)},S.prototype.visitPercentile=function(e){var t=r.fieldExpr(e.arg);return r.percentile(t,e.k,e.exclusive)},S.prototype.visitPercentOfGrandTotal=function(e){e=r.fieldExpr(e.baseExpr);return r.arithmetic(e,r.scopedEval(e,[]),3)},S.prototype.visitPercentOfRoleTotal=function(e){var t=r.fieldExpr(e.baseExpr);return r.arithmetic(t,r.scopedEval(t,_.map(e.roles,(function(e){return r.roleRef(e)}))),3)},S.prototype.visitSelectRef=function(e){return r.selectRef(e.expressionName)},S.prototype.visitTransformOutputRoleRef=function(e){return r.transformOutputRoleRef(e.expressionName)},S.prototype.visitFilteredEval=function(e){return r.filteredEval(r.fieldExpr(e.baseExpr),_.map(e.filters,(function(e){return E.SQFilterBuilder.fromFilter(e)})))},S.prototype.visitArithmetic=m,S.prototype.visitConstant=v,S.prototype.visitSparklineData=g,S.instance=new S,S);function S(){}r.FieldExprToSQExprVisitor=x})(f=E.SQExprBuilder||(E.SQExprBuilder={})),(h=E.SQExprConverter||(E.SQExprConverter={})).asFieldPattern=function(e,t){return e.accept(new d(t))};var r,d=(r=E.DefaultSQExprVisitor,__extends(e,r),e.prototype.visitColumnRef=function(e){var t=e.source.accept(o.instance);if(t){if(t.entity){var r=t.entity;return r.name=e.ref,{column:r}}return t.subquery?t.subquery.variable?{columnSubquery:{name:e.ref,subqueryRef:t.subquery.variable}}:{columnSubquery:{name:e.ref,subquery:t.subquery.query}}:t.transform?{columnTransformRef:{name:e.ref,transformTable:t.transform}}:void 0}},e.prototype.visitMeasureRef=function(e){var t=e.source.accept(o.instance);if(t&&t.entity){t=t.entity;return t.name=e.ref,{measure:t}}},e.prototype.visitEntity=function(e){var t={schema:e.schema,entity:e.entity};return e.variable&&(t.entityVar=e.variable),{entity:t}},e.prototype.visitAggr=function(e){var t=e.arg.accept(this);if(t){if(t.column)return(r=t.column).aggregate=e.func,{columnAggr:r};if(t.columnAggr)return(r=t.columnAggr).aggregate=e.func,{columnAggr:r};if(t.groupingColumn)return(r=t.groupingColumn).aggregate=e.func,{groupingColumnAggr:r};if(t.groupingColumnAggr)return(r=t.groupingColumnAggr).aggregate=e.func,{groupingColumnAggr:r};if(t.hierarchyLevel)return(r=t.hierarchyLevel).aggregate=e.func,{hierarchyLevelAggr:r};if(t.columnHierarchyLevelVariation)return(r=t.columnHierarchyLevelVariation.level).aggregate=e.func,{hierarchyLevelAggr:r};if(t.columnSubquery)return(r=t.columnSubquery).aggregate=e.func,{columnAggrSubquery:r}}var r,t=e.arg.accept(o.instance);if(t&&t.entity)return(r=t.entity).aggregate=e.func,{entityAggr:r}},e.prototype.visitPercentile=function(e){return{percentile:{arg:e.arg.accept(this),k:e.k,exclusive:e.exclusive}}},e.prototype.visitGroupRef=function(e){var t=e.source.accept(o.instance);if(t&&t.entity){var r=t.entity;r.name=e.ref,r.groupedColumns=[];for(var i=0,n=e.groupedExprs;i<n.length;i++){var a=n[i].accept(this);(a.column||a.groupingColumn||a.hierarchyLevel)&&r.groupedColumns.push(a)}return{groupingColumn:r}}},e.prototype.visitHierarchy=function(e){var t=e.arg.accept(o.instance);if(t){if(t.entity)return{hierarchy:{entity:t.entity.entity,name:e.hierarchy,schema:t.entity.schema}};if(t.variation&&t.variation.column){var r=t.variation;if(E.SQExpr.isPropertyVariationSource(e.arg)){var i=e.arg;if(E.SQExpr.isEntity(i.arg)){i=i.arg,i=this.schema.schema(r.column.schema).findTargetEntityOfVariation(i.entity,r.column.name,r.variationName);if(i)return{columnHierarchyVariation:{source:__assign({},r.column),hierarchy:{schema:r.column.schema,entity:i.name,name:e.hierarchy},variationName:t.variation.variationName}}}}}}},e.prototype.visitHierarchyLevel=function(e){var t,r=e.arg.accept(a.instance);if(r)return r.hierarchy&&(t={entity:r.hierarchy.entity,schema:r.hierarchy.schema,name:r.hierarchy.name,level:e.level}),r.variation?(this.schema&&(e=r.variation,(e=this.schema.schema(r.variation.column.schema).findTargetEntityOfVariation(t.entity,e.column.name,e.variationName))&&(t.entity=e.name)),{columnHierarchyLevelVariation:{source:{entity:r.variation.column.entity,schema:r.variation.column.schema,name:r.variation.column.name},level:t,variationName:r.variation.variationName}}):{hierarchyLevel:t}},e.prototype.visitArithmetic=function(e){if(E.SQExpr.isScopedEval(e.right)){var t={percentOfGrandTotal:{baseExpr:e.left.accept(this)}};if(E.SQExpr.equals(e,f.fieldExpr(t)))return t;t=e.right.scope;return!_.isEmpty(t)&&_.every(t,(function(e){return E.SQExpr.isRoleRef(e)}))?{percentOfRoleTotal:{baseExpr:e.left.accept(this),roles:_.map(t,(function(e){return e.role}))}}:void 0}return{arithmetic:{left:e.left.accept(this),right:e.right.accept(this),operator:e.operator}}},e.prototype.visitSelectRef=function(e){return{selectRef:{expressionName:e.expressionName}}},e.prototype.visitTransformOutputRoleRef=function(e){return{transformOutputRoleRef:{expressionName:e.role}}},e.prototype.visitFilteredEval=function(e){var t=this,r=_.map(e.filters,(function(e){e=E.SQFilterConverter.asFilterPattern(E.SemanticFilter.fromSQFromAndSQFilters(new E.SQFrom,[e]),t.schema);if(e)return e.length,e[0]}));return{filteredEval:{baseExpr:e.expression.accept(this),filters:r}}},e.prototype.visitConstant=function(e){return{constant:{value:e.value,type:e.type}}},e.prototype.visitSparklineData=function(e){var t=this;return{sparklineData:{measure:e.measure.accept(this),grouping:_.map(e.grouping,(function(e){return e.accept(t)}))}}},e);function e(e){var t=r.call(this)||this;return t.schema=e,t}var t,o=(t=E.DefaultSQExprVisitor,__extends(i,t),i.prototype.visitEntity=function(e){var t={schema:e.schema,entity:e.entity};return e.variable&&(t.entityVar=e.variable),{entity:t}},i.prototype.visitPropertyVariationSource=function(e){var t=e.arg;if(t instanceof E.SQEntityExpr){var r={schema:t.schema,entity:t.entity,name:e.property};return t.variable&&(r.entityVar=t.variable),{variation:{column:r,variationName:e.name}}}},i.prototype.visitSubqueryRef=function(e){return e.variable?{subquery:{variable:e.variable}}:{subquery:{query:e.query}}},i.prototype.visitTransformTableRef=function(e){return e.source,{transform:{name:null==e?void 0:e.source}}},i.instance=new i,i);function i(){return null!==t&&t.apply(this,arguments)||this}var n,a=(n=E.DefaultSQExprVisitor,__extends(u,n),u.prototype.visitHierarchy=function(e){var t,r,i=e.arg.accept(o.instance);return i.variation?(t={name:e.hierarchy,schema:i.variation.column.schema,entity:i.variation.column.entity},r=i.variation):t={name:e.hierarchy,schema:i.entity.schema,entity:i.entity.entity},{hierarchy:t,variation:r}},u.instance=new u,u);function u(){return null!==n&&n.apply(this,arguments)||this}!(function(r){function i(e,t,r){var i,n,a,o,u,s,l,c,p,f,d,r=e instanceof E.SQExpr?h.asFieldPattern(e,r):e;return r.column?(e=r.column,t.visitColumn(e)):r.columnAggr?(i=r.columnAggr,t.visitColumnAggr(i)):r.groupingColumn?(i=r.groupingColumn,t.visitGroupingColumn(i)):r.groupingColumnAggr?(n=r.groupingColumnAggr,t.visitGroupingColumnAggr(n)):r.columnHierarchyVariation?(n=r.columnHierarchyVariation,t.visitColumnHierarchyVariation(n)):r.columnHierarchyLevelVariation?(a=r.columnHierarchyLevelVariation,t.visitColumnHierarchyLevelVariation(a)):r.columnSubquery?(a=r.columnSubquery,t.visitColumnSubquery(a)):r.columnAggrSubquery?(o=r.columnAggrSubquery,t.visitColumnAggrSubquery(o)):r.columnTransformRef?(o=r.columnTransformRef,t.visitColumnTransformRef(o)):r.entity?(u=r.entity,t.visitEntity(u)):r.entityAggr?(u=r.entityAggr,t.visitEntityAggr(u)):r.hierarchy?(s=r.hierarchy,t.visitHierarchy(s)):r.hierarchyLevel?(s=r.hierarchyLevel,t.visitHierarchyLevel(s)):r.hierarchyLevelAggr?(l=r.hierarchyLevelAggr,t.visitHierarchyLevelAggr(l)):r.measure?(l=r.measure,t.visitMeasure(l)):r.percentile?(c=r.percentile,t.visitPercentile(c)):r.percentOfGrandTotal?(c=r.percentOfGrandTotal,t.visitPercentOfGrandTotal(c)):r.percentOfRoleTotal?(p=r.percentOfRoleTotal,t.visitPercentOfRoleTotal(p)):r.selectRef?(p=r.selectRef,t.visitSelectRef(p)):r.transformOutputRoleRef?(f=r.transformOutputRoleRef,t.visitTransformOutputRoleRef(f)):r.filteredEval?(f=r.filteredEval,t.visitFilteredEval(f)):r.arithmetic?(d=r.arithmetic,t.visitArithmetic(d)):r.constant?(d=r.constant,t.visitConstant(d)):r.sparklineData?(r=r.sparklineData,t.visitSparklineData(r)):void 0}function n(e){e=r.visit(e,c.instance);return e&&_.size(e),null==e?void 0:e[0]}function a(e){e=r.visit(e,s.instance);return e&&_.size(e),null==e?void 0:e[0]}r.visit=i,r.toColumnRefSQExpr=function(e){return f.columnRef(f.entity(e.schema,e.entity,e.entityVar),e.name)},r.getAggregate=function(e,t){return i(e,o.instance,t)},r.getBaseSQExpr=function(e,t){return i(e,u.instance,t)},r.hasFieldExprName=function(e){return void 0!==(e.column||e.columnAggr||e.groupingColumn||e.groupingColumnAggr||e.measure)},r.getPropertyName=n,r.getPropertyNames=function(e){return r.visit(e,c.instance)},r.getHierarchyName=function(e){if(e=e.hierarchy)return e.name},r.getProperty=function(e){return e.columnHierarchyLevelVariation?e.columnHierarchyLevelVariation.source:e.column||e.groupingColumn||e.groupingColumnAggr||e.measure||e.columnAggr},r.getFieldExprName=function(e){var t=n(e);return t||a(e).entity},r.getSchema=function(e){return(e=r.getSchemas(e))&&_.size(e),null==e?void 0:e[0]},r.getSchemas=function(e){return e=r.toFieldExprEntityItemPatterns(e),_.isEmpty(e)?void 0:_.map(e,(function(e){return e.schema}))},r.toFieldExprEntityPattern=function(e){return(e=r.visit(e,s.instance))&&_.size(e),null==e?void 0:e[0]},r.toFieldExprEntityPatterns=function(e){return r.visit(e,s.instance)},r.toFieldExprEntityItemPattern=a,r.toFieldExprEntityItemPatterns=function(e){return r.visit(e,s.instance)},r.isPercentRoleTotalExpr=function(e){return E.SQExpr.isArithmetic(e)&&E.SQExpr.isScopedEval(e.right)&&!_.isEmpty(e.right.scope)&&_.every(e.right.scope,(function(e){return E.SQExpr.isRoleRef(e)}))},r.isPercentOfGrandTotal=function(e,t){return!(!E.SQExpr.isArithmetic(e)||!E.SQExpr.isScopedEval(e.right))&&(t={percentOfGrandTotal:{baseExpr:e.left.accept(new d(t))}},E.SQExpr.equals(e,f.fieldExpr(t)))};var o=(e.prototype.visitColumn=function(e){},e.prototype.visitColumnAggr=function(e){return e.aggregate},e.prototype.visitGroupingColumn=function(e){},e.prototype.visitGroupingColumnAggr=function(e){return e.aggregate},e.prototype.visitColumnHierarchyVariation=function(e){},e.prototype.visitColumnHierarchyLevelVariation=function(e){},e.prototype.visitColumnSubquery=function(e){},e.prototype.visitColumnAggrSubquery=function(e){return e.aggregate},e.prototype.visitColumnTransformRef=function(e){},e.prototype.visitEntity=function(e){},e.prototype.visitEntityAggr=function(e){return e.aggregate},e.prototype.visitHierarchy=function(e){},e.prototype.visitHierarchyLevel=function(e){},e.prototype.visitHierarchyLevelAggr=function(e){return e.aggregate},e.prototype.visitMeasure=function(e){},e.prototype.visitSelectRef=function(e){},e.prototype.visitPercentile=function(e){},e.prototype.visitPercentOfGrandTotal=function(e){return E.SQExprInfo.getAggregate(f.fieldExpr(e.baseExpr))},e.prototype.visitPercentOfRoleTotal=function(e){return E.SQExprInfo.getAggregate(f.fieldExpr(e.baseExpr))},e.prototype.visitTransformOutputRoleRef=function(e){},e.prototype.visitFilteredEval=function(e){return E.SQExprInfo.getAggregate(f.fieldExpr(e.baseExpr))},e.prototype.visitArithmetic=function(e){},e.prototype.visitConstant=function(e){},e.prototype.visitSparklineData=function(e){},e.instance=new e,e);function e(){}var u=(t.prototype.visitColumn=function(e){return f.fromColumn(e)},t.prototype.visitColumnAggr=function(e){return f.fromColumnAggr(e)},t.prototype.visitGroupingColumn=function(e){return f.fromGroupingColumn(e)},t.prototype.visitGroupingColumnAggr=function(e){return f.fromGroupingColumnAggr(e)},t.prototype.visitColumnHierarchyVariation=function(e){return f.fromColumnHierarchyVariation(e)},t.prototype.visitColumnHierarchyLevelVariation=function(e){return f.fromColumnHierarchyLevelVariation(e)},t.prototype.visitColumnSubquery=function(e){return f.fromColumnSubquery(e)},t.prototype.visitColumnAggrSubquery=function(e){return f.fromColumnAggrSubquery(e)},t.prototype.visitColumnTransformRef=function(e){return f.fromColumnTransformRef(e)},t.prototype.visitEntity=function(e){return f.fromEntity(e)},t.prototype.visitEntityAggr=function(e){return f.fromEntityAggr(e)},t.prototype.visitHierarchy=function(e){return f.fromHierarchy(e)},t.prototype.visitHierarchyLevel=function(e){return f.fromHierarchyLevel(e)},t.prototype.visitHierarchyLevelAggr=function(e){return f.fromHierarchyLevelAggr(e)},t.prototype.visitMeasure=function(e){return f.measureRef(this.visitEntity(e),e.name)},t.prototype.visitSelectRef=function(e){return f.selectRef(e.expressionName)},t.prototype.visitPercentile=function(e){return r.visit(f.fieldExpr(e.arg),this)},t.prototype.visitPercentOfGrandTotal=function(e){return r.visit(f.fieldExpr(e.baseExpr),this)},t.prototype.visitPercentOfRoleTotal=function(e){return r.visit(f.fieldExpr(e.baseExpr),this)},t.prototype.visitTransformOutputRoleRef=function(e){return f.transformOutputRoleRef(e.expressionName)},t.prototype.visitFilteredEval=function(e){return r.visit(f.fieldExpr(e.baseExpr),this)},t.prototype.visitArithmetic=function(e){return f.fromArithmetic(e)},t.prototype.visitConstant=function(e){},t.prototype.visitSparklineData=function(e){return f.fromSparklineData(e)},t.instance=new t,t);function t(){}var s=(l.prototype.visitColumn=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitColumnAggr=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitGroupingColumn=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitGroupingColumnAggr=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitColumnHierarchyVariation=function(e){return[l.toEntityItemExprPattern(e.source)]},l.prototype.visitColumnHierarchyLevelVariation=function(e){return[l.toEntityItemExprPattern(e.source)]},l.prototype.visitColumnSubquery=function(e){},l.prototype.visitColumnAggrSubquery=function(e){},l.prototype.visitColumnTransformRef=function(e){},l.prototype.visitEntity=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitEntityAggr=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitHierarchy=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitHierarchyLevel=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitHierarchyLevelAggr=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitMeasure=function(e){return[l.toEntityItemExprPattern(e)]},l.prototype.visitSelectRef=function(e){},l.prototype.visitPercentile=function(e){return r.visit(e.arg,this)},l.prototype.visitPercentOfGrandTotal=function(e){return r.visit(e.baseExpr,this)},l.prototype.visitPercentOfRoleTotal=function(e){return r.visit(e.baseExpr,this)},l.prototype.visitTransformOutputRoleRef=function(e){},l.prototype.visitFilteredEval=function(e){return r.visit(e.baseExpr,this)},l.prototype.visitArithmetic=function(e){var t=r.visit(e.left,this),e=r.visit(e.right,this),e=t&&e?__spreadArray(__spreadArray([],t),e):null!=t?t:e;return _.isEmpty(e)?void 0:e},l.prototype.visitConstant=function(e){},l.prototype.visitSparklineData=function(e){var t=this;return __spreadArray(__spreadArray([],r.visit(e.measure,this)),_.chain(e.grouping).map((function(e){return r.visit(e,t)})).flatten().value())},l.toEntityItemExprPattern=function(e){var t={schema:e.schema,entity:e.entity};return e.entityVar&&(t.entityVar=e.entityVar),t},l.instance=new l,l);function l(){}var c=(p.prototype.visitColumn=function(e){return[e.name]},p.prototype.visitColumnAggr=function(e){return[e.name]},p.prototype.visitGroupingColumn=function(e){return[e.name]},p.prototype.visitGroupingColumnAggr=function(e){return[e.name]},p.prototype.visitColumnHierarchyVariation=function(e){},p.prototype.visitColumnHierarchyLevelVariation=function(e){},p.prototype.visitColumnSubquery=function(e){return[e.name]},p.prototype.visitColumnAggrSubquery=function(e){return[e.name]},p.prototype.visitColumnTransformRef=function(e){return[e.name]},p.prototype.visitEntity=function(e){},p.prototype.visitEntityAggr=function(e){},p.prototype.visitHierarchy=function(e){},p.prototype.visitHierarchyLevel=function(e){},p.prototype.visitHierarchyLevelAggr=function(e){},p.prototype.visitMeasure=function(e){return[e.name]},p.prototype.visitSelectRef=function(e){},p.prototype.visitPercentile=function(e){return r.visit(e.arg,this)},p.prototype.visitPercentOfGrandTotal=function(e){return r.visit(e.baseExpr,this)},p.prototype.visitPercentOfRoleTotal=function(e){return r.visit(e.baseExpr,this)},p.prototype.visitTransformOutputRoleRef=function(e){},p.prototype.visitFilteredEval=function(e){return r.visit(e.baseExpr,this)},p.prototype.visitArithmetic=function(e){var t=r.visit(e.left,this),e=r.visit(e.right,this),e=t&&e?__spreadArray(__spreadArray([],t),e):null!=t?t:e;return _.isEmpty(e)?void 0:e},p.prototype.visitConstant=function(e){},p.prototype.visitSparklineData=function(e){var t=this;return __spreadArray(__spreadArray([],r.visit(e.measure,this)),_.chain(e.grouping).map((function(e){return r.visit(e,t)})).flatten().value())},p.instance=new p,p);function p(){}})(E.FieldExprPattern||(E.FieldExprPattern={}))})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){var t,r;t=e.data||(e.data={}),(r=t.SQExprBuilder||(t.SQExprBuilder={})).fieldExpr=function(e){return e=t.FieldExprPattern.visit(e,r.FieldExprToSQExprVisitor.instance)}})(powerbi=powerbi||{}),(function(b){var e,m,t,C,D,V;function i(e){for(var t=0,r=0,i=e.length;r<i;r++)e[r].isMeasure||++t;return t}function o(e,t,r){return!(!t||!e)&&(!(t.scriptResult&&(i=e.scriptResult,t.scriptResult,!i||!i.payloadBase64))&&(!(t.categorical&&!v(e,t.categorical,r))&&(!(t.tree&&!u(e,t.tree,r))&&(!(t.single&&(i=e.single,t.single,!i))&&!(t.table&&!(function(e,t,r){if(!e)return!1;if(t.rowCount){var i=t.rowCount.supported;if(i=r&&t.rowCount.preferred?t.rowCount.preferred:i){t=0;if(null!=g(t=e.rows&&e.rows.length?e.rows.length:t,i))return!1}}return!0})(e.table,t.table,r))))));var i}function v(e,t,r){var i=e.categorical;if(i){if(t.rowCount){e=t.rowCount.supported;if(e=r&&t.rowCount.preferred?t.rowCount.preferred:e){t=0;if(i.values&&i.values.length?t=i.values[0].values.length:i.categories&&i.categories.length&&(t=i.categories[0].values.length),null!=g(t,e))return}}return 1}}function u(e,t,r){e=e.metadata,t=t.depth,t=t&&r?t.preferred:t.supported;return null==g(i(e.columns),t)}function g(e,t,r){if(t)return!r&&void 0!==t.min&&t.min>e?m.conditionRangeTooSmall:void 0!==t.max&&t.max<e?m.conditionRangeTooLarge:void 0}function y(e,t){if(!_.isEmpty(e)&&!_.isEmpty(t)){var r={};e.forEach((function(e){r[e]=!0}));for(var i=[],n=0,a=t;n<a.length;n++){var o=a[n];o.name&&r[o.name]&&o.expr&&i.push(o.expr.getTargetEntity())}return i}}function R(e,t,r,i,n,a){for(var o=Object.keys(t),u=[],s=0,l=o.length;s<l;s++){var c=o[s],p=e[c]&&!_.isEmpty(e[c].activeProjectionRefs),f=t[c],d=!f.suppressDrill,h=g(x(c,e,d&&(null!=i?i:p)&&d),f);null!=h&&u.push({code:h,roleName:c}),null!=(h=(function(e,t,r,i){if(e&&void 0!==e.kind){var n=e.kind,t=r[t];if(t)for(var a=0,o=t.all();a<o.length;a++)if(i[o[a].queryRef]!==n)switch(n){case b.VisualDataRoleKind.Measure:return m.conditionKindExpectedMeasure;case b.VisualDataRoleKind.Grouping:return m.conditionKindExpectedGrouping;case b.VisualDataRoleKind.GroupingOrMeasure:return m.conditionKindExpectedGroupingOrMeasure}}})(f,c,e,r))&&u.push({code:h,roleName:c});p=e[c]&&e[c].all(),d=void 0;null!=(h=(function(e,t,r,i){if(e&&e.areHierarchicallyRelated&&!_.isEmpty(t)&&!_.isEmpty(r)&&i){r=y(_.map(t,(function(e){return e.queryRef})),r);return b.data.SQExprUtils.areHierarchicallyRelated(i,r)?void 0:m.conditionNotHierarchicallyRelated}})(f,p,d=!_.isEmpty(n)?_.map(p,(function(e){return n.withName(e.queryRef)})):d,a))&&u.push({code:h,roleName:c}),f.multiTableTupleFiltersSupported&&(!a||_.isEmpty(n)||_.isEmpty(d)||null!=(h=(function(e,t,r){if(1!==_.chain(t).map((function(e){return e.name})).uniq().value().length){e=y(_.map(e,(function(e){return e.queryRef})),t),t=_.chain(e).map((function(e){return r.schema(e.schema)})).uniq().value(),e=_.uniqWith(e,(function(e,t){return b.data.SQExpr.equals(e,t)}));return e.length<2?_.some(t,(function(e){return!e.capabilities||!e.capabilities.supportsInstanceFilters}))?m.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0:_.some(t,(function(e){return!e.capabilities||!e.capabilities.supportsMultiTableTupleFilters||!e.capabilities.supportsInstanceFilters}))?m.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0}})(p,d,a))&&u.push({code:h,roleName:c}))}return u}function x(e,t,r){e=t[e];return e?r?1:e.all().length:0}function c(e){return e?e.length:0}e=b.DataViewAnalysis||(b.DataViewAnalysis={}),C=jsCommon.ArrayExtensions,D=b.data.DataViewObjectDefinitions,V=b.data.DataViewObjectEvaluator,(t=m=e.DataViewMappingMatchErrorCode||(e.DataViewMappingMatchErrorCode={}))[t.conditionRangeTooLarge=0]="conditionRangeTooLarge",t[t.conditionRangeTooSmall=1]="conditionRangeTooSmall",t[t.conditionKindExpectedMeasure=2]="conditionKindExpectedMeasure",t[t.conditionKindExpectedGrouping=3]="conditionKindExpectedGrouping",t[t.conditionKindExpectedGroupingOrMeasure=4]="conditionKindExpectedGroupingOrMeasure",t[t.conditionNotHierarchicallyRelated=5]="conditionNotHierarchicallyRelated",t[t.conditionSchemaCapabilities_TupleFilters_InstanceFilters=6]="conditionSchemaCapabilities_TupleFilters_InstanceFilters",e.validateAndReshape=function(e,t){if(!t||0===t.length)return{dataView:e,isValid:!0};if(e){for(var r=0,i=t;r<i.length;r++){var n=i[r];if(o(e,n))return{dataView:e,isValid:!0};if(n.categorical&&e.categorical)return (function(e,t){var r,i=t.categorical,n=e.categorical;if(!n)return{isValid:!1};if(i.rowCount&&(r=i.rowCount.supported)&&r.max){var a=void 0,o=n.categories,u=r.max,s=void 0;if(o)for(var l=0,c=o.length;l<c;l++){var p,f=o[l];s=f.values.length,void 0!==u&&u<s&&(p=C.range(f.values,0,u-1),(a=a||{categories:[]}).categories.push({source:f.source,values:p}))}if(n.values&&0<n.values.length&&u&&(s=s||n.values[0].values.length,void 0!==u&&u<s)){(a=a||{}).values=b.data.DataViewTransform.createValueColumns();for(l=0,c=n.values.length;l<c;l++){var d=n.values[l],h={source:d.source,values:C.range(d.values,0,u-1)};void 0!==d.min&&(h.min=d.min),void 0!==d.max&&(h.max=d.max),void 0!==d.subtotal&&(h.subtotal=d.subtotal),a.values.push(h)}}a&&(e={metadata:e.metadata,categorical:a})}return v(e,t)?{dataView:e,isValid:!0}:null})(e,n);if(n.tree&&e.tree)return (function(e,t){if(u(e,t))return{dataView:e,isValid:!0};return{isValid:!1}})(e,n.tree);if(n.single&&e.single)return a=e,n.single,a.single?{dataView:a,isValid:!0}:{isValid:!1};if(n.table&&e.table)return a=e,n.table,a.table?{dataView:a,isValid:!0}:{isValid:!1}}if(e.metadata)return{dataView:{metadata:e.metadata},isValid:!0}}var a;return{isValid:!1}},e.countGroups=i,e.countMeasures=function(e){for(var t=0,r=0,i=e.length;r<i;r++)e[r].isMeasure&&++t;return t},e.supports=o,e.validateRange=g,e.chooseDataViewMappings=function(e,t,r,i,n,a,o,u){_.every(t,(function(e){return _.isPlainObject(e)}));var s=[],l=[];if(!_.isEmpty(t))for(var c=0,p=t.length;c<p;c++){var f=t[c],d=f.conditions,h=(function(e,a,t,o){if(_.isEmpty(e))return!0;if(!a||!o)return!1;var r=b.visuals.visualStyles.create(),u=b.data.createEmptyEvalContext(),s=new V(t,r);return _.every(e,(function(e){var t=null,r=o[e.objectName];if(!r)return!1;var i,n=a[e.objectName];return n&&(t=n.properties[e.propertyName]),!_.isEmpty(r)&&r[0]&&(i=D.getValue(o,e,r[0].selector)),!(!t||!i)&&s.evaluateProperty(u,t,i)}))})(f.requiredProperties,n,i,a),m=[];if(_.isEmpty(d))m.push({});else for(var v=0,g=d.length;v<g;v++){var y=d[v],x=R(e,y,r,void 0,o,u);if(_.isEmpty(x))m.push(y);else for(var S=0,E=x;S<E.length;S++){var w=E[S];w.mappingIndex=c,w.conditionIndex=v,l.push(w)}}!_.isEmpty(m)&&h&&((h=_.cloneDeep(f)).single&&(h={table:{rows:{for:{in:h.single.role}}}}),f=_.filter(m,(function(e){return 0<Object.keys(e).length})),_.isEmpty(f)||(h.conditions=f),s.push(h))}return{supportedMappings:C.emptyToNull(s),mappingErrors:C.emptyToNull(l)}},e.checkForConditionErrors=R,e.getPropertyCount=x,e.hasSameCategoryIdentity=function(e,t){if(e&&t&&e.categorical&&t.categorical){var r=e.categorical.categories,i=t.categorical.categories;if(r&&i&&r.length===i.length){for(var n=0,a=r.length;n<a;n++){var o=r[n].identity,u=i[n].identity,s=c(o);if(s!==c(u))return!1;for(var l=0;l<s;l++)if(!b.DataViewScopeIdentity.equals(o[l],u[l]))return!1}return!0}}return!1}})(powerbi=powerbi||{}),(function(e){var i,n;e=e.data||(e.data={}),i=jsCommon.ArrayExtensions,n=jsCommon.Lazy,(function(e){e.fromRoles=function(e){return new t(e)},e.equals=function(e,t){return e.key&&t.key&&e.key===t.key&&i.sequenceEqual(e.roles,t.roles,(function(e,t){return e===t}))};var t=(Object.defineProperty(r.prototype,"roles",{get:function(){return this._roles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),r);function r(e){var t=this;this.kind=0,this._roles=e,this._key=new n(function(){return JSON.stringify(t.roles)})}jsCommon.forceEnumeration(t.prototype)})(e.DataViewRoleWildcard||(e.DataViewRoleWildcard={}))})(powerbi=powerbi||{}),(function(u){var s,l;function o(e,t){if(!_.isEmpty(e)){for(var r=0,i=e;r<i.length;r++)var n=i[r],a=l.ScopeIdentityExtractor.getInExpr(n),o=o?l.SQExprBuilder.or(o,a):a||n;if(o&&t&&(o=u.data.SQExprBuilder.not(o)),!l.ScopeIdentityExtractor.containsSelectRef(o))return u.data.SemanticFilter.fromSQExpr(o)}}(s=u.DataViewScopeIdentity||(u.DataViewScopeIdentity={})).equals=function(e,t,r){return(e=e||null)===(t=t||null)||!e==!t&&l.SQExpr.equals(e.expr,t.expr,r)},s.containsComparison=function(e,t,r){if(!(e=e||null)!=!(t=t||null))return!1;var i=t.expr,e=e,n=l.ScopeIdentityExtractor.getKeyValuePairs(i),i=l.ScopeIdentityExtractor.getKeyValuePairs(e);if(!n||!i)return s.equals(l.createDataViewScopeIdentity(e),t,r);for(var a=0,o=i;a<o.length;a++){var u=(function(t){if(!_.some(n,(function(e){return l.SQExpr.equals(t,e,r)})))return{value:!1}})(o[a]);if("object"==typeof u)return u.value}return!0},s.filterFromIdentity=function(e,t){if(!_.isEmpty(e)){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i];r.push(a.expr)}return o(r,t)}},s.filterFromExprs=o,(function(t){var r=jsCommon.Lazy;t.createDataViewScopeIdentity=function(e){return new i(e)};var i=(Object.defineProperty(e.prototype,"expr",{get:function(){return this._expr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),e);function e(e){this.kind=1,this._expr=e,this._key=new r(function(){return t.SQExprShortSerializer.serialize(e)})}jsCommon.forceEnumeration(i.prototype)})(l=u.data||(u.data={}))})(powerbi=powerbi||{}),(function(e){var i,n;i=e.data||(e.data={}),n=jsCommon.Lazy,(function(e){e.matches=function(e,t){return!_.isEmpty(t)&&i.SQExprUtils.sequenceEqual(e.exprs,t)},e.equals=function(e,t){return e===t||i.SQExprUtils.sequenceEqual(e.exprs,t.exprs)},e.fromExprs=function(e){return new t(e)};var t=(Object.defineProperty(r.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),r);function r(e){this.kind=2,this._exprs=e,this._key=new n(function(){return i.SQExprShortSerializer.serializeArray(e)})}jsCommon.forceEnumeration(t.prototype)})(i.DataViewScopeTotal||(i.DataViewScopeTotal={}))})(powerbi=powerbi||{}),(function(e){var i,n;i=e.data||(e.data={}),n=jsCommon.Lazy,(function(e){e.matches=function(e,t){return!!(t=i.ScopeIdentityExtractor.getKeys(t.expr))&&i.SQExprUtils.sequenceEqual(e.exprs,t)},e.equals=function(e,t){return e===t||i.SQExprUtils.sequenceEqual(e.exprs,t.exprs)},e.fromExprs=function(e){return new t(e)};var t=(Object.defineProperty(r.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),r);function r(e){this.kind=3,this._exprs=e,this._key=new n(function(){return i.SQExprShortSerializer.serializeArray(e)})}jsCommon.forceEnumeration(t.prototype)})(i.DataViewScopeWildcard||(i.DataViewScopeWildcard={}))})(powerbi=powerbi||{}),(function(e){var i;e=e.data||(e.data={}),i=jsCommon.Lazy,(function(e){e.equals=function(e,t){return!e&&!t||!(!e||!t)&&(e===t||e.matchingOption===t.matchingOption)},e.matches=function(e,t){switch(e.matchingOption){case 0:return!0;case 1:return!t;case 2:return t}},e.create=function(e){return new t(e=null==e?0:e)};var t=(Object.defineProperty(r.prototype,"matchingOption",{get:function(){return this._matchingOption},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),r);function r(e){var t=this;this.kind=4,this._matchingOption=e,this._key=new i(function(){return JSON.stringify(t._matchingOption)})}jsCommon.forceEnumeration(t.prototype)})(e.DataViewWildcard||(e.DataViewWildcard={}))})(powerbi=powerbi||{}),(function(r){!(function(){(r.data||(r.data={})).createColorAllocatorCache=function(){return new e};var e=(t.prototype.get=function(e){for(var t=0,r=this.cache;t<r.length;t++){var i=r[t];if(i.key===e)return i.allocator}},t.prototype.register=function(e,t){return this.get(e),this.cache.push({key:e,allocator:t}),this},t);function t(){this.cache=[]}})()})(powerbi=powerbi||{}),(function(e){(e.data||(e.data={})).createEmptyEvalContext=function(){function e(e){}return{getExprValue:e,getExprColumn:e,getScopedEvalExprValue:e,getRoleValues:e}}})(powerbi=powerbi||{}),(function(V){var R,T,F,M,P;function v(e,t,r,i,n,a,o,u){return(2===P.targetDataViewKinds(t)?f:s)(e,r,i,n,a,o,u);function s(e,t,r,i,n,a,o){if(e.categorical,e.categorical){var u=b(0,e.categorical,t),s=b(1,e.categorical,t);if(!_.isEmpty(u)&&!_.isEmpty(s)){var l=u[0].source,c=s[0].source,p=!0,t=P.getRegressionUsage(r);t&&e.metadata.objects&&((m=t.combineSeries)&&(p=V.DataViewObjects.getValue(e.metadata.objects,m,!0)));t=N(C(u,s,p,!1));if(Q(t)){var f,d=t.xMin,h=t.xMax,m=D(s)||D(u);m&&(Q(f=N(C(u,s,p,!0)))?(d=_.min([d,f.xMin]),h=_.max([h,f.xMax])):m=!1);for(var v=[],g=0,y=t.lineDefs;g<y.length;g++){var x=y[g];v.push(I(x,+d,+h))}if(m)for(var S=[],E=0,w=f.lineDefs;E<w.length;E++){x=w[E];S.push(I(x,+d,+h))}return (function(e,t,r,i,n,a,o,u,s,l,c){a&&(a.length,n.length);var p,f=o.categorical.categories.for.in,o=o.categorical.values.group;o&&!_.isEmpty(o.select)&&(h=o.select[0].for?o.select[0].for.in:o.select[0].bind.to,p=o.by);if(h&&p){var d,f=((o={})[f]=!0,o),h=((o={})[h]=!0,o),o=((o={})[p]=!0,o),m=[];for(d in n){var v={values:n[d]};a&&(v.highlights=a[d]),m.push([v])}h=R.createCategoricalDataViewBuilder().withCategory({source:A(e,F,!1,"",f),values:i,identityFrom:{fields:[R.SQExprBuilder.columnRef(R.SQExprBuilder.entity("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:A(t,M,t.isMeasure,"Regression",o),values:r,identityFrom:{fields:[R.SQExprBuilder.columnRef(R.SQExprBuilder.entity("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:A(t,T.regressionYQueryName,t.isMeasure,"",h)}],data:m}).build();return R.DataViewTransform.transformObjects(h,1,u,s,[],l,c),h}})(l,c,p?["combinedRegressionSeries"]:e.categorical.values.source?(e=e.categorical.values.grouped(),_.map(e,(function(e){return e.name}))):_.map(s,(function(e){return e.source.queryName})),[d,h],v,S,r,i,n,a,o)}}}}function b(e,t,r){var i=l(e,t.values,r);if(!_.isEmpty(i))return i;i=t.categories;if(!_.isEmpty(i)){t=i[0],r=l(e,[t],r);return _.isEmpty(r)||1!==i.length&&!_.isEmpty(t.values)&&(_.isEmpty(t.objects)||void 0===c(t.objects[0]))?void 0:r}}function l(i,e,n){if(!_.isEmpty(e))return _.filter(e,(function(r){for(var e in r.source.roles){var t=(function(t){if(!r.source.roles[t])return"continue";var e=_.find(n,(function(e){return e.name===t}));return e&&e.cartesianKind===i?{value:!0}:void 0})(e);if("object"==typeof t)return t.value}return!1}))}function c(e){return V.DataViewObjects.getValue(e,R.scalarKeyMinPropertyIdentifier)}function p(e,t){var r=_.head(e.objects);if(r&&c(r))return _.map(e.objects,c);if(t&&e.highlights)return e.highlights;return e.values}function C(e,t,r,i){for(var n=[],a=_.map(e,(function(e){return p(e,i)})),o=_.map(t,(function(e){return p(e,i)})),u=1<e.length,s=0;s<o.length;s++){var l=u?a[s]:a[0],c=o[s];r&&0<n.length?(n[0].xValues=n[0].xValues.concat(l),n[0].yValues=n[0].yValues.concat(c)):n.push({xValues:l,yValues:c})}return n}function D(e){return _.some(e,(function(e){return null!=e.highlights}))}function f(e,t,r,i,n,a,o){e.matrix;var u=e.matrix;if(u&&u.rows&&u.rows.root&&0!==_.size(u.rows.root.children)&&!(2<_.size(u.rows.levels))){var s=x(0,u,t),l=x(1,u,t);if(void 0!==s&&void 0!==l){var c=s.valuesCol,p=l.valuesCol,t=(function(e,a,o){var t=e.matrix;if(t){var r=function(e,t){if(e.children)for(var r=0,i=e.children;r<i.length;r++){var n=i[r];n.isSubtotal||(t.xValues.push(a(n)),t.yValues.push(o(n)))}},i=[],e=t.rows;if(2===e.levels.length)for(var n=0,u=t.rows.root.children;n<u.length;n++){var s,l=u[n];l.isSubtotal||(s={xValues:[],yValues:[]},i.push(s),r(l,s))}else 1===e.levels.length&&(s={xValues:[],yValues:[]},i.push(s),r(e.root,s));return i}})(e,s.getValues,l.getValues),s=!0,l=P.getRegressionUsage(r);l&&e.metadata.objects&&((f=l.combineSeries)&&(s=V.DataViewObjects.getValue(e.metadata.objects,f,!0)));var f=t,f=N(f=s?(function(e){for(var t,r=[],i=0,n=e;i<n.length;i++){var a=n[i];_.isEmpty(a.xValues)||_.isEmpty(a.yValues)||(r[0]||r.push({xValues:[],yValues:[]}),(t=r[0].xValues).push.apply(t,a.xValues||[]),(t=r[0].yValues).push.apply(t,a.yValues||[]))}return r})(t):f);if(Q(f)){for(var d=f.xMin,h=f.xMax,m=[],v=0,g=f.lineDefs;v<g.length;v++){var y=g[v];m.push(I(y,+d,+h))}return (function(e,t,r,i,n,a,o,u,s,l){var c=a.matrix.rows.select[0].bind.to,p=a.matrix.rows.select[1].bind.to,f=a.matrix.values.select[0].for.in,a=((d={})[c]=!0,d),d=((c={})[f]=!0,c),c=((f={})[p]=!0,f),p={columns:[]},h={levels:[],root:{children:[]}},f={metadata:p,matrix:{rows:h,columns:void 0,valueSources:[]}},m=A(e,F,!1,"",a),v=A(t,M,t.isMeasure,"Regression",c),d=A(t,T.regressionYQueryName,t.isMeasure,"",d);p.columns.push(v),p.columns.push(m),p.columns.push(d),h.levels.push({sources:[v]}),h.levels.push({sources:[m]}),f.matrix.valueSources.push(d);for(var g=R.SQExprBuilder.columnRef(R.SQExprBuilder.entity("s","RegressionEntity"),"RegressionSeries"),y=R.SQExprBuilder.columnRef(R.SQExprBuilder.entity("s","RegressionEntity"),"RegressionCategories"),x=0;x<r.length;x++){var S=r[x],E={level:0,value:S,levelValues:[{levelSourceIndex:0,value:S}],children:[],childIdentityFields:[y],identity:R.createDataViewScopeIdentity(R.SQExprBuilder.and(g,R.SQExprBuilder.typedConstant(S,v.type)))};_.isEmpty(h.root.childIdentityFields)&&(h.root.childIdentityFields=[g]),h.root.children.push(E);for(var w=0;w<i.length;w++){var b=i[w],b={level:1,value:b,levelValues:[{levelSourceIndex:1,value:b}],values:{},identity:R.createDataViewScopeIdentity(R.SQExprBuilder.and(y,R.SQExprBuilder.typedConstant(b,m.type)))};b.values[0]={value:n[x][w]},E.children.push(b)}}return R.DataViewTransform.transformObjects(f,1,o,u,[],s,l),f})(c,p,!s&&2===u.rows.levels.length?_.chain(u.rows.root.children).filter((function(e){return!e.isSubtotal})).map((function(e){return e.value})).value():["combinedRegressionSeries"],[d,h],m,r,i,n,a,o)}}}}function x(e,t,r){var i,n,a=t.valueSources;if(0<=(o=(function(i,e,n){if(!_.isEmpty(e))return _.findIndex(e,(function(r){for(var e in r.roles){var t=(function(t){if(!r.roles[t])return"continue";var e=_.find(n,(function(e){return e.name===t}));return e&&e.cartesianKind===i?{value:!0}:void 0})(e);if("object"==typeof t)return t.value}}))})(e,t.valueSources,r))&&void 0!==o)i=a[o],n=function(e){return e.values[o].value};else{var o,r=(function(i,e,n){if(!_.isEmpty(e.root.children)){for(var t=-1,r=0,a=e.levels.length;r<a;r++){var o=e.levels[r];if(-1!==(t=_.findIndex(o.sources,(function(r){for(var e in r.roles){var t=(function(t){if(!r.roles[t])return"continue";var e=_.find(n,(function(e){return e.name===t}));return e&&e.cartesianKind===i?{value:!0}:void 0})(e);if("object"==typeof t)return t.value}}))))break}return{level:r,index:t}}})(e,t.rows,r);if(-1===(o=r?r.index:-1))return;i=t.rows.levels[r.level].sources[o],n=function(e){return e.levelValues[o].value}}return{valuesCol:i,getValues:n}}}function A(e,t,r,i,n){return{displayName:e.displayName+i,queryName:t,type:e.type,isMeasure:r,roles:n}}function N(e){for(var t=[],r=0,i=e;r<i.length;r++){var n,a,o,u,s=i[r],l=s.xValues,c=s.yValues;_.isEmpty(l)||_.isEmpty(c)?t.push(null):(n=p(l),s=p(c),!n||!s||!(a=(function(e,t){e=_.zip(e,t),t=_.chain(e).filter((function(e){return null!=e[0]&&null!=e[1]})).sortBy((function(e){return e[0]})).unzip().value(),e=t[0],t=t[1];return e=_.map(e,_.toNumber),t=_.map(t,_.toNumber),{xValues:e,yValues:t}})(l,c))||_.isEmpty(a.xValues)||_.isEmpty(a.yValues)?t.push(null):(s=a.xValues[0],l=a.xValues[a.xValues.length-1],c=f(a.xValues,a.yValues),o=_.min([o,s]),u=_.max([u,l]),t.push(c)))}return{lineDefs:t,xMin:o,xMax:u}}function Q(e){return e&&!_.isEmpty(e.lineDefs)&&_.some(e.lineDefs,(function(e){return e}))}function p(e){var t=_.find(e,(function(e){return null!=e}));if(null!=t){var r=typeof t;if(!_.some(e,(function(e){return null!=e&&typeof e!=r})))return r}}function f(e,r,t){void 0===t&&(t=!1);var i=_.sum(e),n=_.sum(r),a=i/e.length,o=n/r.length,u=_.chain(e).map((function(e){return Math.pow(e-a,2)})).sum().value();if(0!==u){var s,l,c=_.chain(e).map((function(e,t){return(e-a)*(r[t]-o)})).sum().value()/u,p=o-a*c;return t&&(l=_.size(e),u=_.chain(e).map((function(e,t){return e*r[t]})).sum().value(),t=_.chain(e).map((function(e){return e*e})).sum().value(),e=_.chain(r).map((function(e){return e*e})).sum().value(),0!==(e=Math.sqrt((l*t-Math.pow(i,2))*(l*e-Math.pow(n,2))))&&(s=Math.pow((l*u-i*n)/e,2))),{incline:c,intercept:p,rSquared:s}}}function I(e,t,r){return e?[t*e.incline+e.intercept,r*e.incline+e.intercept]:[null,null]}R=V.data||(V.data={}),P=V.DataViewMapping,T=R.DataViewRegression||(R.DataViewRegression={}),F="RegressionX",M="RegressionSeries",T.regressionYQueryName="RegressionY",T.run=function(e){var t=e.visualDataViews,r=e.dataRoles,i=e.objectDescriptors,n=e.objectDefinitions,a=e.transformSelects,o=e.applicableDataViewMappings,u=e.roleKindByQueryRef,s=e.queryProjectionsByRole,l=e.visualStyle,c=e.featureSwitches;if(!_.isEmpty(t)&&a){if(!u||!s||_.isEmpty(o)||!i||!n)return t;var p=_.find(o,(function(e){return!!P.getRegressionUsage(e)}));if(p){for(var f=[],d=0,h=t;d<h.length;d++){var m=v(h[d],o,r,p,i,n,l,c);m&&f.push(m)}_.isEmpty(f)||t.push.apply(t,f||[])}}return t},T.linearRegressionTransform=v,T.computeRegressionLine=f})(powerbi=powerbi||{}),(function(u){(u.visuals||(u.visuals={})).formatSparklines=function(e,t,r){if(r){var i=r.points,i=_.filter(i,(function(e){return null!=e.x&&null!=e.y}));if(!_.isEmpty(i)){var n=_.size(i);if(1===n)return{key:"Sparkline_Tooltip_SinglePoint_CategoricalSameHighLow",parameters:[e,r.lowY]};t=t.misc.sparkline.groupingType;if(!t||!(t.numeric||t.dateTime||t.temporal))return r.lowY===r.highY?{key:"Sparkline_Tooltip_SinglePoint_CategoricalSameHighLow",parameters:[e,r.lowY]}:{key:"Sparkline_Tooltip_CategoricalDifferentHighLow_ScalarNoTrend",parameters:[e,r.lowY,r.highY]};var a=i[0].y,n=i[n-1].y;if(!_.some(i,(function(e){return e.y!==a})))return{key:"Sparkline_Tooltip_ScalarNoChange",parameters:[e,a]};if(.5<u.data.DataViewRegression.computeRegressionLine(_.map(i,(function(e){return e.x})),_.map(i,(function(e){return e.y})),!0).rSquared){var o,i="Sparkline_Tooltip_ScalarTrend";return i+=a<n?"Up":"Down",0!==a?(o=100*(n-a)/a,i+="Percent"):(o=n-a,i+="Value"),{key:i,parameters:[e,+Math.abs(o).toFixed(2)]}}return{key:"Sparkline_Tooltip_CategoricalDifferentHighLow_ScalarNoTrend",parameters:[e,r.lowY,r.highY]}}}}})(powerbi=powerbi||{}),(function(u){var l,e;l=u.data||(u.data={}),(e=l.DataViewSelectTransform||(l.DataViewSelectTransform={})).projectionsFromSelects=function(e,t){if(_.isEmpty(e))return{};for(var r={},i=0,n=e;i<n.length;i++){var a=n[i];if(a){var o,u=a.roles;if(u)for(var s in u)u[s]&&((o=(o=r[s])||(r[s]=new l.QueryProjectionCollection([]))).addProjection({queryRef:a.queryName}),t&&t[s]&&(o.activeProjectionRefs=_.map(t[s],(function(e){return e.queryRef}))))}}return r},e.createRoleKindFromMetadata=function(e,t){for(var r={},i=0,n=t.columns;i<n.length;i++){var a,o=n[i];!o.index&&0!==o.index||o.index<0||o.index>=e.length||(!(a=e[o.index])||(a=a.queryName)&&void 0===r[a]&&(r[a]=o.isMeasure?u.VisualDataRoleKind.Measure:u.VisualDataRoleKind.Grouping))}return r},e.findExprQueryName=function(t,e){if(l.SQExpr.isSelectRef(t))return t.expressionName;if(e){e=_.find(e,(function(e){return e.expr&&l.SQExpr.equals(e.expr,t)}));if(e)return e.queryName}},e.findExprSelectIndex=function(e,t,r){if(!t)return-1;var i;l.SQExpr.isSelectRef(e)&&(i=e.expressionName);for(var n=r||0,a=t.length;n<a;n++){var o=t[n];if(o&&(!i||o.queryName))if(i){if(o.queryName===i)return n}else if(l.SQExpr.equals(o.expr,e))return n}return-1}})(powerbi=powerbi||{}),(function(e){!(function(n){n.createCategoricalEvalContext=function(e){return new t(e)};var t=(e.prototype.getExprColumn=function(e){return n.DataViewMetadataColumnUtils.findExprColumn(e,this.valueSources,this.groupName)},e.prototype.getScopedEvalExprValue=function(e){var t=e.decomposeGlobalAggregateOfScopedExpr();if(t){var r=_.chain(this.dataView.values).filter((function(e){return!e.identity})).map((function(e){return e.source})).value(),r=n.DataViewMetadataColumnUtils.findExprColumn(t.source,r);return r?n.DataViewMetadataColumnUtils.getAggregate(r,t.func):void 0}if(e.hasInnerMostScope())return this.getExprValue(e.expression);e.hasGlobalScope()},e.prototype.getExprValue=function(e){var t=this.index;if(_.isNumber(t)){var r=this.dataView.values;if(r){var i=n.DataViewMetadataColumnUtils.findExprColumn(e,this.valueSources,this.groupName),r=_.find(r,(function(e){return e.source===i}));if(r)return(this.useHighlightValues?r.highlights:r.values)[t]}}},e.prototype.getRoleValues=function(e){var t=this,r=this.columnsByRole,i=(i=r[e])||(r[e]=(r=this.dataView,e=e,a(r.values,e)||a(r.categories,e)));if(i)return null!=this.index?_.map(i,(function(e){return e.values[t.index]})):void 0},e.prototype.setCurrentRowIndex=function(e){this.index=e},e.prototype.resetCurrentRowIndex=function(){delete this.index},e.prototype.setCurrentColumnGroupName=function(e){this.groupName=e},e.prototype.useHighlights=function(e){this.useHighlightValues=e},e);function e(e){this.dataView=e,this.columnsByRole={},this.valueSources=_.map(null===(e=this.dataView)||void 0===e?void 0:e.values,(function(e){return e.source}))}function a(e,t){if(e){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i],o=a.source.roles;o&&o[t]&&r.push(a)}return r}}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){!(function(i){i.createTableEvalContext=function(e,t){return new r(e,t)};var r=(e.prototype.getExprColumn=function(e){return i.DataViewMetadataColumnUtils.findExprColumn(e,this.dataView.columns)},e.prototype.getScopedEvalExprValue=function(e){var t=e.decomposeGlobalAggregateOfScopedExpr();if(t){var r=i.DataViewMetadataColumnUtils.findExprColumn(t.source,this.dataView.columns);return r?i.DataViewMetadataColumnUtils.getAggregate(r,t.func):void 0}if(e.hasInnerMostScope())return this.getExprValue(e.expression);e.hasGlobalScope()},e.prototype.getExprValue=function(e){var t=this.row;if(null!=t)return i.getExprValueFromTable(e,this.selectTransforms,this.dataView.columns,t)},e.prototype.getRoleValues=function(e){},e.prototype.setCurrentRow=function(e){this.row=e},e);function e(e,t){this.dataView=e,this.selectTransforms=t}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){function t(){}e=e.data||(e.data={}),t.prototype.evaluate=function(e){},e.RuleEvaluation=t})(powerbi=powerbi||{}),(function(e){var i;function t(e,t){var r=this;return(r=i.call(this)||this).inputRole=e,r.allocator=t,r}e=e.data||(e.data={}),i=e.RuleEvaluation,__extends(t,i),t.prototype.evaluate=function(e){e=e.getRoleValues(this.inputRole);_.size(e);e=_.head(e);if(void 0!==e)return this.allocator.color(e)},e.ColorRuleEvaluation=t})(powerbi=powerbi||{}),(function(e){function t(){}e=e.data||(e.data={}),t.prototype.findProperty=function(e,t){e=this.entities.withName(e);if(e&&!_.isEmpty(e.properties))return e.properties.withName(t)},Object.defineProperty(t.prototype,"isExtensionSchema",{get:function(){return this.hasOwnProperty("extends")},enumerable:!1,configurable:!0}),t.prototype.findHierarchy=function(e,t){e=this.entities.withName(e);if(e&&!_.isEmpty(e.hierarchies))return e.hierarchies.withName(t)},t.prototype.findHierarchyLevel=function(e,t,r){e=this.entities.withName(e);if(e&&!_.isEmpty(e.hierarchies)){t=e.hierarchies.withName(t);if(t&&!_.isEmpty(t.levels))return t.levels.withName(r)}},t.prototype.findHierarchyByVariation=function(e,t,r,i){r=this.findTargetEntityOfVariation(e,t,r);if(r&&!_.isEmpty(r.hierarchies))return r.hierarchies.withName(i)},t.prototype.findTargetEntityOfVariation=function(e,t,r){e=this.entities.withName(e);if(e&&!_.isEmpty(e.properties)){t=e.properties.withName(t);if(t){t=t.column;if(t&&!_.isEmpty(t.variations)){r=t.variations.withName(r);return r?r.navigationProperty?r.navigationProperty.targetEntity:e:void 0}}}},t.prototype.findPropertyWithKpi=function(e,t){e=this.entities.withName(e);if(e&&!_.isEmpty(e.properties))for(var r=0,i=e.properties;r<i.length;r++){var n=i[r];if(n&&n.measure&&n.measure.kpi&&(n.measure.kpi.status===t||n.measure.kpi.goal===t))return n}},t.prototype.findVariationMappings=function(e){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[e]},t.prototype.findVariationToHierarchyMappings=function(e){e=this.findVariationMappings(e);return _.filter(e,(function(e){return e.variation.defaultHierarchy}))},t.prototype.findTableNameFromMeasureName=function(e){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[e]},Object.defineProperty(t.prototype,"isMultiDimensionalModel",{get:function(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange},enumerable:!1,configurable:!0}),t.prototype.buildVariationMappings=function(){var a={};return _(this.entities).filter((function(e){return e.properties})).forEach((function(n){_(n.properties).filter((function(e){return e.column&&e.column.variations})).forEach((function(i){_(i.column.variations).filter((function(e){return e.navigationProperty&&e.navigationProperty.targetEntity})).forEach((function(e){var t=e.navigationProperty.targetEntity.name,r=a[t];r||(a[t]=r=[]),r.push({sourceEntity:n,sourceProperty:i,variation:e})}))}))})),a},t.prototype.buildMeasureNameToTableNameMappings=function(){for(var e={},t=0,r=this.entities;t<r.length;t++)for(var i=r[t],n=0,a=i.properties;n<a.length;n++){var o=a[n];o.measure&&(e[o.name],o.name,e[o.name]=i.name)}return e},e.ConceptualSchema=t,e.conceptualDataCategoryToString=function(e){switch(e){case 0:return"None";case 1:return"Address";case 2:return"City";case 3:return"Company";case 4:return"Continent";case 5:return"Country";case 6:return"County";case 7:return"Date";case 8:return"Image";case 9:return"ImageUrl";case 10:return"Latitude";case 11:return"Longitude";case 12:return"Organization";case 13:return"Place";case 14:return"PostalCode";case 15:return"Product";case 16:return"StateOrProvince";case 17:return"WebUrl"}},e.conceptualDataCategoryFromString=function(e){switch(e){case"None":return 0;case"Address":return 1;case"City":return 2;case"Company":return 3;case"Continent":return 4;case"Country":return 5;case"County":return 6;case"Date":return 7;case"Image":return 8;case"ImageUrl":return 9;case"Latitude":return 10;case"Longitude":return 11;case"Organization":return 12;case"Place":return 13;case"PostalCode":return 14;case"Product":return 15;case"StateOrProvince":return 16;case"WebUrl":return 17}}})(powerbi=powerbi||{}),(function(g){var y=jsCommon.StringExtensions,x=g.data.FieldExprPattern;!(function(e){var i="png";function n(e){if(e&&1===e.length&&e[0])return e[0].scriptResult}function m(e){if(e)return a(e.scriptSourceDefault,e.scriptProviderDefault,e.scriptOutputType)}function a(e,t,r){if(!y.isNullOrUndefinedOrWhiteSpaceString(e)&&!y.isNullOrUndefinedOrWhiteSpaceString(t))return{source:e,provider:t,outputType:r||i}}function o(e,t,r,i,n){var a=!!m(i),o={VariableName:"dataset",Columns:[],Parameters:[]};if(e&&t&&!_.isEmpty(t)){var u,s=[],l=[];for(u in e)for(var c=0,p=e[u].all();c<p.length;c++){var f=p[c],f=t.withName(f.queryRef);f&&(d={QueryName:f.name},f=x.visit(f.expr,new v(r)),a&&(f=(d.Role=u)+"."+f),l.push(d),s.push(f))}for(var d,s=y.ensureUniqueNames(s),h=0;h<s.length;h++)(d=l[h]).Name=s[h];o.Columns=l}return o.Parameters=(function(e,t){var r=[];if(t)for(var i in t){var n=g.DataViewObjects.getObject(t,i);if(n)for(var a in n){var o=(function(e,t,r,i){if(!(e&&e.source&&e.source.objectName===r&&e.source.propertyName===i||e&&e.provider&&e.provider.objectName===r&&e.provider.propertyName===i)){e=g.DataViewObject.getFillColorByPropertyName(t,i);if(e)return g.data.PrimitiveValueEncoding.text(e);var n=g.DataViewObject.getValue(t,i);if(null!=n)switch(typeof n){case"string":return g.data.PrimitiveValueEncoding.text(n);case"number":var a=n;return g.Double.isInteger(a)?g.data.PrimitiveValueEncoding.integer(a):g.data.PrimitiveValueEncoding.double(a);case"boolean":return g.data.PrimitiveValueEncoding.boolean(n)}}})(e,n,i,a);o&&(o={ObjectName:i,PropertyName:a,Value:o},r.push(o))}}return r})(i,n),o}e.findScriptResultMapping=n,e.extractScriptResult=function(e){var t=n(e);if(t)return (function(e,t){if(e&&e.script&&e.script.source&&e.script.provider&&t){var r=g.DataViewObjects.getValue(t,e.script.source),t=g.DataViewObjects.getValue(t,e.script.provider);return a(r,t,e.script.scriptOutputType)}})(t,e[0].metadata&&e[0].metadata.objects)},e.extractScriptResultFromVisualConfig=function(e,t){if(t){var r=n(e);if(r&&r.script&&r.script.source&&r.script.provider){e=g.data.DataViewObjectDefinitions.getValue(t,r.script.source,null),t=g.data.DataViewObjectDefinitions.getValue(t,r.script.provider,null);return a(e?e.value:null,t?t.value:null,r.script.scriptOutputType)}}},e.extractScriptResultDefaultFromDataViewMappings=function(e){return m((e=n(e))&&e.script)},e.extractScriptResultDefaultFromDataViewMappingScriptDefinition=m,e.getScriptInput=function(e,t,r,i,n){if(i&&i.script)return o(e,t,r,i.script,n)},e.getScriptInputFromScriptDefinition=o;var v=(t.prototype.visitColumn=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitColumnAggr=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitGroupingColumn=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitGroupingColumnAggr=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitColumnHierarchyVariation=function(e){return t.getVariationHierarchyName(e,this.federatedSchema)},t.prototype.visitColumnHierarchyLevelVariation=function(e){return t.getVariationLevelName(e,this.federatedSchema)},t.prototype.visitColumnSubquery=function(e){},t.prototype.visitColumnAggrSubquery=function(e){},t.prototype.visitColumnTransformRef=function(e){},t.prototype.visitEntity=function(e){return e.entity},t.prototype.visitEntityAggr=function(e){return e.entity},t.prototype.visitHierarchy=function(e){return t.getNameForHierarchy(e,this.federatedSchema)},t.prototype.visitHierarchyLevel=function(e){},t.prototype.visitHierarchyLevelAggr=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitMeasure=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitSelectRef=function(e){return x.visit(e,this)},t.prototype.visitPercentile=function(e){return x.visit(e.arg,this)},t.prototype.visitPercentOfGrandTotal=function(e){return x.visit(e.baseExpr,this)},t.prototype.visitPercentOfRoleTotal=function(e){return x.visit(e.baseExpr,this)},t.prototype.visitTransformOutputRoleRef=function(e){return x.visit(e,this)},t.prototype.visitFilteredEval=function(e){return x.visit(e,this)},t.prototype.visitArithmetic=function(e){},t.prototype.visitConstant=function(e){},t.prototype.visitSparklineData=function(e){},t.getNameForHierarchy=function(e,t){e=t.schema(e.schema).findHierarchy(e.entity,e.name);if(e)return e.name},t.getNameForProperty=function(e,t){e=t.schema(e.schema).findProperty(e.entity,e.name);if(e)return e.name},t.getVariationHierarchyName=function(e,t){var r=e.source,r=t.schema(r.schema).findProperty(r.entity,r.name);if(r)for(var i=0,n=r.column.variations;i<n.length;i++){var a=n[i];if(a.name===e.variationName&&e.hierarchy.name===a.defaultHierarchy.name)return e.hierarchy.name}},t.getVariationLevelName=function(e,t){var r=e.source,r=t.schema(r.schema).findProperty(r.entity,r.name);if(r)for(var i=0,n=r.column.variations;i<n.length;i++){var a=n[i];if(a.name===e.variationName)for(var o=0,u=a.defaultHierarchy.levels;o<u.length;o++){var s=u[o];if(s.name===e.level.level)return s.column.name}}},t);function t(e){this.federatedSchema=e}})(g.ScriptResultUtil||(g.ScriptResultUtil={}))})(powerbi=powerbi||{}),(function(p){var e;function s(e,t){var r;_.isEmpty(t.rows)||(r=t.lastMergeIndex+1,f(e.rows,t.rows,r),e.identity,t.identity,t.identity&&f(e.identity,t.identity,r))}function l(t,e){if(_.size(t.categories),_.size(e.categories),_.every(t.categories,(function(e){return t.categories[0].identity===e.identity})),!_.isEmpty(t.categories)&&!_.isEmpty(e.categories)){for(var r=e.lastMergeIndex+1,i=e.categories.length,n=0;n<i;n++){var a=e.categories[n],o=t.categories[n];p.DataViewUtils.areMetadataColumnsEquivalent(o.source,a.source),void 0!==o.values||o.identity,a.values&&f(o.values,a.values,r)}e.categories[0].identity&&f(t.categories[0].identity,e.categories[0].identity,r)}if(t.values&&e.values){var u=e.values.length;t.values.length;for(var s=0;s<u;s++){var l=e.values[s],c=t.values[s];p.DataViewUtils.areMetadataColumnsEquivalent(c.source,l.source),!c.values&&l.values&&(c.values=[]);r=e.lastMergeIndex+1;l.values&&f(c.values,l.values,r),l.highlights&&f(c.highlights,l.highlights,r)}}}function f(e,t,r){if(r>=t.length)return t;var i=[];return void 0!==r&&(i=t.splice(0,r)),Array.prototype.push.apply(e,t),i}function c(e,t,r){var i,n;t.children&&0!==t.children.length&&(!r||e.children&&0!==e.children.length?(e.children&&e.children.length,n=o(t.children),i=e.children[e.children.length-1],0<(n=f(e.children,t.children,n)).length&&c(i,n[n.length-1],r)):e.children=t.children)}function o(e){if(0===e.length)return 0;for(var t=0;t<e.length;t++)if(!e[t].isMerge)break;return t}function d(e,t,r){for(var i=0,n=e;i<n.length;i++){var a=n[i];a.isSubtotal||(a.level===t?r.push(a):!_.isEmpty(a.children)&&void 0!==a.level&&a.level<t&&d(a.children,t,r))}}(e=(e=(e=p.data||(p.data={})).segmentation||(e.segmentation={})).DataViewMerger||(e.DataViewMerger={})).mergeDataViews=function(e,r){if(e.matrix||p.DataViewUtils.isMetadataEquivalent(e.metadata,r.metadata),r.metadata.segment?e.metadata.segment=r.metadata.segment:delete e.metadata.segment,e.table&&r.table&&s(e.table,r.table),e.categorical&&r.categorical&&l(e.categorical,r.categorical),e.tree&&r.tree&&c(e.tree.root,r.tree.root,!0),e.matrix&&r.matrix){e.matrix.rows,e.matrix.rows.levels,r.matrix.rows,r.matrix.rows.levels,e.metadata,e.metadata.columns,r.metadata,r.metadata.columns;var t=e.matrix.rows.levels.length,i=r.matrix.rows.levels.length;if(i<t)_.remove(e.metadata.columns,(function(t){return null!=t.index&&!_.some(r.metadata.columns,(function(e){return e.index===t.index}))})),e.metadata.columns.length=r.metadata.columns.length,(function(e,t){var r=t.levels.length;e.levels.length=r,_.isEqual(e.levels,t.levels);t=[];d(e.root.children,r-1,t);for(var i=0,n=t;i<n.length;i++)!(function(e){var t;_.isEmpty(e.children)||((t=_.find(e.children,(function(e){return e.isSubtotal})))&&(e.values=t.values),delete e.children,delete e.childIdentityFields)})(n[i])})(e.matrix.rows,r.matrix.rows);else if(t<i){for(var n=0,a=0,o=_.filter(r.metadata.columns,(function(t){return null!=t.index&&!_.some(e.metadata.columns,(function(e){return e.index===t.index}))}));a<o.length;a++){for(var u=o[a];n<e.metadata.columns.length&&(null==e.metadata.columns[n].index||e.metadata.columns[n].index<u.index);)n++;e.metadata.columns.splice(n,0,u)}!(function(e,t){for(var r=t.levels.length,i=e.levels.length,n=i;n<r;n++)e.levels.push(t.levels[n]);_.isEqual(e.levels,t.levels);var a=[];d(e.root.children,i-1,a);for(var o=0,u=a;o<u.length;o++)!(function(e,t){e.isSubtotal||(e.level,_.size(e.children),e.children=[{isSubtotal:!0,level:t,values:e.values}],delete e.values)})(u[o],i);!(function(e,t){for(var r=e.root,i=0;i<t;i++){if(_.isEmpty(r.children))return!1;if(!(r=r.children[0]).isMerge||r.isSubtotal)return!1}return!0})(t,i)||delete _.last(a).children})(e.matrix.rows,r.matrix.rows)}c(e.matrix.rows.root,r.matrix.rows.root,t!==i)}},e.mergeTables=s,e.mergeCategorical=l,e.mergeTreeNodes=c,e.pruneTree=function(e,t){for(var r=0,i=t;r<i.length;r++){var n=i[r],a=e.children;if(_.isEmpty(a))return!0;if(n>=a.length)return!1;a.length=n+1,e=_.last(a)}return!0},e.updateTreeLastNodeIndex=function(e,t){var r=e.children;e.children;for(var i=0,n=!0;!_.isEmpty(r);){var a=o(r),n=a>=r.length||(a=r.length-a,!n||void 0===t[i]?t[i]=a-1:t[i]+=a,!1),r=_.last(r).children;i++}i<t.length&&(t.length=i)}})(powerbi=powerbi||{}),(function(e){var a;a=e.data||(e.data={}),(function(){(a.EqualsToInRewriter||(a.EqualsToInRewriter={})).run=function(e){return e.accept(new t)};var r,t=(r=a.SQExprRewriter,__extends(e,r),e.prototype.visitCompare=function(e){if(0!==e.comparison)return this.visitUnsupported(e);if(!this.isSupported(e.left)||!this.isSupported(e.right))return this.visitUnsupported(e);var t=this.isComparand(e.left);if(t===this.isComparand(e.right))return this.visitUnsupported(e);var r=t?e.left:e.right,i=t?e.right:e.left,t=this.current;return t?(t.add(r,i),e):a.SQExprBuilder.inValues([r],[[i]])},e.prototype.visitOr=function(e){return this.isSupported(e.left)&&this.isSupported(e.right)?(this.current||(t=this.current=new i),e.left.accept(this),e.right.accept(this),t?(this.current=null,t.complete()||e):e):this.visitUnsupported(e);var t},e.prototype.visitAnd=function(e){if(!this.isSupported(e.left)||!this.isSupported(e.right))return this.visitUnsupported(e);var t=this.current;return t?(t.cancel(),e):r.prototype.visitAnd.call(this,e)},e.prototype.visitUnsupported=function(e){var t=this.current;return t&&t.cancel(),e},e.prototype.isSupported=function(e){return e instanceof a.SQCompareExpr||e instanceof a.SQColumnRefExpr||e instanceof a.SQConstantExpr||e instanceof a.SQHierarchyLevelExpr||e instanceof a.SQOrExpr||e instanceof a.SQAndExpr},e.prototype.isComparand=function(e){return e instanceof a.SQColumnRefExpr||e instanceof a.SQHierarchyLevelExpr},e);function e(){return r.call(this)||this}var i=(n.prototype.add=function(e,t){this.cancelled||(!this.operand||a.SQExpr.equals(e,this.operand)?(this.operand=e,(this.values||(this.values=[])).push(t)):this.cancel())},n.prototype.cancel=function(){this.cancelled=!0},n.prototype.complete=function(){if(!this.cancelled&&this.operand)return a.SQExprBuilder.inValues([this.operand],_.map(this.values,(function(e){return[e]})))},n);function n(){}})()})(powerbi=powerbi||{}),(function(e){!(function(e){(e.FilterAnalyzer||(e.FilterAnalyzer={})).runAnalyzer=function(e){var t=new r;return e.accept(t),t.analyze()},(e.FilterKindDetector||(e.FilterKindDetector={})).runDetector=function(e){var t=new r;return e.accept(t),t.analyze().filterKind};var t,r=(t=e.DefaultSQExprVisitorWithTraversal,__extends(i,t),i.prototype.analyze=function(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?3:this.filterKind}},i.prototype.visitMeasureRef=function(e){this.filterKind=1,e.source.accept(this)},i.prototype.visitExists=function(e){this.filterKind=2,e.arg.accept(this)},i.prototype.visitAggr=function(e){this.filterKind=1,e.arg.accept(this)},i.prototype.visitSubqueryRef=function(e){this.isSubquery=!0},i.prototype.visitEntity=function(e){this.entityExprs[e.entity]=!0},i);function i(){var e=t.call(this)||this;return e.entityExprs={},e.filterKind=0,e.isSubquery=!1,e}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){!(function(p){var e,i=jsCommon.ArrayExtensions;function r(e,t,r){void 0===r&&(r=!0),t.length;e=e.conditions();e.length;e=e[0];if(e){r=new n(t,r,e);if(e.accept(r))return r.getResult()}}(e=p.SQExprConverter||(p.SQExprConverter={})).asScopeIdsContainer=function(e,t){if(t=r(e,t,!1))return{isNot:_.some(t,(function(e){return!e.selected})),scopeIds:[_.map(t,(function(e){return e.identity}))]}},e.asFilterNodes=r,e.getFirstComparandValue=function(e){if(e=e.expr.accept(new o))return e.value},e.getAllComparands=function(e){return e.expr.accept(new l)};var f,n=(f=p.DefaultSQExprVisitor,__extends(a,f),a.prototype.getResult=function(){return this.addScopeId(),this.toFilterNode(this.values)},a.prototype.toFilterNode=function(e){for(var t=[],r=0,i=0,n=e;i<n.length;i++){var a=n[i];t.push({identity:a.identity,selected:a.selected,checked:a.checked,children:_.isEmpty(a.children)?void 0:this.toFilterNode(a.children),index:a.checked?r++:void 0})}return t},a.getScopeIdentity=function(e,t){t.length,t.length,e.length;for(var r=0,i=e.length;r<i;r++)var n=p.SQExprBuilder.equal(e[r],t[r]),a=a?p.SQExprBuilder.and(a,n):n;return p.createDataViewScopeIdentity(a)},a.prototype.visitOr=function(e){this.resetState();var t=e.left.accept(this);return this.resetState(),t&&e.right.accept(this)},a.prototype.visitAnd=function(e){if(this.supportsMultiLevelFilters){var t=!1;if(t=this.isNot&&(e.left instanceof p.SQAndExpr||e.left instanceof p.SQInExpr)&&(e.right instanceof p.SQInExpr||e.right instanceof p.SQAndExpr)||!this.isNot&&(e.left instanceof p.SQOrExpr||e.left instanceof p.SQInExpr||e.left instanceof p.SQAndExpr||e.left instanceof p.SQNotExpr)&&(e.right instanceof p.SQOrExpr||e.right instanceof p.SQInExpr||e.right instanceof p.SQAndExpr||e.right instanceof p.SQNotExpr)||(e.left instanceof p.SQCompareExpr||e.left instanceof p.SQAndExpr)&&(e.right instanceof p.SQCompareExpr||e.right instanceof p.SQAndExpr)?!0:t){t=!1===this.isAnd;t&&this.resetState(),this.isAnd=!0;e=e.left.accept(this)&&e.right.accept(this);return t&&(this.isAnd=!1),e}}return this.unsupportedSQExpr()},a.prototype.visitNot=function(e){this.isNot=!0;e=e.arg.accept(this);return this.isNot=!1,e},a.prototype.visitConstant=function(e){return 0===this.keyIndex&&0===e.type.primitiveType?this.unsupportedSQExpr():(this.addValue(e),!0)},a.prototype.visitCompare=function(e){return 0<this.keyIndex&&!this.supportsMultiLevelFilters||0!==e.comparison?this.unsupportedSQExpr():e.right instanceof p.SQAnyValueExpr||e.left.accept(this)&&e.right.accept(this)},a.prototype.visitIn=function(e){if(!e.values)return!1;this.resetState();for(var t,r=0,i=e.args;r<i.length;r++)if(!(t=i[r].accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();for(var n=0,a=e.values;n<a.length;n++){var o=a[n];o.length,this.keyIndex;for(var u=0,s=o;u<s.length;u++)if(!(t=s[u].accept(this)))return this.unsupportedSQExpr()}return t},a.prototype.visitColumnRef=function(e){e=p.SQExprBuilder.removeEntityVariables(e),e=p.SQExpr.equals(this.fieldExprs[this.keyIndex],e);return this.keyIndex++,e},a.prototype.visitDefaultValue=function(e){return this.addValue(e),!0},a.prototype.visitAnyValue=function(e){return!0},a.prototype.visitDefault=function(e){return this.unsupportedSQExpr()},a.prototype.unsupportedSQExpr=function(){return!1},a.prototype.addValue=function(e){var t=this.valueIndex%this.keyIndex,r=this.groups[t];0==t?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(e)):this.currentNode.groupIndex===r?(this.currentNode.values.push(e),this.currentNode.columns.push(this.fieldExprs[t])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(e)),this.valueIndex++},a.prototype.addScopeId=function(){if(this.currentNode){var t=this.currentNode,e=this.parent&&this.parent.children||this.values,r=_.find(e,(function(e){return i.sequenceEqual(e.values,t.values,p.SQExpr.equals)}));return r?t.checked&&!r.checked&&(r.selected=t.selected,r.checked=t.checked):(t.identity=a.getScopeIdentity(t.columns,t.values),e.push(t)),r||t}},a.prototype.createNode=function(e){var t=this.valueIndex%this.keyIndex,r=this.groups[t];return{children:[],selected:!this.isNot,checked:!0,values:[e],columns:[this.fieldExprs[t]],groupIndex:r,identity:void 0}},a.prototype.resetState=function(){this.keyIndex=0,this.valueIndex=0},a);function a(e,t,r){var i,n=f.call(this)||this;n.supportsMultiLevelFilters=t,n.filter=r,n.isNot=!1,n.isAnd=!1,n.keyIndex=0,n.valueIndex=0,n.fieldExprs=[],n.groups=[],n.supportedGroups={};var a=0,o=0;n.values=[];for(var u=0,s=e;u<s.length;u++){var l,c=s[u];_.isEmpty(c)||(l=_.map(c,(function(e){return p.SQExprBuilder.removeEntityVariables(e)})),o+=c.length,n.supportedGroups[o]=!0,(i=n.fieldExprs).push.apply(i,l||[]),(l=n.groups).push.apply(l,_.map(c,(function(e){return a}))),a++)}return n}var t,o=(t=p.DefaultSQExprVisitor,__extends(u,t),u.prototype.visitAnd=function(e){return e.left.accept(this)||e.right.accept(this)},u.prototype.visitCompare=function(e){if(0===e.comparison)return e.right instanceof p.SQConstantExpr?e.right:e.left instanceof p.SQConstantExpr?e.left:void 0},u);function u(){return null!==t&&t.apply(this,arguments)||this}var s,l=(s=p.DefaultSQExprVisitor,__extends(c,s),c.prototype.visitAnd=function(e){var t=[];return t=(t=t.concat(e.left.accept(this))).concat(e.right.accept(this))},c.prototype.visitCompare=function(e){if(0===e.comparison){var t=[];return e.right instanceof p.SQConstantExpr?t.push({expr:e.left,value:e.right.value}):e.left instanceof p.SQConstantExpr&&t.push({expr:e.right,value:e.left.value}),t}},c);function c(){return null!==s&&s.apply(this,arguments)||this}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){!(function(i){function r(e,t){var r=new n;t.accept(r);t={fieldsBeingFiltered:_.uniqWith(r.fieldsBeingFiltered,i.SQExpr.equals),isSubquery:!1};return r.subqueryName&&(t.isSubquery=!0,r=(e=e.sources())&&e[r.subqueryName],(r=i.SubqueryOrderByExtractor.run(r))&&(t.orderByField=r.orderByField,t.itemCount=r.itemCount,t.isTop=r.isTop)),t}(i.PassthroughFilterPattern||(i.PassthroughFilterPattern={})).extractParametersFromFilter=function(e,t){if(e){if(!(e instanceof i.SemanticFilter))return r(t,e.condition);t=e.conditions();return _.isEmpty(t)||1<t.length?void 0:r(e.from(),t[0])}};var t,n=(t=i.DefaultSQExprVisitorWithTraversal,__extends(e,t),e.prototype.visitColumnRef=function(e){this.fieldsBeingFiltered.push(e)},e.prototype.visitHierarchyLevel=function(e){this.fieldsBeingFiltered.push(e)},e.prototype.visitGroupRef=function(e){this.fieldsBeingFiltered.push(e)},e.prototype.visitSubqueryRef=function(e){e.variable&&(this.subqueryName=e.variable)},e.prototype.visitAggr=function(e){i.SQExprConverter.asFieldPattern(e)&&this.fieldsBeingFiltered.push(e)},e.prototype.visitPropertyVariationSource=function(e){this.fieldsBeingFiltered.push(e)},e.prototype.visitMeasureRef=function(e){this.fieldsBeingFiltered.push(e)},e);function e(){var e=t.call(this)||this;return e.fieldsBeingFiltered=[],e}i.PassthroughFilterConditionVisitor=n})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){var u;(function(e){function t(e){var t=new a;return t.tryParseCondition(e)?{field:t.field,options:t.options}:null}function r(e){return n(e,-1)}function i(e){return n(e,0)}function n(e,t){var r,i={};return null!=e.min&&((r=new Date(e.min.getTime())).setHours(0,0,0,0),i.min=r),null!=e.max&&(t=new Date(e.max.getFullYear(),e.max.getMonth(),e.max.getDate()+t),i.max=t),i}e.extractParametersFromSemanticFilter=function(e){if(e){e=e.conditions();if(e&&1===e.length)return t(e[0])}},e.extractParametersFromCondition=t,e.roundUpDateRange=function(e){return n(e,1)},e.roundDownDateRange=r,e.setDateTimeToZero=i;var a=(o.prototype.tryParseCondition=function(e){return u.SQExpr.isAnd(e)?this.tryParseAndCondition(e):!!u.SQExpr.isCompare(e)&&this.tryParseCompareCondition(e)},o.prototype.tryParseAndCondition=function(e){return!(!u.SQExpr.isCompare(e.left)||!u.SQExpr.isCompare(e.right))&&(this.tryParseCompareCondition(e.left)&&this.tryParseCompareCondition(e.right))},o.prototype.tryParseCompareCondition=function(e){return!(!u.SQExpr.isColumn(e.left)&&!u.SQExpr.isHierarchyLevel(e.left))&&(this.field=e.left,this.options=this.options||{},this.tryParseNumericCompareCondition(e)||this.tryParseDateCompareCondition(e))},o.prototype.tryParseNumericCompareCondition=function(e){if(!u.SQExpr.isConstantNumeric(e.right))return!1;switch(e.comparison){case 0:this.options.min=e.right.value,this.options.max=e.right.value;break;case 1:case 2:this.options.min=e.right.value;break;case 3:case 4:this.options.max=e.right.value;break;default:return e.comparison,!1}return!0},o.prototype.tryParseDateCompareCondition=function(e){return u.SQExpr.isDateSpan(e.right)&&e.right.arg&&u.SQExpr.isConstantDate(e.right.arg)?this.tryParseDateConstantCondition(e.comparison,e.right.arg):!!u.SQExpr.isConstantDate(e.right)&&this.tryParseDateConstantCondition(e.comparison,e.right)},o.prototype.tryParseDateConstantCondition=function(e,t){switch(e){case 0:this.options.min=new Date(t.value),this.options.max=new Date(t.value);break;case 1:case 2:this.options.min=new Date(t.value);break;case 3:this.options.max=new Date(t.value),this.options=r(this.options);break;case 4:this.options.max=new Date(t.value);break;default:return!1}return 3!==e&&(this.options=i(this.options)),!0},o);function o(){}})((u=e.data||(e.data={})).RangeFilterPattern||(u.RangeFilterPattern={}))})(powerbi=powerbi||{}),(function(e){var g;(function(e){function r(e,t){void 0===t&&(t=!1);var r,i=e.field,n=e.options,a=null,o=g.SQExprBuilder.now();e.options.anchorDate&&!v(n.relativeUnit)&&((r=e.options.anchorDate).epochTimeStamp=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),o=g.SQExprBuilder.dateTime(e.options.anchorDate));var u,s,l,c=h(n.relativeUnit),p=m(n.relativeUnit,t);switch(n.relativeQualifier){case g.RelativeDateQualifier.Current:var f=g.SQExprBuilder.dateSpan(c,o),a=g.SQExprBuilder.compare(0,i,f);break;case g.RelativeDateQualifier.Last:a=p?d(-n.duration,-1,c,o,i):(s=v(n.relativeUnit)?(l=o,g.SQExprBuilder.dateAdd(c,-n.duration,o)):(u=n.includeToday?o:g.SQExprBuilder.dateAdd(0,-1,o),l=g.SQExprBuilder.dateSpan(0,u),g.SQExprBuilder.dateSpan(0,g.SQExprBuilder.dateAdd(c,-n.duration,g.SQExprBuilder.dateAdd(0,1,u)))),g.SQExprBuilder.between(i,s,l));break;case g.RelativeDateQualifier.Next:a=p?d(1,n.duration,c,o,i):(l=v(n.relativeUnit)?(s=o,g.SQExprBuilder.dateAdd(c,n.duration,o)):(u=n.includeToday?o:g.SQExprBuilder.dateAdd(0,1,o),s=g.SQExprBuilder.dateSpan(0,u),g.SQExprBuilder.dateSpan(0,g.SQExprBuilder.dateAdd(c,n.duration,g.SQExprBuilder.dateAdd(0,-1,u)))),g.SQExprBuilder.between(i,s,l))}return a}function d(e,t,r,i,n){e=g.SQExprBuilder.dateSpan(r,g.SQExprBuilder.dateAdd(r,e,i)),i=g.SQExprBuilder.dateSpan(r,g.SQExprBuilder.dateAdd(r,t,i));return g.SQExprBuilder.between(n,e,i)}function h(e){switch(e){case g.RelativeDateUnit.CalendarYear:case g.RelativeDateUnit.Year:return 3;case g.RelativeDateUnit.CalendarMonth:case g.RelativeDateUnit.Month:return 2;case g.RelativeDateUnit.CalendarWeek:case g.RelativeDateUnit.Week:return 1;case g.RelativeDateUnit.Day:return 0;case g.RelativeDateUnit.Hour:return 7;case g.RelativeDateUnit.Minute:return 6;case g.RelativeDateUnit.Second:return 5;default:return}}function m(e,t){switch(void 0===t&&(t=!1),e){case g.RelativeDateUnit.Second:case g.RelativeDateUnit.Minute:case g.RelativeDateUnit.Hour:case g.RelativeDateUnit.Year:case g.RelativeDateUnit.Month:case g.RelativeDateUnit.Week:return!1;case g.RelativeDateUnit.Day:return t;case g.RelativeDateUnit.CalendarYear:case g.RelativeDateUnit.CalendarMonth:case g.RelativeDateUnit.CalendarWeek:return!0;default:return}}function u(e,t){switch(e){case 0:return g.RelativeDateUnit.Day;case 1:return t?g.RelativeDateUnit.CalendarWeek:g.RelativeDateUnit.Week;case 2:return t?g.RelativeDateUnit.CalendarMonth:g.RelativeDateUnit.Month;case 3:return t?g.RelativeDateUnit.CalendarYear:g.RelativeDateUnit.Year;case 7:return g.RelativeDateUnit.Hour;case 6:return g.RelativeDateUnit.Minute;case 5:return g.RelativeDateUnit.Second;default:return}}function v(e){switch(e){case g.RelativeDateUnit.Minute:case g.RelativeDateUnit.Hour:return!0;default:return!1}}function i(e,t){t=new o(t);if(t.tryExtractParametersFrom(e))return{field:t.field,options:t.options}}function a(e){return!!e&&(!(!e.where()||!(function(e){for(var t=new o(g.RelativeFilterType.Time),r=0,i=e;r<i.length;r++){var n=i[r];if(n.condition&&t.tryExtractParametersFrom(n.condition))return!0}return!1})(e.where()))||(function(e){var t=e.sources();if(!t)return!1;for(var r=0,i=e.keys();r<i.length;r++){var n=i[r],n=t[n];if(g.isSQFromSubquerySource(n)&&n.subquery&&a(n.subquery))return!0}return!1})(e.from()))}e.buildSemanticFilter=function(e){return e=r(e),g.SemanticFilter.fromSQExpr(e)},e.buildFilterCondition=r,e.toSemantiQueryTimeUnit=h,e.isCalendarPeriod=m,e.toRelativeDateUnit=u,e.isRelativeTimeUnit=v,e.isRelativeDateUnit=function(e){return!v(e)},e.extractParametersFromSemanticFilter=function(e,t){if(e){e=e.conditions();if(e&&1===e.length)return i(e[0],t)}},e.extractParametersFromCondition=i,e.hasRelativeTimeFilter=a;var o=(t.prototype.tryExtractParametersFrom=function(e){return this.tryExtractCurrent(e)||this.tryExtractLastOrNext(e)},t.prototype.tryExtractCurrent=function(e){if(g.SQExpr.isCompare(e)){var t=e;if((g.SQExpr.isColumn(t.left)||g.SQExpr.isHierarchyLevel(t.left))&&(this.field=t.left,g.SQExpr.isDateSpan(t.right))){var r=t.right,t=g.RelativeDateRangeHelper.convertTimeUnitToRelativeFilterType(r.unit);if(this.relativeFilterType!==t)return!1;t=u(r.unit,!1);if(void 0!==t&&(g.SQExpr.isNow(r.arg)||g.SQExpr.isConstantDate(r.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:g.RelativeDateQualifier.Current,relativeUnit:u(r.unit,!1)},g.SQExpr.isConstantDate(r.arg)&&(this.options.anchorDate=r.arg.value),this.validateOptions(e)))return!0}}return!1},t.prototype.tryExtractLastOrNext=function(e){if(g.SQExpr.isBetween(e)){var t=e;if(g.SQExpr.isColumn(t.arg)||g.SQExpr.isHierarchyLevel(t.arg))if(this.field=t.arg,g.SQExpr.isDateSpan(t.upper)&&g.SQExpr.isDateSpan(t.lower)){if(this.options=this.getOptionsFromDateSpan(t.lower,g.RelativeDateQualifier.Last),this.validateOptions(e))return!0;if(this.options=this.getOptionsFromDateSpan(t.upper,g.RelativeDateQualifier.Next),this.validateOptions(e))return!0}else if(g.SQExpr.isDateAdd(t.upper)||g.SQExpr.isDateAdd(t.lower)){var r=t.lower,t=t.upper;if(this.options=this.getOptionsFromDateAdd(r,r.unit,g.RelativeDateQualifier.Last),this.validateOptions(e))return!0;if(this.options=this.getOptionsFromDateAdd(t,t.unit,g.RelativeDateQualifier.Next),this.validateOptions(e))return!0}}return!1},t.prototype.getOptionsFromDateSpan=function(e,t){if(g.SQExpr.isDateSpan(e))return this.getOptionsFromDateAdd(e.arg,e.unit,t)},t.prototype.getOptionsFromDateAdd=function(e,t,r){if(g.SQExpr.isDateAdd(e)){var i=e,e=g.RelativeDateRangeHelper.convertTimeUnitToRelativeFilterType(i.unit);if(this.relativeFilterType!==e)return;var n=t===i.unit&&0!==t,a=n||this.getIncludeToday(i.arg),o=this.getAnchorDate(i);switch(r){case g.RelativeDateQualifier.Last:if(i.amount<0)return{duration:-i.amount,includeToday:a,relativeQualifier:r,relativeUnit:u(i.unit,n),anchorDate:o};break;case g.RelativeDateQualifier.Next:if(0<i.amount)return{duration:i.amount,includeToday:a,relativeQualifier:r,relativeUnit:u(i.unit,n),anchorDate:o}}}},t.prototype.getAnchorDate=function(e){for(var t=e;g.SQExpr.isDateAdd(t);)t=t.arg;if(g.SQExpr.isConstantDate(t))return t.value},t.prototype.getIncludeToday=function(e){if(g.SQExpr.isDateAdd(e)){e=e;return g.SQExpr.isNow(e.arg)||g.SQExpr.isConstantDate(e.arg)}return!1},t.prototype.validateOptions=function(e){if(!this.field||!this.options)return!1;var t={field:this.field,options:this.options};return g.SQExpr.equals(e,r(t))||this.options.relativeUnit===g.RelativeDateUnit.Day&&!this.options.includeToday&&g.SQExpr.equals(e,r(t,!0))},t);function t(e){this.relativeFilterType=e}})((g=e.data||(e.data={})).RelativeDateFilterPattern||(g.RelativeDateFilterPattern={}))})(powerbi=powerbi||{}),(function(e){var d,h;d=e.data||(e.data={}),h=jsCommon.ArrayExtensions,(function(e){e.getKeys=function(e){var t=new r;return e.accept(t),t.malformed?null:h.emptyToNull(t.keys)},e.getValues=function(e){var t=new r;return e.accept(t),t.malformed?null:h.emptyToNull(t.values)},e.getKeyValuePairs=function(e){var t=new r;return e.accept(t),t.malformed?null:h.emptyToNull(t.pairs)},e.getInExpr=function(e){if(d.SQExpr.isIn(e))return e;var t=new r;if(e.accept(t),!t.malformed){e=h.emptyToNull(t.keys),t=h.emptyToNull(t.values);return e&&t?d.SQExprBuilder.inValues(e,[t]):void 0}},e.getSubset=function(e,t){return t=new a(t),e.accept(t),t.getResult()},e.extractFilterValuesForExpr=function(e,t){return t&&e?(e=new p(e),t.accept(e),e.getValues()):[]},e.containsSelectRef=function(e){var t=new s;return e.accept(t),!!t.containsSelectRef};var t,r=(t=d.DefaultSQExprVisitor,__extends(i,t),i.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},i.prototype.visitCompare=function(e){0===e.comparison?(e.left instanceof d.SQExpr&&(e.right,d.SQConstantExpr),this.pairs.push(e),e.left.accept(this),e.right.accept(this)):this.visitDefault(e)},i.prototype.visitIn=function(e){for(var t=0,r=e.args;t<r.length;t++)r[t].accept(this);for(var i=0,n=e.values;i<n.length;i++)for(var a=0,o=n[i];a<o.length;a++)o[a].accept(this)},i.prototype.visitSelectRef=function(e){this.keys.push(e)},i.prototype.visitColumnRef=function(e){this.keys.push(e)},i.prototype.visitGroupRef=function(e){this.keys.push(e)},i.prototype.visitHierarchyLevel=function(e){this.keys.push(e)},i.prototype.visitConstant=function(e){this.values.push(e)},i.prototype.visitArithmetic=function(e){this.keys.push(e)},i.prototype.visitDefault=function(e){this.malformed=!0},i);function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys=[],e.values=[],e.pairs=[],e}e.ScopeIdKeysAndValuesExtractorImpl=r;var n,a=(n=d.DefaultSQExprVisitor,__extends(o,n),o.prototype.getResult=function(){if(this.identityComparisonExprCount,_.filter(this.identityComparisonExprs,(function(e){return!!e})).length,!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){for(var e=0,t=this.identityComparisonExprs;e<t.length;e++)var r=t[e],i=i?d.SQExprBuilder.and(i,r):r;return i}},o.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},o.prototype.visitCompare=function(t){var e;0===t.comparison?0<=(e=_.findIndex(this.identityFieldExprs,(function(e){return d.SQExpr.equals(t.left,e)})))&&!this.identityComparisonExprs[e]&&(this.identityComparisonExprs[e]=t,this.identityComparisonExprCount++):this.visitDefault(t)},o.prototype.visitDefault=function(e){this.malformed=!0},o);function o(e){var t=n.call(this)||this;return t.identityFieldExprs=e,t.identityComparisonExprs=[],t.identityComparisonExprCount=0,t}var u,s=(u=d.DefaultSQExprVisitorWithTraversal,__extends(l,u),l.prototype.visitSelectRef=function(e){this.containsSelectRef=!0},l);function l(){return null!==u&&u.apply(this,arguments)||this}var c,p=(c=d.DefaultSQExprVisitor,__extends(f,c),f.prototype.getValues=function(){return _.uniq(this.orderedValues)},f.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},f.prototype.visitOr=function(e){e.left.accept(this),e.right.accept(this)},f.prototype.visitCompare=function(e){0===e.comparison&&(e.right instanceof d.SQColumnRefExpr&&d.SQExpr.equals(e.right,this.targetExpr)&&e.left instanceof d.SQConstantExpr&&this.orderedValues.push(e.left.value),e.left instanceof d.SQColumnRefExpr&&d.SQExpr.equals(e.left,this.targetExpr)&&e.right instanceof d.SQConstantExpr&&this.orderedValues.push(e.right.value))},f.prototype.visitIn=function(e){var t=-1;if(!e.table){for(var r=0;r<e.args.length;r++)if(d.SQExpr.equals(e.args[r],this.targetExpr)){t=r;break}if(-1!==t)for(var i=0,n=e.values;i<n.length;i++){var a=n[i][t];a instanceof d.SQConstantExpr&&this.orderedValues.push(a.value)}}},f);function f(e){var t=c.call(this)||this;return t.targetExpr=e,t.orderedValues=[],t}})(d.ScopeIdentityExtractor||(d.ScopeIdentityExtractor={}))})(powerbi=powerbi||{}),(function(e){!(function(o){var e;function i(e,t){var r=new n;if(r.visitCondition(t)){t=e.sources(),e=t&&t[r.subqueryName],t=o.SubqueryOrderByExtractor.run(e);return t&&o.isSQFromSubquerySource(e)?{fieldBeingFiltered:r.fieldBeingFiltered,isTop:t.isTop,itemCount:e.subquery.top(),orderByField:t.orderByField}:void 0}}(e=o.TopNFilterPattern||(o.TopNFilterPattern={})).extractParametersFromFilter=function(e,t){if(e){if(e instanceof o.SemanticFilter){var r=e.conditions();return r.length,i(e.from(),r[0])}return i(t,e.condition)}},e.buildFilterFromParameters=function(e){var t,r,i,n=(a=e,t=new o.SQFrom,n=o.SQExprRewriterWithSourceRenames.rewrite(a.fieldBeingFiltered,null,t),r=o.SQExprRewriterWithSourceRenames.rewrite(a.orderByField,null,t),i=a.isTop?2:1,o.SemanticQuery.createWith({from:t,orderBy:[{expr:r,direction:i}],select:[{name:"field",expr:n}],top:a.itemCount})),a=new o.SQFromSubquerySource(n),a=(n=new o.SQFrom).ensureSource(a,"subquery"),a=o.SQExprBuilder.inTable([e.fieldBeingFiltered],o.SQExprBuilder.subqueryRef(a.name));return o.SemanticFilter.fromSQFromAndSQExpr(n,a)},e.extractParametersFromCondition=i;var t,n=(t=o.DefaultSQExprVisitorWithArg,__extends(r,t),r.prototype.visitCondition=function(e){return e.accept(this,0)},r.prototype.visitIn=function(e,t){return 0===t&&(!(!e.args||1!==e.args.length||!e.args[0].accept(this,1))&&!(!e.table||!e.table.accept(this,2)))},r.prototype.visitColumnRef=function(e,t){return 1===t&&(this.fieldBeingFiltered=e,!0)},r.prototype.visitHierarchyLevel=function(e,t){return 1===t&&(this.fieldBeingFiltered=e,!0)},r.prototype.visitGroupRef=function(e,t){return 1===t&&(this.fieldBeingFiltered=e,!0)},r.prototype.visitSubqueryRef=function(e,t){return 2===t&&(e.variable&&(this.subqueryName=e.variable),!0)},r);function r(){var e=t.call(this)||this;return e.fieldBeingFiltered=null,e.subqueryName=null,e}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){var u,s;u=e.data||(e.data={}),s=e.data.ScopeIdentityExtractor.ScopeIdKeysAndValuesExtractorImpl,(e=u.TupleFilterPattern||(u.TupleFilterPattern={})).buildSemanticFilter=function(e){return e=u.SQExprBuilder.inValues(e.args,e.values),u.SemanticFilter.fromSQExpr(e)},e.extractParametersFromFilter=function(e,t,r){return e?(e=(e=e.where())&&e[0]&&e[0].condition,u.SQExpr.isIn(e)&&e.values&&e.args&&(1<e.args.length||1===e.args.length&&(function(e,t,r){if(!u.SQExpr.isConstant(t))return!1;if(!r||_.isEmpty(r.cachedValueItems))return!1;for(var i=0,n=r.cachedValueItems;i<n.length;i++){var a=n[i];if(1===a.identities.length){var o=new s;if(a.identities[0].expr.accept(o),1===o.keys.length&&u.SQExpr.equals(e,o.keys[0])&&t.value===o.values[0].value)return!0}}return!1})(e.args[0],e.values[0][0],r)||1===e.values.length&&(u.SQExprUtils.isMeasure(e)||u.SQExpr.isHierarchyLevel(e.args[0]))||1===e.args.length&&2<e.values.length&&u.SQExpr.isHierarchyLevel(e.args[0]))?{args:e.args,values:e.values}:null):null}})(powerbi=powerbi||{}),(function(e){!(function(l){(l.TopNFilterPruner||(l.TopNFilterPruner={})).removeUnnecessaryTopNFilters=function(e,t){if(!t||!e)return e;var r=t.conditions();if(!r||1!==r.length)return e;if(!(t=new c).visitCondition(r[0]))return e;for(var i,n=t.fieldsBeingFiltered,a=e.from(),o=e.where(),u=0,s=o.length;u<s;u++)!(function(e){var t=o[e],r=l.TopNFilterPattern.extractParametersFromFilter(t,a);r&&_.find(n,(function(e){return l.SQExpr.equals(r.fieldBeingFiltered,e)}))?i=i||_.take(o,e):i&&i.push(t)})(u);return i?l.SemanticFilter.fromSQFromAndSQFilters(a,i):e};var t,c=(t=l.DefaultSQExprVisitorWithArg,__extends(e,t),e.prototype.visitCondition=function(e){return e.accept(this,0)},e.prototype.visitIn=function(e,t){if(0!==t)return!1;if(!e.args)return!1;for(var r=0,i=e.args;r<i.length;r++)if(!i[r].accept(this,1))return!1;return!!e.values&&!e.table},e.prototype.visitColumnRef=function(e,t){return 1===t&&(this.fieldsBeingFiltered.push(e),!0)},e);function e(){var e=t.call(this)||this;return e.fieldsBeingFiltered=[],e}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){!(function(o){var e;(e=o.SubqueryRewriter||(o.SubqueryRewriter={})).makeSubqueriesLowerPrecedenceThanColumnFilters=function(e){var t=_.filter(e.where(),(function(e){return 0===o.FilterKindDetector.runDetector(e.condition)}));if(_.isEmpty(t))return e;var r=e.from(),t=n.ensureFiltersInSubqueries(r,t,r);return r===t?e:o.SemanticFilter.fromSQFromAndSQFilters(t,e.where())},e.makeSubqueriesLowerPrecedenceThanSpecificFilters=function(e,t){var r=e.from(),i=r,t=o.SemanticFilter.merge(t);return r===(i=n.ensureFiltersInSubqueries(i,t.where(),t.from()))?e:o.SemanticFilter.fromSQFromAndSQFilters(i,e.where())},e.rewriteSubqueriesForContainingQuery=function(e,t){var r=_.filter(_.map(t.select(),(function(e){return e.expr})),(function(e){return!o.SQExprUtils.isMeasure(e)}));return _.isEmpty(r)?e:(t=_.map(r,(function(e){return{condition:o.SQExprBuilder.equal(e,o.SQExprBuilder.anyValue(!0))}})),r=e.from(),t=n.ensureFiltersInSubqueries(r,t,r),r===t?e:o.SemanticFilter.fromSQFromAndSQFilters(t,e.where()))};var n=(i.ensureFiltersInSubqueries=function(e,t,r){r=new i(t,r),e=o.SemanticQueryRewriter.rewriteFrom(e,r);return r.modifiedSubquery,e},i.prototype.visitEntity=function(e,t){return e},i.prototype.visitPod=function(e,t){return e},i.prototype.visitSubquery=function(e,t){for(var r=e.subquery.where(),i=[],n=0,a=this.filtersToEnsure;n<a.length;n++)!(function(t){_.find(r,(function(e){return o.SQFilter.equals(t,e)}))||i.push(t)})(a[n]);return 0===i.length?e:(this.modifiedSubquery=!0,new o.SQFromSubquerySource(e.subquery.addWhere(i,this.filtersToEnsureFrom)))},i.prototype.visitExpr=function(e,t){return e},i);function i(e,t){this.filtersToEnsure=e,this.filtersToEnsureFrom=t,this.modifiedSubquery=!1}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){var n;n=e.data||(e.data={}),(function(){(n.SubqueryOrderByExtractor||(n.SubqueryOrderByExtractor={})).run=function(e){if(e&&n.isSQFromSubquerySource(e)){var t=e.subquery.orderBy();if(!t||1!==t.length)return;var r=t[0],t=new i;return t.visitOrderBy(r.expr)?{orderByField:t.orderByField,isTop:2===r.direction,itemCount:e.subquery.top()}:void 0}};var t,i=(t=n.DefaultSQExprVisitorWithArg,__extends(e,t),e.prototype.visitOrderBy=function(e){return e.accept(this,0)},e.prototype.visitAggr=function(e,t){return 0===t&&(n.SQExprConverter.asFieldPattern(e),this.orderByField=e,!0)},e.prototype.visitMeasureRef=function(e,t){return 0===t&&(this.orderByField=e,!0)},e);function e(){var e=t.call(this)||this;return e.orderByField=null,e}})()})(powerbi=powerbi||{}),(function(n){var e,t,a;function o(e){return"'"+e.replace(t,"''")+"'"}function u(){return"null"}function s(e){return e?"true":"false"}e=(e=n.data||(n.data={})).PrimitiveValueEncoding||(e.PrimitiveValueEncoding={}),t=/'/g,a=/\.000$/,e.decimal=function(e){return e+"M"},e.double=function(e){return e+"D"},e.integer=function(e){return e+"L"},e.text=o,e.nullEncoding=u,e.boolean=s,e.toTypeEncoded=function(e,t){if(null===e)return u();switch(t.primitiveType){case 4:return _.isString(e)||_.isNumber(e),e+"L";case 2:return _.isString(e)||_.isNumber(e),e+"M";case 3:return _.isString(e)||_.isNumber(e),e+"D";case 7:case 6:var r,i=void 0;return"datetime'"+(i=e instanceof Date?(i=n.isDateWithEpochValue(e)?(r=e.epochTimeStamp,new Date(r).toISOString()):new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString(),(i=_.endsWith(i,"Z")?i.substr(0,i.length-1):i).replace(a,"")):(_.isString(e),e))+"'";case 1:return _.isString(e),o(e);case 5:return _.isBoolean(e),s(e);case 13:return _.isString(e),e}}})(powerbi=powerbi||{}),(function(e){var n,r,i,a;function o(e,t,r){if(!(t instanceof n.SQHierarchyLevelExpr&&r instanceof n.SQHierarchyLevelExpr))return!1;if(!n.SQExpr.equals(t.arg,r.arg))return!1;t=n.SQExprUtils.indexOfExpr(e,t),r=n.SQExprUtils.indexOfExpr(e,r);return-1!==t&&-1!==r&&t<r}n=e.data||(e.data={}),(i=r=n.SQHierarchyExprUtils||(n.SQHierarchyExprUtils={})).getConceptualHierarchyLevelFromExpr=function(e,t){if(t=(t=t).hierarchyLevel||t.hierarchyLevelAggr||t.columnHierarchyLevelVariation&&t.columnHierarchyLevelVariation.level)return i.getConceptualHierarchyLevel(e,t.schema,t.entity,t.name,t.level)},i.getConceptualHierarchyLevel=function(e,t,r,i,n){if(i=e.schema(t).findHierarchy(r,i))return i.levels.withName(n)},i.getConceptualHierarchy=function(e,t){if(e instanceof n.SQHierarchyExpr){var r=e;if(e.arg instanceof n.SQEntityExpr){var i=e.arg;return t.schema(i.schema).findHierarchy(i.entity,r.hierarchy)}if(e.arg instanceof n.SQPropertyVariationSourceExpr){i=e.arg,e=i.arg;return t.schema(e.schema).findHierarchyByVariation(e.entity,i.property,i.name,r.hierarchy)}}},i.expandExpr=function(e,t,r){return a.convert(t,e)||n.SQExprVariationConverter.expand(t,e)||!r&&n.SQExprHierarchyLevelConverter.expand(t,e)||t},i.isHierarchyOrVariation=function(e,t){if(t instanceof n.SQHierarchyExpr||t instanceof n.SQHierarchyLevelExpr)return!0;if(e=t.getConceptualProperty(e)){e=e.column;if(e&&e.variations&&0<e.variations.length)return!0}return!1},i.getSourceVariationExpr=function(e){var t=n.SQExprConverter.asFieldPattern(e);if(t.columnHierarchyLevelVariation){e=n.SQExprBuilder.entity(t.columnHierarchyLevelVariation.source.schema,t.columnHierarchyLevelVariation.source.entity);return n.SQExprBuilder.columnRef(e,t.columnHierarchyLevelVariation.source.name)}},i.getSourceHierarchy=function(e){var t=n.SQExprConverter.asFieldPattern(e).hierarchyLevel;if(t){e=n.SQExprBuilder.entity(t.schema,t.entity,t.entityVar);return n.SQExprBuilder.hierarchy(e,t.name)}},i.getHierarchySourceAsVariationSource=function(e){if(e.arg instanceof n.SQHierarchyExpr){e=e.arg;return e.arg instanceof n.SQPropertyVariationSourceExpr?e.arg:void 0}},i.areHierarchyLevelsOrdered=o,i.getInsertionIndex=function(e,t,r){for(var i=0;i<t.length&&o(e,t[i],r);)i++;return i},(a=n.SQExprHierarchyToHierarchyLevelConverter||(n.SQExprHierarchyToHierarchyLevelConverter={})).convert=function(t,e){if(t instanceof n.SQHierarchyExpr){e=r.getConceptualHierarchy(t,e);if(e)return _.map(e.levels,(function(e){return n.SQExprBuilder.hierarchyLevel(t,e.name)}))}}})(powerbi=powerbi||{}),(function(e){var l;((l=e.data||(e.data={})).SQExprHierarchyLevelConverter||(l.SQExprHierarchyLevelConverter={})).expand=function(e,t){var r=[];if(e instanceof l.SQHierarchyLevelExpr){var i=l.SQExprConverter.asFieldPattern(e);if(i.hierarchyLevel){var n=l.FieldExprPattern.toFieldExprEntityItemPattern(i),a=t.schema(n.schema).findHierarchy(n.entity,i.hierarchyLevel.name);if(a)for(var o=0,u=a.levels;o<u.length;o++){var s=u[o];if(s.name===i.hierarchyLevel.level){r.push(e);break}r.push(l.SQExprBuilder.hierarchyLevel(l.SQExprBuilder.hierarchy(l.SQExprBuilder.entity(n.schema,n.entity,n.entityVar),a.name),s.name))}}}if(!_.isEmpty(r))return r}})(powerbi=powerbi||{}),(function(e){var s;((s=e.data||(e.data={})).SQExprVariationConverter||(s.SQExprVariationConverter={})).expand=function(e,t){var r=e.getConceptualProperty(t);if(r){t=r.column;if(t&&t.variations&&0<t.variations.length){t=t.variations;t.length;var t=t[0],e=s.SQExprConverter.asFieldPattern(e),e=s.FieldExprPattern.toFieldExprEntityItemPattern(e),i=[];if(t.defaultHierarchy)for(var n=s.SQExprBuilder.hierarchy(s.SQExprBuilder.propertyVariationSource(s.SQExprBuilder.entity(e.schema,e.entity,e.entityVar),t.name,r.name),t.defaultHierarchy.name),a=0,o=t.defaultHierarchy.levels;a<o.length;a++){var u=o[a];i.push(s.SQExprBuilder.hierarchyLevel(n,u.name))}}}return i}})(powerbi=powerbi||{}),(function(e){var l;((l=e.data||(e.data={})).SQExprGroupUtils||(l.SQExprGroupUtils={})).groupExprs=function(e,t,r){var i=[];if(0===t.length)return i;for(var n,a=0,o=(n=l.SQExprUtils.isSQExprArray(t)?t.map((function(e){return l.SQExprUtils.transformToVisualQueryField(e)})):t).length;a<o;a++){var u=n[a],s=u.expr,u=u.isFieldParameter;s instanceof l.SQHierarchyLevelExpr?(function(e,t,r,i,n){var a=!0,o=l.SQHierarchyExprUtils.getSourceVariationExpr(r)||l.SQHierarchyExprUtils.getSourceHierarchy(r),u=_.last(t);n||u&&u.children&&l.SQExpr.equals(u.expr,o)&&((e=l.SQHierarchyExprUtils.expandExpr(e,r.arg))instanceof Array&&(a=!l.SQHierarchyExprUtils.areHierarchyLevelsOrdered(e,_.last(u.children),r)));a||n?t.push({expr:o,children:[r],selectQueryIndex:i,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(u.children,u.children.push(r))})(e,i,s,a,r):i.push({expr:s,children:null,selectQueryIndex:a,isHierarchyLevelsGroup:!1,isFieldParameter:u})}return i}})(powerbi=powerbi||{}),(function(Qr){!(function(c){var i=jsCommon.ArrayExtensions,r=jsCommon.StringExtensions,p=(n.equals=function(e,t,r,i,n){return Lt.run(e,t,r,i,n)},n.prototype.validate=function(e,t,r,i){i=new $t(e,t,r,i);return this.accept(i),i.errors},n.prototype.accept=function(e,t){},Object.defineProperty(n.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),n.isArithmetic=function(e){return 23===e.kind},n.isFloor=function(e){return 35===e.kind},n.isColumn=function(e){return 2===e.kind},n.isConstant=function(e){return 17===e.kind},n.isConstantNumeric=function(e){return n.isConstant(e)&&e.type.numeric},n.isConstantBoolean=function(e){return n.isConstant(e)&&e.type.bool},n.isConstantDate=function(e){return n.isConstant(e)&&e.type.dateTime},n.isConstantText=function(e){return n.isConstant(e)&&e.type.text},n.isConstantNull=function(e){return n.isConstant(e)&&0===e.type.primitiveType&&null===e.value},n.isEntity=function(e){return 0===e.kind},n.isHierarchy=function(e){return 6===e.kind},n.isHierarchyLevel=function(e){return 7===e.kind},n.isIn=function(e){return 10===e.kind},n.isAggregation=function(e){return 4===e.kind},n.isMinAggregation=function(e){return n.isAggregation(e)&&3===e.func},n.isMaxAggregation=function(e){return n.isAggregation(e)&&4===e.func},n.isAvgAggregation=function(e){return n.isAggregation(e)&&1===e.func},n.isMedianAggregation=function(e){return n.isAggregation(e)&&6===e.func},n.isMeasure=function(e){return 3===e.kind},n.isNativeMeasure=function(e){return 43===e.kind},n.isNativeColumn=function(e){return 44===e.kind},n.isPercentile=function(e){return 28===e.kind},n.isRangePercent=function(e){return 29===e.kind},n.isPropertyVariationSource=function(e){return 5===e.kind},n.isSelectRef=function(e){return 30===e.kind},n.isScopedEval=function(e){return 26===e.kind},n.isFilteredEval=function(e){return 41===e.kind},n.isSubqueryRef=function(e){return 1===e.kind},n.isWithRef=function(e){return 27===e.kind},n.isTransformTableRef=function(e){return 31===e.kind},n.isTransformOutputRoleRef=function(e){return 32===e.kind},n.isResourcePackageItem=function(e){return 25===e.kind},n.isCompareRef=function(e){return 13===e.kind},n.isGroupRef=function(e){return 34===e.kind},n.isRoleRef=function(e){return 36===e.kind},n.isSummaryValueRef=function(e){return 45===e.kind},n.isAllRolesRef=function(e){return 37===e.kind},n.isNamedQueryRef=function(e){return 39===e.kind},n.isBetween=function(e){return 9===e.kind},n.isAnd=function(e){return 8===e.kind},n.isOr=function(e){return 11===e.kind},n.isCompare=function(e){return 13===e.kind},n.isConditional=function(e){return 42===e.kind},n.isContains=function(e){return 12===e.kind},n.isDateSpan=function(e){return 18===e.kind},n.isDateAdd=function(e){return 19===e.kind},n.isExists=function(e){return 15===e.kind},n.isNot=function(e){return 16===e.kind},n.isNow=function(e){return 20===e.kind},n.isDefaultValue=function(e){return 22===e.kind},n.isAnyValue=function(e){return 21===e.kind},n.isStartsWith=function(e){return 14===e.kind},n.isFillRule=function(e){return 24===e.kind},n.isThemeDataColor=function(e){return 33===e.kind},n.isDiscretize=function(e){return 38===e.kind},n.isMember=function(e){return 40===e.kind},n.isSparklineData=function(e){return 46===e.kind},n.isIsBlank=function(e){return 0===e.comparison&&(n.isConstantNull(e.right)||n.isConstantNull(e.left))},n.prototype.getMetadata=function(e,t){var r=c.SQExprConverter.asFieldPattern(this,e);if(r)return r.column||r.columnAggr||r.groupingColumn||r.groupingColumnAggr||r.measure?this.getMetadataForProperty(r,e):r.hierarchyLevel||r.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(r,e):r.columnHierarchyLevelVariation?this.getMetadataForVariation(r,e):r.columnSubquery||r.columnAggrSubquery?this.getMetadataForSubqueryColumn(r,e,t):r.columnTransformRef?this.getMetadataForColumnTransformRef():n.getMetadataForEntity(r,e)},n.prototype.getAnnotations=function(){return this._annotations},n.prototype.getKeyColumns=function(e){var t=ir.getColumnRefSQExpr(e,this);if(t){var r=[],i=this.getPropertyKeys(e);if(i&&0<i.length)for(var n=0,a=i.length;n<a;n++)r.push(jt.columnRef(t.source,i[n].name));else r.push(t);return r}},n.prototype.hasGroupOnKeys=function(e){var t=this.getTargetColumnRef(e);if(t){e=this.getPropertyKeys(e);if(!e||e.length<1)return!1;if(1<e.length)return!0;e=jt.columnRef(t.source,e[0].name);return!n.equals(e,this)}},n.prototype.getPropertyKeys=function(e){e=this.getConceptualProperty(e,!0);if(e)return e.column?e.column.keys:void 0},n.prototype.getOrderByColumns=function(e){var t=this.getTargetColumnRef(e);if(t){var e=t.getConceptualProperty(e,!0),r=e&&e.column&&e.column.orderBy;if(_.isEmpty(r))return[];for(var i=new Array(r.length),n=0,a=r.length;n<a;n++)i[n]=jt.columnRef(t.source,r[n].name);return i}},n.prototype.getConceptualProperty=function(e,t){var r=c.SQExprConverter.asFieldPattern(this,e);if(r){var i=c.FieldExprPattern.toFieldExprEntityItemPatterns(r);if(i&&1===_.size(i)){var n=c.FieldExprPattern.getPropertyName(r);if(n){var a=e.schema(i[0].schema);return a?a.findProperty(i[0].entity,n):void 0}if(t){n=void 0,t=void 0;if(r.columnHierarchyLevelVariation?(n=r.columnHierarchyLevelVariation.level)&&(t=e.schema(n.schema).findHierarchy(n.entity,n.name)):(n=r.hierarchyLevel||r.hierarchyLevelAggr)&&(r=c.FieldExprPattern.toFieldExprEntityItemPattern(r),t=e.schema(r.schema).findHierarchy(r.entity,n.name)),t){n=t.levels.withName(n.level);if(n)return n.column}}}}},n.prototype.getTargetEntityForVariation=function(e,t){e=this.getConceptualProperty(e);if(e&&e.column&&!_.isEmpty(e.column.variations))for(var r=0,i=e.column.variations;r<i.length;r++){var n=i[r];if(n.name===t)return n.navigationProperty.targetEntity.name}},n.prototype.getTargetEntity=function(){return or.getEntityExpr(this)},n.prototype.getTargetColumnRef=function(e){return ir.getColumnRefSQExpr(e,this)},n.prototype.getMetadataForVariation=function(e,t){var r=e.columnHierarchyLevelVariation,e=c.FieldExprPattern.toFieldExprEntityItemPattern(e),e=t.schema(e.schema).findProperty(e.entity,r.source.name);if(e&&e.column&&e.column.variations)for(var i=0,n=e.column.variations;i<n.length;i++){var a=n[i];if(a.defaultHierarchy&&a.defaultHierarchy.levels)for(var o=0,u=a.defaultHierarchy.levels;o<u.length;o++){var s=u[o];if(s.name===r.level.level){s=s.column;return{kind:1===s.kind?1:0,type:s.type,format:s.format,idOnEntityKey:!!s.column&&s.column.idOnEntityKey,defaultAggregate:s.column?s.column.defaultAggregate:null}}}}},n.prototype.getMetadataForHierarchyLevel=function(e,t){t=this.getConceptualProperty(t,!0);if(t)return this.getPropertyMetadata(e,t)},n.prototype.getPropertyMetadata=function(e,t){var r=e.columnAggr||e.groupingColumnAggr||e.hierarchyLevelAggr,i=r?this.getFormatAndTypeForAggregate(r.aggregate,t.format,t.type):t,e=i.format,i=i.type;return{kind:1===t.kind||r&&void 0!==r.aggregate?1:0,type:i,format:e,idOnEntityKey:!!t.column&&t.column.idOnEntityKey,aggregate:r?r.aggregate:void 0,defaultAggregate:t.column?t.column.defaultAggregate:null}},n.prototype.getMetadataForProperty=function(e,t){t=this.getConceptualProperty(t);if(t)return this.getPropertyMetadata(e,t)},n.prototype.getFormatAndTypeForAggregate=function(e,t,r){var i=t,n=r;switch(e){case 2:case 5:n=Qr.ValueType.fromExtendedType(260),i=void 0;break;case 1:case 7:case 8:n.integer&&(n=Qr.ValueType.fromExtendedType(259),i=Qr.NumberFormat.getFormatForWholeNumberAverage(i))}return{format:i,type:n}},n.prototype.getMetadataForSubqueryColumn=function(e,t,r){r&&r.sources;var i=c.SQExprUtils.getSubqueryExpression(this,r),t=i.getMetadata(t,r);if(t)return t.kind=0,e.columnAggrSubquery?(r=this.getFormatAndTypeForAggregate(e.columnAggrSubquery.aggregate,t.format,t.type),t.type=r.type,t.format=r.format,t.aggregate=e.columnAggrSubquery.aggregate):e.columnSubquery&&(t.aggregate=void 0),t},n.prototype.getMetadataForColumnTransformRef=function(){return{idOnEntityKey:!1,kind:0,type:Qr.ValueType.fromVariant([Qr.ValueType.fromPrimitiveTypeAndCategory(5),Qr.ValueType.fromPrimitiveTypeAndCategory(7),Qr.ValueType.fromPrimitiveTypeAndCategory(2),Qr.ValueType.fromPrimitiveTypeAndCategory(3),Qr.ValueType.fromPrimitiveTypeAndCategory(4),Qr.ValueType.fromPrimitiveTypeAndCategory(1)])}},n.getMetadataForEntity=function(e,t){var r=c.FieldExprPattern.toFieldExprEntityItemPattern(e),r=t.schema(r.schema).entities.withName(r.entity);if(r&&e.entityAggr)switch(e.entityAggr.aggregate){case 2:case 5:return{kind:1,type:Qr.ValueType.fromExtendedType(260),format:void 0,idOnEntityKey:!1,aggregate:e.entityAggr.aggregate}}},n);function n(e,t){this._kind=e,this._annotations=t}c.SQExpr=p,jsCommon.forceEnumeration(p.prototype);var a,f=(__extends(o,a=p),o.prototype.accept=function(e,t){return e.visitEntity(this,t)},o.prototype.as=function(e,t){return new o(this.schema,this.entity,e,t)},o);function o(e,t,r,i){var n=this;return(n=a.call(this,0,i)||this).schema=e,n.entity=t,r&&(n.variable=r),n}c.SQEntityExpr=f;var u,d=(__extends(s,u=p),s.prototype.accept=function(e,t){return e.visitSubqueryRef(this,t)},s.prototype.as=function(e,t){return new s(e,t)},s);function s(e,t){var r=this,r=u.call(this,1,t)||this;return _.isString(e)?r.variable=e:r.query=e,r}c.SQSubqueryRefExpr=d;var l,h=(__extends(m,l=p),m.prototype.accept=function(e,t){return e.visitNamedQueryRef(this,t)},m.prototype.as=function(e,t){return new m(this.queryName,e,t)},m);function m(e,t,r){var i=this;return(i=l.call(this,39,r)||this).queryName=e,t&&(i.variable=t),i}c.SQNamedQueryRefExpr=h;var v,g=(__extends(e,v=p),e.prototype.accept=function(e,t){return e.visitArithmetic(this,t)},e.prototype.getMetadata=function(e){var t=this.left.getMetadata(e);if(p.isScopedEval(this.right))return t?(this.operator,t.format="#,##0.00%",t.type=Qr.ValueType.fromExtendedType(259),t):void 0;var r,i=this.right.getMetadata(e),n=null==t?void 0:t.type,e=null==i?void 0:i.type,e=n&&e?this.getArithmeticResultType(n,e):null!=n?n:e,t=null==t?void 0:t.format,i=null==i?void 0:i.format;return{format:r=0===this.operator||1===this.operator?t===i?t:void 0:r,type:e,kind:1}},e.prototype.getArithmeticResultType=function(e,t){return 0!==this.operator&&1!==this.operator&&2!==this.operator&&3!==this.operator&&this.operator,2===e.primitiveType?3===this.operator&&2===t.primitiveType?Qr.ValueType.fromPrimitiveTypeAndCategory(3):Qr.ValueType.fromPrimitiveTypeAndCategory(2):3===e.primitiveType?3!==this.operator&&2===t.primitiveType?Qr.ValueType.fromPrimitiveTypeAndCategory(2):Qr.ValueType.fromPrimitiveTypeAndCategory(3):4===e.primitiveType?3===this.operator&&4===t.primitiveType?Qr.ValueType.fromPrimitiveTypeAndCategory(3):t:void 0},e);function e(e,t,r,i){var n=this;return(n=v.call(this,23,i)||this).left=e,n.right=t,n.operator=r,n}c.SQArithmeticExpr=g;var y,x=(__extends(t,y=p),t.prototype.accept=function(e,t){return e.visitFloor(this,t)},t);function t(e,t,r,i){var n=this;return(n=y.call(this,35,i)||this).arg=e,n.size=t,null!=r&&(n.timeUnit=r),n}c.SQFloorExpr=x;var S,E=(__extends(w,S=p),w.prototype.accept=function(e,t){return e.visitScopedEval(this,t)},w.prototype.getMetadata=function(e){return this.expression.getMetadata(e)},w.prototype.hasGlobalScope=function(){return this.scope,0===this.scope.length},w.prototype.hasInnerMostScope=function(){return this.scope,1===this.scope.length&&p.isAllRolesRef(this.scope[0])},w.createGlobalAggregateOfScopedExpr=function(e,t){e=new w(e,[new Mt]);return new w(new W(e,t),[])},w.prototype.decomposeGlobalAggregateOfScopedExpr=function(){if(this.hasGlobalScope()){var e=this.expression;if(p.isAggregation(e)){var t=e.arg;if(p.isScopedEval(t)&&t.hasInnerMostScope())return{source:t.expression,func:e.func}}}},w);function w(e,t,r){var i=this;return(i=S.call(this,26,r)||this).expression=e,i.scope=t,i}c.SQScopedEvalExpr=E;var b,C=(__extends(D,b=p),D.prototype.accept=function(e,t){return e.visitFilteredEval(this,t)},D.prototype.getMetadata=function(e){return this.expression.getMetadata(e)},D);function D(e,t,r){var i=this;return(i=b.call(this,41,r)||this).expression=e,i.filters=t,i}c.SQFilteredEvalExpr=C;var V,R=(__extends(T,V=p),T.prototype.accept=function(e,t){return e.visitWithRef(this,t)},T);function T(e,t){var r=this;return(r=V.call(this,27,t)||this).expressionName=e,r}c.SQWithRefExpr=R;var F,M=(__extends(P,F=p),P);function P(e,t,r,i){var n=this;return(n=F.call(this,e,i)||this).source=t,n.ref=r,n}c.SQPropRefExpr=M;var A,N=(__extends(Q,A=M),Q.prototype.accept=function(e,t){return e.visitColumnRef(this,t)},Q);function Q(e,t,r,i){return A.call(this,r||2,e,t,i)||this}c.SQColumnRefExpr=N;var I,q=(__extends(O,I=M),O.prototype.accept=function(e,t){return e.visitMeasureRef(this,t)},O);function O(e,t,r){return I.call(this,3,e,t,r)||this}c.SQMeasureRefExpr=q;var U,j=(__extends(k,U=p),k.prototype.getMetadata=function(e){return{kind:1,type:Qr.ValueType.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},k.prototype.accept=function(e,t){return e.visitNativeMeasure(this,t)},k);function k(e,t,r,i,n,a,o){o=U.call(this,43,o)||this;return o.language=e,o.expression=t,o.dataType=r,o.proposedName=i,o.expressionContentCache=n,o.format=a,o}c.SQNativeMeasureExpr=j;var B,L=(__extends(H,B=p),H.prototype.getMetadata=function(e){return{kind:0,type:Qr.ValueType.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},H.prototype.accept=function(e,t){return e.visitNativeColumn(this,t)},H);function H(e,t,r,i,n,a,o,u){u=B.call(this,44,u)||this;return u.language=e,u.expression=t,u.dataType=r,u.source=i,u.proposedName=n,u.expressionContentCache=a,u.format=o,u}c.SQNativeColumnExpr=L;var G,W=(__extends(K,G=p),K.prototype.accept=function(e,t){return e.visitAggr(this,t)},K.prototype.getMetadata=function(e,t){if(p.isNativeColumn(this.arg)){var r=this.getFormatAndTypeForAggregate(this.func,this.arg.format,Qr.ValueType.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:1,type:r.type,format:r.format}}return G.prototype.getMetadata.call(this,e,t)},K);function K(e,t,r){var i=this;return(i=G.call(this,4,r)||this).arg=e,i.func=t,i}c.SQAggregationExpr=W;var z,Y=(__extends(J,z=p),J.prototype.getMetadata=function(e){e=this.arg.getMetadata(e);if(e)return{kind:1,type:e.type}},J.prototype.accept=function(e,t){return e.visitPercentile(this,t)},J);function J(e,t,r,i){var n=this;return(n=z.call(this,28,i)||this).arg=e,n.k=t,n.exclusive=r,n}c.SQPercentileExpr=Y;var $,Z=(__extends(X,$=p),X.prototype.accept=function(e,t){return e.visitRangePercent(this,t)},X.overRangeOf=function(e,t){return new X(E.createGlobalAggregateOfScopedExpr(e,3),E.createGlobalAggregateOfScopedExpr(e,4),t)},X.prototype.decomposeOverRangePattern=function(){var e=this.min,t=this.max;if(p.isScopedEval(e)&&p.isScopedEval(t)){e=e.decomposeGlobalAggregateOfScopedExpr(),t=t.decomposeGlobalAggregateOfScopedExpr();if(e&&t&&3===e.func&&4===t.func&&p.equals(e.source,t.source))return{sourceExpr:e.source,percent:this.percent}}},X);function X(e,t,r,i){i=$.call(this,29,i)||this;return i.min=e,i.max=t,i.percent=r,i}c.SQRangePercentExpr=Z;var ee,te=(__extends(re,ee=p),re.prototype.accept=function(e,t){return e.visitPropertyVariationSource(this,t)},re);function re(e,t,r,i){var n=this;return(n=ee.call(this,5,i)||this).arg=e,n.name=t,n.property=r,n}c.SQPropertyVariationSourceExpr=te;var ie,ne=(__extends(ae,ie=N),ae.prototype.accept=function(e,t){return e.visitGroupRef(this,t)},ae);function ae(e,t,r,i){var n=this;return r.length,(n=ie.call(this,t,e,34,i)||this).groupedExprs=r,n}c.SQGroupRefExpr=ne;var oe,ue=(__extends(se,oe=p),se.prototype.accept=function(e,t){return e.visitHierarchy(this,t)},se);function se(e,t,r){var i=this;return(i=oe.call(this,6,r)||this).arg=e,i.hierarchy=t,i}c.SQHierarchyExpr=ue;var le,ce=(__extends(pe,le=p),pe.prototype.accept=function(e,t){return e.visitHierarchyLevel(this,t)},pe);function pe(e,t,r){var i=this;return(i=le.call(this,7,r)||this).arg=e,i.level=t,i}c.SQHierarchyLevelExpr=ce;var fe,de=(__extends(he,fe=p),he.prototype.accept=function(e,t){return e.visitSelectRef(this,t)},he);function he(e,t,r){var i=this;return(i=fe.call(this,30,r)||this).expressionName=e,i.attributeKind=t,i}c.SQSelectRefExpr=de;var me,ve=(__extends(ge,me=p),ge.prototype.accept=function(e,t){return e.visitAnd(this,t)},ge);function ge(e,t,r){var i=this;return(i=me.call(this,8,r)||this).left=e,i.right=t,i}c.SQAndExpr=ve;var ye,xe=(__extends(Se,ye=p),Se.prototype.accept=function(e,t){return e.visitBetween(this,t)},Se);function Se(e,t,r,i){var n=this;return(n=ye.call(this,9,i)||this).arg=e,n.lower=t,n.upper=r,n}c.SQBetweenExpr=xe;var Ee,we=(__extends(be,Ee=p),be.prototype.accept=function(e,t){return e.visitIn(this,t)},be);function be(e,t,r,i){var n=this;return(n=Ee.call(this,10,i)||this).args=e,t&&(n.values=t),r&&(n.table=r),n}c.SQInExpr=we;var Ce,De=(__extends(_e,Ce=p),_e.prototype.accept=function(e,t){return e.visitOr(this,t)},_e);function _e(e,t,r){var i=this;return(i=Ce.call(this,11,r)||this).left=e,i.right=t,i}c.SQOrExpr=De;var Ve,Re=(__extends(Te,Ve=p),Te.prototype.accept=function(e,t){return e.visitCompare(this,t)},Te);function Te(e,t,r,i){var n=this;return(n=Ve.call(this,13,i)||this).comparison=e,n.left=t,n.right=r,n}c.SQCompareExpr=Re;var Fe,Me=(__extends(Pe,Fe=p),Pe.prototype.accept=function(e,t){return e.visitConditional(this,t)},Pe);function Pe(e,t,r){var i=this;return(i=Fe.call(this,42,r)||this).cases=e,i.defaultValue=t,i}c.SQConditionalExpr=Me;var Ae,Ne=(__extends(Qe,Ae=p),Qe.prototype.accept=function(e,t){return e.visitContains(this,t)},Qe);function Qe(e,t,r){var i=this;return(i=Ae.call(this,12,r)||this).left=e,i.right=t,i}c.SQContainsExpr=Ne;var Ie,qe=(__extends(Oe,Ie=p),Oe.prototype.accept=function(e,t){return e.visitStartsWith(this,t)},Oe);function Oe(e,t,r){var i=this;return(i=Ie.call(this,14,r)||this).left=e,i.right=t,i}c.SQStartsWithExpr=qe;var Ue,je=(__extends(ke,Ue=p),ke.prototype.accept=function(e,t){return e.visitExists(this,t)},ke);function ke(e,t){var r=this;return(r=Ue.call(this,15,t)||this).arg=e,r}c.SQExistsExpr=je;var Be,Le=(__extends(He,Be=p),He.prototype.accept=function(e,t){return e.visitNot(this,t)},He);function He(e,t){var r=this;return(r=Be.call(this,16,t)||this).arg=e,r}c.SQNotExpr=Le;var Ge,We=(__extends(Ke,Ge=p),Object.defineProperty(Ke.prototype,"valueEncoded",{get:function(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=c.PrimitiveValueEncoding.toTypeEncoded(this.rawValue||this.value,this.type)),this.typeEncodedValue},enumerable:!1,configurable:!0}),Ke.prototype.accept=function(e,t){return e.visitConstant(this,t)},Ke.prototype.getMetadata=function(){return{kind:1,type:this.type}},Ke.getNumericValue=function(e){if(p.isConstantNumeric(e)&&_.isNumber(e.value))return e.value},Ke.getTextValue=function(e){if(p.isConstantText(e)&&_.isString(e.value))return e.value},Ke.getBooleanValue=function(e){if(p.isConstantBoolean(e)&&_.isBoolean(e.value))return e.value},Ke.getDateValue=function(e){if(p.isConstantDate(e)&&_.isDate(e.value))return e.value},Ke);function Ke(e,t,r,i,n){var a=this;return(a=Ge.call(this,17,n)||this).type=e,a.value=t,a.typeEncodedValue=r,i&&(a.rawValue=i),a}c.SQConstantExpr=We,jsCommon.forceEnumeration(We.prototype);var ze,Ye=(__extends(Je,ze=p),Je.prototype.accept=function(e,t){return e.visitDateSpan(this,t)},Je);function Je(e,t,r){var i=this;return(i=ze.call(this,18,r)||this).unit=e,i.arg=t,i}c.SQDateSpanExpr=Ye;var $e,Ze=(__extends(Xe,$e=p),Xe.prototype.accept=function(e,t){return e.visitDateAdd(this,t)},Xe.prototype.getMetadata=function(e){return this.arg.getMetadata(e)},Xe);function Xe(e,t,r,i){var n=this;return(n=$e.call(this,19,i)||this).unit=e,n.arg=r,n.amount=t,n}c.SQDateAddExpr=Ze;var et,tt=(__extends(rt,et=p),rt.prototype.accept=function(e,t){return e.visitNow(this,t)},rt.prototype.getMetadata=function(){return{kind:1,type:Qr.ValueType.fromExtendedType(519)}},rt);function rt(e){return et.call(this,20,e)||this}c.SQNowExpr=tt;var it,nt=(__extends(at,it=p),at.prototype.accept=function(e,t){return e.visitDefaultValue(this,t)},at);function at(e){return it.call(this,22,e)||this}c.SQDefaultValueExpr=nt;var ot,ut=(__extends(st,ot=p),st.prototype.accept=function(e,t){return e.visitAnyValue(this,t)},st);function st(e,t){var r=this;return(r=ot.call(this,21,t)||this).defaultValueOverridesAncestors=e,r}c.SQAnyValueExpr=ut;var lt,ct=(__extends(pt,lt=p),pt.prototype.accept=function(e,t){return e.visitFillRule(this,t)},pt);function pt(e,t,r){var i=this;return(i=lt.call(this,24,r)||this).input=e,i.rule=t,i}c.SQFillRuleExpr=ct;var ft,dt=(__extends(ht,ft=p),ht.prototype.accept=function(e,t){return e.visitThemeDataColor(this,t)},ht);function ht(e,t,r){var i=this;return(i=ft.call(this,33,r)||this).colorId=e,i.percent=t,i}c.SQThemeDataColorExpr=dt;var mt,vt=(__extends(gt,mt=p),gt.prototype.accept=function(e,t){return e.visitResourcePackageItem(this,t)},gt);function gt(e,t,r,i){var n=this;return(n=mt.call(this,25,i)||this).packageName=e,n.packageType=t,n.itemName=r,n}c.SQResourcePackageItemExpr=vt;var yt,xt=(__extends(St,yt=p),St.prototype.accept=function(e,t){return e.visitTransformTableRef(this,t)},St);function St(e,t){var r=this;return(r=yt.call(this,31,t)||this).source=e,r}c.SQTransformTableRefExpr=xt;var Et,wt=(__extends(bt,Et=p),bt.prototype.accept=function(e,t){return e.visitTransformOutputRoleRef(this,t)},bt.prototype.getMetadata=function(e){},bt);function bt(e,t,r){var i=this;return(i=Et.call(this,32,r)||this).role=e,t&&(i.transform=t),i}c.SQTransformOutputRoleRefExpr=wt;var Ct,Dt=(__extends(_t,Ct=p),_t.prototype.accept=function(e,t){return e.visitRoleRef(this,t)},_t);function _t(e,t){var r=this;return(r=Ct.call(this,36,t)||this).role=e,r}c.SQRoleRefExpr=Dt;var Vt,Rt=(__extends(Tt,Vt=p),Tt.prototype.accept=function(e,t){return e.visitSummaryValueRef(this,t)},Tt);function Tt(e,t){var r=this;return _.isEmpty(e),(r=Vt.call(this,45,t)||this).name=e,r}c.SQSummaryValueRefExpr=Rt;var Ft,Mt=(__extends(Pt,Ft=p),Pt.prototype.accept=function(e,t){return e.visitAllRolesRef(this,t)},Pt);function Pt(e){return Ft.call(this,37,e)||this}c.SQAllRolesRefExpr=Mt;var At,Nt=(__extends(Qt,At=p),Qt.prototype.accept=function(e,t){return e.visitDiscretize(this,t)},Qt);function Qt(e,t,r){var i=this;return(i=At.call(this,38,r)||this).source=e,i.count=t,i}c.SQDiscretizeExpr=Nt;var It,qt=(__extends(Ot,It=p),Ot.prototype.accept=function(e,t){return e.visitMember(this,t)},Ot);function Ot(e,t,r){var i=this;return(i=It.call(this,40,r)||this).source=e,i.member=t,i}c.SQMemberExpr=qt;var Ut,jt,kt=(__extends(Bt,Ut=p),Bt.prototype.getMetadata=function(e){return _.size(this.grouping),{kind:1,type:Qr.ValueType.fromDescriptor({misc:{sparkline:{groupingType:null===(e=this.grouping[0].getMetadata(e))||void 0===e?void 0:e.type}}})}},Bt.prototype.accept=function(e,t){return e.visitSparklineData(this,t)},Bt);function Bt(e,t,r,i,n,a){a=Ut.call(this,46,a)||this;return _.size(t),a.measure=e,a.grouping=t,a.scalarKey=r,a.pointsPerSparkline=i,a.includeMinGroupingInterval=n,a}c.SQSparklineDataExpr=kt,(function(o){function i(e,t,r,i){return new Re(e,t,r,i)}o.entity=function(e,t,r,i){return new f(e,t,r,i)},o.subqueryRef=function(e,t){return _.isString(e),new d(e,t)},o.namedQueryRef=function(e,t,r){return new h(e,t,r)},o.columnRef=function(e,t,r){return new N(e,t,null,r)},o.measureRef=function(e,t,r){return new q(e,t,r)},o.nativeMeasure=function(e,t,r,i,n,a,o){return new j(e,t,r,i,n,a,o)},o.nativeColumn=function(e,t,r,i,n,a,o,u){return new L(e,t,r,i,n,a,o,u)},o.aggregate=function(e,t,r){return new W(e,t,r)},o.selectRef=function(e,t,r){return new de(e,t,r)},o.percentile=function(e,t,r,i){return new Y(e,t,r,i)},o.rangePercent=function(e,t,r,i){return new Z(e,t,r,i)},o.arithmetic=function(e,t,r,i){return new g(e,t,r,i)},o.floor=function(e,t,r,i){return new x(e,t,r,i)},o.scopedEval=function(e,t,r){return new E(e,t,r)},o.filteredEval=function(e,t,r){return new C(e,t,r)},o.withRef=function(e,t){return new R(e,t)},o.groupRef=function(e,t,r,i){return new ne(e,t,r,i)},o.hierarchy=function(e,t,r){return new ue(e,t,r)},o.propertyVariationSource=function(e,t,r,i){return new te(e,t,r,i)},o.hierarchyLevel=function(e,t,r){return new ce(e,t,r)},o.transformTableRef=function(e,t){return new xt(e,t)},o.transformOutputRoleRef=function(e,t,r){return new wt(e,t,r)},o.roleRef=function(e,t){return new Dt(e,t)},o.summaryValueRef=function(e,t){return new Rt(e,t)},o.allRolesRef=function(e){return new Mt(e)},o.and=function(e,t,r){return e?t?new ve(e,t,r):e:t},o.between=function(e,t,r,i){return new xe(e,t,r,i)},o.inValues=function(e,t,r){return new we(e,t,null,r)},o.inTable=function(e,t,r){return new we(e,null,t,r)},o.or=function(e,t,r){if(!e)return t;if(!t)return e;if(p.isIn(e)&&p.isIn(t)){var i=(function(e,t,r){if(e.args&&t.args&&e.values&&t.values){var i=e.args.length,n=t.args.length;if(i===n){for(var a=0;a<i;++a)if(!p.equals(e.args[a],t.args[a]))return;n=e.values.concat(t.values);return o.inValues(e.args,n,r)}}})(e,t,r);if(i)return i}return new De(e,t,r)},o.compare=i,o.conditional=function(e,t,r){return new Me(e,t,r)},o.contains=function(e,t,r){return new Ne(e,t,r)},o.exists=function(e,t){return new je(e,t)},o.equal=function(e,t,r){return i(0,e,t,r)},o.not=function(e,t){return new Le(e,t)},o.startsWith=function(e,t,r){return new qe(e,t,r)};var r=new We(Qr.ValueType.fromExtendedType(0),null,c.PrimitiveValueEncoding.nullEncoding());function e(){return r}function n(e,t){return new We(Qr.ValueType.fromExtendedType(5),e,c.PrimitiveValueEncoding.boolean(e),void 0,t)}function a(e,t,r){return new We(Qr.ValueType.fromExtendedType(519),e,t,void 0,r)}function u(e,t,r){return new We(Qr.ValueType.fromExtendedType(259),e,t,void 0,r)}function s(e,t,r){return new We(Qr.ValueType.fromExtendedType(260),e,t,void 0,r)}function l(e,t,r){return t&&c.PrimitiveValueEncoding.text(e),new We(Qr.ValueType.fromExtendedType(1),e,t,void 0,r)}o.nullConstant=e,o.now=function(e){return new tt(e)},o.defaultValue=function(e){return new nt(e)},o.anyValue=function(e,t){return new ut(e,t)},o.boolean=n,o.dateAdd=function(e,t,r,i){return new Ze(e,t,r,i)},o.dateTime=a,o.dateSpan=function(e,t,r){return new Ye(e,t,r)},o.decimal=function(e,t,r){return new We(Qr.ValueType.fromExtendedType(258),e,t,void 0,r)},o.double=u,o.integer=s,o.text=l,o.typedConstant=function(e,t){return null==e?r:_.isBoolean(e)?n(e):_.isString(e)?l(e):_.isNumber(e)?(t.integer&&Qr.Double.isInteger(e)?s:u)(e):e instanceof Date?a(e):void 0},o.fromRawValue=function(e,t,r,i){return new We(Qr.ValueType.fromExtendedType(e),t,void 0,r,i)},o.sparklineData=function(e,t,r,i,n,a){return new kt(e,t,r,i,n,a)},o.setAggregate=function(e,t){return pr.rewrite(e,t)},o.removeAggregate=function(e,t){return dr.rewrite(e,t)},o.setPercentOfGrandTotal=function(e){return Dr.rewrite(e)},o.removePercentOfGrandTotal=function(e){return wr.rewrite(e)},o.setPercentOfRoleTotal=function(e,t){return Mr.rewrite(e,t)},o.removePercentOfRoleTotal=function(e){return Rr.rewrite(e)},o.removeEntityVariables=function(e){return xr.rewrite(e)},o.fillRule=function(e,t,r){return new ct(e,t,r)},o.themeDataColor=function(e,t,r){return new dt(e,t,r)},o.resourcePackageItem=function(e,t,r,i){return new vt(e,t,r,i)},o.discretize=function(e,t,r){return new Nt(e,t,r)},o.member=function(e,t,r){return new qt(e,t,r)},o.color=function(e,t,r){return null==e||jsCommon.Color.isHexString(e),l(e||t,void 0,r)}})(jt=c.SQExprBuilder||(c.SQExprBuilder={})),(c.SQExprInfo||(c.SQExprInfo={})).getAggregate=function(e){return er.getAggregate(e)};var Lt=(Ht.getInstance=function(e,t,r){var i=[+(e=e||!1),+(t=t||!1),+(r=r||!1)].reduce((function(e,t){return e<<1|t}));return Ht.instances[i]||new Ht(e,t,r)},Ht.run=function(e,t,r,i,n){return(e=e||null)===(t=t||null)||!e==!t&&e.accept(Ht.getInstance(r,i,n),t)},Ht.prototype.visitColumnRef=function(e,t){return!(!p.isColumn(t)&&!p.isGroupRef(t))&&(e.ref===t.ref&&this.equals(e.source,t.source)&&this.equalAnnotations(e,t))},Ht.prototype.visitMeasureRef=function(e,t){return!(!p.isMeasure(t)||!this.equalAnnotations(e,t))&&(e.ref===t.ref&&this.equals(e.source,t.source))},Ht.prototype.visitNativeMeasure=function(e,t){if(!p.isNativeMeasure(t)||e.language!==t.language||e.expression!==t.expression||e.dataType!==t.dataType||e.format!==t.format||e.proposedName!==t.proposedName)return!1;if(!this.equalAnnotations(e,t))return!1;e=e.expressionContentCache,t=t.expressionContentCache;return!e&&!t||!(!e||!t)&&(e.unrecognizedIdentifiers===t.unrecognizedIdentifiers&&this.equalsAll(e.dependencies,t.dependencies))},Ht.prototype.visitNativeColumn=function(e,t){if(!p.isNativeColumn(t)||e.language!==t.language||e.expression!==t.expression||e.dataType!==t.dataType||e.proposedName!==t.proposedName||e.format!==t.format||!this.equals(e.source,t.source))return!1;if(!this.equalAnnotations(e,t))return!1;e=e.expressionContentCache,t=t.expressionContentCache;return!e&&!t||!(!e||!t)&&(e.unrecognizedIdentifiers===t.unrecognizedIdentifiers&&this.equalsAll(e.dependencies,t.dependencies))},Ht.prototype.visitAggr=function(e,t){return p.isAggregation(t)&&this.equalAnnotations(e,t)&&e.func===t.func&&this.equals(e.arg,t.arg)},Ht.prototype.visitPercentile=function(e,t){return!(!p.isPercentile(t)||!this.equalAnnotations(e,t))&&(e.exclusive===t.exclusive&&e.k===t.k&&this.equals(e.arg,t.arg))},Ht.prototype.visitRangePercent=function(e,t){return!(!p.isRangePercent(t)||!this.equalAnnotations(e,t))&&(e.percent===t.percent&&this.equals(e.min,t.min)&&this.equals(e.max,t.max))},Ht.prototype.visitGroupRef=function(e,t){var r=!1;return(p.isGroupRef(t)||p.isColumn(t))&&(r=e.ref===t.ref&&this.equals(e.source,t.source)&&this.equalAnnotations(e,t)),r=p.isGroupRef(t)&&this.equalAnnotations(e,t)?r&&this.equalsAll(e.groupedExprs,t.groupedExprs):r},Ht.prototype.visitHierarchy=function(e,t){return!(!p.isHierarchy(t)||!this.equalAnnotations(e,t))&&(e.hierarchy===t.hierarchy&&this.equals(e.arg,t.arg))},Ht.prototype.visitHierarchyLevel=function(e,t){return!(!p.isHierarchyLevel(t)||!this.equalAnnotations(e,t))&&(e.level===t.level&&this.equals(e.arg,t.arg))},Ht.prototype.visitPropertyVariationSource=function(e,t){return!(!p.isPropertyVariationSource(t)||!this.equalAnnotations(e,t))&&(e.name===t.name&&e.property===t.property&&this.equals(e.arg,t.arg))},Ht.prototype.visitSelectRef=function(e,t){return!(!p.isSelectRef(t)||!this.equalAnnotations(e,t))&&(e.expressionName===t.expressionName&&(e.attributeKind===t.attributeKind||this.isNullOrUndefined(e.attributeKind)===this.isNullOrUndefined(t.attributeKind)))},Ht.prototype.isNullOrUndefined=function(e){return null==e},Ht.prototype.visitBetween=function(e,t){return!(!p.isBetween(t)||!this.equalAnnotations(e,t))&&(this.equals(e.arg,t.arg)&&this.equals(e.lower,t.lower)&&this.equals(e.upper,t.upper))},Ht.prototype.visitIn=function(e,t){if(!p.isIn(t)||!this.equalsAll(e.args,t.args)||!this.equalAnnotations(e,t))return!1;var t=t,r=e.values;if(r){var i=t.values;if(!i)return!1;if(r.length!==i.length)return!1;for(var n=0,a=r.length;n<a;n++)if(!this.equalsAll(r[n],i[n]))return!1}else{if(e.table,!t.table)return!1;if(!this.equals(e.table,t.table))return!1}return!0},Ht.prototype.visitEntity=function(e,t){return!(!p.isEntity(t)||!this.equalAnnotations(e,t))&&(e.schema===t.schema&&e.entity===t.entity&&(this.ignoreVariables||this.optionalEqual(e.variable,t.variable)))},Ht.prototype.visitSubqueryRef=function(e,t){return!(!p.isSubqueryRef(t)||!this.equalAnnotations(e,t))&&(!(!e.query&&t.query||e.query&&!t.query)&&(e.query&&t.query?e.variable===t.variable&&c.SemanticQuery.equals(e.query,t.query):e.variable===t.variable))},Ht.prototype.visitNamedQueryRef=function(e,t){return!(!p.isNamedQueryRef(t)||!this.equalAnnotations(e,t))&&(e.queryName===t.queryName&&(this.ignoreVariables||this.optionalEqual(e.variable,t.variable)))},Ht.prototype.visitAnd=function(e,t){return!(!p.isAnd(t)||!this.equalAnnotations(e,t))&&(this.equals(e.left,t.left)&&this.equals(e.right,t.right))},Ht.prototype.visitOr=function(e,t){return!(!p.isOr(t)||!this.equalAnnotations(e,t))&&(this.equals(e.left,t.left)&&this.equals(e.right,t.right))},Ht.prototype.visitCompare=function(e,t){return!(!p.isCompare(t)||!this.equalAnnotations(e,t))&&(e.comparison===t.comparison&&this.equals(e.left,t.left)&&this.equals(e.right,t.right))},Ht.prototype.visitConditional=function(e,t){var r=this;return!(!p.isConditional(t)||!this.equalAnnotations(e,t))&&(i.sequenceEqual(e.cases,t.cases,(function(e,t){return r.visitCase(e,t)}))&&this.equalsNullableObject(e.defaultValue,t.defaultValue,(function(e,t){return r.equals(e,t)})))},Ht.prototype.visitCase=function(e,t){return this.equals(e.condition,t.condition)&&this.equals(e.value,t.value)},Ht.prototype.visitContains=function(e,t){return!(!p.isContains(t)||!this.equalAnnotations(e,t))&&(this.equals(e.left,t.left)&&this.equals(e.right,t.right))},Ht.prototype.visitDateSpan=function(e,t){return!(!p.isDateSpan(t)||!this.equalAnnotations(e,t))&&(e.unit===t.unit&&this.equals(e.arg,t.arg))},Ht.prototype.visitDateAdd=function(e,t){return!(!p.isDateAdd(t)||!this.equalAnnotations(e,t))&&(e.unit===t.unit&&e.amount===t.amount&&this.equals(e.arg,t.arg))},Ht.prototype.visitExists=function(e,t){return!(!p.isExists(t)||!this.equalAnnotations(e,t))&&this.equals(e.arg,t.arg)},Ht.prototype.visitNot=function(e,t){return!(!p.isNot(t)||!this.equalAnnotations(e,t))&&this.equals(e.arg,t.arg)},Ht.prototype.visitNow=function(e,t){return!!this.equalAnnotations(e,t)&&p.isNow(t)},Ht.prototype.visitDefaultValue=function(e,t){return!!this.equalAnnotations(e,t)&&p.isDefaultValue(t)},Ht.prototype.visitAnyValue=function(e,t){return!!this.equalAnnotations(e,t)&&p.isAnyValue(t)},Ht.prototype.visitResourcePackageItem=function(e,t){return!(!p.isResourcePackageItem(t)||!this.equalAnnotations(e,t))&&(e.packageName===t.packageName&&e.packageType===t.packageType&&e.itemName===t.itemName)},Ht.prototype.visitStartsWith=function(e,t){return!(!p.isStartsWith(t)||!this.equalAnnotations(e,t))&&(this.equals(e.left,t.left)&&this.equals(e.right,t.right))},Ht.prototype.visitConstant=function(e,t){return!!(p.isConstant(t)&&e.type.equals(t.type)&&this.equalAnnotations(e,t))&&(e.type.text&&this.ignoreCase?r.equalIgnoreCase(e.valueEncoded,t.valueEncoded):e.valueEncoded===t.valueEncoded)},Ht.prototype.visitFillRule=function(e,t){var r=this;if(!p.isFillRule(t)||!this.equals(e.input,t.input)||!this.equalAnnotations(e,t))return!1;e=e.rule,t=t.rule;return e===t||this.equalsNullableObject(e.linearGradient2,t.linearGradient2,(function(e,t){return r.visitLinearGradient2(e,t)}))&&this.equalsNullableObject(e.linearGradient3,t.linearGradient3,(function(e,t){return r.visitLinearGradient3(e,t)}))},Ht.prototype.visitLinearGradient2=function(e,t){var r=this;return this.equalsFillRuleStop(e.min,t.min)&&this.equalsFillRuleStop(e.max,t.max)&&this.equalsNullableObject(e.nullColoringStrategy,t.nullColoringStrategy,(function(e,t){return r.equalsNullStrategy(e,t)}))},Ht.prototype.visitLinearGradient3=function(e,t){var r=this;return this.equalsFillRuleStop(e.min,t.min)&&this.equalsFillRuleStop(e.mid,t.mid)&&this.equalsFillRuleStop(e.max,t.max)&&this.equalsNullableObject(e.nullColoringStrategy,t.nullColoringStrategy,(function(e,t){return r.equalsNullStrategy(e,t)}))},Ht.prototype.visitThemeDataColor=function(e,t){return p.isThemeDataColor(t)&&e.colorId===t.colorId&&e.percent===t.percent},Ht.prototype.equalsFillRuleStop=function(e,t){return this.equals(e.color,t.color)&&this.equalsNullable(e.value,t.value)},Ht.prototype.equalsNullStrategy=function(e,t){return this.equals(e.strategy,t.strategy)&&this.equalsNullable(e.color,t.color)},Ht.prototype.visitArithmetic=function(e,t){return!(!p.isArithmetic(t)||!this.equalAnnotations(e,t))&&(e.operator===t.operator&&this.equals(e.left,t.left)&&this.equals(e.right,t.right))},Ht.prototype.visitFloor=function(e,t){return!(!p.isFloor(t)||!this.equalAnnotations(e,t))&&(e.timeUnit===t.timeUnit&&e.size===t.size&&this.equals(e.arg,t.arg))},Ht.prototype.visitScopedEval=function(e,t){return!(!p.isScopedEval(t)||!this.equalAnnotations(e,t))&&(this.equals(e.expression,t.expression)&&this.equalsAll(e.scope,t.scope))},Ht.prototype.visitFilteredEval=function(e,r){return!(!p.isFilteredEval(r)||!this.equalAnnotations(e,r))&&(this.equals(e.expression,r.expression)&&e.filters.length===r.filters.length&&_.every(e.filters,(function(e,t){return c.SQFilter.equals(e,r.filters[t])})))},Ht.prototype.visitWithRef=function(e,t){return!(!p.isWithRef(t)||!this.equalAnnotations(e,t))&&e.expressionName===t.expressionName},Ht.prototype.visitTransformTableRef=function(e,t){return!(!p.isTransformTableRef(t)||!this.equalAnnotations(e,t))&&e.source===t.source},Ht.prototype.visitTransformOutputRoleRef=function(e,t){return!(!p.isTransformOutputRoleRef(t)||!this.equalAnnotations(e,t))&&(e.role===t.role&&e.transform===t.transform)},Ht.prototype.visitRoleRef=function(e,t){return!(!p.isRoleRef(t)||!this.equalAnnotations(e,t))&&e.role===t.role},Ht.prototype.visitSummaryValueRef=function(e,t){return!(!p.isSummaryValueRef(t)||!this.equalAnnotations(e,t))&&e.name===t.name},Ht.prototype.visitAllRolesRef=function(e,t){return p.isAllRolesRef(t)},Ht.prototype.visitDiscretize=function(e,t){return!(!p.isDiscretize(t)||!this.equalAnnotations(e,t))&&(e.count===t.count&&this.equals(e.source,t.source))},Ht.prototype.visitMember=function(e,t){return!(!p.isMember(t)||!this.equalAnnotations(e,t))&&(e.member===t.member&&this.equals(e.source,t.source))},Ht.prototype.visitSparklineData=function(e,t){return!!p.isSparklineData(t)&&(this.equals(e.measure,t.measure)&&this.equalsAll(e.grouping,t.grouping)&&!!(!e.scalarKey&&!t.scalarKey||e.scalarKey&&t.scalarKey&&this.equals(e.scalarKey,t.scalarKey))&&e.pointsPerSparkline===t.pointsPerSparkline&&e.includeMinGroupingInterval===t.includeMinGroupingInterval)},Ht.prototype.optionalEqual=function(e,t){return!e||!t||e===t},Ht.prototype.equals=function(e,t){return e.accept(this,t)},Ht.prototype.equalsNullable=function(e,t){var r=this;return this.equalsNullableObject(e,t,(function(e,t){return r.equals(e,t)}))},Ht.prototype.equalsNullableObject=function(e,t,r){return null==e&&null==t||null!=e&&null!=t&&r(e,t)},Ht.prototype.equalsAll=function(e,t){var r=this;return i.sequenceEqual(e,t,(function(e,t){return r.equals(e,t)}))},Ht.prototype.equalAnnotations=function(e,t){return!(!this.ignoreAnnotations&&!_.isEqual(e.getAnnotations(),t.getAnnotations()))},Ht.instances=[],Ht);function Ht(e,t,r){this.ignoreCase=e,this.ignoreVariables=t,this.ignoreAnnotations=r}var Gt,Wt=(Gt=c.DefaultSQExprVisitor,__extends(Kt,Gt),Kt.prototype.visitDefault=function(e){return e},Kt);function Kt(){return null!==Gt&&Gt.apply(this,arguments)||this}var zt,M=(zt=c.DefaultSQExprVisitorWithArg,__extends(Yt,zt),Yt.prototype.visitDefault=function(e,t){return e},Yt);function Yt(){return null!==zt&&zt.apply(this,arguments)||this}var Jt,$t=(Jt=c.SQExprRewriter,__extends(Zt,Jt),Zt.prototype.visitIn=function(e){var t=Jt.prototype.visitIn.call(this,e),r=t.args,e=t.values;if(e){t.table;for(var i=0,n=e;i<n.length;i++){var a=n[i];a.length,r.length;for(var o=0,u=a.length;o<u;++o)this.validateCompatibleType(r[o],a[o])}}else{e=t.table;this.validateIsTableRef(e)}return t},Zt.prototype.visitCompare=function(e){e=Jt.prototype.visitCompare.call(this,e);return this.validateCompatibleType(e.left,e.right),e},Zt.prototype.visitColumnRef=function(e){if(p.isSubqueryRef(e.source))return c.SQExprUtils.getSubqueryExpression(e,this.context)||this.register(18),e;var t=c.SQExprConverter.asFieldPattern(e);return t&&this.validateColumnExpr(t),e},Zt.prototype.visitMeasureRef=function(e){var t,r=c.SQExprConverter.asFieldPattern(e);return r&&(t=c.FieldExprPattern.toFieldExprEntityItemPattern(r),(t=this.validateEntity(t.schema,t.entity))&&((t=t.properties.withName(r.measure.name))&&1===t.kind&&this.isQueryable(r)||this.register(5))),e},Zt.prototype.visitAggr=function(e){var t=Jt.prototype.visitAggr.call(this,e);return ir.getColumnRefSQExpr(this.schema,t.arg)&&(this.aggrUtils.isSupportedAggregate(e,this.schema,e.func,null,this.context)||this.register(0)),t},Zt.prototype.visitGroupRef=function(e){var t,r=c.SQExprConverter.asFieldPattern(e);return r&&(t=c.FieldExprPattern.toFieldExprEntityItemPattern(r),(t=this.validateEntity(t.schema,t.entity))&&((t=t.properties.withName(r.groupingColumn.name))&&0===t.kind&&this.validateExprSequence(e.groupedExprs)&&t.column.groupingMetadata&&this.isQueryable(r)||this.register(4))),e},Zt.prototype.visitHierarchy=function(e){var t=c.SQExprConverter.asFieldPattern(e);return t&&((t=t.hierarchy)?this.validateHierarchy(t.schema,t.entity,t.name):this.register(6)),e},Zt.prototype.visitHierarchyLevel=function(e){var t,r=c.SQExprConverter.asFieldPattern(e);return r&&(t=r.hierarchyLevel,r=r.columnHierarchyLevelVariation,t?this.validateHierarchyLevel(t.schema,t.entity,t.name,t.level):r?this.validateHierarchyLevelVariation(r):this.register(7)),e},Zt.prototype.visitPercentile=function(e){var t;return e.arg.accept(this),_.isEmpty(this.errors)&&((t=e.arg.getMetadata(this.schema,this.context))&&0===t.kind&&t.type&&(t.type.integer||t.type.numeric)||this.register(12)),e},Zt.prototype.visitRangePercent=function(e){return(1<e.percent||e.percent<0)&&this.register(13),e.min.accept(this),e.max.accept(this),e},Zt.prototype.visitDiscretize=function(e){return e.source.accept(this),e.count<=0&&this.register(16),e},Zt.prototype.visitEntity=function(e){return this.validateEntity(e.schema,e.entity),e},Zt.prototype.visitSubqueryRef=function(e){return e},Zt.prototype.visitNamedQueryRef=function(e){return e},Zt.prototype.visitContains=function(e){return this.validateStartOrContainsArgs(e.left,e.right),e},Zt.prototype.visitStartsWith=function(e){return this.validateStartOrContainsArgs(e.left,e.right),e},Zt.prototype.visitArithmetic=function(e){return this.validateArithmeticTypes(e.operator,e.left,e.right),e},Zt.prototype.visitScopedEval=function(e){if(e.hasGlobalScope()||e.hasInnerMostScope())return e;for(var t=0,r=e.scope;t<r.length;t++){var i=r[t];p.isWithRef(i)||p.isColumn(i)||this.register(14)}return e},Zt.prototype.visitFilteredEval=function(e){e.expression.accept(this),0===_.size(e.filters)&&this.register(17);for(var t=0,r=e.filters;t<r.length;t++){var i=r[t];if(!_.isEmpty(i.target))for(var n=0,a=i.target;n<a.length;n++)a[n].accept(this);i.condition.accept(this)}return e},Zt.prototype.visitWithRef=function(e){return e},Zt.prototype.visitTransformTableRef=function(e){return e},Zt.prototype.visitTransformOutputRoleRef=function(e){return e},Zt.prototype.visitRoleRef=function(e){return e},Zt.prototype.visitSummaryValueRef=function(e){return e},Zt.prototype.visitAllRolesRef=function(e){return e},Zt.prototype.visitSparklineData=function(e){var t;c.SQExprUtils.isMeasure(e.measure)&&(null!=(t=null==(t=e.measure.getMetadata(this.schema))?void 0:t.type)&&t.numeric||null!=t&&t.integer)||this.register(5),_.size(e.grouping),_.some(e.grouping,(function(e){return c.SQExprUtils.isMeasure(e)}))&&this.register(3),e.measure.accept(this);for(var r=0,i=e.grouping;r<i.length;r++)i[r].accept(this);return e.scalarKey&&e.scalarKey.accept(this),e},Zt.prototype.validateExprSequence=function(e){var r=this;return _.reduce(e,(function(e,t){return e&&_.isEmpty(t.validate(r.schema,r.aggrUtils,r.errors,r.context))}),!0)},Zt.prototype.validateStartOrContainsArgs=function(e,t){e.accept(this),t.accept(this),_.isEmpty(this.errors)&&(p.isConstant(t)&&t.type.text?this.validateCompatibleType(e,t,!0):this.register(10))},Zt.prototype.validateArithmeticTypes=function(e,t,r){c.SQExprUtils.supportsArithmetic(e,t,this.schema)||this.register(9),c.SQExprUtils.supportsArithmetic(e,r,this.schema)||this.register(10)},Zt.prototype.validateCompatibleType=function(e,t,r){e=e.getMetadata(this.schema,this.context),e=e&&e.type,t=t.getMetadata(this.schema,this.context),t=t&&t.type,t=r?!e||!t||!e.isCompatibleFrom(t):e&&t&&!e.isCompatibleFrom(t);t&&this.register(11)},Zt.prototype.validateEntity=function(e,t){e=this.schema.schema(e);if(e){t=e.entities.withName(t);if(t)return t;this.register(2)}else this.register(1)},Zt.prototype.validateIsTableRef=function(e){1!==e.kind&&0!==e.kind&&this.register(15)},Zt.prototype.validateHierarchy=function(e,t,r){t=this.validateEntity(e,t);if(t){r=t.hierarchies.withName(r);if(r)return r;this.register(6)}},Zt.prototype.validateHierarchyLevel=function(e,t,r,i){r=this.validateHierarchy(e,t,r);if(r){i=r.levels.withName(i);if(i)return i;this.register(7)}},Zt.prototype.validateHierarchyLevelVariation=function(e){var t=e.source,r=this.schema.schema(t.schema),i=r.findProperty(t.entity,t.name);if(this.validateColumnExpr({column:e.source}),i&&i.column){i=i.column.variations.withName(e.variationName);if(i){t=r.findHierarchyByVariation(t.entity,t.name,e.variationName,e.level.name);if(t)if(t.levels.withName(e.level.level))return i}this.register(8)}},Zt.prototype.validateColumnExpr=function(e){var t=e.column,r=this.validateEntity(t.schema,t.entity);if(r){t=r.properties.withName(t.name);if(t&&0===t.kind&&this.isQueryable(e))return t;this.register(3)}},Zt.prototype.register=function(e){this.errors||(this.errors=[]),this.errors.push(e)},Zt.prototype.isQueryable=function(e){var t=c.FieldExprPattern.toFieldExprEntityItemPattern(e);if(e.hierarchyLevel||e.hierarchyLevelAggr){var r=c.SQHierarchyExprUtils.getConceptualHierarchyLevelFromExpr(this.schema,e);return r&&1!==r.column.queryable}return 1!==this.schema.schema(t.schema).findProperty(t.entity,c.FieldExprPattern.getPropertyName(e)).queryable},Zt);function Zt(e,t,r,i){var n=this;return(n=Jt.call(this)||this).schema=e,n.aggrUtils=t,n.context=i,r&&(n.errors=r),n}c.SQExprValidationVisitor=$t;var Xt,er=(Xt=c.DefaultSQExprVisitor,__extends(tr,Xt),tr.prototype.visitAggr=function(e){return e.func},tr.prototype.visitDefault=function(e){},tr.getAggregate=function(e){var t=new tr;return e.accept(t)},tr);function tr(){return null!==Xt&&Xt.apply(this,arguments)||this}var rr,ir=(rr=c.DefaultSQExprVisitor,__extends(nr,rr),nr.prototype.visitColumnRef=function(e){return e},nr.prototype.visitGroupRef=function(e){return e},nr.prototype.visitHierarchyLevel=function(e){var t=e.level,r=e.arg,i=r.accept(this);if(r&&p.isPropertyVariationSource(r.arg)){var n=r.arg,n=i.getTargetEntityForVariation(this.schema,n.name);if(i&&n){var a=i.source.schema,o=jt.entity(a,n),a=this.schema.schema(a).findHierarchy(n,r.hierarchy);if(a)for(var u=0,s=a.levels;u<s.length;u++){var l=s[u];if(l.name===t)return new N(o,l.column.name)}}}else{a=r.arg,e=c.SQHierarchyExprUtils.getConceptualHierarchyLevel(this.schema,a.schema,a.entity,r.hierarchy,e.level);if(e)return new N(r.arg,e.column.name)}},nr.prototype.visitHierarchy=function(e){return e.arg.accept(this)},nr.prototype.visitPropertyVariationSource=function(e){var t=e.property;return new N(e.arg,t)},nr.prototype.visitAggr=function(e){return e.arg.accept(this)},nr.prototype.visitDefault=function(e){},nr.getColumnRefSQExpr=function(e,t){e=new nr(e);return t.accept(e)},nr);function nr(e){var t=rr.call(this)||this;return t.schema=e,t}var ar,or=(ar=c.DefaultSQExprVisitorWithTraversal,__extends(ur,ar),ur.prototype.visitEntity=function(e){var t=this.result;void 0===t||p.equals(t,e)?this.result=e:this.result=null},ur.prototype.visitFilteredEval=function(e){e.expression.accept(this)},ur.getEntityExpr=function(e){var t=new ur;return e.accept(t),t.result||void 0},ur);function ur(){return null!==ar&&ar.apply(this,arguments)||this}var sr,lr=(__extends(cr,sr=Wt),cr.prototype.visitAggr=function(e){return e.func===this.func?e:new W(e.arg,this.func)},cr.prototype.visitColumnRef=function(e){return new W(e,this.func)},cr.prototype.visitGroupRef=function(e){return new W(e,this.func)},cr.prototype.visitHierarchyLevel=function(e){return new W(e,this.func)},cr.rewrite=function(e,t){t=new cr(t);return e.accept(t)},cr);function cr(e){var t=this;return(t=sr.call(this)||this).func=e,t}var pr=(fr.rewrite=function(e,t){return c.FieldExprPattern.visit(e,new fr(e,t))},fr.prototype.visitPercentOfGrandTotal=function(e){return e.baseExpr=c.SQExprConverter.asFieldPattern(lr.rewrite(jt.fieldExpr(e.baseExpr),this.aggregate)),jt.fieldExpr({percentOfGrandTotal:e})},fr.prototype.visitPercentOfRoleTotal=function(e){return e.baseExpr=c.SQExprConverter.asFieldPattern(lr.rewrite(jt.fieldExpr(e.baseExpr),this.aggregate)),jt.fieldExpr({percentOfRoleTotal:e})},fr.prototype.visitFilteredEval=function(e){return e.baseExpr=c.SQExprConverter.asFieldPattern(lr.rewrite(jt.fieldExpr(e.baseExpr),this.aggregate)),jt.fieldExpr({filteredEval:e})},fr.prototype.visitColumn=function(e){return this.defaultRewrite()},fr.prototype.visitColumnAggr=function(e){return this.defaultRewrite()},fr.prototype.visitGroupingColumn=function(e){return this.defaultRewrite()},fr.prototype.visitGroupingColumnAggr=function(e){return this.defaultRewrite()},fr.prototype.visitColumnHierarchyVariation=function(e){return this.defaultRewrite()},fr.prototype.visitColumnHierarchyLevelVariation=function(e){return this.defaultRewrite()},fr.prototype.visitColumnSubquery=function(e){return this.defaultRewrite()},fr.prototype.visitColumnAggrSubquery=function(e){return this.defaultRewrite()},fr.prototype.visitColumnTransformRef=function(e){return this.defaultRewrite()},fr.prototype.visitSelectRef=function(e){return this.defaultRewrite()},fr.prototype.visitEntity=function(e){return this.defaultRewrite()},fr.prototype.visitEntityAggr=function(e){return this.defaultRewrite()},fr.prototype.visitHierarchy=function(e){return this.defaultRewrite()},fr.prototype.visitHierarchyLevel=function(e){return this.defaultRewrite()},fr.prototype.visitHierarchyLevelAggr=function(e){return this.defaultRewrite()},fr.prototype.visitMeasure=function(e){return this.defaultRewrite()},fr.prototype.visitPercentile=function(e){return this.defaultRewrite()},fr.prototype.visitTransformOutputRoleRef=function(e){return this.defaultRewrite()},fr.prototype.visitArithmetic=function(e){return this.defaultRewrite()},fr.prototype.visitConstant=function(e){return this.defaultRewrite()},fr.prototype.visitSparklineData=function(e){return this.defaultRewrite()},fr.prototype.defaultRewrite=function(){return lr.rewrite(this.sqExpr,this.aggregate)},fr);function fr(e,t){this.sqExpr=e,this.aggregate=t}var dr=(hr.rewrite=function(e,t){return c.FieldExprPattern.visit(e,new hr(e),t)},hr.prototype.visitPercentOfGrandTotal=function(e){return hr.rewrite(jt.fieldExpr(e.baseExpr))},hr.prototype.visitPercentOfRoleTotal=function(e){return hr.rewrite(jt.fieldExpr(e.baseExpr))},hr.prototype.visitFilteredEval=function(e){return hr.rewrite(jt.fieldExpr(e.baseExpr))},hr.prototype.visitColumn=function(e){return this.defaultRewrite()},hr.prototype.visitColumnAggr=function(e){return this.defaultRewrite()},hr.prototype.visitGroupingColumn=function(e){return this.defaultRewrite()},hr.prototype.visitGroupingColumnAggr=function(e){return this.defaultRewrite()},hr.prototype.visitColumnHierarchyVariation=function(e){return this.defaultRewrite()},hr.prototype.visitColumnHierarchyLevelVariation=function(e){return this.defaultRewrite()},hr.prototype.visitColumnSubquery=function(e){return this.defaultRewrite()},hr.prototype.visitColumnAggrSubquery=function(e){return this.defaultRewrite()},hr.prototype.visitColumnTransformRef=function(e){return this.defaultRewrite()},hr.prototype.visitSelectRef=function(e){return this.defaultRewrite()},hr.prototype.visitEntity=function(e){return this.defaultRewrite()},hr.prototype.visitEntityAggr=function(e){return this.defaultRewrite()},hr.prototype.visitHierarchy=function(e){return this.defaultRewrite()},hr.prototype.visitHierarchyLevel=function(e){return this.defaultRewrite()},hr.prototype.visitHierarchyLevelAggr=function(e){return this.defaultRewrite()},hr.prototype.visitMeasure=function(e){return this.defaultRewrite()},hr.prototype.visitPercentile=function(e){return this.defaultRewrite()},hr.prototype.visitTransformOutputRoleRef=function(e){return this.defaultRewrite()},hr.prototype.visitArithmetic=function(e){return this.defaultRewrite()},hr.prototype.visitConstant=function(e){return this.defaultRewrite()},hr.prototype.visitSparklineData=function(e){return this.defaultRewrite()},hr.prototype.defaultRewrite=function(){return vr.rewrite(this.sqExpr)},hr);function hr(e){this.sqExpr=e}var mr,vr=(__extends(gr,mr=Wt),gr.prototype.visitAggr=function(e){return e.arg},gr.rewrite=function(e){return e.accept(gr.instance)},gr.instance=new gr,gr);function gr(){return null!==mr&&mr.apply(this,arguments)||this}var yr,xr=(yr=c.SQExprRewriter,__extends(Sr,yr),Sr.prototype.visitEntity=function(e){return e.variable?jt.entity(e.schema,e.entity):e},Sr.rewrite=function(e){return e.accept(Sr.instance)},Sr.instance=new Sr,Sr);function Sr(){return null!==yr&&yr.apply(this,arguments)||this}c.SQExprRemoveEntityVariablesRewriter=xr;var Er,wr=(__extends(br,Er=Wt),br.rewrite=function(e){return e.accept(br.instance)},br.prototype.visitDefault=function(e){var t=c.SQExprConverter.asFieldPattern(e);return e=t&&t.percentOfGrandTotal?jt.fieldExpr(t.percentOfGrandTotal.baseExpr):e},br.instance=new br,br);function br(){return null!==Er&&Er.apply(this,arguments)||this}var Cr,Dr=(__extends(_r,Cr=Wt),_r.rewrite=function(e){return e.accept(_r.instance)},_r.prototype.visitDefault=function(e){var t=c.SQExprConverter.asFieldPattern(e);return e=t&&!t.percentOfGrandTotal?jt.fieldExpr({percentOfGrandTotal:{baseExpr:t}}):e},_r.instance=new _r,_r);function _r(){return null!==Cr&&Cr.apply(this,arguments)||this}var Vr,Rr=(__extends(Tr,Vr=Wt),Tr.rewrite=function(e){return e.accept(Tr.instance)},Tr.prototype.visitDefault=function(e){var t=c.SQExprConverter.asFieldPattern(e);return e=t&&t.percentOfRoleTotal?jt.fieldExpr(t.percentOfRoleTotal.baseExpr):e},Tr.instance=new Tr,Tr);function Tr(){return null!==Vr&&Vr.apply(this,arguments)||this}var Fr,Mr=(__extends(Pr,Fr=M),Pr.rewrite=function(e,t){return e.accept(Pr.instance,t)},Pr.prototype.visitDefault=function(e,t){var r=c.SQExprConverter.asFieldPattern(e);return e=r&&!r.percentOfRoleTotal?jt.fieldExpr({percentOfRoleTotal:{baseExpr:r,roles:t}}):e},Pr.instance=new Pr,Pr);function Pr(){return null!==Fr&&Fr.apply(this,arguments)||this}var Ar,M=(Ar=c.DefaultSQExprVisitor,__extends(Nr,Ar),Nr.prototype.visitHierarchyLevel=function(e){return e.arg.accept(this)},Nr.prototype.visitHierarchy=function(e){return e.arg.accept(this)},Nr.prototype.visitPropertyVariationSource=function(e){return e.property},Nr.getProperty=function(e){var t=new Nr;return e.accept(t)},Nr);function Nr(){return null!==Ar&&Ar.apply(this,arguments)||this}c.HierarchyVisitor=M})(Qr.data||(Qr.data={}))})(powerbi=powerbi||{}),(function(C){!(function(l){var o=jsCommon.ArrayExtensions,c=C.data.SQExpr,u=jsCommon.StringExtensions,t=(f.supportsArithmetic=function(e,t,r){t=t.getMetadata(r),r=t&&t.type;return!(!t||!r)&&(2===e||3===e?r.numeric:r.numeric||r.dateTime||r.duration)},f.indexOfExpr=function(e,t){for(var r=0,i=e.length;r<i;r++)if(c.equals(e[r],t))return r;return-1},f.indexOfNamedExpr=function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(n&&c.equals(n.expr,t))return r}return-1},f.sequenceEqual=function(e,t){var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r;i++)if(!c.equals(e[i],t[i]))return!1;return!0},f.isSubset=function(e,r){for(var t=0,i=e;t<i.length;t++){var n=(function(t){if(-1===_.findIndex(r,(function(e){return c.equals(e,t)})))return{value:!1}})(i[t]);if("object"==typeof n)return n.value}return!0},f.uniqueName=function(e,t,r){for(var i={},n=0,a=e.length;n<a;n++)i[e[n].name]=!0;return u.findUniqueName(i,r||this.defaultName(t))},f.defaultName=function(e,t){return void 0===t&&(t="select"),e?e.accept(r.instance,t):t},f.isMeasure=function(e){return e.accept(a.instance)},f.isAnyValue=function(e){return e.accept(v.instance)},f.isDefaultValue=function(e){return e.accept(d.instance)},f.isFromVariation=function(e){return c.isHierarchy(e)&&c.isPropertyVariationSource(e.arg)||c.isHierarchyLevel(e)&&this.isFromVariation(e.arg)},f.discourageAggregation=function(e,t){t=this.getSchemaCapabilities(e,t);return _.some(t,(function(e){return e.discourageQueryAggregateUsage}))},f.getAggregateBehavior=function(e,t){t=this.getConceptualColumn(e,t);if(t)return t.aggregateBehavior},f.getSchemaCapabilities=function(e,t){e=l.SQExprConverter.asFieldPattern(e,t);if(e){e=l.FieldExprPattern.toFieldExprEntityItemPatterns(e);return _.chain(e).map((function(e){return null===(e=t.schema(e.schema))||void 0===e?void 0:e.capabilities})).filter((function(e){return!!e})).value()}},f.getKpiMetadata=function(e,t){var r=this.getKpiStatusProperty(e,t);if(r)return r.kpiValue.measure.kpi.statusMetadata;t=this.getKpiTrendProperty(e,t);return t?t.kpiValue.measure.kpi.trendMetadata:void 0},f.getParameterMetadata=function(e,t){t=e.getConceptualProperty(t,!0),t=t&&t.column&&t.column.parameterMetadata;return t&&this.getDataViewParameterColumnMetadata(t)},f.getWhatIfParameterMetadata=function(e){if(e&&e.parameterMetadata&&0===e.parameterMetadata.kind)return e.parameterMetadata},f.getFieldParameterQuerySelects=function(e,t){if(!_.isEmpty(e)){var r=e.getConceptualProperty(t);if(r){var i=r.column;if(i&&2===e.kind&&2===(null===(i=i.parameterMetadata)||void 0===i?void 0:i.kind)){for(var n=e.getTargetEntity(),t=t.schema(n.schema).entities.withName(n.entity),a=(_.some(t.properties,(function(e){return e.column&&e.column.keys})),0),o=t.properties;a<o.length;a++){var u=o[a];if(u.column&&u.column.keys&&1===u.column.keys.length){var s=u.column.keys[0];if(s===r)return{parameterColumn:e,labelColumn:l.SQExprBuilder.columnRef(n,u.name)};if(r===u)return{labelColumn:e,parameterColumn:l.SQExprBuilder.columnRef(n,s.name)}}}return{parameterColumn:e}}}}},f.shouldUseAsFieldParameter=function(e,t,r,i,n){return!(!e||n||i||c.isHierarchyLevel(r)||!f.getFieldParameterQuerySelects(r,t))},f.getDataViewParameterColumnMetadata=function(e){return{kind:this.getDataViewParameterKind(e),mappedMParameterNames:e.mappedMParameterNames,supportsMultipleValues:e.supportsMultipleValues,supportsSelectAll:e.supportsSelectAll}},f.getDataViewParameterKind=function(e){if(null!=e){e=e.kind;if(null==e)return 0;switch(e){case 0:return 0;case 1:return 1;case 2:return 2;default:return}}},f.hasMappedMParameter=function(e,t){t=this.getConceptualParameterMetadata(e,t);return 1===(null==t?void 0:t.kind)},f.isSupportMulitpleValuesEnabled=function(e,t){t=this.getConceptualParameterMetadata(e,t);return null==t?void 0:t.supportsMultipleValues},f.getConceptualParameterMetadata=function(e,t){t=this.getConceptualColumn(e,t);return null==t?void 0:t.parameterMetadata},f.getConceptualEntity=function(e,t){return t.schema(e.schema).entities.withName(e.entity)},f.hasMappedColumn=function(e,t){return x.hasMappedColumn(e,t)},f.getColumnnsWithKey=function(e,t){e=e.getTargetColumnRef(t);if(e){var r=e.getConceptualProperty(t);if(r&&r.column){var i=e.getTargetEntity();if(i){t=this.getConceptualEntity(i,t);if(t){for(var n=[],a=0,o=t.properties;a<o.length;a++){var u=o[a];u.column&&u.column.keys&&_.includes(u.column.keys,r)&&n.push(l.SQExprBuilder.columnRef(i,u.name))}return n}}}}},f.tryGetExprFromFilter=function(e){return c.isIn(e.condition)&&1===_.size(e.condition.args)?e.condition.args[0]:c.isCompare(e.condition)?c.isConstant(e.condition.left)?e.condition.right:c.isConstant(e.condition.right)?e.condition.left:void 0:void 0},f.checkExprForValidMParameters=function(e,t){return this.checkExprForMapped(e,t).isValidSQExpr},f.checkExprForMapped=function(e,t){return c.isCompare(e)?this.checkComparsionForMapped(e,t):c.isIn(e)?this.checkInForMapped(e,t):c.isOr(e)?this.checkOrForMapped(e,t):{isValidSQExpr:!f.hasMappedColumn(e,t)}},f.checkComparsionForMapped=function(e,t){if(!c.isColumn(e.left))return{isValidSQExpr:!0};var r,t=f.getConceptualParameterMetadata(e.left,t);if(1===(null==t?void 0:t.kind)){if(0!==e.comparison||c.isConstantNull(e.right))return{isValidSQExpr:!1};if(!t.supportsSelectAll&&c.isAnyValue(e.right))return{isValidSQExpr:!1};r=e.left}return{isValidSQExpr:!0,columnExpr:r}},f.checkInForMapped=function(e,t){for(var r,i=e.args,n=!1,a=!1,o=0,u=i;o<u.length;o++){var s=u[o];if(c.isColumn(s)){var l=f.getConceptualParameterMetadata(s,t);if(n=1===(null==l?void 0:l.kind)){r=s,a=null==l?void 0:l.supportsMultipleValues;break}}}if(n){if(1<i.length||e.table&&c.isSubqueryRef(e.table)||1<e.values.length&&!a)return{isValidSQExpr:!1};if(_.some(e.values,(function(e){return _.some(e,(function(e){return c.isConstantNull(e)}))})))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:r}},f.checkOrForMapped=function(e,t){var r=this.checkExprForMapped(e.left,t),i=this.checkExprForMapped(e.right,t),n=r.columnExpr,e=i.columnExpr;return!c.equals(n,e)||n&&!f.isSupportMulitpleValuesEnabled(n,t)||e&&!f.isSupportMulitpleValuesEnabled(e,t)?{isValidSQExpr:!1}:{isValidSQExpr:r.isValidSQExpr&&i.isValidSQExpr,columnExpr:n}},f.getKpiStatusProperty=function(e,t){e=e.getConceptualProperty(t);if(e){t=e.kpiValue;return t&&t.measure.kpi.status===e?e:void 0}},f.getKpiTrendProperty=function(e,t){e=e.getConceptualProperty(t);if(e){t=e.kpiValue;return t&&t.measure.kpi.trend===e?e:void 0}},f.getDefaultValue=function(e,t){t=this.getConceptualColumn(e,t);if(t)return t.defaultValue},f.getConceptualColumn=function(e,t){if(e&&t){var r=l.SQExprConverter.asFieldPattern(e);if(r){e=r.column||r.groupingColumn;if(e){if(t.schema(e.schema)&&e.name){var i=t.schema(e.schema).findProperty(e.entity,e.name);if(i)return i.column}}else{e=r.hierarchyLevel;if(e){i=l.FieldExprPattern.toFieldExprEntityItemPattern(r),r=i.schema;if(t.schema(r)){i=t.schema(r).findHierarchy(i.entity,e.name);if(i){e=i.levels.withName(e.level);if(e&&e.column)return e.column.column}}}}}}},f.getDefaultValues=function(e,t){if(!_.isEmpty(e)&&t){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i],a=this.getDefaultValue(a,t);a&&r.push(a)}return r}},f.getPrimitiveValuesFromSQConstantExpr=function(e){if(c.isConstant(e))return c.isConstantText(e)?l.SQConstantExpr.getTextValue(e):c.isConstantDate(e)?l.SQConstantExpr.getDateValue(e):c.isConstantNumeric(e)?l.SQConstantExpr.getNumericValue(e):c.isConstantBoolean(e)?l.SQConstantExpr.getBooleanValue(e):void 0},f.convertSemanticFilterToDataViewScopeIdentity=function(e){var t=[],e=e.conditions();if(e)for(var r=0,i=e;r<i.length;r++){var n=i[r],a=new C.data.ScopeIdentityExtractor.ScopeIdKeysAndValuesExtractorImpl;if(n.accept(a),a.keys&&a.values&&0<a.values.length&&0<a.keys.length&&a.values.length%a.keys.length==0)for(var o=0;o<a.values.length;o+=a.keys.length){for(var u=[],s=[],l=0;l<a.keys.length;l++)u.push(a.keys[l]),s.push(a.values[o+l]);var c=C.data.SQExprUtils.getDataViewScopeIdentityComparisonExpr(u,s),c=C.data.createDataViewScopeIdentity(c);t.push(c)}}return t},f.getDataViewScopeIdentityComparisonExpr=function(e,t){e.length,t.length;for(var r=[],i=0;i<e.length;i++)r.push(l.SQExprBuilder.compare(0,e[i],t[i]));if(!_.isEmpty(r)){for(var n=0,a=r;n<a.length;n++)var o=a[n],u=l.SQExprBuilder.and(u,o);return u}},f.getActiveTablesNames=function(e){var t=new l.SQFromEntitiesVisitor;if(e){var r=e.from();if(void 0!==r)for(var i=0,n=r.keys();i<n.length;i++){var a=n[i];r.source(a).accept(t,null)}}return _.map(t.entities,(function(e){return e.entity}))},f.isRelatedToMany=function(e,t,r,i){return this.isRelated(e,t,r,0,2,i)||this.isRelated(e,r,t,2,0,i)},f.isRelatedToOne=function(e,t,r,i){return this.isRelated(e,t,r,2,0,i)||this.isRelated(e,r,t,0,2,i)},f.isRelated=function(e,t,r,i,n,a){t=f.getConceptualEntity(t,e);if(_.isEmpty(t.navigationProperties))return!1;var o=f.getConceptualEntity(r,e),u=[];for(u.push(t);!_.isEmpty(u);){var s=u.shift().navigationProperties;if(!_.isEmpty(s))for(var l=0,c=s;l<c.length;l++){var p=c[l];if(p.isActive&&((null==a||p.behavior===a)&&p.targetMultiplicity===n&&p.sourceMultiplicity===i)){if(p.targetEntity===o)return!0;u.push(p.targetEntity)}}}return!1},f.isRelatedOneToOne=function(e,t,r,i){var n=f.getConceptualEntity(t,e),t=f.getConceptualEntity(r,e),r=n.navigationProperties,e=t.navigationProperties;return(!_.isEmpty(r)||!_.isEmpty(e))&&(this.hasOneToOneNavigation(r,t,i)||this.hasOneToOneNavigation(e,n,i))},f.haveTheSameSchema=function(e){var t=e[0].schema;return _.chain(e).drop(1).every((function(e){return e.schema===t})).value()},f.areHierarchicallyRelated=function(t,e){if(_.isEmpty(e))return!1;if(!this.haveTheSameSchema(e))return!1;if(1===(e=_.values(_.keyBy(e,(function(e){return e.entity})))).length)return!0;var r=e[0].schema,i=_.find(t.schemas,(function(e){return e.name===r}));if(!i)return!1;var n=e.map((function(e){return f.getConceptualEntity(e,t)}));if(_.some(n,(function(e){return!e})))return!1;var a=f.buildEntityGraph(i,this.allowedHierarchicalMultiplicityPairForTraversal,0),e=[].concat(n),i=e.shift(),n=this.findEntityPath([i],e,a,!0);if(1===n.length&&0===n[0].unableToVisit.length)return!0;var e=_.values(_.keyBy(_.flatten(n.map((function(e){return e.unableToVisit}))),(function(e){return e.name}))),o=this.findEntityPath([i],e,a,!1);if(1===o.length&&0===o[0].unableToVisit.length)return!0;for(var u=0,s=n;u<s.length;u++){var l=(function(a){if(_.find(o,(function(e){for(var t=!0,r=0,i=a.unableToVisit;r<i.length;r++){var n=i[r];if(0<=e.unableToVisit.indexOf(n)){t=!1;break}}return t})))return{value:!0}})(s[u]);if("object"==typeof l)return l.value}return!1},f.buildEntityGraph=function(e,t,r){for(var i={},e=e.entities.map((function(e){return e})),n=0,a=e;n<a.length;n++)i[(s=a[n]).name]={entity:s};for(var o=0,u=e;o<u.length;o++){var s,l=(s=u[o]).navigationProperties;if(!_.isEmpty(l))for(var c=i[s.name],p=0,f=l;p<f.length;p++){var d,h=f[p];h.isActive&&(void 0!==h.behavior&&void 0!==r&&h.behavior!==r||(d=i[h.targetEntity.name])&&(this.multiplicityPairMatches([h.targetMultiplicity,h.sourceMultiplicity],t)&&this.addTraversalNodes(d,c),1===h.crossFilterDirection&&this.multiplicityPairMatches([h.sourceMultiplicity,h.targetMultiplicity],t)&&this.addTraversalNodes(c,d)))}}return i},f.addTraversalNodes=function(t,r){t.forwardNodes=t.forwardNodes||[],_.find(t.forwardNodes,(function(e){return e.entity.name===r.entity.name}))||t.forwardNodes.push(r),r.backwardNodes=r.backwardNodes||[],_.find(r.backwardNodes,(function(e){return e.entity.name===t.entity.name}))||r.backwardNodes.push(t)},f.multiplicityPairMatches=function(e,t){if(e&&2===e.length&&!_.isEmpty(t))for(var r=0,i=t;r<i.length;r++){var n=i[r];if(2===n.length&&e[0]===n[0]&&e[1]===n[1])return!0}return!1},f.findEntityPath=function(e,t,r,i){if(t=t||[],0===(e=e||[]).length||0===t.length||!r)return[{path:e,unableToVisit:t}];for(var n=0,a=e;n<a.length;n++)if(!r[a[n].name])return[{path:e,unableToVisit:t}];var o=r[e[e.length-1].name],o=i?o.forwardNodes:o.backwardNodes;if(!o||0===o.length)return[{path:e,unableToVisit:t}];for(var u=this.getEntityLoopPatterns(e),s=[],l=0,c=o;l<c.length;l++){var p=c[l].entity,f=[].concat(e);f.push(p);for(var d=!1,h=0,m=u;h<m.length;h++){var v=m[h];if(this.endsWith(f,v)){d=!0;break}}if(!d){var g=t,p=t.indexOf(p);0<=p&&(g=[].concat(t)).splice(p,1);g=this.findEntityPath(f,g,r,i);if(1===g.length&&0===g[0].unableToVisit.length){s=g;break}for(var y=0,x=g;y<x.length;y++){var S=x[y];s.push(S)}}}return s=0===s.length?[{path:e,unableToVisit:t}]:s},f.getEntityLoopPatterns=function(o){for(var u=[],e=0,t=_.values(_.keyBy(o,(function(e){return e.name})));e<t.length;e++)!(function(t){if(2<=o.filter((function(e){return e===t})).length)for(var e=t,r=void 0,i=0,n=o;i<n.length;i++){var a=n[i];a===e?(r&&(r.push(a),u.push(r)),r=[a]):r&&r.push(a)}})(t[e]);return u},f.endsWith=function(e,t){if(t.length>e.length)return!1;for(var r=!0,i=e.length-1,n=t.length-1;0<=n;--n){if(t[n]!==e[i]){r=!1;break}i--}return r},f.hasOneToOneNavigation=function(e,t,r){if(_.isEmpty(e))return!1;for(var i=0,n=e;i<n.length;i++){var a=n[i];if(a.isActive&&((null==r||a.behavior===r)&&a.targetEntity===t&&0===a.sourceMultiplicity&&0===a.targetMultiplicity))return!0}return!1},f.concatUnique=function(e,t){for(var r=o.copy(e),i=0,n=t;i<n.length;i++){var a=n[i];-1===this.indexOfExpr(r,a)&&r.push(a)}return r},f.detectTransformExpr=function(e){var t=new w;return e.accept(t),t.sawTransformOutputRoleRef},f.isExprValidForAggregation=function(e){return!this.isFromVariation(e)&&!c.isHierarchy(e)},f.isExprValidForSorting=function(e){return!c.isFilteredEval(e)},f.isExprValidForFiltering=function(e){return!(c.isFilteredEval(e)||c.isTransformOutputRoleRef(e)||c.isSparklineData(e))},f.isExprValidForClustering=function(e){return!(c.isFilteredEval(e)||c.isHierarchy(e)||c.isHierarchyLevel(e)||c.isSparklineData(e))},f.isExprValidForAnalysisTransform=function(e){return!c.isFilteredEval(e)},f.getSubqueryExpression=function(e,t){e=l.SQExprConverter.asFieldPattern(e);if(e.columnSubquery)e.columnSubquery.subqueryRef?r=e.columnSubquery.subqueryRef:e.columnSubquery.subquery&&(i=new l.SQFromSubquerySource(e.columnSubquery.subquery));else{if(!e.columnAggrSubquery)return;e.columnAggrSubquery.subqueryRef?r=e.columnAggrSubquery.subqueryRef:e.columnAggrSubquery.subquery&&(i=new l.SQFromSubquerySource(e.columnAggrSubquery.subquery))}i||(t&&t.sources,t.sources[r]&&(i=t.sources[r])&&C.data.isSQFromSubquerySource(i));var r=i;if(r){var i=l.FieldExprPattern.getFieldExprName(e),e=void 0;if(e=r.subquery?r.subquery.select().withName(i):e)return e.expr}},f.buildExprEvaluationContext=function(e){e=e.sources();if(e)return{sources:e}},f.transformToVisualQueryField=function(e,t,r){return{expr:e,queryName:t,isFieldParameter:!!r}},f.isSQExprArray=function(e){return e[0]instanceof c},f.allowedHierarchicalMultiplicityPairForTraversal=[[0,2],[0,0]],f);function f(){}l.SQExprUtils=t;var e,r=(e=l.DefaultSQExprVisitorWithArg,__extends(i,e),i.prototype.visitEntity=function(e){return e.entity},i.prototype.visitNamedQueryRef=function(e){return"QueryRef("+e.queryName+")"},i.prototype.visitColumnRef=function(e){return e.source.accept(this)+"."+e.ref},i.prototype.visitGroupRef=function(e){return e.source.accept(this)+"."+e.ref},i.prototype.visitMeasureRef=function(e){return e.source.accept(this)+"."+e.ref},i.prototype.visitNativeMeasure=function(e){return"NativeMeasure("+e.proposedName+")"},i.prototype.visitNativeColumn=function(e){return"NativeColumn("+e.proposedName+")"},i.prototype.visitHierarchy=function(e){return e.arg.accept(this)+"."+e.hierarchy},i.prototype.visitHierarchyLevel=function(e){return e.arg.accept(this)+"."+e.level},i.prototype.visitPropertyVariationSource=function(e){return e.arg.accept(this)+"."+e.property+"."+e.name},i.prototype.visitAggr=function(e){return l.aggregateFunctionName(e.func)+"("+e.arg.accept(this)+")"},i.prototype.visitPercentile=function(e){return(e.exclusive?"Percentile.Exc(":"Percentile.Inc(")+e.arg.accept(this)+", "+e.k+")"},i.prototype.visitRangePercent=function(e){return"RangePercent("+e.min.accept(this)+", "+e.max.accept(this)+", "+e.percent.toString()+")"},i.prototype.visitArithmetic=function(e){return C.data.getArithmeticOperatorName(e.operator)+"("+e.left.accept(this)+", "+e.right.accept(this)+")"},i.prototype.visitConstant=function(e){return"const"},i.prototype.visitTransformOutputRoleRef=function(e){var t=e.role;return e.transform&&(t+="."+e.transform),t},i.prototype.visitScopedEval=function(e){var t=this;return"ScopedEval("+e.expression.accept(this)+", ["+_.map(e.scope,(function(e){return e.accept(t)})).join(", ")+"])"},i.prototype.visitFilteredEval=function(e){var r=this;return"FilteredEval("+e.expression.accept(this)+", ["+_.map(e.filters,(function(e){return t=e,e="{",_.isEmpty(t.target)||(e+="Target("+_.map(t.target,(function(e){return e.accept(r)})).join(", ")+"), "),e+="Condition("+t.condition.accept(r)+")}";var t})).join(", ")+"])"},i.prototype.visitRoleRef=function(e){return"Role."+e.role},i.prototype.visitSummaryRef=function(e){return"SummaryValueRef."+e.name},i.prototype.visitAllRolesRef=function(e){return"AllRoles"},i.prototype.visitDiscretize=function(e){return"Discretize("+e.source.accept(this)+", "+e.count+")"},i.prototype.visitMember=function(e){return"Member("+e.source.accept(this)+", "+e.member+")"},i.prototype.visitCompare=function(e){var t=e.left.accept(this),r=e.right.accept(this),i="";switch(e.comparison){case 0:i="=";break;case 1:i=">";break;case 2:i=">=";break;case 3:i="<";break;case 4:i="<="}return""+t+i+r},i.prototype.visitSparklineData=function(e){var t=this;return"SparklineData("+e.measure.accept(this)+"_["+_.map(e.grouping,(function(e){return e.accept(t)})).join(",")+"])"},i.prototype.visitDefault=function(e,t){return t||"expr"},i.instance=new i,i);function i(){return null!==e&&e.apply(this,arguments)||this}var n,a=(n=l.DefaultSQExprVisitor,__extends(s,n),s.prototype.visitMeasureRef=function(e){return!0},s.prototype.visitNativeMeasure=function(e){return!0},s.prototype.visitAggr=function(e){return!0},s.prototype.visitArithmetic=function(e){return!0},s.prototype.visitFilteredEval=function(e){return e.expression.accept(this)},s.prototype.visitSparklineData=function(e){return!0},s.prototype.visitDefault=function(e){return!1},s.instance=new s,s);function s(){return null!==n&&n.apply(this,arguments)||this}var p,d=(p=l.DefaultSQExprVisitor,__extends(h,p),h.prototype.visitCompare=function(e){return 0===e.comparison&&e.right.accept(this)},h.prototype.visitAnd=function(e){return e.left.accept(this)&&e.right.accept(this)},h.prototype.visitDefaultValue=function(e){return!0},h.prototype.visitDefault=function(e){return!1},h.instance=new h,h);function h(){return null!==p&&p.apply(this,arguments)||this}var m,v=(m=l.DefaultSQExprVisitor,__extends(g,m),g.prototype.visitCompare=function(e){return 0===e.comparison&&e.right.accept(this)},g.prototype.visitAnd=function(e){return e.left.accept(this)&&e.right.accept(this)},g.prototype.visitAnyValue=function(e){return!0},g.prototype.visitDefault=function(e){return!1},g.instance=new g,g);function g(){return null!==m&&m.apply(this,arguments)||this}var y,x=(y=l.DefaultSQExprVisitorWithTraversal,__extends(S,y),S.prototype.visitIn=function(e){for(var t=0,r=e.args;t<r.length;t++)if(r[t].accept(this),this.detectedMappedColumn)return},S.prototype.visitColumnRef=function(e){t.hasMappedMParameter(e,this.schema)&&(this.detectedMappedColumn=!0)},S.hasMappedColumn=function(e,t){t=new S(t);return e.accept(t),t.detectedMappedColumn},S);function S(e){var t=y.call(this)||this;return t.schema=e,t.detectedMappedColumn=!1,t}var E,w=(E=l.DefaultSQExprVisitorWithTraversal,__extends(b,E),b.prototype.visitTransformOutputRoleRef=function(e){this.sawTransformOutputRoleRef=!0},b);function b(){var e=E.call(this)||this;return e.sawTransformOutputRoleRef=!1,e}})(C.data||(C.data={}))})(powerbi=powerbi||{}),(function(e){var c;function t(e){this.exprRewriter=e}c=e.data||(e.data={}),t.rewriteFrom=function(e,t){for(var r,i=e,n=i.keys(),a=0,o=n.length;a<o;a++){var u=n[a],s=i.source(u),l=s.accept(t,u);s===l&&!r||((r=r||_.pick(i.sources(),n.slice(0,a)))[u]=l)}return r?new c.SQFrom(r):i},t.prototype.rewriteFrom=function(e){return t.rewriteFrom(e,new c.SQFromSourceRewriter(this.exprRewriter))},t.prototype.rewriteSelect=function(e,t){return this.rewriteNamedSQExpressions(e,t)},t.prototype.rewriteGroupBy=function(e,t){if(!_.isEmpty(e))return this.rewriteNamedSQExpressions(e,t)},t.prototype.rewriteNamedSQExpressions=function(e,t){var r=this;return _.map(e,(function(e){return{name:e.name,expr:c.SQExprRewriterWithSourceRenames.rewrite(e.expr.accept(r.exprRewriter),t,t)}}))},t.prototype.rewriteOrderBy=function(e,t){if(!_.isEmpty(e)){for(var r=[],i=0,n=e.length;i<n;i++){var a=e[i],o=c.SQExprRewriterWithSourceRenames.rewrite(a.expr.accept(this.exprRewriter),t,t);r.push({direction:a.direction,expr:o})}return r}},t.prototype.rewriteWhere=function(e,t){var r=this;if(!_.isEmpty(e)){for(var i=[],n=0,a=e.length;n<a;n++){var o=e[n],u={condition:c.SQExprRewriterWithSourceRenames.rewrite(o.condition.accept(this.exprRewriter),t,t)};o.target&&(u.target=_.map(o.target,(function(e){return c.SQExprRewriterWithSourceRenames.rewrite(e.accept(r.exprRewriter),t,t)}))),o.annotations&&(u.annotations=o.annotations),i.push(u)}return i}},t.prototype.rewriteTransform=function(e,t){var r=this;if(!_.isEmpty(e)){for(var i=[],n=0,a=e;n<a.length;n++){var o=a[n],u=void 0;o.input.table&&!_.isEmpty(o.input.table.columns)&&(u=_.map(o.input.table.columns,(function(e){return{role:e.role,expression:{name:e.expression.name,expr:c.SQExprRewriterWithSourceRenames.rewrite(e.expression.expr.accept(r.exprRewriter),t,t)}}})));var s={name:o.name,algorithm:o.algorithm,input:{parameters:o.input.parameters},output:o.output};o.input.table&&(s.input.table={name:o.input.table.name,columns:u}),i.push(s)}return i}},c.SemanticQueryRewriter=t})(powerbi=powerbi||{}),(function(e){!(function(r){var n=jsCommon.ArrayExtensions,c=jsCommon.StringExtensions,i=(e.prototype.accept=function(e,t){return e.visitEntity(this,t)},e.prototype.equals=function(e){return e&&this.entity===e.entity&&this.schema===e.schema},e);function e(e,t){this.schema=e,this.entity=t}r.SQFromEntitySource=i;var a=(t.prototype.accept=function(e,t){return e.visitPod(this,t)},t.prototype.equals=function(e){return e&&this.pod===e.pod&&this.schema===e.schema},t);function t(e,t){this.schema=e,this.pod=t}r.SQFromPodSource=a;var o=(u.prototype.accept=function(e,t){return e.visitSubquery(this,t)},u.prototype.equals=function(e){return e&&r.SemanticQuery.equals(this.subquery,e.subquery)},u);function u(e){this.subquery=e}r.SQFromSubquerySource=o;var s=(l.prototype.accept=function(e,t){return e.visitExpr(this,t)},l.prototype.equals=function(e){return e&&r.SQExpr.equals(this.expr,e.expr)},l);function l(e){this.expr=e}r.SQFromExprSource=s;var p=(f.prototype.keys=function(){return Object.keys(this.items)},f.prototype.source=function(e){return this.items[e]},f.prototype.sources=function(){return this.items},f.prototype.usedSourceNames=function(){return this.usedNames},f.prototype.ensureSource=function(e,t){var r=this.getSourceKeyFromItems(e);return r?{name:r}:{name:this.addSource(e,t),new:!0}},f.prototype.remove=function(e){this.items[e]&&delete this.usedNames[e],delete this.items[e]},f.prototype.getSourceKeyFromItems=function(e){var t,r=this.keys();for(t in r){var i=r[t];if(d(this.items[i],e))return i}},f.prototype.addSource=function(e,t){var r=t||e.accept(new y,null),t=r,t=c.findUniqueName(this.usedNames,r);return this.items[t]=e,this.usedNames[t]=!0,t},f.prototype.clone=function(){var e=new f(null,_.clone(this.usedNames));return $.extend(e.items,this.items),e},f.prototype.equals=function(r){var i=this;if(!r)return!1;var e=this.keys(),t=r.keys();return e.length===t.length&&n.sequenceEqual(e,t,(function(e,t){return d(i.source(e),r.source(t))}))},f.prototype.renameSources=function(e){for(var t=this.items,r=Object.keys(t),i=0,n=r.length;i<n;i++){var a=r[i],o=a;if(e[a]&&(o=c.findUniqueName(e,a),!u))for(var u={},s=0;s<i;s++){var l=r[s];u[l]=t[l]}e[o]=!0,u&&(u[o]=t[a])}return u?new f(u):this},f);function f(e,t){if(this.items=e||{},this.usedNames=t||{},!_.isEmpty(this.items))for(var r=0,i=this.keys();r<i.length;r++){var n=i[r];this.usedNames[n]=!0}}function d(e,t){if(e===t)return!0;if(e&&t){if(h(e)&&h(t))return e.equals(t);if(m(e)&&m(t))return e.equals(t);if(v(e)&&v(t))return e.equals(t);if(g(e)&&g(t))return e.equals(t)}return!1}function h(e){return null!=e.entity}function m(e){return null!=e.pod}function v(e){return null!=e.subquery}function g(e){return null!=e.expr}r.SQFrom=p,r.equals=d,r.isSQFromEntitySource=h,r.isSQFromPodSource=m,r.isSQFromSubquerySource=v,r.isSQFromExprSource=g;var y=(x.prototype.visitEntity=function(e){return this.getShortName(e.entity)},x.prototype.visitPod=function(e){return this.getShortName(e.pod)},x.prototype.visitSubquery=function(e){return"q"},x.prototype.visitExpr=function(e){return"x"},x.prototype.getShortName=function(e){var t=e,e=t.lastIndexOf(".");return 0<=e&&e!==t.length-1&&(t=t.substr(e+1)),jsCommon.StringExtensions.isSingleCodePointChar(t.charCodeAt(0))?t.charAt(0).toLowerCase():"a"},x);function x(){}r.SQFromSourceCandidateNameVisitor=y;S.prototype.visitEntity=function(e,t){this.entities.push(new r.SQEntityExpr(e.schema,e.entity,t))},S.prototype.visitPod=function(e,t){},S.prototype.visitSubquery=function(e,t){},S.prototype.visitExpr=function(e,t){},p=S;function S(){this.entities=[]}r.SQFromEntitiesVisitor=p;E.prototype.visitEntity=function(e,t){t=r.SQExprBuilder.entity(e.schema,e.entity,t).accept(this.exprRewriter);return new i(t.schema,t.entity)},E.prototype.visitPod=function(e,t){t=r.SQExprBuilder.entity(e.schema,e.pod,t).accept(this.exprRewriter);return new a(t.schema,t.entity)},E.prototype.visitSubquery=function(e,t){e=e.subquery.rewrite(this.exprRewriter);return new o(e)},E.prototype.visitExpr=function(e,t){e=e.expr.accept(this.exprRewriter);return new s(e)},p=E;function E(e){this.exprRewriter=e}r.SQFromSourceRewriter=p})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(e){!(function(p){var l=jsCommon.ArrayExtensions;p.MParameterBehaviorKey="PowerBI.MParameterBehavior";var f=(i.create=function(){return i.empty=!i.empty?new i(new p.SQFrom,null,null,[],null,null,null):i.empty},i.createWith=function(e,t){return t||(e=i.normalize(e)),new i(e.from,e.where,e.orderBy,e.select,e.groupBy,e.transforms,e.top)},i.prototype.createModified=function(e){return i.createWith({from:void 0!==e.from?e.from:this.fromValue,where:void 0!==e.where?e.where:this.whereItems,transforms:void 0!==e.transforms?e.transforms:this.transformItems,orderBy:void 0!==e.orderBy?e.orderBy:this.orderByItems,select:void 0!==e.select?e.select:this.selectItems,groupBy:void 0!==e.groupBy?e.groupBy:this.groupByItems,top:void 0!==e.top?e.top:this.topValue})},i.normalize=function(e){e={clauses:{from:e.from,where:e.where,orderBy:e.orderBy,select:e.select,groupBy:e.groupBy,transforms:e.transforms,top:e.top},usedSourceNames:{}};return i.removeUnreferencedKeys(e),i.renameSources(e),i.renameSourcesInSubqueries(e),e.clauses},i.removeUnreferencedKeys=function(e){var t=e.clauses,r=t.from,i=t.where,n=t.orderBy,a=t.select,o=t.groupBy,u=t.transforms,s=new w(r.keys());if(i)for(var l=0,c=i.length;l<c;l++){var p=i[l];p.condition.accept(s);var f=p.target;if(f)for(var d=0,h=f.length;d<h;d++)f[d]&&f[d].accept(s)}if(u)for(l=0,c=u.length;l<c;l++){var m=u[l].input.table;if(m&&!_.isEmpty(m.columns))for(var v=0,g=m.columns;v<g.length;v++)g[v].expression.expr.accept(s)}if(n)for(l=0,c=n.length;l<c;l++)n[l].expr.accept(s);for(l=0,c=a.length;l<c;l++)a[l].expr.accept(s);if(o)for(l=0,c=o.length;l<c;l++)o[l].expr.accept(s);t=s.result();if(t){for(var y=r.clone(),x=0,S=t;x<S.length;x++){var E=S[x];y.remove(E)}e.clauses.from=y}},i.renameSources=function(e){var t=e.clauses.from,r=t.renameSources(e.usedSourceNames);r!==t&&(e.clauses.from=r,i.rewriteClauses(e.clauses,new c(t,r)))},i.renameSourcesInSubqueries=function(e){e.clauses.from=h.renameSources(i.renameSourcesInQuery,e.clauses.from,e.usedSourceNames)},i.renameSourcesInQuery=function(e,t){var r={clauses:e.getClauses(),usedSourceNames:t},t=r.clauses.from;return i.renameSources(r),i.renameSourcesInSubqueries(r),r.clauses.from===t?e:i.createWith(r.clauses)},i.prototype.from=function(e){return e?this.createModified({from:e}):this.fromValue.clone()},i.prototype.select=function(e){return _.isEmpty(arguments)?this.getSelect():this.setSelect(e)},i.prototype.getSelect=function(){return i.createNamedExpressionArray(this.selectItems)},i.createNamedExpressionArray=function(e){return l.extendWithName(_.map(e,(function(e){return{name:e.name,expr:e.expr}})))},i.prototype.setSelect=function(e){var t=this.fromValue.clone(),e=i.rewriteExpressionsWithSourceRenames(e,t);return this.createModified({from:t,select:e})},i.rewriteExpressionsWithSourceRenames=function(e,t){for(var r=[],i=0,n=e.length;i<n;i++){var a=e[i];r.push({name:a.name,expr:c.rewrite(a.expr,null,t)})}return r},i.prototype.removeSelect=function(e){for(var t=this.selectItems,r=[],i=0,n=t.length;i<n;i++){var a=t[i];p.SQExpr.equals(a.expr,e)||r.push(a)}return this.createModified({select:r})},i.prototype.removeOrderBy=function(e){for(var t=this.orderBy(),r=t.length-1;0<=r;r--)p.SQExpr.equals(t[r].expr,e)&&t.splice(r,1);return this.createModified({orderBy:t})},i.prototype.removeTransform=function(e){for(var t=this.transforms(),r=0,i=t.length;r<i;r++)if(t[r].name===e.name){t.splice(r,1);break}return this.createModified({transforms:t})},i.prototype.selectNameOf=function(e){e=p.SQExprUtils.indexOfNamedExpr(this.selectItems,e);if(0<=e)return this.selectItems[e].name},i.prototype.setSelectAt=function(e,t){if(!(e>=this.selectItems.length)){var r=this.select(),i=this.fromValue.clone(),n=r[e].name;return r[e]={name:n,expr:c.rewrite(t,null,i)},this.createModified({from:i,select:r})}},i.prototype.addSelect=function(e,t){var r=this.select(),i=this.fromValue.clone();return r.push(this.createNamedExpr(r,i,e,t)),this.createModified({from:i,select:r})},i.prototype.createNamedExpr=function(e,t,r,i){return{name:p.SQExprUtils.uniqueName(e,r,i),expr:c.rewrite(r,t,t)}},i.prototype.groupBy=function(e){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(e)},i.prototype.getGroupBy=function(){return i.createNamedExpressionArray(this.groupByItems)},i.prototype.setGroupBy=function(e){var t=this.fromValue.clone(),e=i.rewriteExpressionsWithSourceRenames(e,t);return this.createModified({from:t,groupBy:e})},i.prototype.addGroupBy=function(e){var t=this.groupBy(),r=this.fromValue.clone();return t.push(this.createNamedExpr(t,r,e)),this.createModified({from:r,groupBy:t})},i.prototype.orderBy=function(e){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(e)},i.prototype.getOrderBy=function(){var e=[],t=this.orderByItems;if(t)for(var r=0,i=t.length;r<i;r++){var n=t[r];e.push({expr:n.expr,direction:n.direction})}return e},i.prototype.setOrderBy=function(e){for(var t=[],r=this.fromValue.clone(),i=0,n=e.length;i<n;i++){var a=e[i];t.push({expr:c.rewrite(a.expr,r,r),direction:a.direction})}return this.createModified({from:r,orderBy:t})},i.prototype.where=function(e,t){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],e,t)},i.prototype.getWhere=function(){var e=[],t=this.whereItems;if(t)for(var r=0,i=t.length;r<i;r++)e.push(t[r]);return e},i.prototype.setWhere=function(e,t,r){for(var i=_.clone(e),n=this.fromValue.clone(),a=0,o=t;a<o.length;a++){var u=o[a],s={condition:c.rewrite(u.condition,r,n)};u.target&&(s.target=_.map(u.target,(function(e){return c.rewrite(e,r,n)}))),u.annotations&&(s.annotations=u.annotations),i.push(s)}return this.createModified({from:n,where:i})},i.prototype.addWhere=function(e,t){return this.setWhere(this.where(),e,t)},i.prototype.addSemanticFilter=function(e){return this.setWhere(this.where(),e.where(),e.from())},i.prototype.transforms=function(e){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(e)},i.prototype.getTransforms=function(){var e=[];if(!_.isEmpty(this.transformItems))for(var t=0,r=this.transformItems;t<r.length;t++){var i=r[t];e.push(i)}return e},i.prototype.setTransforms=function(e){for(var t=this,r=this.fromValue.clone(),i=[],n=0,a=e;n<a.length;n++){var o=a[n],u=void 0;o.input.table&&!_.isEmpty(o.input.table.columns)&&(u=_.map(o.input.table.columns,(function(e){return{role:e.role,expression:t.createNamedExpr(l.extendWithName([]),r,e.expression.expr,e.expression.name)}})));var s={name:o.name,algorithm:o.algorithm,input:{parameters:o.input.parameters},output:o.output};o.input.table&&(s.input.table={name:o.input.table.name,columns:u}),i.push(s)}return this.createModified({from:r,transforms:e})},i.prototype.top=function(e){return _.isEmpty(arguments)?this.topValue:this.setTop(e)},i.prototype.setTop=function(e){return this.createModified({top:e})},i.prototype.rewrite=function(e){var t=this.getClauses();return i.rewriteClauses(t,e),this.createModified(t)},i.prototype.getClauses=function(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}},i.rewriteClauses=function(e,t){t=new p.SemanticQueryRewriter(t);e.from=t.rewriteFrom(e.from),e.where=t.rewriteWhere(e.where,e.from),e.orderBy=t.rewriteOrderBy(e.orderBy,e.from),e.select=t.rewriteSelect(e.select,e.from),e.groupBy=t.rewriteGroupBy(e.groupBy,e.from),e.transforms=t.rewriteTransform(e.transforms,e.from)},i.equals=function(e,t){return e.from().equals(t.from())&&l.sequenceEqual(e.where(),t.where(),p.SQFilter.equals)&&l.sequenceEqual(e.orderBy(),t.orderBy(),p.SQUtils.sqSortDefinitionEquals)&&l.sequenceEqual(e.select(),t.select(),p.SQUtils.namedSQExprEquals)&&l.sequenceEqual(e.groupBy(),t.groupBy(),p.SQUtils.namedSQExprEquals)&&l.sequenceEqual(e.transforms(),t.transforms(),p.SQUtils.sqTransformEquals)&&e.top()===t.top()},i.willFiltersAffectQuery=function(e){return new u(e).willFilterAffectQuery()},i);function i(e,t,r,i,n,a,o){this.fromValue=e,this.whereItems=t,this.orderByItems=r,this.selectItems=i,this.groupByItems=n,this.transformItems=a,null!=o&&(this.topValue=o)}p.SemanticQuery=f;var e=(d.fromSQExpr=function(e){return d.fromSQFromAndSQExpr(new p.SQFrom,e)},d.fromSQFromAndSQExpr=function(e,t){return new d(e,[{condition:c.rewrite(t,e,e)}])},d.fromSQFromAndSQFilters=function(e,t){return new d(e,t)},d.clone=function(e){return d.fromSQFromAndSQFilters(e.from(),e.where())},d.fromMeasureFilters=function(e,t,r){var i;_.isEmpty(t),_.every(t,(function(e){return 1===p.FilterKindDetector.runDetector(e.condition)}));for(var n=[],a=e.where(),o=function(t){var r=_.find(a,(function(e){return p.SQExpr.equals(e.condition,t.condition)}));if(!r||!r.target)return{value:void 0};i=i||r.target,(function(){for(var e=0;e<i.length;e++)if(!p.SQExpr.equals(i[e],r.target[e]))return})(),n.push(r)},u=0,s=t;u<s.length;u++){var l=o(s[u]);if("object"==typeof l)return l.value}var c=_.filter(a,(function(e){return 1!==p.FilterKindDetector.runDetector(e.condition)})),t=_.map(i,(function(t){return _.find(e.select(),(function(e){return p.SQExpr.equals(t,e.expr)}))}));r&&t.push.apply(t,this.getMeasuresForJoinPredicates(e,r)||[]);c=f.createWith({from:e.from(),select:t,where:__spreadArray(__spreadArray([],c||[]),n||[])}),c=d.fromMeasuresQuery(c,i);return p.SubqueryRewriter.rewriteSubqueriesForContainingQuery(c,e)},d.fromMeasuresQuery=function(e,t){var r=new p.SQFromSubquerySource(e),e=new p.SQFrom,r=e.ensureSource(r,"subquery"),t=p.SQExprBuilder.inTable(t,p.SQExprBuilder.subqueryRef(r.name)),r=c.rewrite(t,e,e),t=[];return t.push({condition:r}),d.fromSQFromAndSQFilters(e,t)},d.getDefaultValueFilter=function(e){return d.getDataViewScopeIdentityComparisonFilters(e,p.SQExprBuilder.defaultValue())},d.getAnyValueFilter=function(e){return d.getDataViewScopeIdentityComparisonFilters(e,p.SQExprBuilder.anyValue())},d.getDefaultAnyValueFilter=function(e,t){if(_.isEmpty(e))return d.getAnyValueFilter(t);if(_.isEmpty(t))return d.getDefaultValueFilter(e);var r=Array.apply(null,Array(e.length)).map((function(){return p.SQExprBuilder.defaultValue()})),i=Array.apply(null,Array(e.length)).map((function(){return p.SQExprBuilder.anyValue()})),r=p.SQExprUtils.getDataViewScopeIdentityComparisonExpr(e,r),i=p.SQExprUtils.getDataViewScopeIdentityComparisonExpr(t,i),i=p.SQExprBuilder.and(r,i);return d.fromSQExpr(i)},d.getDataViewScopeIdentityComparisonFilters=function(e,t){if(e instanceof Array){var r=Array.apply(null,Array(e.length)).map((function(){return t}));return d.fromSQExpr(p.SQExprUtils.getDataViewScopeIdentityComparisonExpr(e,r))}return d.fromSQExpr(p.SQExprBuilder.equal(e,t))},d.prototype.from=function(){return this.fromValue.clone()},d.prototype.conditions=function(){for(var e=[],t=this.whereItems,r=0,i=t.length;r<i;r++){var n=t[r];e.push(n.condition)}return e},d.prototype.where=function(){for(var e=[],t=this.whereItems,r=0,i=t.length;r<i;r++)e.push(t[r]);return e},d.prototype.rewrite=function(e){var t=new p.SemanticQueryRewriter(e),e=t.rewriteFrom(this.fromValue);return new d(e,t.rewriteWhere(this.whereItems,e))},d.prototype.validate=function(e,t,r){r=new p.SQExprValidationVisitor(e,t,r);return this.rewrite(r),r.errors},d.merge=function(e){if(_.isEmpty(e))return null;if(1===e.length)return e[0];for(var t=e[0],r=t.from(),i=l.take(t.whereItems,t.whereItems.length),n=1,a=e.length;n<a;n++)d.applyFilter(e[n],r,i);return new d(r,i)},d.unmerge=function(e){for(var t=[],r=0,i=e.whereItems;r<i.length;r++){var n=i[r],n=new d(e.fromValue,[n]);1<Object.keys(n.from().sources()).length&&(n=d.removeUnreferencedKeys(n)),t.push(n)}return t},d.removeUnreferencedKeys=function(e){var t=e.from(),r=e.where(),i=new w(t.keys());if(r)for(var n=0,a=r.length;n<a;n++){var o=r[n];o.condition.accept(i);var u=o.target;if(u)for(var s=0,l=u.length;s<l;s++)u[s]&&u[s].accept(i)}e=i.result();if(e){for(var c=0,p=e;c<p.length;c++){var f=p[c];t.remove(f)}return new d(t,r)}},d.getMeasuresForJoinPredicates=function(e,r){for(var i=e.select(),n=[],a=this,t=0;t<i.length;t++)!(function(t){var e=i[t];if(p.SQExprUtils.isMeasure(e.expr)){if(_.some(r.SuppressedJoinPredicates,(function(e){return e===t})))return;(a.isSelectProjected(r.Primary,t)||a.isSelectProjected(r.Secondary,t))&&n.push(e)}})(t);return n},d.isSelectProjected=function(e,t){if(e&&e.Groupings)for(var r=0,i=e.Groupings;r<i.length;r++){var n=i[r];if(_.some(n.Projections,(function(e){return e===t}))&&!_.some(n.SuppressedProjections,(function(e){return e===t})))return!0}return!1},d.isDefaultFilter=function(e){return!(!e||1!==e.where().length)&&p.SQExprUtils.isDefaultValue(e.where()[0].condition)},d.isAnyFilter=function(e){return!(!e||1!==e.where().length)&&p.SQExprUtils.isAnyValue(e.where()[0].condition)},d.isSameFilter=function(e,t){return e===t||!(!e||!t)&&(!!e.from().equals(t.from())&&(!!l.sequenceEqual(e.where(),t.where(),(function(e,t){return p.SQFilter.equals(e,t)}))&&!(d.isDefaultFilter(e)&&d.isAnyFilter(t)||d.isAnyFilter(e)&&d.isDefaultFilter(t))))},d.isInFilter=function(e){return!(!e||1!==e.where().length)&&p.SQExpr.isIn(e.where()[0].condition)},d.applyFilter=function(t,r,e){for(var i=0,n=t.whereItems;i<n.length;i++){var a=n[i],o={condition:c.rewrite(a.condition,t.fromValue,r)};a.target&&(o.target=_.map(a.target,(function(e){return c.rewrite(e,t.fromValue,r)}))),e.push(o)}},d.prototype.setIgnoreMParameter=function(){for(var e=0,t=this.whereItems;e<t.length;e++){var r=t[e];r.annotations||(r.annotations={}),r.annotations[p.MParameterBehaviorKey]=1}},d);function d(e,t){this.fromValue=e,this.whereItems=t}p.SemanticFilter=e;var n,c=(n=p.SQExprRewriter,__extends(a,n),a.prototype.visitEntity=function(e){var t=this.destinationFrom.source(e.variable);if(t&&p.isSQFromEntitySource(t)&&t.schema===e.schema&&t.entity===e.entity)return e;t=this.destinationFrom.ensureSource(new p.SQFromEntitySource(e.schema,e.entity),e.variable);return t.name!==e.variable?new p.SQEntityExpr(e.schema,e.entity,t.name):e},a.prototype.visitSubqueryRef=function(e){if(!this.sourceFrom)return e;var t=this.sourceFrom.source(e.variable);if(!t)return e;var r=this.destinationFrom.source(e.variable);if(r&&p.isSQFromSubquerySource(r)&&f.equals(t.subquery,r.subquery))return e;t=this.destinationFrom.ensureSource(new p.SQFromSubquerySource(t.subquery),e.variable);return t.name!==e.variable?new p.SQSubqueryRefExpr(t.name):e},a.prototype.visitNamedQueryRef=function(e){var t=this.destinationFrom.source(e.variable);if(t&&p.isSQFromExprSource(t)){var r=t.expr;if(p.SQExpr.equals(r,e))return e}r=this.destinationFrom.ensureSource(new p.SQFromExprSource(e),e.variable);if(r.name!==e.variable)return new p.SQNamedQueryRefExpr(e.queryName,r.name)},a.rewrite=function(e,t,r){r=new a(t,r);return e.accept(r)},a);function a(e,t){var r=this;return(r=n.call(this)||this).sourceFrom=e,r.destinationFrom=t,r}p.SQExprRewriterWithSourceRenames=c;var r,w=(r=p.DefaultSQExprVisitorWithTraversal,__extends(t,r),t.prototype.visitEntity=function(e){this.removeKey(e.variable)},t.prototype.visitSubqueryRef=function(e){this.removeKey(e.variable)},t.prototype.visitNamedQueryRef=function(e){this.removeKey(e.variable)},t.prototype.removeKey=function(e){e=this.keys.indexOf(e);0<=e&&this.keys.splice(e,1)},t.prototype.result=function(){return this.keys},t);function t(e){var t=this;return(t=r.call(this)||this).keys=e,t}var o,u=(o=p.DefaultSQExprVisitorWithTraversal,__extends(s,o),s.prototype.visitEntity=function(e){this.containsEntityRefs=!0},s.prototype.visitPropertyVariationSource=function(e){this.containsEntityRefs=!0},s.prototype.visitSubqueryRef=function(e){this.containsSubqueries=!0},s.prototype.willFilterAffectQuery=function(){for(var e=0,t=this.query.select();e<t.length;e++)t[e].expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)},s);function s(e){var t=o.call(this)||this;return t.query=e,t.containsEntityRefs=!1,t.containsSubqueries=!1,t}var h=(m.renameSources=function(e,t,r){r=new m(e,t,r);return p.SemanticQueryRewriter.rewriteFrom(t,r)},m.prototype.visitEntity=function(e,t){return e},m.prototype.visitPod=function(e,t){return e},m.prototype.visitSubquery=function(e,t){var r=e.subquery,i=this.renameSources(r,this.usedSourceNames);return i===r?e:new p.SQFromSubquerySource(i)},m.prototype.visitExpr=function(e,t){return e},m);function m(e,t,r){this.renameSources=e,this.from=t,this.usedSourceNames=r}var v,e=(v=p.SQExprRewriter,__extends(g,v),g.prototype.visitSubqueryRef=function(e){if(!e.query)return e;e=new g(e.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());e=new p.SQFromSubquerySource(e),e=this.mergedFrom.ensureSource(e);return this.hasRewrites=!0,p.SQExprBuilder.subqueryRef(e.name)},Object.defineProperty(g.prototype,"didRewrite",{get:function(){return this.hasRewrites},enumerable:!1,configurable:!0}),g.prototype.rewrite=function(){var r=this,e=this.query.select(),t=l.extendWithName(l.rewriteArray(e,(function(e){var t=e.expr.accept(r);return t===e.expr?e:{name:e.name,expr:t}})));return t===e?this.query:this.query.createModified({from:this.mergedFrom,select:t})},g);function g(e){var t=v.call(this)||this;return t.query=e,t.hasRewrites=!1,t}p.InlineSubqueryRewriter=e})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(l){var e,t=l.data.SQExpr;function a(e){return _.isString(e.value)||l.isValueRef(e.value)||e.value instanceof t}function o(e){return _.isArray(e.cases)&&void 0!==e.defaultCase&&_.isArray(e.defaultCase.textRuns)&&l.isValueRef(e.expression)}function c(e,t){e.value,_.isString(e.value)||p(e.value,t)}function p(e,t){if(l.isValueRef(e))return t.visitValueRef(e);t.visitExpr(e)}(e=l.ParagraphsDefinition||(l.ParagraphsDefinition={})).accept=function(e,t){for(var r=0,i=e;r<i.length;r++)!(function(e,t){if(!_.isEmpty(e.textRuns))for(var r=0,i=e.textRuns;r<i.length;r++){var n=i[r];a(n)?c(n,t):o(n)&&(function(e,t){e.expression,e.defaultCase,e.cases;for(var r=0,i=e.cases;r<i.length;r++)for(var n=i[r],a=0,o=n.textRuns;a<o.length;a++)c(o[a],t);for(var u=0,s=e.defaultCase.textRuns;u<s.length;u++)c(s[u],t);l.isValueRef(e.expression)&&p(e.expression,t)})(n,t)}})(i[r],t)},e.isTextRunDefinition=a,e.isTextRunDefinitionGeneric=function(e){var t=e;return _.isString(t.value)||(e=t.value)&&e.expr||l.isValueRef(t.value)},e.isTextRunConditionalDefinition=o,e.isConditionalDefinitionGeneric=function(e){return _.isArray(e.cases)&&void 0!==e.defaultCase&&void 0!==e.expression}})(powerbi=powerbi||{}),(function(r){var e,t=r.data.SemanticFilter,i=r.data.SQExpr;function n(e){return!!(e.gradient||e.solid||e.pattern)}function a(e){return!(!e.linearGradient2&&!e.linearGradient3)}function o(e){return!!e.identityFieldsValues}function u(e){return!!(e.name instanceof i&&e.url instanceof i)}function s(e){if(!_.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++)if(!r[t].textRuns)return!1;return!0}function l(e){return!!(e.name instanceof i&&e.content instanceof i&&e.type instanceof i)}function c(e){return!(!e.algorithm||!e.parameters)}function p(e){return!!(e.axisColor&&e.negativeColor&&e.negativeColor)}function f(e){return"Icon"===e.kind}function d(e){return"ExprList"===e.kind}function h(e){return null!=e&&"ErrorRange"===e.kind}(e=r.StructuralObjectDefinition||(r.StructuralObjectDefinition={})).isStructuralObjectDefinition=function(e){return!!e&&(e instanceof t||n(e)||a(e)||o(e)||u(e)||s(e)||l(e)||c(e)||p(e)||f(e)||d(e)||h(e))},e.isFillDefinition=n,e.isFillRuleDefinition=a,e.isDefaultValueDefinition=o,e.isImageDefinition=u,e.isParagraphsDefinition=s,e.isGeoJsonDefinition=l,e.isQueryTransformDefinition=c,e.isDataBarsDefinition=p,e.isIconDefinition=f,e.isExprListDefinition=d,e.isErrorRangeDefinition=h,e.accept=function(e,t){n(e)?t.visitFillDefinition(e):a(e)?t.visitFillRuleDefinition(e):s(e)?t.visitParagraphs(e):p(e)?t.visitDataBarsDefinition(e):f(e)?t.visitIconDefinition(e):h(e)&&t.visitErrorRangeDefinition(e)},e.acceptWithTraversal=function(e,t){n(e)?r.FillDefinition.accept(e,t):a(e)?r.FillRuleDefinition.accept(e,t):s(e)?r.ParagraphsDefinition.accept(e,t):p(e)?r.DataBarsDefinition.accept(e,t):f(e)?r.IconDefinition.accept(e,t):h(e)&&r.ErrorRangeDefinition.accept(e,t)},(r.StructuralObjectValue||(r.StructuralObjectValue={})).merge=function(e,t){return t?e?"Icon"===e.kind&&"Icon"===t.kind?{kind:"Icon",layout:(null!=t.layout?t:e).layout,verticalAlignment:(null!=t.verticalAlignment?t:e).verticalAlignment,value:(void 0!==t.value?t:e).value}:void 0:t:e},(r.StructuralTypeDescriptor||(r.StructuralTypeDescriptor={})).isValid=function(e){return!!(e.fill||e.fillRule||e.filter||e.expression||e.image||e.paragraphs||e.geoJson||e.queryTransform||e.dataBars||e.icon||e.exprList||e.errorRange)}})(powerbi=powerbi||{}),(function(e){var r,i;function n(e,t){return(e=e||null)===(t=t||null)||!!e==!!t&&(!!a(e,t)&&r.SQExpr.equals(e.condition,t.condition))}function a(e,t){return i.sequenceEqual(e.target,t.target,r.SQExpr.equals)}r=e.data||(e.data={}),i=jsCommon.ArrayExtensions,(e=r.SQFilter||(r.SQFilter={})).equals=n,e.targetsEqual=a,e.contains=function(e,t){return!_.isEmpty(e)&&_.some(e,(function(e){return n(e,t)}))}})(powerbi=powerbi||{}),(function(e){var r,i;function n(e,t){return!e&&!t||!(!e||!t)&&r.SQExpr.equals(e.expr,t.expr)}function a(e,t){return!e&&!t||!(!e||!t)&&(e.role===t.role&&n(e.expression,t.expression))}function o(e,t){return!e&&!t||!(!e||!t)&&i.sequenceEqual(e.columns,t.columns,a)}function u(e,t){return!e&&!t||!(!e||!t)&&(i.sequenceEqual(e.parameters,t.parameters,n)&&o(e.table,t.table))}function s(e,t){return!e&&!t||!(!e||!t)&&o(e.table,t.table)}r=e.data||(e.data={}),i=jsCommon.ArrayExtensions,(e=r.SQUtils||(r.SQUtils={})).sqSortDefinitionEquals=function(e,t){return!e&&!t||!(!e||!t)&&(e.direction===t.direction&&r.SQExpr.equals(e.expr,t.expr))},e.namedSQExprEquals=n,e.sqTransformTableColumnsEquals=a,e.sqTransformTableEquals=o,e.sqTransformInputEquals=u,e.sqTransformOutputEquals=s,e.sqTransformEquals=function(e,t){return!e&&!t||!(!e||!t)&&(e.algorithm===t.algorithm&&u(e.input,t.input)&&s(e.output,t.output))}})(powerbi=powerbi||{}),(function(r){!(function(a){var g=r.data.DataViewTransform,o=r.data.SQExprBuilder;a.createCategoricalDataViewBuilder=function(){return new e};var e=(t.prototype.withCategory=function(e){var t=e.values,r=e.identityFrom,i=e.source.type,n={source:e.source,identityFields:e.identityFrom.fields,identity:e.identityFrom.identities||[],values:t};if(!e.identityFrom.identities)for(var a=0,o=t.length;a<o;a++)n.identity.push(y(r,a,t[a],i));return this.categories||(this.categories=[]),this.categories.push(n),this},t.prototype.withCategories=function(e){return _.isEmpty(this.categories)?this.categories=e:Array.prototype.push.apply(this.categories,e),this},t.prototype.withValues=function(e){for(var e=e.columns,t=0,r=e;t<r.length;t++){var i=r[t];this.staticMeasureColumns.push(i.source)}return this.staticSeriesValues=e,this},t.prototype.withGroupedValues=function(e){var t=e.groupColumn;this.dynamicSeriesMetadata={column:t.source,identityFrom:t.identityFrom,values:t.values};for(var r=0,i=e.valueColumns;r<i.length;r++){var n=i[r];this.dynamicMeasureColumns.push(n.source)}return this.dynamicSeriesValues=e.data,this},t.prototype.fillData=function(e){var t=_.head(this.categories),r=t&&t.values?t.values.length:0;if(this.hasDynamicSeries())for(var i=0,n=this.dynamicSeriesMetadata.values.length;i<n;i++){var a=this.dynamicSeriesValues[i];a.length,this.dynamicMeasureColumns.length;for(var o=0,u=this.dynamicMeasureColumns.length;o<u;o++)l(e[i*u+o],a[o])}if(this.hasStaticSeries())for(var s=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,o=0,u=this.staticMeasureColumns.length;o<u;o++)l(e[s+o],this.staticSeriesValues[o])},t.prototype.build=function(){for(var e=[],t={},r=this.categories,i=this.dynamicSeriesMetadata,n=0,a=r;n<a.length;n++)x(e,a[n].source);if(this.hasDynamicSeries()){x(e,i.column),t.values=g.createValueColumns([],i.identityFrom.fields,i.column);for(var o,u=i.values,s=0;s<u.length;s++)for(var l=u[s],c=y(i.identityFrom,s,l,i.column.type),p=0,f=this.dynamicMeasureColumns;p<f.length;p++){var d=f[p];(v=_.toPlainObject(d)).groupName=l,v.rolesIndex&&delete v.rolesIndex,x(e,v),t.values.push({source:v,values:[],identity:c})}if(0===u.length)for(var h=0,m=this.dynamicMeasureColumns;h<m.length;h++){var v,d=m[h];x(e,v=_.toPlainObject(d)),t.values.push({source:v,values:[]})}this.hasStaticSeries()&&(o=t.values.grouped(),t.values.grouped=function(){return o},this.appendStaticMeasureColumns(e,t.values))}else t.values=g.createValueColumns(),this.appendStaticMeasureColumns(e,t.values);r=this.categories;_.isEmpty(r)||(t.categories=r),this.fillData(t.values);r={metadata:{columns:e},categorical:t};if(this.isLegalDataView(r))return r},t.prototype.appendStaticMeasureColumns=function(e,t){if(!_.isEmpty(this.staticMeasureColumns))for(var r=0,i=this.staticMeasureColumns;r<i.length;r++){var n=i[r];x(e,n),t.push({source:n,values:[]})}},t.prototype.isLegalDataView=function(e){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&t.isVisualDataView(e.metadata.columns))},t.isVisualDataView=function(e){return!_.isEmpty(e)&&_.some(e,(function(e){return!!e.queryName}))},t.prototype.hasDynamicSeries=function(){return!!this.dynamicSeriesMetadata},t.prototype.hasStaticSeries=function(){return!!this.staticSeriesValues},t);function t(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}function y(e,t,r,i){var n=e.identities;return n?n[t]:(e.fields&&e.fields.length,a.createDataViewScopeIdentity(o.equal(e.fields[0],o.typedConstant(r,i))))}function x(e,t){_.includes(e,t)||e.push(t)}function l(e,t){var r=t.values;r.length,e.values=r;r=t.highlights;r&&(r.length,e.highlights=r);var i,r=t.objects;r&&(r.length,e.objects=r),void 0!==t.minLocal&&((i=i||{}).minLocal=t.minLocal),void 0!==t.maxLocal&&((i=i||{}).maxLocal=t.maxLocal),i&&(e.source.aggregates=i,_.extend(e,i))}})(r.data||(r.data={}))})(powerbi=powerbi||{}),(function(t){!(function(o){var u=t.data.SQExpr;o.createStaticEvalContext=function(e,t){return new r(e,t)};var r=(e.prototype.getExprColumn=function(e){var t=o.DataViewSelectTransform.findExprSelectIndex(e,this.selectTransforms);if(!(t<0))return _.find(this.dataView.metadata.columns,(function(e){return e.index===t}))},e.prototype.getScopedEvalExprValue=function(e){var t=e.decomposeGlobalAggregateOfScopedExpr();if(t){var r=o.DataViewMetadataColumnUtils.findExprColumn(t.source,this.dataView.metadata.columns);return r?o.DataViewMetadataColumnUtils.getAggregate(r,t.func):void 0}if(e.hasGlobalScope())return this.getExprValue(e.expression);e.hasInnerMostScope()},e.prototype.getExprValue=function(e){var t=this.dataView,r=this.selectTransforms;if(t&&r){if(u.isAggregation(e)||u.isPercentile(e)||u.isMeasure(e)||u.isNativeMeasure(e)){var i=(function(e,t,r){var i;var n=-1;do{if((n=o.DataViewSelectTransform.findExprSelectIndex(e,t,n+1))<0)break;if(i=_.find(r,(function(e){return e.index===n&&e.aggregates&&void 0!==e.aggregates.single})))return i.aggregates.single}while(n<t.length);if(u.isAggregation(e)||u.isPercentile(e)){var a=e.arg;if(u.isScopedEval(a)&&a.hasInnerMostScope()?n=o.DataViewSelectTransform.findExprSelectIndex(a.expression,t):(u.isSelectRef(a)||u.isMeasure(a)||u.isAggregation(a)||u.isNativeColumn(a))&&(n=o.DataViewSelectTransform.findExprSelectIndex(a,t)),!(n<0)&&(i=_.find(r,(function(e){return e.index===n&&e.aggregates}))))return (function(e,t){var r;if(u.isPercentile(t)){var i=_.find(e.percentiles,(function(e){return e.k===t.k&&t.exclusive===!!e.exclusive}));if(i)return i.value}else if(u.isAggregation(t))switch(t.func,t.func){case 3:return null!==(r=e.min)&&void 0!==r?r:e.minLocal;case 4:return null!==(r=e.max)&&void 0!==r?r:e.maxLocal;case 6:return e.median;case 1:return e.average}})(i.aggregates,e)}})(e,r,t.metadata.columns);if(void 0!==i)return i}return t.table?_.isEmpty(t.table.columns)||_.isEmpty(t.table.rows)||!_.isEmpty(t.table.identityFields)?void 0:(t.table.rows.length,n(e,r,t.table.columns,t.table.rows[0])):!t.categorical||_.isEmpty(t.metadata.columns)||_.isEmpty(t.categorical.values)?void(t.matrix||t.tree||_.isEqual(Object.getOwnPropertyNames(t),["metadata"])):a(e,r,t.categorical)}},e.prototype.getRoleValues=function(e){},e);function e(e,t){this.dataView=e,this.selectTransforms=t}function n(e,t,r,i){if(1===i.length&&null===i[0])return null;var n=o.DataViewSelectTransform.findExprSelectIndex(e,t);if(!(n<0)&&!((t=_.findIndex(r,(function(e){return e.index===n})))<0)){if(u.isSelectRef(e)&&0===e.attributeKind){e=r[t],e=e.formatSource&&e.formatSource.formatString;if((t=r.indexOf(e))<0)return}return 0 in i,i[t]}}function a(e,t,r){var i=r.values;if(1===i.grouped().length&&!r.categories){var n=o.DataViewSelectTransform.findExprSelectIndex(e,t);if(!(n<0)){t=_.findIndex(i,(function(e){return e.source.index===n}));if(-1!==t){t=i[t].values;return t&&1===t.length?t[0]:void 0}}}}o.getExprValueFromTable=n,o.getExprValueFromCategorical=a})(t.data||(t.data={}))})(powerbi=powerbi||{}),(function(e){!(function(o){o.createMatrixEvalContext=function(e,t){return new r(e,t)};var r=(e.prototype.setAsRowNode=function(e){this.rowPath=e,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},e.prototype.setAsColumnNode=function(e){this.columnPath=e,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},e.prototype.setAsIntersection=function(e,t,r,i,n){void 0===n&&(n=!1),this.nodeValue=e,this.rowPath=t,this.columnPath=r,this.nodeValueIndex=i,this.forHighlight=!!n,this.isScopedValue=!1},e.prototype.setAsScopedValue=function(e,t,r,i){void 0===i&&(i=!1),this.nodeValue=e,this.rowPath=t,this.columnPath=void 0,this.nodeValueIndex=r,this.forHighlight=!!i,this.isScopedValue=!0,_.isEqual(_.keys(_.last(t).nodeValues),["0"])},e.prototype.getScopedEvalExprValue=function(e){var t=e.decomposeGlobalAggregateOfScopedExpr();if(t){var r=o.DataViewMetadataColumnUtils.findExprColumn(t.source,this.getContextValueSources());return r?o.DataViewMetadataColumnUtils.getAggregate(r,t.func):void 0}if(e.hasInnerMostScope())return this.getExprValue(e.expression);e.hasGlobalScope()},e.prototype.getExprValue=function(e){return this.nodeValue?this.evaluateMatrixMeasure(e):this.rowPath?this.evaluateRowHeader(e):this.columnPath?this.evaluateColumnHeader(e):void 0},e.prototype.getExprColumn=function(e){return o.DataViewMetadataColumnUtils.findExprColumn(e,this.getContextValueSources())},e.prototype.findExprValueSourceIndex=function(e){var t=this.getContextValueSources();if(!t)return-1;e=o.DataViewMetadataColumnUtils.findExprColumn(e,t);return e?t.indexOf(e):-1},e.prototype.evaluateMatrixMeasure=function(e){this.rowPath,this.isScopedValue||this.columnPath;var t=this.nodeValue.valueSourceIndex||0,e=this.findExprValueSourceIndex(e);if(!(e<0)){if(e===t)r=this.nodeValue;else{var r,e=e-t+this.nodeValueIndex,t=_.last(this.rowPath),t=this.isScopedValue?o.DataViewMatrixUtils.getNodeScopedValues(t):t.values;if(!(r=null==t?void 0:t[e]))return}return this.forHighlight?r.highlight:r.value}},e.prototype.evaluateRowHeader=function(e){this.columnPath,this.nodeValue;var t=this.findExprValueSourceIndex(e);if(!(t<0)){e=_.last(this.rowPath);if(e){e=this.shouldConsiderScopedValues(e.level)?o.DataViewMatrixUtils.getNodeScopedValues(e):e.values;if(e)return e[t].value}}},e.prototype.evaluateColumnHeader=function(e){this.rowPath,this.nodeValue},e.prototype.getRoleValues=function(e){this.columnPath&&this.nodeValue,this.isScopedValue;var t=_.last(this.rowPath);if(t&&!t.isSubtotal){for(var r=this.dataView.valueSources,i=[],n=0,a=r.length;n<a;n++)o.DataRoleHelper.hasRole(r[n],e)&&i.push(t.values[n].value);return 0<i.length?i:void 0}},e.prototype.getDataView=function(){return this.dataView},e.prototype.getValueSourcesQueryNames=function(){return this.valueSourcesQueryNames},e.prototype.getScopedValueSourcesQueryNames=function(e){return this.scopedValuesQueryNamesByLevel[e]},e.prototype.getContextValueSourcesQueryNames=function(){return this.isScopedValue?(this.nodeValue,this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames},e.prototype.getContextValueSources=function(){if(this.nodeValue)return this.rowPath,this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var e=this.getRowLevelIndex();return this.shouldConsiderScopedValues(e)?this.scopedValueSourcesByLevel[e]:this.dataView.valueSources}this.columnPath},e.prototype.shouldConsiderScopedValues=function(e){return this.hasColumnGrouping||e<this.dataView.rows.levels.length-1},e.prototype.getRowLevelIndex=function(){return this.rowPath,_.last(this.rowPath).level},e);function e(e,t){if(this.dataView=e){this.columnLeavesPath=o.DataViewMatrixUtils.getLeafNodesPath(e.columns.root),this.hasColumnGrouping=0<o.DataViewMatrixUtils.getColumnGroupingLevelsCount(this.dataView.columns),this.valueSourcesQueryNames=_.map(e.valueSources,(function(e){return e.queryName})),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var r=e.rows.levels;if(!_.isEmpty(r))for(var i=0;i<r.length;i++){var n=o.DataViewMatrixUtils.getScopedValueSources(r[i]);(this.scopedValueSourcesByLevel[i]=n)&&(this.scopedValuesQueryNamesByLevel[i]=_.map(n,(function(e){return e.queryName})))}}}})(e.data||(e.data={}))})(powerbi=powerbi||{}),(function(m){var e,v,a,r=jsCommon.BrowserUtils,o=jsCommon.Formatting,g=jsCommon.RegExpExtensions,u=jsCommon.StringExtensions,t=(e=Date,__extends(s,e),s.prototype.setInternalDate=function(e){this.date=e},s.fromTimeValue=function(e){var t=new s(e);return t.setInternalDate(new Date(e)),t},s.fromDateParts=function(e,t,r,i,n,a,o){void 0===t&&(t=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0);a=Date.UTC(e,t,r,i,n,a,o),o=new s(a);return o.setInternalDate(new Date(a)),o},s.fromString=function(e){/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(e);var t=new Date(e),e=new s(t.getTime());return e.setInternalDate(t),e},s.fromDateWithEpochTimeStamp=function(e){return s.fromTimeValue(e.epochTimeStamp)},s.prototype.getDate=function(){return this.date.getUTCDate()},s.prototype.getDay=function(){return this.date.getUTCDay()},s.prototype.getFullYear=function(){return this.date.getUTCFullYear()},s.prototype.getHours=function(){return this.date.getUTCHours()},s.prototype.getMilliseconds=function(){return this.date.getUTCMilliseconds()},s.prototype.getMinutes=function(){return this.date.getUTCMinutes()},s.prototype.getMonth=function(){return this.date.getUTCMonth()},s.prototype.getSeconds=function(){return this.date.getUTCSeconds()},s.prototype.setDate=function(e){return this.date.setUTCDate.apply(this.date,arguments)},s.prototype.setFullYear=function(e,t,r){return this.date.setUTCFullYear.apply(this.date,arguments)},s.prototype.setHours=function(e,t,r,i){return this.date.setUTCHours.apply(this.date,arguments)},s.prototype.setMilliseconds=function(e){return this.date.setUTCMilliseconds.apply(this.date,arguments)},s.prototype.setMinutes=function(e,t,r){return this.date.setUTCMinutes.apply(this.date,arguments)},s.prototype.setMonth=function(e,t){return this.date.setUTCMonth.apply(this.date,arguments)},s.prototype.setSeconds=function(e,t){return this.date.setUTCSeconds.apply(this.date,arguments)},s.prototype.toString=function(){var e=this.date.toUTCString(),t=e.length-" GMT".length;return e=e.indexOf(" GMT")===t?e.substr(0,t):e},s.prototype.getTime=function(){return this.date.getTime()},s.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},s.prototype.getUTCDate=function(){return this.date.getUTCDate()},s.prototype.getUTCDay=function(){return this.date.getUTCDay()},s.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()},s.prototype.getUTCHours=function(){return this.date.getUTCHours()},s.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},s.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},s.prototype.getUTCMonth=function(){return this.date.getUTCMonth()},s.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()},s.prototype.setUTCDate=function(e){return this.date.setUTCDate.apply(this.date,arguments)},s.prototype.setUTCFullYear=function(e,t,r){return this.date.setUTCFullYear.apply(this.date,arguments)},s.prototype.setUTCHours=function(e,t,r,i){return this.date.setUTCHours.apply(this.date,arguments)},s.prototype.setUTCMilliseconds=function(e){return this.date.setUTCMilliseconds.apply(this.date,arguments)},s.prototype.setUTCMinutes=function(e,t,r){return this.date.setUTCMinutes.apply(this.date,arguments)},s.prototype.setUTCMonth=function(e,t){return this.date.setUTCMonth.apply(this.date,arguments)},s.prototype.setUTCSeconds=function(e,t){return this.date.setUTCSeconds.apply(this.date,arguments)},s.prototype.toDateString=function(){return this.date.toDateString()},s.prototype.toISOString=function(){return this.date.toISOString()},s.prototype.toJSON=function(){return this.date.toJSON()},s.prototype.toLocaleDateString=function(){return this.date.toLocaleDateString()},s.prototype.toLocaleString=function(){return this.date.toLocaleString()},s.prototype.toLocaleTimeString=function(){return this.date.toLocaleTimeString()},s.prototype.toTimeString=function(){return this.date.toTimeString()},s.prototype.toUTCString=function(){return this.date.toUTCString()},s.prototype.valueOf=function(){return this.date.valueOf()},s);function s(){return null!==e&&e.apply(this,arguments)||this}m.PBIFormattingDate=t,t=v=m.FormattingEncoder||(m.FormattingEncoder={}),a=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g"),t.removeLiterals=function(e){return a.lastIndex=0,e.replace(a,"")},t.preserveLiterals=function(e,t){for(a.lastIndex=0;;){var r=a.exec(e);if(!r)break;var i=r[0],n=a.lastIndex-i.length,r=String.fromCharCode(57600+t.length);t.push(i),e=e.substr(0,n)+r+e.substr(a.lastIndex),a.lastIndex=1+n}return e},t.restoreLiterals=function(e,t,r){void 0===r&&(r=!0);for(var i=t.length,n=0;n<i;n++){var a,o=String.fromCharCode(57600+n),u=t[n];r||(u="\\"===(a=u[0])||1===u.length||u[u.length-1]!==a?u.substring(1):u.substring(1,u.length-1)),e=e.replace(o,u)}return e};var i,l,c,p,n,y,x,f,d,S,h,E,w,b,C,D,V=/({{)|(}})|{(\d+[^}]*)}/g,R="0",T="#",F="E",M=new RegExp([R,T].join("|"),"g"),t=(P.prototype.formatValue=function(e,t,r){if(null==e)return"";r=this.getCulture(r);return i.canFormat(e)?i.format(e,t,r):n.canFormat(e)?n.format(e,t,r):e.toString()},P.prototype.format=function(e,n,a){var o=this;return e?e.replace(V,(function(e,t,r,i){if(t)return"{";if(r)return"}";r=i.split(":"),i=parseInt(r[0],10),r=r[1];return o.formatValue(n[i],r,a)})):""},P.prototype.isStandardNumberFormat=function(e){return n.isStandardFormat(e)},P.prototype.formatNumberWithCustomOverride=function(e,t,r,i){i=this.getCulture(i);return n.formatWithCustomOverride(e,t,r,i)},P.prototype.dateFormatString=function(e){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(e)},P.prototype.setCurrentCulture=function(e){this._currentCultureSelector!==e&&(this._currentCulture=this.getCulture(e),this._currentCultureSelector=e,this._dateTimeScaleFormatInfo=new z(this._currentCulture))},P.prototype.normalizeCultureSelector=function(e){var t=e.split("-");return e=2===t.length&&2===t[1].length?t[0]+"-"+t[1].toUpperCase():e},P.prototype.getCulture=function(e){return null==e?(null==this._currentCulture&&this.initialize(),this._currentCulture):(e=this.normalizeCultureSelector(e),Globalize.findClosestCulture(e)||Globalize.culture("en-US"))},P.prototype.parseFloat=function(e){return Globalize.parseFloat(e,this.getCulture())},P.prototype.parseDate=function(e){return Globalize.parseDate(e,null,this.getCulture())},P.prototype.getCurrentCulture=function(){return this.getCulture()},P.prototype.initialize=function(){var e=this.getCurrentLocale();this.setCurrentCulture(e);var t=this.getUrlParam("calendar");!t||(t=(e=this._currentCulture).calendars[t])&&(e.calendar=t)},P.prototype.getCurrentLocale=function(){var e=r.getLanguage()||Globalize.culture().name,t=m.ensurePowerbiCommon().cultureInfo,e=m.ensurePowerbiCommon().formattingLocale||t||e;return e=this.getUrlParam("formatLocale")||this.getUrlParam("language")||e},P.prototype.getUrlParam=function(e){e=window.location.search.match(RegExp("[?&]"+e+"=([^&]*)"));return e?e[1]:void 0},P);function P(){}function A(e,t){var r=g.run(b,t);return r?r[0]:t}function N(e,t,r){if(null==t)return e;if(I(e=null==e?R:e)){for(var i=y.getComponents(e),n=[i.positive,i.negative,i.zero],a=0;a<n.length;a++)n[a]=Q(n[a],t,r);return n.join(y.NumberFormatComponentsDelimeter)}return Q(e,t,r)}function Q(e,t,r){var i,n,a,o;return 0<=(t=Math.abs(t))&&(e=v.preserveLiterals(e,i=[]),n=_.repeat(r?R:T,Math.abs(t)),(o=g.run(w,e))?(a=e.substr(0,o.index),t=e.substr(o.index+1,o[1].length),o=e.substr(o.index+o[0].length),r?t=n:0<(r=n.length-t.length)?t+=n.slice(-r):r<0&&(t=t.slice(0,r)),e=a+(t=0<t.length?D+t:t)+o):0<n.length&&(e=e.replace(C,"$1"+D+n)),0!==i.length&&(e=v.restoreLiterals(e,i))),e}function I(e){return-1!==v.removeLiterals(e).indexOf(y.NumberFormatComponentsDelimeter)}function q(e){var t={hasNegative:!1,positive:e,negative:e,zero:e},r=[],i=(e=v.preserveLiterals(e,r)).split(y.NumberFormatComponentsDelimeter),e=i.length;return 1<e&&(0!==r.length&&(i=_.map(i,(function(e){return v.restoreLiterals(e,r)}))),t.hasNegative=!0,t.positive=t.zero=i[0],t.negative=i[1],2<e&&(t.zero=i[2])),t}function O(e){return h.test(e)}function U(e,t,r,i){var n=r.numberFormat;if(!isFinite(e))return Globalize.format(e,void 0);var a=q(t);t=0<e?a.positive:0===e?a.zero:a.negative,a.hasNegative&&(e=Math.abs(e));var o=k(t,!0),u=[];if(o.hasLiterals&&(t=v.preserveLiterals(t,u)),o.hasE&&!i){var s=g.run(S,t);if(s){var l=t.substr(0,s.index),c=t.substr(s.index+2),p=B(l,o);if(1!==(h=G(l,o))&&(e*=h),"number"!=typeof e)return String(e);var f=e.toExponential(p),d=f.indexOf("e"),a=f.substr(0,d),d=f.substr(d+1),l=W(a,l,n),d=W(d,c,n);"+"===d.charAt(0)&&"+"!==s[0].charAt(1)&&(d=d.substr(1));c=l+s[0].charAt(0)+d}}if(void 0===c){var h,l=void 0,s=!1,p=B(t,o);if(1!==(h=G(t,o))&&(e*=h),e=parseFloat(j(e,p)),!isFinite(e))return Globalize.format(e,void 0);i?(d=y.getNumericFormat(e,t),h=i,i=(d=d)&&void 0!==h?h.replace("{0}","{0:"+d+"}"):h,l=m.formattingService.format(i,[e],r.name),s=!0):l=(function(e,t,r,i){if(0===i)return t;var n=t.indexOf(".");if(-1===n)return t;for(var a=n+1,o=a+(r-i);o<t.length;++o){var u=t[o];if("0"===u||"9"===u){u=j(e,o-a);if(parseFloat(u)===e)return u}}return t})(e,l=j(e,p),p,(L(t,p=o),p.optionalPrecision)),c=W(l,t,n,i,s)}return o.hasLiterals&&(c=v.restoreLiterals(c,u,!1)),x=o,c}function j(e,t){var r="",i=0;16<t&&(i=t-16,t=16);var n=m.Double.log10(Math.abs(e));if(n<16)0<n&&((a=16-n)<t&&(i+=t-a,t=a)),r=(function(e,t){{var r,i,n;e&&!isFinite(e)||((r=e<0)&&(e=-e),n=Math.pow(2,Math.floor(Math.log(e)/Math.LN2)-52),i=Math.pow(10,t),10*n<1/i&&(n=(e+n)*i,n=Math.round(n),e=n/i),r&&(e=-e))}return e.toFixed(t)})(e,t);else if(16===n)r=e.toFixed(0),0<(i+=t)&&(r+=".");else{if("number"!=typeof e)return String(e);var a=(r=e.toExponential(15)).indexOf("e");0<a&&(n=r.indexOf("."),e=r.substr(0,a),a=r.substr(a+1),n=parseInt(a,10)-(e.length-n-1),r=e.replace(".","")+_.repeat("0",n),0<t&&(r=r+"."+_.repeat("0",t)))}return 0<i&&(r+=_.repeat("0",i)),r}function k(e,t,r,i){if(void 0!==x&&e===x.format)return x;for(var n=[],a=v.preserveLiterals(e,n),o={format:e,hasLiterals:0!==n.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},u=0,s=a.length;u<s;u++)switch(a.charAt(u)){case"e":case"E":o.hasE=!0;break;case",":o.hasCommas=!0;break;case".":o.hasDots=!0;break;case"%":o.hasPercent=!0;break;case"‰":o.hasPermile=!0}e=q(e);return t&&(o.precision=B(e.positive,o)),i&&(o.partsPerScale=H(e.positive,o)),r&&(o.scale=G(e.positive,o)),o}function B(e,t){return L(e,t),t.precision}function L(e,t){if(!(-1<t.precision)){var r=0,i=0;if(t.hasDots){var n=(e=t.hasLiterals?v.removeLiterals(e):e).indexOf(".");if(-1<n){for(var a=e.length,o=n;o<a;o++){var u=e.charAt(o);if(u.match(M)&&++r,u===T?++i:i=0,u===F)break}19<r&&(i=Math.max(0,i-(r-19)),r=19)}}t.precision=r,t.optionalPrecision=i}}function H(e,t){if(null!=t.partsPerScale)return t.partsPerScale;var r=1;return t.hasPercent&&-1<e.indexOf("%")&&(r*=100),t.hasPermile&&-1<e.indexOf("‰")&&(r*=1e3),t.partsPerScale=r}function G(e,t){if(-1<t.scale)return t.scale;var r=H(e,t);if(t.hasCommas){var i=e.indexOf(".");if(-1===i)for(i=e.length;0<i&&")"===e.charAt(i-1);)i--;for(var n=i-1;-1<n;n--){if(","!==e.charAt(n))break;r/=1e3}}return t.scale=r}function W(e,t,r,i,n){var a=!!i,o=t.split(".",2);if(2!==o.length)return K(e,t,r,a);var u=o[0],t=o[1],o="";i&&(f.test(i),o=i.replace(d,""),e=e.replace(o,""));i=r["."],e=e.split(n?i:".",2),n=1===e.length?e[0]+o:e[0],o=(o=2===e.length?e[1]+o:"").replace(E,""),r=K(n,u,r,a),a=(function(e,t,r){var i=0,n=t.length,a=e.length;if(r){r=t.charAt(n-1);return r.match(M)?{value:e,fmtOnly:""===e}:{value:e+r,fmtOnly:""===e}}for(var o="",u=!0,s=0;s<n;s++){var l=t.charAt(s);if(i<a)switch(l){case R:case T:o+=e[i++],u=!1;break;default:o+=l}else l!==T&&(o+=l,u=u&&l!==R)}return{value:o,fmtOnly:u}})(o,t,a);return a.fmtOnly||""===a.value?r+a.value:r+i+a.value}function K(e,t,r,i){var n=t.indexOf(","),a=-1<n&&n<Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"))&&r[","],o=0,u=0,s=r.groupSizes||[3],l=s[0],c=r[","],p="",n=e.charAt(0);"+"!==n&&"-"!==n||(p=r[n],e=e.substr(1));for(var f="0"===e,d="",h="",m=e.length-1,v=!0,g=t.length-1;-1<g;g--){var y=t.charAt(g);switch(y){case R:case T:v=!1,""!==h&&(d=h+d,h=""),i||((-1<m||y===R)&&a&&(o===l?(d=c+d,++u<s.length&&(l=s[u]),o=1):o++),-1<m?(f&&y===T||(d=e.charAt(m)+d),m--):y!==T&&(d=y+d));break;case",":break;default:h=y+h}}if(i)return v?p+h+d:p+h+e+d;if(-1<m&&""!==d)if(a)for(;-1<m;)o===l?(d=c+d,++u<s.length&&(l=s[u]),o=1):o++,d=e.charAt(m)+d,m--;else d=e.substr(0,m+1)+d;return p+h+d}(l=i=m.DateTimeFormat||(m.DateTimeFormat={})).formatDateStandard=function(e,t,r){var i=r.calendar.patterns;return (function(e){e=e.patterns;void 0===e.g&&(e.g=e.f.replace(e.D,e.d),e.G=e.F.replace(e.D,e.d))})(r.calendar),e=o.findDateFormat(e,t,r.name),t=1===e.format.length?i[e.format]:e.format,Globalize.format(e.value,t,r)},l.formatDateCustom=function(e,t,r){var i=[];if(-1<(t=v.preserveLiterals(t,i)).indexOf("F")){t=u.replaceAll(t,"FFFF","FFF");var n=e.getMilliseconds();if(1<=n%10&&(t=u.replaceAll(t,"FFF","fff")),t=u.replaceAll(t,"FFF","FF"),1<=n%100/10&&(t=u.replaceAll(t,"FF","ff")),t=u.replaceAll(t,"FF","F"),1<=n%1e3/100&&(t=u.replaceAll(t,"F","f")),""===(t=u.replaceAll(t,"F",""))||"%"===t)return""}var a=null!=t.match(/gg/);return t=(n=t)!==c?(c=n,n=o.fixDateTimeFormat(n),p=n):p,n=r.calendar,a&&(r.calendar=r.calendars.Japanese),t=Globalize.format(e,t,r),a&&(r.calendar=n),t=l.localize(t,r.calendar),t=v.restoreLiterals(t,i,!1)},y=n=m.NumberFormat||(m.NumberFormat={}),f=/^\{.+\}.*/,d=/\{.+\}/,S=/e[+-]*[0#]+/i,h=/^[a-z]\d{0,2}$/i,E=/0+$/,w=/\.([0#]*)/g,b=/[0#,\.]+[0,#]*/g,C=/([0#])(?=[^0#]*$)/,D=".",y.NumberFormatComponentsDelimeter=";",y.getNumericFormat=function(e,t){if(null==t)return t;if(I(t)){var r=y.getComponents(t),i=r.positive,n=r.negative,r=r.zero;return 0<e?A(0,i):A(0,0===e?r:n)}return A(0,t)},y.addDecimalsToFormat=N,y.hasFormatComponents=I,y.getComponents=q,y.isStandardFormat=O,y.getFormatForWholeNumberAverage=function(e){return!e||O(e)||k(e).hasDots?e:N(e,2,!0)},y.formatWithCustomOverride=function(e,t,r,i){return O(t),U(e,t,i,r)},y.formatNumberStandard=function(e,t,r){var i=1<t.length?parseInt(t.substr(1,t.length-1),10):void 0,n=r.numberFormat,a=t.charAt(0);switch(a){case"e":case"E":void 0===i&&(i=6),l=U(e,t="0."+_.repeat("0",i)+a+"+000",r);break;case"f":case"F":l=void 0!==i?e.toFixed(i):e.toFixed(n.decimals),l=y.localize(l,n);break;case"g":case"G":var o=Math.abs(e);if(0===o||1e-4<=o&&o<1e15)l=void 0!==i?e.toPrecision(i):e.toString();else{if("number"!=typeof e)return String(e);l=(l=void 0!==i?e.toExponential(i):e.toExponential()).replace("e","E")}l=y.localize(l,n);break;case"r":case"R":l=e.toString(),l=y.localize(l,n);break;case"x":case"X":var u,s,l=e.toString(16);"X"===a&&(l=l.toUpperCase()),void 0!==i&&(s=l.length,(u=e<0)&&s--,o=void 0,0<(s=i-s)&&(o=_.repeat("0",s)),l=u?"-"+o+l.substr(1):o+l),l=y.localize(l,n);break;default:l=Globalize.format(e,t,r)}return l},y.formatNumberCustom=U,y.getCustomFormatMetadata=k;var z=(Y.prototype.getFormatString=function(e){switch(e){case m.DateTimeUnit.Year:return this.YearPattern;case m.DateTimeUnit.Month:return this.MonthPattern;case m.DateTimeUnit.Week:case m.DateTimeUnit.Day:return this.DayPattern;case m.DateTimeUnit.Hour:return this.HourPattern;case m.DateTimeUnit.Minute:return this.MinutePattern;case m.DateTimeUnit.Second:return this.SecondPattern;case m.DateTimeUnit.Millisecond:return this.MillisecondPattern}},Y);function Y(e){var t=e.calendar,r=t.patterns,i=null!=(null===(l=null===(s=t.months)||void 0===s?void 0:s.namesAbbr)||void 0===l?void 0:l[0]),n=r.Y,a=r.M,o=r.f,u=r.T,t=r.t,s=-1<o.indexOf(",")?", ":" ",l=0===n.indexOf("yyyy'")&&6<n.length&&"'"===n[6];this.YearPattern=l?n.substr(0,7):"yyyy";r=o.indexOf("yy"),l=o.indexOf("MMMM");this.MonthPattern=i&&-1<l?l<r?"MMM yyyy":"yyyy MMM":n,this.DayPattern=i?a.replace("MMMM","MMM"):a;a=o.indexOf("mm"),o=-1<o.indexOf("tt")?t.replace(":mm ",""):t;this.HourPattern=r<a?this.DayPattern+s+o:o+s+this.DayPattern,this.MinutePattern=t,this.SecondPattern=u,this.MillisecondPattern=u.replace("ss","ss.fff"),"fi-FI"===e.name&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}m.formattingService=new t})(powerbi=powerbi||{}),(function(e){var i;(i=e.NumberFormat||(e.NumberFormat={})).canFormat=function(e){return"number"==typeof e},i.format=function(t,e,r){e=e||"G";try{return i.isStandardFormat(e)?i.formatNumberStandard(t,e,r):i.formatNumberCustom(t,e,r)}catch(e){return Globalize.format(t,void 0,r)}},i.localize=function(e,t){var r=t["+"],i=t["-"],n=t["."],a=t[","];if("+"===r&&"-"===i&&"."===n&&","===a)return e;for(var o=e.length,u="",s=0;s<o;s++){var l=e.charAt(s);switch(l){case"+":u+=r;break;case"-":u+=i;break;case".":u+=n;break;case",":u+=a;break;default:u+=l}}return u}})(powerbi=powerbi||{}),(function(n){var a;(a=n.DateTimeFormat||(n.DateTimeFormat={})).canFormat=function(e){return e instanceof Date},a.format=function(t,e,r){e=e||"G",n.isDateWithEpochValue(t)&&(i=t.epochTimeStamp,t=n.PBIFormattingDate.fromTimeValue(i));var i=1===e.length;try{return i?a.formatDateStandard(t,e,r):a.formatDateCustom(t,e,r)}catch(e){return a.formatDateStandard(t,"G",r)}},a.localize=function(e,t){var r=t[":"];if(":"===r)return e;for(var i="",n=e.length,a=0;a<n;a++){var o=e.charAt(a);i+=":"===o?r:o}return i}})(powerbi=powerbi||{}),(function(s){var e=(t.fromTimeValue=function(e,t){return e?s.PBIFormattingDate.fromTimeValue(t):new Date(t)},t.fromDateParts=function(e,t,r,i,n,a,o,u){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===u&&(u=0),e?s.PBIFormattingDate.fromDateParts(t,r,i,n,a,o,u):new Date(t,r,i,n,a,o,u)},t.getEpochTimeStamp=function(e,t){return t.epochTimeStamp,e?t.epochTimeStamp:t.getTime()},t.getTime=function(e,t,r,i){return void 0===r&&(r=0),void 0===i&&(i=1),e?Date.UTC(t,r,i):new Date(t,r,i).getTime()},t);function t(){}s.FeatureSwitchedDate=e})(powerbi=powerbi||{}),(function(a){var o;(function(n){function r(e){for(var t="[",r=0,i=e.length;r<i;r++)0<r&&(t+=","),t+=n.serialize(e[r]);return t+"]"}n.serialize=function(e){return JSON.stringify(e.accept(t.instance))},n.serializeArray=r;var e,t=(e=o.DefaultSQExprVisitor,__extends(i,e),i.prototype.visitColumnRef=function(e){return{col:{s:e.source.accept(this),r:e.ref}}},i.prototype.visitMeasureRef=function(e){return{measure:{s:e.source.accept(this),r:e.ref}}},i.prototype.visitNativeMeasure=function(e){var t={l:e.language,e:e.expression,t:e.dataType};return e.proposedName&&(t.p=e.proposedName),e.expressionContentCache&&(t.c={}),e.expressionContentCache.dependencies&&(t.c.d=r(e.expressionContentCache.dependencies)),null!=e.expressionContentCache.unrecognizedIdentifiers&&(t.c.u=e.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:t}},i.prototype.visitNativeColumn=function(e){var t={l:e.language,e:e.expression,t:e.dataType,s:e.source.accept(this),f:e.format};return e.proposedName&&(t.p=e.proposedName),e.expressionContentCache&&(t.c={}),e.expressionContentCache.dependencies&&(t.c.d=r(e.expressionContentCache.dependencies)),null!=e.expressionContentCache.unrecognizedIdentifiers&&(t.c.u=e.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:t}},i.prototype.visitAggr=function(e){return{agg:{a:e.arg.accept(this),f:e.func}}},i.prototype.visitEntity=function(e){return e.entity,{e:e.entity}},i.prototype.visitHierarchyLevel=function(e){return{h:e.arg.accept(this),l:e.level}},i.prototype.visitHierarchy=function(e){return{e:e.arg.accept(this),h:e.hierarchy}},i.prototype.visitPropertyVariationSource=function(e){return{e:e.arg.accept(this),n:e.name,p:e.property}},i.prototype.visitAnd=function(e){return{and:{l:e.left.accept(this),r:e.right.accept(this)}}},i.prototype.visitCompare=function(e){return{comp:{k:e.comparison,l:e.left.accept(this),r:e.right.accept(this)}}},i.prototype.visitConstant=function(e){return{const:{t:e.type.primitiveType,v:(function(e){if(a.isDateWithEpochValue(e))return a.PBIFormattingDate.fromDateWithEpochTimeStamp(e);return e})(e.value)}}},i.prototype.visitArithmetic=function(e){return{arithmetic:{o:e.operator,l:e.left.accept(this),r:e.right.accept(this)}}},i.prototype.visitScopedEval=function(e){return{scopedEval:{e:e.expression.accept(this),s:r(e.scope)}}},i.prototype.visitFilteredEval=function(e){var r=this;return{filteredEval:{e:e.expression.accept(this),f:"["+_.map(e.filters,(function(e){return JSON.stringify((t=e,e={},_.isEmpty(t.target)||(e.t=_.map(t.target,(function(e){return e.accept(r)}))),e.c=t.condition.accept(r),e));var t})).join(", ")+"]"}}},i.prototype.visitWithRef=function(e){return{withRef:{e:e.expressionName}}},i.prototype.visitTransformTableRef=function(e){return{transformTableRef:{source:e.source}}},i.prototype.visitTransformOutputRoleRef=function(e){var t={transformOutputRoleRef:{role:e.role}};return e.transform&&(t.transformOutputRoleRef.transform=e.transform),t},i.prototype.visitFloor=function(e){var t={floor:{a:e.arg.accept(this),s:e.size}};return null!=e.timeUnit&&(t.floor.timeunit=e.timeUnit),t},i.prototype.visitRoleRef=function(e){return{roleRef:{role:e.role}}},i.prototype.visitSummaryValueRef=function(e){return{summaryValueRef:{name:e.name}}},i.prototype.visitAllRolesRef=function(e){return{allRolesRef:{}}},i.prototype.visitNot=function(e){return{not:e.arg.accept(this)}},i.prototype.visitIn=function(e){return{in:{c:r(e.args),v:_.map(e.values,r)}}},i.prototype.visitSelectRef=function(e){return{n:e.expressionName}},i.prototype.visitSparklineData=function(e){return{sparklineData:{m:e.measure.accept(this),g:r(e.grouping),s:null===(e=e.scalarKey)||void 0===e?void 0:e.accept(this)}}},i.prototype.visitDefault=function(e){},i.instance=new i,i);function i(){return null!==e&&e.apply(this,arguments)||this}})((o=a.data||(a.data={})).SQExprShortSerializer||(o.SQExprShortSerializer={}))})(powerbi=powerbi||{}),(function(c){!(function(a){var o=c.data.Selector,i=jsCommon.Lazy,e=(u.fromSelectorsByColumn=function(e){return new u(o.convertSelectorsByColumnToSelector(e),!1,e)},u.fromSelectorsByColumnAndRoles=function(e,t){e=new u(o.convertSelectorsByColumnToSelector(e),!1,e);return e.role=t,e},u.prototype.equals=function(e){return this.selector&&e.selector?this.highlight===e.highlight&&o.equals(this.selector,e.selector):!this.selector==!e.selector&&this.highlight===e.highlight},u.isEqual=function(e,t){return e===t||null!=e&&null!=t&&e.equals(t)},u.prototype.includes=function(e,t,i){if(void 0===i&&(i=!1),!e)return!1;var r=this.selector,n=e.selector;if(!r||!n)return!1;var a=r.data,o=n.data;if(!a&&r.metadata&&r.metadata!==n.metadata)return!1;if(!(t=void 0===t?!1:t)&&this.highlight!==e.highlight)return!1;if(a){if(!o)return!1;if(0<a.length)for(var u=0,s=a.length;u<s;u++){var l=(function(e){var t=a[e];if(i){var r=t.expr;if(!_.some(o,(function(e){return c.DataViewScopeIdentity.containsComparison(r,e)})))return{value:!1}}else if(!o.some((function(e){return c.DataViewScopeIdentity.equals(t,e)})))return{value:!1}})(u);if("object"==typeof l)return l.value}}return!0},u.prototype.getKey=function(){return void 0===this._key&&(this._key="{selector: "+(this.selector?this.getSelectorKey():null)+", highlight: "+this.highlight+"}"),this._key},u.prototype.getDecomposedKeys=function(e){return((e=void 0===e?!0:e)?this._identityLevelKeys:this._columnLevelKeys).getValue()},u.prototype.getKeyWithoutHighlight=function(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight="{selector: "+(this.selector?this.getSelectorKey():null)+"}"),this._keyWithoutHighlight},u.prototype.hasIdentity=function(){return this.selector&&!!this.selector.data},u.prototype.getSelector=function(){return this.selector},u.prototype.getSelectorsByColumn=function(){return this.selectorsByColumn},u.prototype.getSelectorKey=function(){return void 0===this._selectorKey&&(this._selectorKey=o.getKey(this.selector)),this._selectorKey},u.createNull=function(e){return new u(null,e=void 0===e?!1:e)},u.createWithId=function(e,t){return new u(e?{data:[e]}:null,t=void 0===t?!1:t)},u.createWithMeasure=function(e,t){t=new u({metadata:e},t=void 0===t?!1:t);return t.selectorsByColumn={metadata:[e]},t},u.createWithIdAndMeasure=function(e,t,r){void 0===r&&(r=!1);var i={};return e&&(i.data=[e]),t&&(i.metadata=t),new u(i=!e&&!t?null:i,r)},u.createWithIdAndMeasureAndCategory=function(e,t,r,i,n){void 0===n&&(n=[]);i=this.createWithIdAndMeasure(e,t,i=void 0===i?!1:i);return i.selector&&(i.selectorsByColumn={},e&&r&&(i.selectorsByColumn.dataMap={},i.selectorsByColumn.dataMap[r]=[e]),t&&(i.selectorsByColumn.metadata=[t]),_.isEmpty(n)||(i.selectorsByColumn.valueDetails=n)),i},u.createWithIds=function(e,t,r){void 0===r&&(r=!1);var i=null,t=u.idArray(e,t);return new u(i=t?{data:t}:i,r)},u.createWithIdsAndMeasure=function(e,t,r,i){void 0===i&&(i=!1);var n={},a=u.idArray(e,t);return a&&(n.data=a),r&&(n.metadata=r),new u(n=!(e||t||r)?null:n,i)},u.createWithSelectorForColumnAndMeasure=function(e,t,r,i){void 0===r&&(r=!1),void 0===i&&(i=[]);var n={};return _.isEmpty(e)||(n.dataMap=e),t&&(n.metadata=[t]),e||t||(n=null),_.isEmpty(i)||(n.valueDetails=i),new u(o.convertSelectorsByColumnToSelector(n),r,n)},u.createWithSelectorForColumnAndMeasures=function(e,t,r,i){void 0===i&&(i=!1);var n={};return _.isEmpty(e)||(n.dataMap=e),_.isEmpty(t)||(n.metadata=t),r&&(n.valueDetails=r),!e&&_.isEmpty(t)&&(n=null),new u(o.convertSelectorsByColumnToSelector(n),i,n)},u.createWithHighlight=function(e){e.highlight;var t=new u(e.getSelector(),!0);return t.selectorsByColumn=e.selectorsByColumn,t},u.idArray=function(e,t){if(e||t){var r=[];return e&&r.push(e),t&&t!==e&&r.push(t),r}},u.ensureSelector=function(e){return e&&e.data&&(e.data=_.uniqWith(e.data,o.equalsData)),e},u);function u(e,t,r){this.selector=u.ensureSelector(e),this.highlight=t,this._columnLevelKeys=new i(function(){if(e)return o.getDecomposedKeys(e,!1)}),this._identityLevelKeys=new i(function(){if(e)return o.getDecomposedKeys(e)}),this.selectorsByColumn=r}function s(e,t,r){var i,n=e.format;return{expr:e.expr,get formattedValue(){return i=void 0===i?a.valueFormatter.format(t,n):i},value:t,identity:r,queryName:e.queryName}}a.SelectionId=e,a.buildValueDetailsForColumnValue=s;var t=(n.builder=function(){return new n},n.prototype.withColumnIdentity=function(e,t,r){return this.addItemToDataMap(t,e),r&&(this.ensureValueDetails(),(e=this.valueDetails).push.apply(e,r)),this},n.prototype.withCategoryIdentity=function(e,t,r){return e&&e.source&&e.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(s(e.source,e.values[t],e.identity[t])),this.addItemToDataMap(e.source.queryName,r)),this},n.prototype.withCategory=function(e,t,r,i){if(void 0===i&&(i=!1),c.DataViewUtils.isDataViewCategoryColumnList(e)){if(i&&r)for(var n=0,a=e;n<a.length;n++){var o=a[n];this.addCategoryValueDetails(o,t)}e[0]&&r&&e[0].identity&&this.addItemToDataMap(r,e[0].identity[t])}else i&&this.addCategoryValueDetails(e,t),e&&e.source&&e.source.queryName&&e.identity&&this.addItemToDataMap(e.source.queryName,e.identity[t]);return this},n.prototype.addCategoryValueDetails=function(e,t){e&&e.source&&e.source.queryName&&e.identity&&(this.ensureValueDetails(),this.valueDetails.push(s(e.source,e.values[t],e.identity[t])))},n.prototype.withSeries=function(e,t,r){return void 0===r&&(r=!1),e&&e.source&&e.source.queryName&&t&&(r&&c.DataViewUtils.isDataViewValueColumnGroup(t)&&(this.ensureValueDetails(),this.valueDetails.push(s(e.source,t.name,t.identity))),this.addItemToDataMap(e.source.queryName,t.identity)),this},n.prototype.withMeasure=function(e,t,r){if(this.ensureMeasures(),null!=e&&this.measures.push(e),t&&t.source.queryName===e)if(this.ensureValueDetails(),0<=r)this.valueDetails.push(s(t.source,t.values[r],void 0));else for(var i=0,n=t.values;i<n.length;i++){var a=n[i];this.valueDetails.push(s(t.source,a,void 0))}return this},n.prototype.withMeasures=function(e){this.ensureMeasures();for(var t=0,r=e;t<r.length;t++){var i=r[t];this.measures.push(i)}return this},n.prototype.createSelectionId=function(){return e.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)},n.prototype.clone=function(){var e=new n,t=this.dataMap;if(t){var r,i=e.dataMap={};for(r in this.dataMap)i[r]=__spreadArray([],t[r]||[])}return this.measures&&(e.measures=__spreadArray([],this.measures||[])),e},n.prototype.ensureMeasures=function(){void 0===this.measures&&(this.measures=[])},n.prototype.ensureValueDetails=function(){void 0===this.valueDetails&&(this.valueDetails=[])},n.prototype.addItemToDataMap=function(e,t){var r,i;t&&(this.dataMap||(this.dataMap={}),null!=(i=(r=this.dataMap)[e])?i.push(t):r[e]=[t])},n);function n(){}a.SelectionIdBuilder=t})(c.visuals||(c.visuals={}))})(powerbi=powerbi||{}),(function(n){var e;(e=n.VisualStylePresetHelpers||(n.VisualStylePresetHelpers={})).getStylePreset=function(e,t){if(e){_.isEmpty(t)&&(t=e.defaultPresetName);t=e.presets[t];return t=t||e.presets[e.defaultPresetName]}},e.getStylePresetsEnum=function(e){var t=[];if(e){var r=e.presets;if(r)for(var i in r){i=r[i];t.push({value:i.name,displayName:i.displayName})}}return n.createEnumType(t)}})(powerbi=powerbi||{}),(function(d){!(function(e){var t,i=jsCommon.Color;e.createColorAllocatorFactory=function(){return new r},1&&(t=d.visuals.createColorAllocatorFactory,d.ensurePowerbiVisuals().createColorAllocatorFactory=function(){return t()});var r=(n.prototype.fromFillRule=function(e,t){var r,i=e.linearGradient2,n=e.linearGradient3;if(i||n){n&&(r=void 0===n.min.value&&void 0===n.max.value&&void 0!==n.mid.value);var a=(i||n).min,e=(i||n).max;if(void 0===a.value&&(a.value=t.aggregates&&t.aggregates.min),void 0===e.value&&(e.value=t.aggregates&&t.aggregates.max),void 0!==a.value&&void 0!==e.value)return n&&void 0===n.mid.value&&(n.mid.value=(a.value+e.value)/2),i?new u(i,t):new(r?p:l)(n,t)}},n);function n(){}function a(e){return e.strategy===d.NullStrategy.asZero}function o(e){switch(e.strategy){case d.NullStrategy.noColor:return;case d.NullStrategy.specificColor:return e.color;case d.NullStrategy.asZero:break;default:e.strategy}}var u=(s.prototype.color=function(e){var t=this.options.nullColoringStrategy;if(null===e&&t){if(!a(t))return o(t);e=0}return this.scale(e)},s.prototype.getRule=function(){return{linearGradient2:this.options}},s.prototype.getSource=function(){return this.source},s);function s(e,t){this.options=e,this.source=t;t=e.min,e=e.max;this.scale=i.createLinearColorScale([t.value,e.value],[t.color,e.color],!0)}var l=(c.prototype.color=function(e){var t=this.options.nullColoringStrategy;if(null===e&&t){if(!a(t))return o(t);e=0}return this.scale(e)},c.prototype.getRule=function(){return{linearGradient3:this.options}},c.prototype.getSource=function(){return this.source},c);function c(e,t){this.options=e,this.source=t;var r=(this.options=e).min,t=e.mid,e=e.max;this.scale=i.createLinearColorScale([r.value,t.value,e.value],[r.color,t.color,e.color],!0)}var p=(f.prototype.color=function(e){var t=this.options.nullColoringStrategy;if(null===e&&t){if(!a(t))return o(t);e=0}return e<=this.options.mid.value?this.scale1(e):this.scale2(e)},f.prototype.getRule=function(){return{linearGradient3:this.options}},f.prototype.getSource=function(){return this.source},f);function f(e,t){this.options=e,this.source=t;var r=(this.options=e).min,t=e.mid,e=e.max;this.scale1=i.createLinearColorScale([r.value,t.value],[r.color,t.color],!0),this.scale2=i.createLinearColorScale([t.value,e.value],[t.color,e.color],!0)}})(d.visuals||(d.visuals={}))})(powerbi=powerbi||{});;
"use strict";var powerbi,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t){for(var a=0,i=t.length,o=e.length;a<i;a++,o++)e[o]=t[a];return e},__awaiter=this&&this.__awaiter||function(e,n,l,s){return new(l=l||Promise)(function(a,t){function i(e){try{r(s.next(e))}catch(e){t(e)}}function o(e){try{r(s.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?a(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(i,o)}r((s=s.apply(e,n||[])).next())})},__generator=this&&this.__generator||function(a,i){var o,r,n,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return (function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(n=2&t[0]?r.return:t[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,t[1])).done)return n;switch(r=0,(t=n?[2&t[0],n.value]:t)[0]){case 0:case 1:n=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(n=0<(n=l.trys).length&&n[n.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!n||t[1]>n[0]&&t[1]<n[3])){l.label=t[1];break}if(6===t[0]&&l.label<n[1]){l.label=n[1],n=t;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(t);break}n[2]&&l.ops.pop(),l.trys.pop();continue}t=i.call(a,l)}catch(e){t=[6,e],r=0}finally{o=n=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}})([t,e])}}},__extends=this&&this.__extends||(function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}})();!(function(r){var a,i,t;function n(e,t,a,i,o){this.style=o,this.colors=e,this.fillProp=t,this.defaultDataPointColor=a,this.defaultCategoryColor=i,this.defaultColorScale=this.colors.getNewColorScale()}a=r.visuals||(r.visuals={}),i=jsCommon.Color,t=r.data.SQExprShortSerializer,n.create=function(e,t,a,i){return new n(e.colorPalette.dataColors,t,a,i,e)},n.prototype.getColorForSeriesValue=function(e,t,a,i,o){return this.style&&this.style.isHighContrast?n.getHighContrastDataColor(this.style,i):this.getFillWithOptionalValidation(e,o)||this.getColorWithOptionalValidation(this.defaultDataPointColor,o)||this.getColorScaleForSeries(t).getColor(a).value},n.prototype.getColorScaleForSeries=function(e){return this.colors.getColorScaleByKey(t.serializeArray(e||[]))},n.prototype.getColorForStaticSeries=function(e,t,a,i){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,a);t=this.defaultColorScale.getColor(t).value;return this.getFillWithOptionalValidation(e,i)||this.getColorWithOptionalValidation(this.defaultDataPointColor,i)||t},n.prototype.getColorForMeasure=function(e,t,a,i){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,a);t=this.defaultColorScale.getColor(t).value;return this.getFillWithOptionalValidation(e,i)||this.getColorWithOptionalValidation(this.defaultCategoryColor,i)||this.getColorWithOptionalValidation(this.defaultDataPointColor,i)||t},n.prototype.getColorForProperty=function(e,t,a,i){a=this.style&&a&&n.getThemeColor(this.style,a);return this.getColorForPropertyWithDefaultColor(e,t,a,i)},n.prototype.hasColorForProperty=function(e,t,a){return r.DataViewObjects.hasFillColor(e,t,a)},n.prototype.getColorForPropertyWithDefaultColor=function(e,t,a,i){return this.style&&this.style.isHighContrast?a:r.DataViewObjects.getFillColor(e,t,a,i)},n.prototype.getColorForPropertyName=function(e,t,a){a=this.style&&a&&n.getThemeColor(this.style,a);return this.getColorForPropertyNameWithDefaultColor(e,t,a)},n.prototype.getColorForPropertyNameWithDefaultColor=function(e,t,a,i){var o=this.style&&this.style.isHighContrast,t=r.DataViewObject.getFillColorByPropertyName(e,t,a,void 0,i);return i&&null===t?null:o?a:t},n.getSentimentColor=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):e.colorPalette.dataColors.getSentimentColors()[t].value},n.getGradientColor=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):e.colorPalette.dataColors.getGradientColors()[t].value},n.getDataColorByIndex=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):e.colorPalette.dataColors.getColorByIndex(t).value},n.getThemeColor=function(e,t){return e.colorPalette[t].value},n.getFillColor=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):t&&t.solid&&t.solid.color},n.normalizeSelector=function(e,t){return e&&(t||e.data)?{data:e.data}:e},n.getHighContrastDataColor=function(e,t){return void 0===t&&(t=a.BackgroundColorName),e.colorPalette[t].value},n.prototype.getFillWithOptionalValidation=function(e,t){e=this.fillProp&&r.DataViewObjects.getFillColor(e,this.fillProp);return e=t&&e&&!i.parseColorString(e)?void 0:e},n.prototype.getColorWithOptionalValidation=function(e,t){var a=e;return a=t&&e&&!i.parseColorString(e)?void 0:a},a.ColorHelper=n})(powerbi=powerbi||{}),(function(e){var i;((i=e.visuals||(e.visuals={})).TextHelper||(i.TextHelper={})).getFontPropertiesForTextClass=function(e,t,a){if(e&&e.textClasses){e=e.textClasses[t];if(e){t=e.fontSize&&i.Units.FontSize.createFromPt(+e.fontSize);return{color:a?void 0:e.color&&e.color.value,family:e.fontFace,size:t,weight:e.fontWeight}}}return{}}})(powerbi=powerbi||{}),(function(l){var e;(function(e){var o=l.visuals.ColorHelper;e.createColorReader=function(e,t,a,i){return new r(e,t,a,i)};var r=(n.prototype.createByCategory=function(e,t){if(this.colorReaderIsValid)return this.colorHelper.getColorForSeriesValue(this.objectReader.getCategoryDataObjects(e),this.columnReader.getCategoryColumnIdentityFields(),this.getCategoryValueForColor(e),t)},n.prototype.createBySeries=function(e,t,a,i){if(this.colorReaderIsValid){var o="",r=this.columnReader.getStaticRoleInfo(e);return r&&r.roleToUse&&(o=this.columnReader.getValueQueryName(r.roleToUse,r.seriesIndexToUse)||""),this.columnReader.hasDynamicSeries()?this.colorHelper.getColorForSeriesValue(this.objectReader.getSeriesDataObjects(e),this.columnReader.getDynamicSeriesColumnIdentityFields(),this.dataReader.getSeriesName(e),a,i):this.columnReader.hasStaticSeries()?this.colorHelper.getColorForStaticSeries(this.objectReader.getSeriesDataObjects(e),o,a,i):this.columnReader.hasCategories()&&null!=t?this.colorHelper.getColorForMeasure(this.objectReader.getCategoryDataObjects(t),o,a,i):this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(this.valueRole,e),o,a,i)}},n.prototype.createByValue=function(e,t){if(this.colorReaderIsValid){var a=this.columnReader.getStaticRoleInfo(e);if(a&&null!=a.roleToUse){e=this.columnReader.getValueQueryName(a.roleToUse,0)||"";return this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(a.roleToUse,a.seriesIndexToUse),e,t)}}},n.prototype.getCategoryValueForColor=function(e){var t=this.columnReader.getAllCategoryColumns();if(t)return _.head(t).values[e]},n.defaultColorProp={objectName:"dataPoint",propertyName:"defaultColor"},n.fillProp={objectName:"dataPoint",propertyName:"fill"},n);function n(e,t,a,i){this.columnReader=e,this.objectReader=t,this.dataReader=a,i&&i.colorOptions?(this.style=i.colorOptions.visualStyle,this.valueRole=i.colorOptions.valueRole,t=l.DataViewObjects.getFillColor(this.objectReader.getStaticObjects(),n.defaultColorProp),a=l.DataViewObjects.getFillColor(this.objectReader.getStaticObjects(),n.fillProp),this.colorHelper=o.create(this.style,n.fillProp,i.colorOptions.ignoreDefaultColor?void 0:t,i.colorOptions.ignoreDefaultCategoryColor?void 0:a),this.colorReaderIsValid=!0):this.colorReaderIsValid=!1}})((e=(e=l.data||(l.data={})).dataviewReaders||(e.dataviewReaders={})).categorical||(e.categorical={}))})(powerbi=powerbi||{}),(function(o){var e;(function(e){var a=o.data.DataRoleHelper;e.createColumnReader=function(e,t){return new i(e,t)};var i=(t.prototype.hasCategories=function(){return this.hasValidCategories},t.prototype.hasCategoryWithRole=function(e){return-1!==a.getCategoryIndexOfRole(this.categories,e)},t.prototype.getCategoryCount=function(){return this.hasValidCategories?_.last(this.categories).values.length:0},t.prototype.hasCompositeCategories=function(){return!!this.hasValidCategories&&1<this.categories.length},t.prototype.getCategoryColumn=function(e){if(this.hasValidCategories){var t=this.categories;return t[e?a.getCategoryIndexOfRole(t,e):0]}},t.prototype.getCategoryMetadataColumn=function(e){e=this.getCategoryColumn(e);if(e)return e.source},t.prototype.getCategoryColumnIdentityFields=function(e){e=this.getCategoryColumn(e);return e?e.identityFields:void 0},t.prototype.getAllCategoryColumns=function(e){if(null==e)return this.categories;if(this.hasValidCategories){var t=this.categories,e=e?a.getCategoryIndexesOfRole(t,e):[0];return _.map(e,(function(e){return t[e]}))}return[]},t.prototype.hasValues=function(e){return!!this.valueRoleIndexMapping&&!_.isEmpty(this.valueRoleIndexMapping[e])},t.prototype.hasAnyValidValues=function(){return this.dataHasAnyValidValues},t.prototype.getValueColumnCount=function(e){var t,a=this,i=0;return"string"==typeof e?this.valueRoleIndexMapping&&this.hasValues(e)&&(i=null===(t=this.valueRoleIndexMapping[e])||void 0===t?void 0:t.length):this.valueRoleIndexMapping&&Array.isArray(e)&&(i=_.sum(_.map(e,(function(e){return null===(e=a.valueRoleIndexMapping[e])||void 0===e?void 0:e.length})))),i},t.prototype.hasHighlights=function(){return!!(this.grouped&&this.grouped[0]&&this.grouped[0].values[0])&&!_.isEmpty(this.grouped[0].values[0].highlights)},t.prototype.getValueColumn=function(e,t){if(void 0===t&&(t=0),this.hasValues(e))return this.dataHasDynamicSeries?this.getValueColumnInternal(e,t,0):this.getValueColumnInternal(e,0,t)},t.prototype.getValueColumnBySeries=function(e){e=this.getStaticRoleInfo(e);if(e)return this.getValueColumn(e.roleToUse,e.seriesIndexToUse)},t.prototype.getAllValueColumnsForRole=function(e,t){if(void 0===t&&(t=0),this.hasValues(e)){for(var a=this.valueRoleIndexMapping[e].length,i=[],o=0;o<a;o++)i.push(this.getValueColumnInternal(e,t,o));return i}},t.prototype.getValueColumnInternal=function(e,t,a){if(this.hasValues(e)){a=this.valueRoleIndexMapping[e][a];return this.grouped[t].values[a]}},t.prototype.getValueMetadataColumn=function(e,t){t=this.getValueColumn(e,t=void 0===t?0:t);if(t)return t.source},t.prototype.getValueMetadataColumnBySeries=function(e){e=this.getValueColumnBySeries(e);if(e)return e.source},t.prototype.getAllValueMetadataColumnsForRole=function(e,t){if(void 0===t&&(t=0),this.hasValues(e))return _.map(this.getAllValueColumnsForRole(e,t),(function(e){return e.source}))},t.prototype.getValueQueryName=function(e,t){t=this.getValueMetadataColumn(e,t);if(t)return t.queryName},t.prototype.getAllValueQueryNames=function(e,t){t=this.getAllValueMetadataColumnsForRole(e,t);if(!_.isEmpty(t))return _.map(t,(function(e){return e.queryName}))},t.prototype.getAllValueRoles=function(){var e=_.keys(this.valueRoleIndexMapping);if(!_.isEmpty(e))return e},t.prototype.hasDynamicSeries=function(){return this.dataHasDynamicSeries},t.prototype.hasStaticSeries=function(){return this.dataHasStaticSeries},t.prototype.getSeriesCount=function(e){return this.dataHasAnyValidValues?this.dataHasDynamicSeries?e&&!this.hasValues(e)?0:this.grouped.length:_.isEmpty(this.staticSeriesRoleNames)?this.grouped?this.grouped.length:0:e?this.getValueColumnCount(e):this.totalStaticSeriesCount:0},t.prototype.getSeriesValueColumns=function(){var e=this.dataHasDynamicSeries;if(e)return this.dataView.categorical.values},t.prototype.getSeriesMetadataColumn=function(){var e=this.getSeriesValueColumns();if(e)return e.source},t.prototype.getSeriesValueColumnGroup=function(e){var t=this.dataHasDynamicSeries;if(this.dataHasAnyValidValues&&t)return this.grouped[e]},t.prototype.getDynamicSeriesColumnIdentityFields=function(){var e=this.getSeriesValueColumns();return e?e.identityFields:void 0},t.prototype.getStaticObjects=function(){if(this.dataView&&this.dataView.metadata&&this.dataView.metadata.objects)return this.dataView.metadata.objects},t.prototype.getMetadataColumns=function(t){var e=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(e=_.filter(this.dataView.metadata.columns,(function(e){return null!=e.roles&&!0===e.roles[t]}))),_.isEmpty(e)?void 0:e},t.prototype.getStaticRoleInfo=function(e){if(!this.seriesIndexToRoleInfoMap&&(this.seriesIndexToRoleInfoMap={},this.staticSeriesRoleNames))for(var t=0,a=0,i=this.staticSeriesRoleNames;a<i.length;a++)for(var o=i[a],r=this.getSeriesCount(o),n=0;n<r;n++)this.seriesIndexToRoleInfoMap[t]={roleToUse:o,seriesIndexToUse:n},t++;return this.seriesIndexToRoleInfoMap[e]},t);function t(e,t){var a,i,o;if((a=(this.dataView=e)?e.categorical:a)&&(i=this.categories=a.categories),this.hasValidCategories=!_.isEmpty(i),t&&(this.staticSeriesRoleNames=t.staticSeriesRoleNames),a&&(o=a.values),this.dataHasAnyValidValues=!1,null!=o){var r=e.categorical.values.grouped(),n={};if(0<r.length){var l=(this.grouped=r)[0].values;this.dataHasAnyValidValues=!!r[0].identity||!_.isEmpty(l)&&!_.isEmpty(l[0].values);for(var s=0,u=l.length;s<u;s++){var c,p=l[s].source.roles;for(c in p)p[c]&&(n[c]||(n[c]=[]),n[c].push(s))}}this.valueRoleIndexMapping=n,this.dataHasDynamicSeries=!!this.dataView.categorical.values.source}r=this.totalStaticSeriesCount=this.getValueColumnCount(this.staticSeriesRoleNames);this.dataHasStaticSeries=!this.dataHasDynamicSeries&&1<r}})((e=(e=o.data||(o.data={})).dataviewReaders||(e.dataviewReaders={})).categorical||(e.categorical={}))})(powerbi=powerbi||{}),(function(o){var e,t;e=o.data||(o.data={}),t=e.dataviewReaders||(e.dataviewReaders={}),(function(){(t.categorical||(t.categorical={})).createDataReader=function(e,t){return new a(e,t)};var a=(e.prototype.hasCategories=function(){return this.columnReader.hasCategories()},e.prototype.hasCategoryWithRole=function(e){return this.columnReader.hasCategoryWithRole(e)},e.prototype.hasCompositeCategories=function(){return this.columnReader.hasCompositeCategories()},e.prototype.getCategoryCount=function(){return this.columnReader.getCategoryCount()},e.prototype.getCategoryValue=function(e,t){e=this.columnReader.getCategoryColumn(e);return e?e.values[t]:void 0},e.prototype.getAllCategoryValuesForRole=function(e,t){e=this.columnReader.getAllCategoryColumns(e);return e?_.map(e,(function(e){return e.values[t]})):void 0},e.prototype.getCategoryMetadataColumn=function(e){e=this.columnReader.getCategoryColumn(e);return e?e.source:void 0},e.prototype.getCategoryDisplayName=function(e){e=this.columnReader.getCategoryColumn(e);if(e&&e.source)return e.source.displayName},e.prototype.getAllCategoryDisplayNamesForRole=function(e){e=this.columnReader.getAllCategoryColumns(e);if(e)return _.map(e,(function(e){return e.source&&e.source.displayName}))},e.prototype.getCategoryType=function(e){e=this.columnReader.getCategoryMetadataColumn(e);if(e)return e.type},e.prototype.hasValues=function(e){return this.columnReader.hasValues(e)},e.prototype.hasHighlights=function(){return this.columnReader.hasHighlights()},e.prototype.getValue=function(e,t,a){if(void 0===a&&(a=0),this.hasValues(e)){a=this.columnReader.getValueColumn(e,a);if(a)return a.values[t]}},e.prototype.getFormatString=function(e,t,a){if(void 0===a&&(a=0),this.formatStringProp,this.hasValues(e)){a=this.columnReader.getValueColumn(e,a);if(a)return o.DataViewObjects.getValue(a.objects&&a.objects[t],this.formatStringProp)}},e.prototype.getValueBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getValue(t.roleToUse,e,t.seriesIndexToUse)},e.prototype.getFormatStringBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getFormatString(t.roleToUse,e,t.seriesIndexToUse)},e.prototype.getHighlight=function(e,t,a){if(void 0===a&&(a=0),this.hasHighlights(),this.hasValues(e)&&this.hasHighlights()){a=this.columnReader.getValueColumn(e,a);if(a)return a.highlights[t]}},e.prototype.getHighlightFormatString=function(e,t,a){if(void 0===a&&(a=0),this.hasHighlights(),this.formatStringProp,this.hasValues(e)&&this.hasHighlights()){a=this.columnReader.getValueColumn(e,a);if(a&&a.highlightObjects)return o.DataViewObjects.getValue(a.highlightObjects[t],this.formatStringProp)}},e.prototype.getErrorValues=function(e,t,a){this.errorRangeProp;t=this.columnReader.getStaticRoleInfo(t=void 0===t?0:t);if(t&&this.hasValues(t.roleToUse)){t=this.columnReader.getValueColumn(t.roleToUse,t.seriesIndexToUse);if(t)return a?o.DataViewObjects.getValue(t.highlightObjects&&t.highlightObjects[e],this.errorRangeProp):o.DataViewObjects.getValue(t.objects&&t.objects[e],this.errorRangeProp)}},e.prototype.getHighlightBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getHighlight(t.roleToUse,e,t.seriesIndexToUse)},e.prototype.getHighlightFormatStringBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getHighlightFormatString(t.roleToUse,e,t.seriesIndexToUse)},e.prototype.getValueType=function(e,t){t=this.columnReader.getValueMetadataColumn(e,t);if(t)return t.type},e.prototype.getAllValuesForRole=function(t,a,e){if(void 0===e&&(e=0),_.some(this.staticSeriesRoleNames,(function(e){return e===t})),this.hasValues(t)){this.dataHasDynamicSeries||(e=0);e=this.columnReader.getAllValueColumnsForRole(t,e);return _.map(e,(function(e){return e.values[a]}))}},e.prototype.getAllFormatStringsForRole=function(t,a,e){var i=this;if(void 0===e&&(e=0),_.some(this.staticSeriesRoleNames,(function(e){return e===t})),this.formatStringProp,this.hasValues(t)){this.dataHasDynamicSeries||(e=0);e=this.columnReader.getAllValueColumnsForRole(t,e);return _.map(e,(function(e){return o.DataViewObjects.getValue(e.objects&&e.objects[a],i.formatStringProp)}))}},e.prototype.getAllHighlightsForRole=function(t,a,e){if(void 0===e&&(e=0),this.hasHighlights(),_.some(this.staticSeriesRoleNames,(function(e){return e===t})),this.hasValues(t)&&this.hasHighlights()){this.dataHasDynamicSeries||(e=0);e=this.columnReader.getAllValueColumnsForRole(t,e);return _.map(e,(function(e){return e.highlights[a]}))}},e.prototype.getAllValueTypesForRole=function(e,t){t=this.columnReader.getAllValueMetadataColumnsForRole(e,t);if(t)return _.map(t,(function(e){return e.type}))},e.prototype.getFirstNonNullValueForCategory=function(e,t){if(this.hasValues(e)){var a=this.getSeriesCount();if(!this.dataHasDynamicSeries)return this.dataHasStaticSeries,this.getValue(e,t);for(var i=0;i<a;i++){var o=this.getValue(e,t,i);if(null!=o)return o}}},e.prototype.getValueDisplayName=function(t){if(_.some(this.staticSeriesRoleNames,(function(e){return e===t}))&&this.columnReader.hasStaticSeries(),this.hasValues(t)){var e=this.columnReader.getValueMetadataColumn(t);if(e)return e.displayName}},e.prototype.getAllValueDisplayNamesForRole=function(t){if(_.some(this.staticSeriesRoleNames,(function(e){return e===t})),this.hasValues(t)){var e=this.columnReader.getAllValueMetadataColumnsForRole(t);if(!_.isEmpty(e))return _.map(e,(function(e){return e.displayName}))}},e.prototype.getValueQueryName=function(e,t){return this.columnReader.getValueQueryName(e,t)},e.prototype.hasSeries=function(){return this.dataHasDynamicSeries||this.dataHasStaticSeries},e.prototype.getSeriesCount=function(){return this.columnReader.getSeriesCount()},e.prototype.getSeriesName=function(e){if(this.hasSeries(),this.hasSeries())if(this.dataHasDynamicSeries){var t=this.columnReader.getSeriesValueColumnGroup(e);if(t)return t.name}else if(this.dataHasStaticSeries){t=this.columnReader.getStaticRoleInfo(e);if(this.hasValues(t.roleToUse)){e=this.columnReader.getValueMetadataColumnBySeries(e);if(e)return e.displayName}}},e.prototype.getSeriesDisplayName=function(){if(this.hasSeries(),this.dataHasDynamicSeries)return this.columnReader.getSeriesValueColumns().source.displayName},e.prototype.getSeriesType=function(){var e=this.columnReader.getSeriesMetadataColumn();if(e)return e.type},e);function e(e,t){this.columnReader=e,this.dataHasDynamicSeries=e.hasDynamicSeries(),this.dataHasStaticSeries=e.hasStaticSeries(),t&&(this.staticSeriesRoleNames=t.staticSeriesRoleNames,this.formatStringProp=t.formatStringProp,this.errorRangeProp=t.errorRangeProp)}})()})(powerbi=powerbi||{}),(function(e){var o;(o=e.data||(e.data={})).createDataViewCategoricalReader=function(e,t){var a=o.dataviewReaders.categorical.createColumnReader(e,t),i=o.dataviewReaders.categorical.createDataReader(a,t),e=o.dataviewReaders.categorical.createObjectReader(a,t);return{data:i,identities:o.dataviewReaders.categorical.createIdentityReader(a),objects:e,colors:o.dataviewReaders.categorical.createColorReader(a,e,i,t)}},o.createDataViewCategoricalReaderAdvanced=function(e,t){var a=o.dataviewReaders.categorical.createColumnReader(e,t),i=o.dataviewReaders.categorical.createDataReader(a,t),e=o.dataviewReaders.categorical.createObjectReader(a,t);return{data:i,identities:o.dataviewReaders.categorical.createIdentityReader(a),objects:e,colors:o.dataviewReaders.categorical.createColorReader(a,e,i,t),columns:a}}})(powerbi=powerbi||{}),(function(o){var e,a;e=o.data||(o.data={}),a=e.dataviewReaders||(e.dataviewReaders={}),(function(){(a.categorical||(a.categorical={})).createIdentityReader=function(e){return new t(e)};var t=(e.prototype.createForCategory=function(e,t){var a=this.columnReader.getCategoryColumn();return(new o.visuals.SelectionIdBuilder).withCategory([a],e,null===(a=null==a?void 0:a.source)||void 0===a?void 0:a.queryName,!0).withMeasures(this.mapRolesToValueMetadata(t)).createSelectionId()},e.prototype.createForDataPoint=function(e,t,a){this.dataHasDynamicSeries||this.dataHasStaticSeries;var i=this.columnReader.getCategoryColumn(),i=(new o.visuals.SelectionIdBuilder).withCategory([i],e,null===(i=null==i?void 0:i.source)||void 0===i?void 0:i.queryName,!0);return null!=t&&this.dataHasDynamicSeries&&i.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(t),!0),i.withMeasures(this.mapRolesToValueMetadata(a,t)),i.createSelectionId()},e.prototype.createForSeries=function(e,t){var a=new o.visuals.SelectionIdBuilder;return this.dataHasDynamicSeries&&a.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(e),!0),a.withMeasures(this.mapRolesToValueMetadata(t,e)),a.createSelectionId()},e.prototype.createForValue=function(e,t){return(new o.visuals.SelectionIdBuilder).withMeasures(this.mapRolesToValueMetadata(t,e)).createSelectionId()},e.prototype.mapRolesToValueMetadata=function(e,t){var a=[],i=0,o=this.columnReader.hasStaticSeries(),r=this.columnReader.getStaticRoleInfo(t);null==e&&(e=this.columnReader.getAllValueRoles()||[]),o&&r&&a.push(this.columnReader.getValueQueryName(r.roleToUse,r.seriesIndexToUse));for(var n=e.length;i<n;i++){var l=e[i];r&&l===r.roleToUse&&o||a.push.apply(a,this.columnReader.getAllValueQueryNames(l)||[])}return a},e);function e(e){this.columnReader=e,this.dataHasDynamicSeries=e.hasDynamicSeries(),this.dataHasStaticSeries=e.hasStaticSeries()}})()})(powerbi=powerbi||{}),(function(o){var e,t;e=o.data||(o.data={}),t=e.dataviewReaders||(e.dataviewReaders={}),(function(){(t.categorical||(t.categorical={})).createObjectReader=function(e,t){return new a(e,t)};var a=(i.prototype.getStaticObjects=function(){return this.staticObjects},i.prototype.getCategoryMetadataObjects=function(e){e=this.columnReader.getCategoryColumn(e);if(e)return e.source.objects},i.prototype.getAllCategoryMetadataObjectsForRole=function(e){e=this.columnReader.getAllCategoryColumns(e);if(e)return _.map(e,(function(e){return e.source.objects}))},i.prototype.getCategoryDataObjects=function(e){var t=this.columnReader.getCategoryColumn();if(t&&t.objects)return t.objects[e]},i.prototype.getValueMetadataObjects=function(t,e){_.some(this.staticSeriesRoleNames,(function(e){return e===t}));e=this.columnReader.getValueMetadataColumn(t,e);if(e)return e.objects},i.prototype.getValueMetadataObjectsBySeries=function(e){e=this.columnReader.getStaticRoleInfo(e);return this.getValueMetadataObjects(e.roleToUse,e.seriesIndexToUse)},i.prototype.getAllValueMetadataObjectsForRole=function(t){_.some(this.staticSeriesRoleNames,(function(e){return e===t}));var e=this.columnReader.getAllValueMetadataColumnsForRole(t);return _.map(e,(function(e){return e.objects}))},i.prototype.getSeriesMetadataObjects=function(){if(this.columnReader.hasDynamicSeries()||this.columnReader.hasStaticSeries(),this.columnReader.hasDynamicSeries()){var e=this.columnReader.getSeriesMetadataColumn();return e?e.objects:void 0}},i.prototype.getSeriesDataObjects=function(e){var t;if(this.columnReader.hasDynamicSeries()?t=this.columnReader.getSeriesValueColumnGroup(e):(e=this.columnReader.getStaticRoleInfo(e))&&(t=this.columnReader.getValueMetadataColumn(e.roleToUse,e.seriesIndexToUse)),t)return t.objects},i.prototype.getCategoryFormatString=function(e){return o.DataViewObjects.getValue(this.getCategoryMetadataObjects(e),i.StandardFormatStringProp)},i.prototype.getAllCategoryFormatStringsForRole=function(e){return _.map(this.getAllCategoryMetadataObjectsForRole(e),(function(e){return o.DataViewObjects.getValue(e,i.StandardFormatStringProp)}))},i.prototype.getValueFormatString=function(t,e){if(!this.columnReader.hasStaticSeries||!_.some(this.staticSeriesRoleNames,(function(e){return e===t}))||null!=e)return o.DataViewObjects.getValue(this.getValueMetadataObjects(t,e),i.StandardFormatStringProp)},i.prototype.getValueFormatStringBySeries=function(e){e=this.columnReader.getStaticRoleInfo(e);return this.getValueFormatString(e.roleToUse,e.seriesIndexToUse)},i.prototype.getAllValueFormatStringsForRole=function(t){_.some(this.staticSeriesRoleNames,(function(e){return e===t}));var e=this.getAllValueMetadataObjectsForRole(t);return _.map(e,(function(e){return o.DataViewObjects.getValue(e,i.StandardFormatStringProp)}))},i.prototype.getSeriesFormatString=function(e){if(!this.columnReader.hasStaticSeries())return this.columnReader.hasDynamicSeries()?o.DataViewObjects.getValue(this.getSeriesMetadataObjects(),i.StandardFormatStringProp):void 0},i.StandardFormatStringProp={objectName:"general",propertyName:"formatString"},i);function i(e,t){this.columnReader=e,this.staticObjects=e.getStaticObjects(),t&&(this.staticSeriesRoleNames=t.staticSeriesRoleNames)}})()})(powerbi=powerbi||{}),(function(e){!(function(e){var a=jsCommon.PixelConverter;function o(e,t){this.pt=e,this.px=t}e=e.Units||(e.Units={}),o.createFromPt=function(e,t){return _.isFinite(e),new o(e=t?_.round(e,t):e,a.fromPointToPixel(e))},o.createFromPx=function(e,t){return _.isFinite(e),t&&(e=_.round(e,t)),new o(a.toPoint(e),e)},o.createFromElement=function(e){e=e.css("font-size");return _.isEmpty(e)?void 0:o.createFromCSS(e)},o.createFromCSS=function(e,t){var a=e.slice(-2).toLowerCase(),i=parseFloat(e.slice(0,-2));switch(isNaN(i),a){case"px":return o.createFromPx(i,t);case"pt":return o.createFromPt(i,t)}},o.prototype.equals=function(e){return this.pt===e.pt&&this.px===e.px},e.FontSize=o})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).visualLocKeys||(e.visualLocKeys={})).DegreeLocKey="Slider_Degree",e.PixelUnitSymbol="Numeric_Pixel",e.WeightLocKey="Slider_Weight",e.PercentLocKey="Slider_Percent"})(powerbi=powerbi||{}),(function(T){!(function(C){var x,p,e,d,w,s=T.visuals.builder,u=C.Units.FontSize,c=jsCommon.Utility;function N(e,t,a){return P.create(e.metadata.objects,[],!1,t.source.displayName,!1,a,t)}function a(e,t){var a=e.dataView.metadata.objects;_.isEmpty(t.levels);var i=[];if(_.isEmpty(t.levels))return w.getDefaultLegendData(e.style);var o=t.levels[0].sources[0],r=t.root.childIdentityFields,n=t.root.children;if(!n)return w.getDefaultLegendData(e.style);for(var t=e.markerShowSeriesPropIdentifier,l=!1,s=e.markerShapePropIdentifier,u=s?(t&&(l=T.DataViewObjects.getValue(a,t,!0)),T.DataViewObjects.getValue(a,e.markerShapePropIdentifier,C.markerShape.circle)):C.markerShape.circle,c=0,p=n.length;c<p;c++){var d,m,g,y,h=n[c];h.isSubtotal||(y=h.value,d=C.converterHelper.formatFromMetadataColumn(y,o,e.formatStringProp),m=e.colorHelper.getColorForSeriesValue(h.objects,r,y,C.ForegroundColorName),g=(new C.SelectionIdBuilder).withColumnIdentity(h.identity,o.queryName).createSelectionId(),y=u,l&&(y=s?T.DataViewObjects.getValue(h.objects,s,y):C.markerShape.circle),i.push({color:m,label:d,icon:x.Circle,identity:g,selected:!1,markerShape:y,index:c}))}return P.create(a,i,e.showByDefault,o.displayName,!!n,e.style)}(e=x=C.LegendIcon||(C.LegendIcon={}))[e.Box=0]="Box",e[e.Circle=1]="Circle",e[e.Line=2]="Line",(e=p=C.LegendPosition||(C.LegendPosition={}))[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Right=2]="Right",e[e.Left=3]="Left",e[e.None=4]="None",e[e.TopCenter=5]="TopCenter",e[e.BottomCenter=6]="BottomCenter",e[e.RightCenter=7]="RightCenter",e[e.LeftCenter=8]="LeftCenter",e[e.TopRight=9]="TopRight",e[e.BottomRight=10]="BottomRight",C.legendPropIdentifiers={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}},C.createLegend=function(e,t,a,i,o,r,n){return void 0===i&&(i=!1),void 0===o&&(o=p.Top),void 0===r&&(r=C.visualStyles.create()),t?new y(e):new l(e,o,r,a,n,i)},(w=d=C.Legend||(C.Legend={})).DefaultFontSizeInPt=8,w.LegendSmallFontSmallViewportInPt=7,w.LegendMediumFontSmallViewportInPt=8,w.gradientRuleProps={objectName:"dataPoint",propertyName:"fill"},w.getLegendShowFlag=function(e){return!e||null==e.show||e.show},w.isLeft=function(e){switch(e){case p.Left:case p.LeftCenter:return!0;default:return!1}},w.isTop=function(e){switch(e){case p.Top:case p.TopCenter:case p.TopRight:return!0;default:return!1}},w.isBottom=function(e){switch(e){case p.Bottom:case p.BottomCenter:case p.BottomRight:return!0;default:return!1}},w.isRight=function(e){switch(e){case p.Right:case p.RightCenter:return!0;default:return!1}},w.isCentered=function(e){switch(e){case p.BottomCenter:case p.LeftCenter:case p.RightCenter:case p.TopCenter:return!0;default:return!1}},w.isTopOrBottomRight=function(e){switch(e){case p.TopRight:case p.BottomRight:return!0;default:return!1}},w.isTopOrBottomLeft=function(e){switch(e){case p.Top:case p.Bottom:return!0;default:return!1}},w.isTopOrBottom=function(e){return w.isTop(e)||w.isBottom(e)},w.isLeftOrRight=function(e){return w.isLeft(e)||w.isRight(e)},w.positionChartArea=function(e,t,a){var i=t.getMargins(),t=t.getPosition();e.styles({"margin-left":w.isLeft(t)?i.width+"px":null,"margin-top":w.isTop(t)?i.height+"px":null})},w.DefaultFontFamily=C.Font.Family.regular.css,w.DefaultPositionKey="Top",w.getDefaultFontProperties=function(e){void 0===e&&(e=C.visualStyles.create());var t=C.TextHelper.getFontPropertiesForTextClass(e,"lightLabel"),e={family:w.DefaultFontFamily,size:w.DefaultFontSize,color:C.ColorHelper.getThemeColor(e,P.DefaultLegendLabelColorName)};return C.FontProperties.inherit(e,t)},w.getDefaultLegendData=function(e){return{show:!0,title:"",dataPoints:[],fontProperties:w.getDefaultFontProperties(e),grouped:!1,showTitle:!0,position:p.Top,isGradientLegend:!1,fromDefault:!0}},w.buildGradientLegendData=N,w.buildSeriesLegendData=function(e,t){var a=T.data.createDataViewCategoricalReaderAdvanced(e.dataView,{staticSeriesRoleNames:e.staticSeriesRoleNames,colorOptions:{valueRole:e.staticSeriesRoleNames&&e.staticSeriesRoleNames[0],visualStyle:e.style,ignoreDefaultColor:e.ignoreDefaultColor,ignoreDefaultCategoryColor:e.ignoreDefaultCategoryColor}});if(!a.data.hasSeries()){var i=(function(e,t){if(t)return T.DataViewObjects.getGradientRuleOfDataView(e,w.gradientRuleProps)})(e.dataView,t);return i?N(e.dataView,i,e.style):e.allowLegendWithNoSeries?w.buildSeriesLegendDataWithNoSeries(a,e):w.getDefaultLegendData(e.style)}for(var t=a.objects.getStaticObjects(),o=[],i=a.columns.hasDynamicSeries(),r=e.simpleMarkerProp,n=r?T.DataViewObjects.getValue(t,r,C.markerShape.circle):C.markerShape.circle,l=e.lineAndMarkerOptions,s=l?l.defaultMarkerShape:void 0,u=l&&l.legendMarkerRendering,c=l?C.MarkerProperties.readFromStaticObjects(t,e.style):void 0,p=l&&T.DataViewObjects.getValue(t,C.lineChartProps.lineStyles.showSeries,!0),d=T.DataViewObjects.getValue(t,C.lineChartProps.lineStyles.lineStyle,C.lineStyle.solid),m=0,g=a.data.getSeriesCount();m<g;m++){var y=a.data.getSeriesName(m),h=C.valueFormatter.format(y,a.objects.getSeriesFormatString(m)),b=p?C.MarkerProperties.readFromSeries(a,c,m,e.style):c,f=a.colors.createBySeries(m,void 0,C.ForegroundColorName),v=a.identities.createForSeries(m),S=void 0,S=r?T.DataViewObjects.getValue(a.objects.getSeriesDataObjects(m),r,n):C.Markers.resolveMarkerShape(b,u,s),y=l&&l.renderLineStyle&&u!==C.legendMarkerRendering.markerOnly&&u!==C.legendMarkerRendering.markerCircleDefault;o.push({color:C.Markers.resolveMarkerColor(b,f,u,l&&l.matchSeriesColor),label:h,icon:x.Circle,identity:v,selected:!1,markerShape:S,lineStyle:y?T.DataViewObjects.getValue(a.objects.getSeriesDataObjects(m),C.lineChartProps.lineStyles.lineStyle,d):void 0,lineColor:f,index:m})}return P.create(a.objects.getStaticObjects(),o,e.showByDefault,a.data.getSeriesDisplayName()||"",i,e.style)},w.buildSeriesLegendDataWithNoSeries=function(e,t){if(e.data.getSeriesCount()){var a=t.lineAndMarkerOptions,i=e.data.getValueDisplayName(_.last(t.staticSeriesRoleNames)),o=C.valueFormatter.format(i,e.objects.getValueFormatString(_.last(t.staticSeriesRoleNames),0)),r=e.colors.createByValue(0,C.ForegroundColorName),n=e.identities.createForValue(0),l=e.objects.getStaticObjects(),s=a?a.defaultMarkerShape:void 0,u=a?C.MarkerProperties.readFromStaticObjects(l,t.style):void 0,c=a&&a.legendMarkerRendering,i=T.DataViewObjects.getValue(l,C.lineChartProps.lineStyles.lineStyle,C.lineStyle.solid),e=a?C.MarkerProperties.readFromSeries(e,u,0,t.style):void 0,u=t.simpleMarkerProp,u=u?u?T.DataViewObjects.getValue(l,u,C.markerShape.circle):C.markerShape.circle:C.Markers.resolveMarkerShape(e,c,s),s=a&&a.renderLineStyle&&c!==C.legendMarkerRendering.markerOnly&&c!==C.legendMarkerRendering.markerCircleDefault,r=[{color:C.Markers.resolveMarkerColor(e,r,c,a&&a.matchSeriesColor),label:o,icon:x.Circle,identity:n,selected:!1,markerShape:u,lineStyle:s?i:void 0,lineColor:r,index:0}];return P.create(l,r,t.showByDefault,"",void 0,t.style)}},w.buildCategoryLegendData=function(e){var t=T.data.createDataViewCategoricalReader(e.dataView,{colorOptions:{valueRole:e.valueRole,visualStyle:e.style}}),a=[],i=e.categoryRole,o=t.objects.getStaticObjects();if(t.data.hasCategories())for(var r=t.data.getCategoryDisplayName(i),n=0,l=t.data.getCategoryCount();n<l;n++){var s=t.data.getCategoryValue(i,n),u=C.valueFormatter.format(s,t.objects.getCategoryFormatString(i)),c=t.colors.createByCategory(n,C.ForegroundColorName),s=t.identities.createForCategory(n);a.push({color:c,label:u,icon:x.Circle,identity:s,selected:!1,index:n})}return P.create(o,a,e.showByDefault,r,void 0,e.style)},w.buildFromFirstMatrixColumnLevel=function(e){var t=e.dataView.matrix;return a(e,t.columns)},w.buildFromFirstMatrixRowLevel=function(e){var t=e.dataView.matrix;return a(e,t.rows)},w.mergeLegendData=function(e,t){var a=[],i=!1,o=e[0];if(o.isGradientLegend){for(var r=0,n=e.length;r<n;r++)e[r];return o}for(r=0,n=e.length;r<n;r++){var l=e[r];if(!_.isEmpty(l.dataPoints))for(var s=0,u=l.dataPoints;s<u.length;s++){var c=u[s];c.layerNumber=r,a.push(c)}l.grouped&&(i=!0)}return o=t&&_.find(e,(function(e){return!e.fromDefault}))||o,{dataPoints:a,show:o.show,position:o.position,showTitle:o.showTitle,title:o.title,grouped:i,fontProperties:o.fontProperties,bold:o.bold,italic:o.italic,underline:o.underline}},w.enumerate=function(e,t){var a=e.legendData,i={selector:null,properties:{show:a.show,position:p[a.position],showTitle:a.showTitle,titleText:a.title,labelColor:a.fontProperties.color,fontFamily:a.fontProperties.family,fontSize:a.fontProperties.size.pt},propertyInstanceKind:{labelColor:t.expressionBasedFormatting?3:1},objectName:e.objectName||"legend"};t.enableBIU&&(i.properties.bold=a.bold,i.properties.italic=a.italic,i.properties.underline=a.underline),null!=e.legendMarkerRendering&&(i.properties[C.lineChartProps.legend.legendMarkerRendering.propertyName]=e.legendMarkerRendering),null!=e.matchLineColor&&(i.properties[C.lineChartProps.legend.matchLineColor.propertyName]=e.matchLineColor),null!=e.defaultToCircle&&(i.properties[C.lineChartProps.legend.defaultToCircle.propertyName]=e.defaultToCircle),e.enumeration.pushInstance(i)},w.getLegendFormattingModel=function(t,a,i,e,o){void 0===e&&(e=!1),void 0===o&&(o="Visual_LegendCard_DisabledReason");var r=t.legendData,n=[C.legendPropIdentifiers.show,C.legendPropIdentifiers.showGradientLegend,C.legendPropIdentifiers.position,C.legendPropIdentifiers.showTitle,C.legendPropIdentifiers.titleText,C.legendPropIdentifiers.labelColor,C.legendPropIdentifiers.fontFamily,C.legendPropIdentifiers.fontSize,C.lineChartProps.legend.legendMarkerRendering,C.lineChartProps.legend.matchLineColor,C.legendPropIdentifiers.bold,C.legendPropIdentifiers.italic,C.legendPropIdentifiers.underline];if(i.removeDefaultToCircleToggle||n.push(C.lineChartProps.legend.defaultToCircle),n=new s.FormattingCardBuilder(new s.FormattingCardUidBuilder("legend"),"Role_DisplayName_Legend",n,function(e){return a.getLocalizedString(e)}),e)return n.withDisabled(!0,o),n.build();o=(new s.FontControlBuilder).withFontFamily({descriptor:C.legendPropIdentifiers.fontFamily,value:r.fontProperties.family}).withFontSizeProperties({descriptor:C.legendPropIdentifiers.fontSize,value:r.fontProperties.size.pt}),i.enableBIU&&o.withBold({descriptor:C.legendPropIdentifiers.bold,value:r.bold}).withItalic({descriptor:C.legendPropIdentifiers.italic,value:r.italic}).withUnderline({descriptor:C.legendPropIdentifiers.underline,value:r.underline});var l=o.build();return n.withDescription("Visual_LegendDescription").addTopLevelToggle("show",(function(){return new s.ToggleSwitchBuilder({descriptor:C.legendPropIdentifiers.show,value:r.show}).build()})).addGroup("options",(function(e){e.withDisplayName("Desktop_FileMenu_Options"),i.newVisualLegendPositions?e.addSimpleSlice("position",new s.DropdownBuilder({descriptor:C.legendPropIdentifiers.position,value:p[r.position]}).build()):e.addSimpleSlice("position",new s.DropdownBuilder({descriptor:C.legendPropIdentifiers.position,value:p[r.position],filterValues:[C.legendPosition.top,C.legendPosition.topCenter,C.legendPosition.leftCenter,C.legendPosition.rightCenter,C.legendPosition.left,C.legendPosition.right,C.legendPosition.bottom,C.legendPosition.bottomCenter]}).build()),i.removeDefaultToCircleToggle&&null!=t.legendMarkerRendering?e.addSimpleSlice("markerRendering",new s.DropdownBuilder({descriptor:C.lineChartObjectProps.legend.legendMarkerRendering,value:t.legendMarkerRendering}).build()):null!=t.legendMarkerRendering&&e.addSimpleSlice("markerRendering",new s.DropdownBuilder({descriptor:C.lineChartObjectProps.legend.legendMarkerRendering,value:t.legendMarkerRendering,filterValues:[C.legendMarkerRendering.markerOnly,C.legendMarkerRendering.lineOnly,C.legendMarkerRendering.lineAndMarker]}).build()),null!=t.matchLineColor&&e.addSimpleSlice("matchLineColor",new s.ToggleSwitchBuilder({descriptor:C.lineChartObjectProps.legend.matchLineColor,value:t.matchLineColor}).build()),i.removeDefaultToCircleToggle||null==t.defaultToCircle||e.addSimpleSlice("defaultToCircle",new s.ToggleSwitchBuilder({descriptor:C.lineChartObjectProps.legend.defaultToCircle,value:t.defaultToCircle}).build())})),n.addGroup("text",(function(e){e.withDisplayName("Text").addCompositeSlice("fontselector","Font",l).addSimpleSlice("color",(function(){var e={value:r.fontProperties.color};return new s.ColorPickerBuilder({descriptor:__assign(__assign({},C.legendPropIdentifiers.labelColor),{instanceKind:i.expressionBasedFormatting?3:1}),value:e}).build()}))})).addGroup("title",(function(e){e.withDisplayName("Title").addTopLevelToggle("showTitle",(function(){return new s.ToggleSwitchBuilder({descriptor:C.legendPropIdentifiers.showTitle,value:r.showTitle}).build()})).addSimpleSlice("titleText",new s.TextInputBuilder({descriptor:C.legendPropIdentifiers.titleText,value:r.title,placeholder:""}).build(),(function(e){return e.withCustomDisplayName("Visual_Title_Text")}))})),n.build()},w.getTitleFontProperties=function(e){var t=e.family===w.DefaultFontFamily;return C.FontProperties.inherit(e,{family:t?C.Font.Family.semibold.css:void 0,weight:t?void 0:"bold"})};var l=(m.prototype.getMargins=function(){return this.viewport},m.prototype.isVisible=function(){return d.getLegendShowFlag(this.data)},m.prototype.setPosition=function(e){this.orientation=e||p.Top},m.prototype.getPosition=function(){return this.orientation},m.prototype.drawLegend=function(e,t,a,i){void 0===a&&(a=!1),void 0===i&&(i=void 0);var o=T.Prototype.inherit(e);_.defaults(o,{fontProperties:d.getDefaultFontProperties(this.style)});for(var r=[],n=0,l=e.dataPoints;n<l.length;n++){var s=l[n];r.push(T.Prototype.inherit(s))}o.dataPoints=r,m.setTooltipToLegendItems(o),(o.fontSize||o.labelColor)&&(o.fontProperties={color:o.labelColor||d.DefaultLabelColor,size:o.fontSize?u.createFromPt(o.fontSize):d.DefaultFontSize,family:d.DefaultFontFamily}),o.fontProperties||(o.fontProperties=d.getDefaultFontProperties(this.style)),o.isGradientLegend||(0!==o.dataPoints.length&&o.position!==p.None||(o.show=!1),o.show||(o.dataPoints=[])),this.interactivityService&&(this.interactivityService.applySelectionStateToData(e.dataPoints),this.interactivityService.applySelectionStateToData(o.dataPoints)),this.legendDataStartIndex=c.clampValue(this.legendDataStartIndex,0,Math.max(o.dataPoints.length-1,0)),this.render(o,t,C.HTMLLegendRenderer.render,a,i)},m.prototype.render=function(i,o,r,n,l){function s(e,t,a){t=u.legendDataStartIndex=c.clampValue(t=0===e?t+a:t-a,0,i.dataPoints.length-1),u.viewport=r({data:i,parentViewport:o,autoWidth:!0,element:u.element,lastCalculatedWidth:u.lastCalculatedWidth,orientation:u.orientation,isScrollable:u.isScrollable,arrowPosWindow:a,legendDataStartIndex:t,interactivityService:u.interactivityService,rerenderCallback:s,visualStyle:u.style,hostService:u.hostService,isHierarchicalAxis:n,featureSwitches:l})}var u=this;this.viewport=r({data:i,parentViewport:o,autoWidth:!0,element:this.element,lastCalculatedWidth:this.lastCalculatedWidth,orientation:this.orientation,isScrollable:this.isScrollable,arrowPosWindow:this.arrowPosWindow,legendDataStartIndex:this.legendDataStartIndex,interactivityService:this.interactivityService,rerenderCallback:s,visualStyle:this.style,hostService:this.hostService,isHierarchicalAxis:n,featureSwitches:l})},m.prototype.reset=function(){},m.setTooltipToLegendItems=function(e){for(var t=0,a=e.dataPoints;t<a.length;t++){var i=a[t];i.tooltip=i.label}},m);function m(e,t,a,i,o,r){this.style=a,this.interactivityService=i,this.hostService=o,this.isScrollable=r,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(e.get(0)),this.setPosition(t),this.viewport={height:0,width:0}}C.LegendRenderingContainer=l;var P,g,y=(i.prototype.getMargins=function(){return{height:i.LegendHeight,width:0}},i.prototype.drawLegend=function(e){var t=e.dataPoints;if(!(t.length<1)){var a=this.legendContainerParent.select(i.LegendContainerSelector);if(a.empty()){if(!t.length)return;e=$("<div></div>").height(this.getMargins().height).addClass(i.LegendContainerClass);$(this.legendContainerParent.node()).prepend(e),a=d3.select(e.get(0))}this.legendContainerDiv=a,this.drawTitle(t),this.drawLegendItems(t)}},i.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},i.prototype.isVisible=function(){return!0},i.prototype.setPosition=function(e){},i.prototype.getPosition=function(){return p.Top},i.prototype.drawTitle=function(e){e&&e.length;var t=this.legendContainerDiv.selectAll("div."+i.LegendTitleClass).data([e[0]]),e=t.enter().append("div").attr("class",i.LegendTitleClass);e.filter((function(e){return e.iconOnlyOnLabel})).append("span").attr("class",i.legendIconClass).html(i.legendPlaceSelector),e.append("span");t=e.merge(t);t.filter((function(e){return e.iconOnlyOnLabel})).select("span."+i.legendIconClass).style(i.legendColorCss,(function(e){return e.color})),t.select("span:last-child").text((function(e){return e.category}))},i.prototype.drawLegendItems=function(e){this.ensureLegendTableCreated();var t=[e],a=this.legendContainerDiv.select("tbody").selectAll("tr").data(t),e=a.enter().append("tr"),t=e.selectAll("td").data((function(e){return e}),(function(e){return e.label})).enter().append("td").attr("class",i.LegendItem).append("span");t.filter((function(e){return!e.iconOnlyOnLabel})).append("span").html(i.legendPlaceSelector).attr("class",i.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),t.append("span").attr("class",i.legendItemNameClass),t.append("span").attr("class",i.legendItemMeasureClass);a=e.merge(a).selectAll("td").data((function(e){return e}),(function(e){return e.label}));a.select("span."+i.legendItemNameClass).html((function(e){return T.visuals.TextUtil.removeBreakingSpaces(e.label)})),a.select("span."+i.legendItemMeasureClass).html((function(e){return"&nbsp;"+e.measure})),a.select("span."+i.legendIconClass).style("color",(function(e){return e.color})),a.exit().remove()},i.prototype.ensureLegendTableCreated=function(){var e;this.legendContainerDiv.select("div table").empty()&&((e=this.legendContainerDiv.append("div").append("table")).style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(e))},i.prototype.setPanGestureOnLegend=function(t){var a=$(this.legendContainerParent.node()).width(),e=d3.zoom().on("zoom",(function(){var e;$(t.node()).width()>a&&(e=d3.event.transform.x,e=Math.min(e,0),e=Math.max(e,a-$(t.node()).width()),t.style("-ms-transform",C.SVGUtil.translateXWithPixels(e)),t.style("-webkit-transform",C.SVGUtil.translateXWithPixels(e)),t.style("transform",C.SVGUtil.translateXWithPixels(e)))}));(this.legendContainerDiv||t).call(e)},i.LegendHeight=70,i.LegendContainerClass="interactive-legend",i.LegendContainerSelector=".interactive-legend",i.LegendTitleClass="title",i.LegendItem="item",i.legendPlaceSelector="●",i.legendIconClass="icon",i.legendColorCss="color",i.legendItemNameClass="itemName",i.legendItemMeasureClass="itemMeasure",i);function i(e){this.legendContainerParent=d3.select(e.get(0))}(g=P=C.LegendData||(C.LegendData={})).DefaultLegendLabelColorName="foregroundNeutralSecondary",g.update=function(e,t,a){void 0===a&&(a=C.visualStyles.create());var i=C.ColorHelper.create(a).getColorForPropertyName(t,C.legendProps.labelColor,g.DefaultLegendLabelColorName),o=d.DefaultFontSize;e.labelColor=i,null==t[C.legendProps.show]&&(t[C.legendProps.show]=!0),!1===t[C.legendProps.show]&&(e.dataPoints=[]),!0===t[C.legendProps.show]&&null==t[C.legendProps.position]&&(t[C.legendProps.position]=C.legendPosition.top),void 0!==t[C.legendProps.fontSize]&&(a=t[C.legendProps.fontSize],e.fontSize=a),!1===t[C.legendProps.showTitle]?e.title="":void 0!==t[C.legendProps.titleText]&&(e.title=t[C.legendProps.titleText]),e.fontProperties={color:i,family:d.DefaultFontFamily,size:o}},g.create=function(e,t,a,i,o,r,n){void 0===o&&(o=!1),void 0===r&&(r=C.visualStyles.create());var l=C.ColorHelper.create(r),s=T.DataViewObjects.getValue(e,C.legendPropIdentifiers.showGradientLegend,!1),u=T.DataViewObjects.getValue(e,C.legendPropIdentifiers.show,a=n?s:a),u=n?u&&s:u,c=p[T.DataViewObjects.getValue(e,C.legendPropIdentifiers.position,d.DefaultPositionKey)],a=T.DataViewObjects.getValue(e,C.legendPropIdentifiers.showTitle,!0),s=T.DataViewObjects.getObject(e,C.legendPropIdentifiers.labelColor.objectName),r=C.FontProperties.createFromObjectOrStyle(s,{color:C.legendPropIdentifiers.labelColor.propertyName,size:C.legendPropIdentifiers.fontSize.propertyName,family:C.legendPropIdentifiers.fontFamily.propertyName,bold:C.legendPropIdentifiers.bold.propertyName,italic:C.legendPropIdentifiers.italic.propertyName,underline:C.legendPropIdentifiers.underline.propertyName},l,r,g.DefaultLegendLabelColorName,"lightLabel",{color:C.ColorHelper.getThemeColor(r,g.DefaultLegendLabelColorName),size:d.DefaultFontSize,family:d.DefaultFontFamily,weight:void 0,style:void 0,textDecoration:void 0});return{show:u,position:c,dataPoints:t,showTitle:a,title:T.DataViewObjects.getValue(e,C.legendPropIdentifiers.titleText,i),grouped:o,fontProperties:r,isGradientLegend:!!n,gradientRule:n,bold:T.DataViewObjects.getValue(e,C.legendPropIdentifiers.bold,!1),italic:T.DataViewObjects.getValue(e,C.legendPropIdentifiers.italic,!1),underline:T.DataViewObjects.getValue(e,C.legendPropIdentifiers.underline,!1)}},g.toIEnumerableDataPoints=function(e){return _.map(e.dataPoints,(function(e){return{color:e.color,displayName:e.label,identity:e.identity}}))}})(T.visuals||(T.visuals={}))})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).Legend||(e.Legend={})).DefaultFontSize=e.Units.FontSize.createFromPt(8),e.legendProps={show:"show",position:"position",titleText:"titleText",showTitle:"showTitle",labelColor:"labelColor",fontSize:"fontSize",showGradientLegend:"showGradientLegend"}})(powerbi=powerbi||{}),(function(z){var B,I,c,e,H;B=z.visuals||(z.visuals={}),c=jsCommon.BrowserUtils,e=jsCommon.CssConstants.createClassAndSelector,H=jsCommon.PixelConverter,(function(k){k.PreviousNavigationArrowClassAndSelector=e("previousNavArrow"),k.NextNavigationArrowClassAndSelector=e("nextNavArrow"),k.LegendClassAndSelector=e("legend"),k.LegendTitleClassAndSelector=e("legend-title"),k.LegendItemContainerClassAndSelector=e("legend-item-container"),k.GradientLegendItemContainerClassAndSelector=e("gradient-legend"),k.LegendItemClassAndSelector=e("legend-item"),k.LegendItemSvgClassAndSelector=e("legend-item-svg"),k.LegendIconClassAndSelector=e("legend-icon"),k.LegendIconLineClassAndSelector=e("legend-icon-line"),k.LegendItemTextClassAndSelector=e("legend-item-text");var j={objectName:"general",propertyName:"formatString"};function F(e){return void 0!==e.mid}function O(e){var t=(e.mid.value-e.min.value)/(e.max.value-e.min.value);return e.min.value===e.max.value?.5:t}function R(e){var t=e.drawOptions.parentViewport,a=e.drawOptions.data,i=e.drawOptions.legendDataStartIndex,o=e.titleLayout,r=e.navigationArrows,n=e.iconWidth,l=e.iconAndLineWidth,s=_.some(a.dataPoints,(function(e){return e.lineStyle})),u=e.drawOptions.autoWidth?e.drawOptions.parentViewport.width*I.LegendMaxWidthFactor:e.drawOptions.lastCalculatedWidth,c=a.dataPoints;if(B.Legend.isTopOrBottom(e.drawOptions.orientation)){var p,a=t.width-(o?o.width:0)-(r.previous&&r.previous.hitAreaWidth||0)-(r.next&&r.next.hitAreaWidth||0);return{legendItems:p=(function(e,t,a,i,o,r,n){for(var l=t,s=[],u=a,c=e.length;u<c;u++){var p=e[u],p=(function(e,t,a,i,o,r){var n=B.FontProperties.toTextProperties(a,t.label),l=z.TextMeasurementService.measureSvgTextWidth(n),s=l,u=!1;{var c;s>I.MaxTextLength&&(u=!0,c=z.TextMeasurementService.getTailoredTextOrDefault(n,I.MaxTextLength),n=B.FontProperties.toTextProperties(a,c),s=z.TextMeasurementService.measureSvgTextWidth(n))}r=o-(s+i+r);if(r<0)return{newRemainingWidth:o,fit:!1};return e.push({dataPoint:t,textProperties:n,width:s,desiredWidth:l,desiredOverMaxWidth:u}),{newRemainingWidth:r,fit:!0}})(s,p,i,p.lineStyle?r:o,l,n);if(l=p.newRemainingWidth,!p.fit)break}var d=_.filter(s,(function(e){return e.desiredOverMaxWidth})),m=l;for(;0<l&&0<d.length;){for(u=0;u<d.length;){var g,y=l/d.length,h=d[u],b=h.width,f=b+y;f>h.desiredWidth?(h.textProperties.text=h.dataPoint.label,h.width=h.desiredWidth,h.desiredOverMaxWidth=!1,d.splice(u,1),l-=h.width-b):(g=d[u].textProperties,y=g.text,g.text=h.dataPoint.label,f=z.TextMeasurementService.getTailoredTextOrDefault(g,f),y===f?g.text=y:(g.text=f,f=z.TextMeasurementService.measureSvgTextWidth(g,f),h.width=f,l-=h.width-b),u++)}if(m===l)break;m=l}return s})(c,a,i,e.fontProperties,n,l,e.totalTextPadding),horizontalLegendWidth:a}}u=u-(s?l:n)-I.LegendEdgeMariginWidth,i=(function(e){for(var t=e.dataPoints,a=e.maxHorizontalSpaceAvaliable,i=e.fontProperties,o=e.legendDataStartIndex,r=[],n=Math.min(Math.floor(e.legendItemContainerHeight/e.legendItemHeight),t.length),l=e.titleWidth||0,s=0,u=t.length;s<u;s++){var c,p,d=t[s],m=B.FontProperties.toTextProperties(i,d.label),g=z.TextMeasurementService.measureSvgTextWidth(m);l<g&&(l=Math.min(g,a)),o<=s&&s<o+n&&(a<(c=g)&&(p=z.TextMeasurementService.getTailoredTextOrDefault(m,a),m.text=p,g=z.TextMeasurementService.measureSvgTextWidth(m)),r.push({dataPoint:d,desiredOverMaxWidth:a<g,textProperties:m,desiredWidth:c,width:g}))}return{legendItems:r,horizontalWidthUsed:l}})({dataPoints:c,legendItemContainerHeight:t.height-(o?o.height:0)-(r.previous?I.LegendArrowHeight:0)-(r.next?I.LegendArrowHeight:0),maxHorizontalSpaceAvaliable:u,legendDataStartIndex:i,fontProperties:e.fontProperties,titleWidth:o?o.width:void 0,legendItemHeight:e.svgHeight});p=i.legendItems;o=e.drawOptions.lastCalculatedWidth;return{legendItems:p,verticalLegendWidth:o=e.drawOptions.autoWidth?Math.ceil(i.horizontalWidthUsed+(s?l:n)+I.LegendEdgeMariginWidth):o}}function A(i){var o=i.legendDataStartIndex,r=i.arrowPosWindow,t=i.useLargeArrowHitArea,e=i.verticalLegendWidth,a=i.isTabbable,n=i.navigationArrow,l=n?n.hitAreaWidth:I.LegendArrowWidth,s=i.arrowClassAndSelector,l=t?l:I.LegendArrowWidth+I.NavArrowPadding,u=e?e+I.NavArrowPadding:l,l=i.legend.selectAll(s.selector).data(n?[n]:[]),s=l.enter().append("svg").classed(s.class,!0).style("position","relative").merge(l);a&&s.attrs({tabindex:0,focusable:!0}).on("keydown",(function(e){var t=d3.event,a=t.keyCode;32!==a&&13!==a||(t.stopPropagation(),i.rerenderCallback(n.type,o,r),t=1===n.type?":last-child":":first-child",(t=i.legend.selectAll(k.LegendItemClassAndSelector.selector+t).node())&&c.focus(t))})),s.classed("flex-order-second",n&&1===n.type).classed("flex-order-fourth",n&&0===n.type).attrs({width:u,height:I.LegendArrowHeight,role:"button","aria-label":function(e){return i.hostService?i.arrowClassAndSelector.class===k.NextNavigationArrowClassAndSelector.class?i.hostService.getLocalizedString("Next_ButtonText"):i.arrowClassAndSelector.class===k.PreviousNavigationArrowClassAndSelector.class?i.hostService.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",(function(e){i.rerenderCallback(n.type,o,r)})),l.exit().remove();s=s.selectAll(".navArrow").data((function(e){return I.getNavigationArrowPathsData(e,t)}),(function(e){return e.index.toString()}));s.enter().append("path").classed("navArrow",!0).merge(s).attrs({d:function(e){return e.path},transform:function(e){return B.SVGUtil.translate(u/2-I.LegendArrowWidth/2,0)+" "+e.rotateTransform},"stroke-width":function(e){return e.isHitArea?e.hitAreaWidth+"px":void 0},"fill-opacity":function(e){return e.isHitArea?"0":void 0},"stroke-opacity":function(e){return e.isHitArea?"0":void 0}}),s.exit().remove()}k.render=function(t){var a=t.data,e=t.parentViewport,i=t.interactivityService,o=t.orientation,r=t.legendDataStartIndex,n=t.hostService,l=t.element,s=a.fontProperties,u=B.Legend.getTitleFontProperties(s),c=B.Legend.getLegendShowFlag(a),p=I.calculateViewport({data:a,lastCalculatedWidth:t.lastCalculatedWidth,orientation:o,parentViewport:e}),d=(L=a&&void 0!==a.fontProperties?a.fontProperties.size.px:H.fromPointToPixel(B.Legend.DefaultFontSize.pt))-I.DefaultTextMargin,m=a.showTitle&&!a.isGradientLegend?I.calculateTitleLayout({fontProperties:s,legendFontSizeMarginDifference:d,legendFontSizeMarginValue:L,parentViewport:e,orientation:o,viewport:p,title:a.title}):null,g=z.TextMeasurementService.estimateSvgTextHeight(B.FontProperties.toTextProperties(s))/I.LegendIconRadiusFactor;(L<=I.DefaultTextMargin||g<I.LegendIconRadius)&&(g=I.LegendIconRadius);var y=d/I.LegendIconRadiusFactor,h=2*(g+y),b=I.LegendIconLineTotalWidth+2*y,f=I.BaseTextAndIconPadding+y,v=i&&B.dataHasSelection(a.dataPoints),S=B.Legend.isTopOrBottom(o)?p.height:20+d,C=(D=R({fontProperties:s,drawOptions:t,navigationArrows:{previous:null,next:null},titleLayout:m,iconWidth:h,iconAndLineWidth:b,svgHeight:S,totalTextPadding:f})).legendItems,x=D.verticalLegendWidth,w=D.horizontalLegendWidth,N=(V=(function(e){var t=e.drawOptions,a=e.titleLayout,i=e.legendViewport,o=e.legendItems,r=e.drawOptions,n=r.orientation,l=r.parentViewport,s=r.data,u=r.legendDataStartIndex,r={next:void 0,previous:void 0};t.isScrollable&&(r=B.Legend.isTopOrBottom(n)?I.calculateHorizontalNavigationArrowsLayout(a,l,i,s):I.calculateVerticalNavigationArrowsLayout(a,l,i,s));var c,o=I.updateNavigationArrowLayout(r,s.dataPoints.length-u,o.length,u,t.arrowPosWindow);{var p;(r.previous||r.next)&&(p=R({fontProperties:s.fontProperties,drawOptions:t,navigationArrows:r,titleLayout:a,iconWidth:e.iconWidth,iconAndLineWidth:e.iconAndLineWidth,svgHeight:e.svgHeight,totalTextPadding:e.totalTextPadding}),c=p.legendItems,o=I.updateNavigationArrowLayout(r,s.dataPoints.length-u,c.length,u,t.arrowPosWindow),p=p.horizontalLegendWidth)}return{navigationArrows:r,arrowPosWindow:o,newLegendItems:c,horizontalLegendWidth:p}})({drawOptions:t,legendViewport:p,legendItems:C,titleLayout:m,iconWidth:h,iconAndLineWidth:b,svgHeight:S,totalTextPadding:f})).navigationArrows,P=V.arrowPosWindow;V.newLegendItems&&(C=V.newLegendItems),V.horizontalLegendWidth,null!=x&&(p.width=x),m&&x&&x>m.width&&(m=a.showTitle?I.calculateTitleLayout({fontProperties:s,legendFontSizeMarginDifference:d,legendFontSizeMarginValue:L,parentViewport:e,orientation:o,viewport:p,title:a.title}):null);var T,D=!(y=B.Legend.isTopOrBottom(o)),V=B.Legend.isCentered(o),x=B.Legend.isTopOrBottomRight(o),d=B.Legend.isTopOrBottomLeft(o),L=l.select(k.LegendClassAndSelector.selector),M=n?n.getLocalizedString("Visual_Legend"):null;return c?(L.empty()&&(L=l.append("div").classed(k.LegendClassAndSelector.class,!0).styles({position:"absolute"}),i&&L.attrs({tabindex:0,"focus-nav-mode":"Hierarchy","aria-label":null==M?void 0:M.concat(a.showTitle&&a.title?" "+a.title:"")})),L.classed("flex-row",y).classed("flex-column",D).classed("flex-justify-content-center",V).classed("flex-justify-content-start",d).classed("flex-justify-content-end",x).classed("flex-align-items-center",y&&!a.isGradientLegend).classed("flex-align-items-start",D||a.isGradientLegend).styles({"padding-top":a.isGradientLegend?"3px":"null"}),i&&L.attrs({"aria-label":null==M?void 0:M.concat(a.showTitle&&a.title?" "+a.title:"")})):L.remove(),x=L.select(k.GradientLegendItemContainerClassAndSelector.selector).empty(),(a.isGradientLegend?x:!x)&&L.selectAll("*").remove(),(x=(x=L.select(".clearCatcher")).empty()?B.appendClearCatcher(L,"div"):x).style("position","absolute").style("width","100%").style("height","100%"),I.updateLayout(p,t.orientation,L,c,e),c?((e=(e=L.select(k.LegendItemContainerClassAndSelector.selector)).empty()?L.append("div").classed(k.LegendItemContainerClassAndSelector.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative"):e).classed("flex-grow",!(!N.next&&!N.previous)).classed("flex-row",y).classed("flex-column",D).classed("flex-align-items-center",y).classed("flex-align-items-start",D).classed(k.GradientLegendItemContainerClassAndSelector.class,a.isGradientLegend).attr("width",w).attr("role","listbox").attr("aria-label",(function(){return t.hostService&&m&&m.text?m.text:t.hostService?M:null})),null!==(w=t.featureSwitches)&&void 0!==w&&w.onObjectFormatting&&e.attr("data-subselectable-region","legend"),t.data.isGradientLegend?(function(e,t,a,i,o,r){var n,l,s=e.data.gradientRule.options.linearGradient2||e.data.gradientRule.options.linearGradient3,u=e.data.fontProperties,c=u.size.px,p=0,d=B.valueFormatter.create({value:s.min.value,value2:s.max.value,format:B.valueFormatter.getFormatString(e.data.gradientRule.source,j)}),m=B.FontProperties.toTextProperties(u),g=d.format(s.min.value),y={width:z.TextMeasurementService.measureSvgTextWidth(m,g),height:z.TextMeasurementService.measureSvgTextHeight(m,g)};A=e.hostService.getLocalizedString("ConditionalFormattingDialog_LowestValue")+" "+g+", ",F(s)&&(n=d.format(s.mid.value),l={width:z.TextMeasurementService.measureSvgTextWidth(m,n),height:z.TextMeasurementService.measureSvgTextHeight(m,n)},A+=e.hostService.getLocalizedString("ConditionalFormattingDialog_MiddleValue")+" "+n+", ");var h=d.format(s.max.value),b={width:z.TextMeasurementService.measureSvgTextWidth(m,h),height:z.TextMeasurementService.measureSvgTextHeight(m,h)};A+=e.hostService.getLocalizedString("ConditionalFormattingDialog_HighestValue")+" "+h;var f,v,S,C,x,w=.5*e.parentViewport.width,N=.25*c,P=1.5*c,T=P,d=[];{var D,V,L,M,R;t?(f=6*c,v=y.width+N+f+N+b.width,S=P+N,D=y.width+N+f+N,x=[{text:g,text_anchor:"start",x:0,y:p=R=P/2,width:y.width,height:T},{text:h,text_anchor:"start",x:D,y:R,width:b.width,height:T}],L=y.width+N,C=[{fill:"url(#legendGradient-"+e.hostService.instanceId+")",fill_opacity:"1",x:L,y:0,width:f,height:P}],F(s)&&(S+=1.25*c,V=O(s),M={text:n,text_anchor:"middle",x:L+V*f,y:P+N+c/2,width:l.width,height:T},x.splice(1,0,M),M=u.color||e.visualStyle.colorPalette.foregroundNeutralDark.value,d=[{x1:L+V*f,x2:L+V*f,y1:0,y2:P+N,stroke:M,stroke_width:"1"}])):(f=F(s)?6*c:10*c,v=F(s)?y.width+N+f+N+b.width:f+N,w<v&&(m=(function(e,t,a,i,o,r,n,l){var s,u;o=n?(s=.6*(u=e-2*l),r.text=a,a=z.TextMeasurementService.getTailoredTextOrDefault(r,.2*u),t.width=z.TextMeasurementService.measureSvgTextWidth(r,a),r.text=o,z.TextMeasurementService.getTailoredTextOrDefault(r,.2*u)):(s=u=e-l,r.text=a,a=z.TextMeasurementService.getTailoredTextOrDefault(r,s/2),t.width=z.TextMeasurementService.measureSvgTextWidth(r,a),r.text=o,z.TextMeasurementService.getTailoredTextOrDefault(r,s/2)),i.width=z.TextMeasurementService.measureSvgTextWidth(r,o);return{gradientWidth:s,minValueString:a,minValueWidth:t.width,maxValueString:o,maxValueWidth:i.width}})(S=w,y,g,b,h,m,F(s),N),f=m.gradientWidth,g=m.minValueString,y.width=m.minValueWidth,h=m.maxValueString,b.width=m.maxValueWidth),C=F(s)?(v=y.width+N+f+N+b.width,S=8+3*c,R=8+P/2,D=y.width+N+f+N,V=O(s),L=y.width+N,x=[{text:g,text_anchor:"start",x:0,y:R,width:y.width,height:T},{text:n,text_anchor:"middle",x:L+V*f,y:8+P+N+c/2,width:l.width,height:T},{text:h,text_anchor:"start",x:D,y:R,width:b.width,height:T}],M=u.color||e.visualStyle.colorPalette.foregroundNeutralDark.value,d=[{x1:L+V*f,x2:L+V*f,y1:8,y2:8+P+N,stroke:M,stroke_width:"1"}],[{fill:"url(#legendGradient-"+e.hostService.instanceId+")",fill_opacity:"1",x:L,y:8,width:f,height:P}]):(S=16+3*c,x=[{text:g,text_anchor:"start",x:0,y:R=16+2*c,width:(v=f+N)/2,height:T},{text:h,text_anchor:"start",x:v-N-b.width,y:R,width:v/2,height:T}],[{fill:"url(#legendGradient-"+e.hostService.instanceId+")",fill_opacity:"1",x:0,y:8,width:f,height:P}]))}a.height=t?Math.max(a.height,S):a.height,a.width=t?a.width:Math.max(a.width,v)+I.LegendEdgeMariginWidth,I.updateLayout(a,e.orientation,o,r,e.parentViewport,!0),(function(t,e,a,i,o,r,n){var l,s=B.FontProperties.toTextProperties(B.Legend.getTitleFontProperties(t.data.fontProperties),t.data.title),u=[];if(e){var c=t.parentViewport.width-a.width-I.TitlePadding/2-2*I.LegendEdgeMariginWidth;l=[z.TextMeasurementService.getTailoredTextOrDefault(s,c)],u=[{dy:"0.35em",word:l[0]}],c={height:a.height,width:z.TextMeasurementService.measureSvgTextWidth(s,l[0])}}else{var p=z.TextMeasurementService.measureSvgTextHeight(s,t.data.title),n=t.parentViewport.height-a.height-n-2*I.LegendEdgeMariginWidth,n=Math.min(3,Math.floor(n/p));l=jsCommon.WordBreaker.splitByWidth(t.data.title,s,z.TextMeasurementService.measureSvgTextWidth,a.width,n,z.TextMeasurementService.getTailoredTextOrDefault,!0);for(var d=0;d<l.length;d++)u.push({dy:String(p),word:l[d]});c={height:(l.length+.5)*p,width:a.width}}a=t.data.showTitle&&!_.isEmpty(t.data.title)?[0]:[],i=i.selectAll(k.LegendTitleClassAndSelector.selector).data(a),a=i.enter().append("svg").classed(k.LegendTitleClassAndSelector.class,!0).merge(i);a.attr("height",c.height).attr("width",c.width).styles({"padding-right":I.TitlePadding/2+"px"});c=a.selectAll("text").data([0]),a=c.enter().append("text").merge(c);a.classed("flex-order-first",!0).styles(B.FontProperties.toHTMLStyle(B.Legend.getTitleFontProperties(t.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",t.data.fontProperties.color).attr("title",(function(e){return t.data.title})).attr("x",o).attr("y",r).text(null);a=a.selectAll("tspan").data(u);a.enter().append("tspan").merge(a).attr("dy",(function(e){return e.dy})).attr("x",(function(e){return 0})).text((function(e){return e.word})),a.exit().remove(),c.exit().remove(),i.exit().remove()})(e,t,{height:S,width:v},o,0,p,8);var A=(function(e,t,a,i,o){t=t.selectAll("svg").data(e),e=t.enter().append("svg").merge(t);e.attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).attrs({tabindex:0,"aria-label":o});t=e.selectAll("defs").data([0]),o=t.enter().append("defs").merge(t);o.append("linearGradient").attr("id",i);t=[{stop:0,color:a.min.color},{stop:1,color:a.max.color}];F(a)&&(i=O(a),t.splice(1,0,{stop:i,color:a.mid.color}));o=o.select("linearGradient").selectAll("stop").data(t,(function(e){return e.stop.toString()})),t=o.enter().append("stop").merge(o);return t.attr("stop-color",(function(e){return e.color})).attr("offset",(function(e){return e.stop})),t.order(),o.exit().remove(),e})([{width:v,height:S}],i,s,"legendGradient-"+e.hostService.instanceId,A);(function(e,t,a){t=t.selectAll("g.rect").data([0]),t=t.enter().append("g").classed("rect",!0).merge(t),e=t.selectAll("rect").data(e);e.enter().append("rect").merge(e).attr("fill",(function(e){return e.fill})).attr("fill-opacity",(function(e){return e.fill_opacity})).attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})),(function(e,t){t=e.selectAll("line").data(t);t.enter().append("line").merge(t).attr("x1",(function(e){return e.x1})).attr("x2",(function(e){return e.x2})).attr("y1",(function(e){return e.y1})).attr("y2",(function(e){return e.y2})).styles({stroke:function(e){return e.stroke}}).styles({"stroke-width":function(e){return e.stroke_width}}),t.exit().remove()})(t,a)})(C,A,d),(function(e,t,a){t=t.selectAll("g.text").data([0]),t=t.enter().append("g").classed("text",!0).merge(t).selectAll("text").data(e),e=t.enter().append("text").merge(t);e.text((function(e){return e.text})).attr("text-anchor",(function(e){return e.text_anchor})).attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("dy","0.35em").attr("height",(function(e){return e.height})).styles(B.FontProperties.toSVGStyle(a));e=e.selectAll("title").data((function(e){return[e.text]}));e.enter().append("title").merge(e).text((function(e){return e})),e.exit().remove(),t.exit().remove()})(x,A,u)})(t,y,p,e,L,c):(y=(w=L.selectAll(k.LegendTitleClassAndSelector.selector).data(m?[m]:[])).enter(),(y=(y=null!==(c=t.featureSwitches)&&void 0!==c&&c.onObjectFormatting?y.append("text"):y.insert("text",".clearCatcher")).classed(k.LegendTitleClassAndSelector.class,!0).merge(w)).text((function(e){return e.text})).classed("flex-order-first",!0).styles(B.FontProperties.toHTMLStyle(u)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":I.TitlePadding/2+"px",position:"relative"}).attr("title",(function(e){return a.title})),null!==(u=t.featureSwitches)&&void 0!==u&&u.onObjectFormatting&&y.attr("data-subselectable-region","legendTitle"),w.exit().remove(),w=function(e){return e.dataPoint.identity.getKey()+(null!=e.dataPoint.layerNumber?e.dataPoint.layerNumber:"")},C=_.uniqBy(C,w),C=(e=e.selectAll(k.LegendItemClassAndSelector.selector).data(C,w)).enter().append("div").classed(k.LegendItemClassAndSelector.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option"),i&&C.attr("tabindex",0),(w=C.merge(e)).attr("aria-label",(function(e){return t.hostService?e.dataPoint.label:null})).attr("aria-selected",(function(e){return v&&e.dataPoint.selected})),w.sort((function(e,t){var a=e.dataPoint,e=t.dataPoint;if(null!=a.layerNumber){e.layerNumber;t=a.layerNumber-e.layerNumber;if(0!=t)return t}return a.index-e.index})),e.exit().remove(),(e=C.append("svg").classed(k.LegendItemSvgClassAndSelector.class,!0)).append("path").classed(k.LegendIconLineClassAndSelector.class,!0),e.append("path").classed(k.LegendIconClassAndSelector.class,!0),C.append("text").classed(k.LegendItemTextClassAndSelector.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"}),T=B.ColorHelper.getThemeColor(t.visualStyle,B.LegendBehavior.dimmedLegendColorName),w.select(k.LegendItemSvgClassAndSelector.selector).attrs({height:S,width:function(e){return e.dataPoint.lineStyle?b:h}}),(e=w.select(k.LegendIconLineClassAndSelector.selector)).attrs({transform:function(e){return B.SVGUtil.translate(I.LegendIconLineTotalWidth/2,S*I.LegendIconYRatio)},d:function(e){return e.dataPoint.lineStyle?"M -"+I.LegendIconLineTotalWidth/2+" 0 L "+I.LegendIconLineTotalWidth/2+" 0":null},"stroke-width":2,fill:"none","stroke-dasharray":function(e){return e.dataPoint.lineStyle?B.LineStyle.getSrokeDashArrayForLegend(e.dataPoint.lineStyle):null}}).styles({stroke:function(e){return v&&!e.dataPoint.selected?T:e.dataPoint.lineColor}}),(C=w.select(k.LegendIconClassAndSelector.selector)).attrs({transform:function(e){return B.SVGUtil.translateAndScale((e.dataPoint.lineStyle?b:h)/2,S*I.LegendIconYRatio,g/B.Markers.defaultSize)},d:function(e){return B.Markers.getPath(e.dataPoint.markerShape||B.markerShape.circle)},"stroke-width":function(e){return B.Markers.getStrokeWidth(e.dataPoint.markerShape||B.markerShape.circle)}}).styles({fill:function(e){return v&&!e.dataPoint.selected?T:e.dataPoint.color},stroke:function(e){return v&&!e.dataPoint.selected?T:e.dataPoint.color},"stroke-linejoin":"round"}).append("title").text((function(e){return e.dataPoint.label})),w.select(k.LegendItemTextClassAndSelector.selector).text((function(e){return e.textProperties.text})).styles(s&&B.FontProperties.toHTMLStyle(s)).styles({"padding-left":I.LeftTextPadding+"px","padding-right":f-I.LeftTextPadding+"px"}).attr("title",(function(e){return e.dataPoint.label})),A({navigationArrow:N.previous,arrowPosWindow:P,arrowClassAndSelector:k.PreviousNavigationArrowClassAndSelector,legend:L,legendDataStartIndex:r,rerenderCallback:t.rerenderCallback,useLargeArrowHitArea:a.useLargeArrowHitArea,verticalLegendWidth:B.Legend.isTopOrBottom(o)?void 0:p.width,isTabbable:!!i,hostService:t.hostService}),A({navigationArrow:N.next,arrowPosWindow:P,arrowClassAndSelector:k.NextNavigationArrowClassAndSelector,legend:L,legendDataStartIndex:r,rerenderCallback:t.rerenderCallback,useLargeArrowHitArea:a.useLargeArrowHitArea,verticalLegendWidth:B.Legend.isTopOrBottom(o)?void 0:p.width,isTabbable:!!i,hostService:t.hostService}),i&&(x={legendRoot:L,legendItems:w,legendIcons:C,legendLines:e,clearCatcher:x,visualStyle:t.visualStyle},i.bind(a.dataPoints,new B.LegendBehavior,x,{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:t.isHierarchicalAxis}))),p):{width:0,height:0}}})(B.HTMLLegendRenderer||(B.HTMLLegendRenderer={})),(function(p){p.LegendIconRadius=5,p.LegendIconRadiusFactor=5,p.LegendIconLineTotalWidth=31,p.MaxTextLength=60,p.TextAndIconPadding=5,p.TitlePadding=15,p.LegendEdgeMariginWidth=10,p.LegendMaxWidthFactor=.3,p.TopLegendHeight=24,p.DefaultTextMargin=B.Legend.DefaultFontSize.pt,p.LegendIconYRatio=.52,p.BaseTextAndIconPadding=5,p.LeftTextPadding=1,p.NavArrowPadding=2;var c={arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},d={arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3};p.LegendArrowSize=10,p.LegendArrowHeight=15,p.LegendArrowWidth=7.5,p.calculateTitleLayout=function(e){var t=e.title,a=0;if(_.isEmpty(t))return null;var i,o=B.Legend.isTopOrBottom(e.orientation),r=void 0;r=o?(i=e.legendFontSizeMarginValue>p.DefaultTextMargin?p.TextAndIconPadding+e.legendFontSizeMarginDifference:p.TextAndIconPadding,n=p.TextAndIconPadding+p.LegendIconRadius,n=p.LegendIconRadius+i+n,e.parentViewport.width*p.LegendMaxWidthFactor-n-p.LegendEdgeMariginWidth+p.TitlePadding/2):e.viewport.width-p.LegendEdgeMariginWidth;var n=B.FontProperties.toTextProperties(e.fontProperties,t),t=t;return r<(a=z.TextMeasurementService.measureSvgTextWidth(n))&&(t=z.TextMeasurementService.getTailoredTextOrDefault(n,r),n.text=t,a=z.TextMeasurementService.measureSvgTextWidth(n)),o?a+=p.TitlePadding/2:t=z.TextMeasurementService.getTailoredTextOrDefault(n,e.viewport.width),{x:0,y:0,text:t,width:a,height:z.TextMeasurementService.estimateSvgTextHeight(n)}},p.updateNavigationArrowLayout=function(e,t,a,i,o){return 0===i&&(e.previous=void 0),i=o,o=a,(e.next||e.previous)&&o===t&&(o=i,e.next=void 0),o},p.calculateHorizontalNavigationArrowsLayout=function(e,t,a,i){var o,r=p.LegendArrowHeight,n=p.LegendArrowWidth,l=a.height/2-r/2,s={previous:void 0,next:void 0},u=e?e.x+e.width:0,a=B.SVGUtil.createArrow(n,r,180),e=B.SVGUtil.createArrow(n,r,0),r=0;return i.useLargeArrowHitArea&&(r=(o=c).arrowsOffset,o=o.hitAreaWidthPx),s.previous={x:u,y:l,path:a.path,rotateTransform:a.transform,type:1,arrowOffset:r||0,hitAreaWidth:o||p.LegendArrowSize},s.next={x:t.width-n,y:l,path:e.path,rotateTransform:e.transform,type:0,arrowOffset:r||0,hitAreaWidth:o||p.LegendArrowSize},s},p.calculateVerticalNavigationArrowsLayout=function(e,t,a,i){var o,r=p.LegendArrowHeight,n=p.LegendArrowWidth,l={previous:void 0,next:void 0},s=a.height/2+r/2,u=B.SVGUtil.createArrow(n,r,270),c=B.SVGUtil.createArrow(n,r,90),a=e?e.height:0,e=0;return i.useLargeArrowHitArea&&(e=(o=d).arrowsOffset,o=o.hitAreaWidthPx),l.previous={x:s,y:n+a,path:u.path,rotateTransform:u.transform,type:1,arrowOffset:e,hitAreaWidth:o},l.next={x:s,y:t.height-r,path:c.path,rotateTransform:c.transform,type:0,arrowOffset:e,hitAreaWidth:o},l},p.calculateViewport=function(e){var t=e.data;if(!B.Legend.getLegendShowFlag(t))return{height:0,width:0};switch(e.orientation){case B.LegendPosition.Top:case B.LegendPosition.Bottom:case B.LegendPosition.TopCenter:case B.LegendPosition.BottomCenter:case B.LegendPosition.TopRight:case B.LegendPosition.BottomRight:var a=t&&t.fontProperties?t.fontProperties.size.px:H.fromPointToPixel(B.Legend.DefaultFontSize.pt);return{height:p.TopLegendHeight+(a-B.Legend.DefaultFontSize.pt),width:0};case B.LegendPosition.Right:case B.LegendPosition.Left:case B.LegendPosition.RightCenter:case B.LegendPosition.LeftCenter:return{height:0,width:e.lastCalculatedWidth||e.parentViewport.width*p.LegendMaxWidthFactor}}},p.getNavigationArrowPathsData=function(e,t){return e.isHitArea=!1,e.index=Math.abs(e.arrowOffset),t?((t=Object.create(e)).isHitArea=!0,t.index++,[t,e]):[e]},p.updateLayout=function(e,t,a,i,o,r){a.styles({height:(e.height||(i?o.height:0))+"px",width:(e.width||(i?o.width:0))+"px"}),i=r?p.LegendEdgeMariginWidth:0,a.styles({"margin-left":B.Legend.isRight(t)?o.width-e.width+i+"px":null,"margin-top":B.Legend.isBottom(t)?o.height-e.height+"px":null,"margin-right":B.Legend.isLeft(t)&&r?i+"px":null})}})(I=B.LegendLayout||(B.LegendLayout={}))})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).Legend||(e.Legend={})).DefaultLabelColor="#666666",(e.LegendData||(e.LegendData={})).DefaultLegendLabelFillColor="#666666",(e=e.LabelUtils||(e.LabelUtils={})).defaultLabelColor="#777777",e.defaultInsideLabelColor="#ffffff",e.defaultLabelBackgroundColor="#000000"})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ComboChart||(e.ComboChart={})).defaultLabelBackgroundColor="#FFFFFF"})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).ActionButtonType||(t.ActionButtonType={})).blank="blank",t.leftArrow="leftArrow",t.rightArrow="rightArrow",t.back="back",t.reset="reset",t.information="information",t.help="help",t.qna="qna",t.insights="insights",t.bookmarks="bookmarks",t.custom="custom",t.type=e.createEnumType([{value:t.blank,displayName:function(e){return e.get("ReportAppBar_Blank")}},{value:t.leftArrow,displayName:function(e){return e.get("Generic_LeftArrow")}},{value:t.rightArrow,displayName:function(e){return e.get("Generic_RightArrow")}},{value:t.back,displayName:function(e){return e.get("Generic_Back")}},{value:t.reset,displayName:function(e){return e.get("Reset")}},{value:t.help,displayName:function(e){return e.get("Generic_Help")}},{value:t.information,displayName:function(e){return e.get("ReportAppBar_InfoIcon")}},{value:t.qna,displayName:function(e){return e.get("Generic_Qna")}},{value:t.bookmarks,displayName:function(e){return e.get("Generic_Bookmark")}},{value:t.custom,displayName:function(e){return e.get("Custom")}}])})(powerbi=powerbi||{}),(function(e){(e=e.visuals||(e.visuals={})).verticalAlignment={top:"top",middle:"middle",bottom:"bottom"},e.horizontalAlignment={left:"left",center:"center",right:"right"}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.anomalyMarkerShape||(t.anomalyMarkerShape={})).droplet="droplet",a.circle="circle",a.square="square",a.diamond="diamond",a.triangle="triangle",a.none="none",a.defaultValue=a.droplet,a.type=e.createEnumType([{value:a.droplet,displayName:function(e){return e.get("Visual_MarkerShape_Droplet")}},{value:a.circle,displayName:function(e){return e.get("Visual_MarkerShape_Circle")}},{value:a.square,displayName:function(e){return e.get("Visual_MarkerShape_Square")}},{value:a.diamond,displayName:function(e){return e.get("Visual_MarkerShape_Diamond")}},{value:a.triangle,displayName:function(e){return e.get("Visual_MarkerShape_Triangle")}}]),a.getPath=function(e){switch(e){case a.droplet:return"M 1.123 -0.214\n                        C 1.123 0.123 0.947 0.435 0.749 0.626\n                        L 0.139 1.275\n                        C 0.065 1.353 -0.059 1.353 -0.133 1.275\n                        L -0.743 0.626\n                        C -1.023 0.346 -1.117 0.118 -1.117 -0.214\n                        C -1.117 -0.832 -0.615 -1.333 0.003 -1.333\n                        C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case a.circle:return"M 0 0 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0";case a.square:return"M 0 0 m -1 -1 l 2 0 l 0 2 l -2 0 z";case a.diamond:return"M 0 0 m -1 0 l 1 -1 l 1 1 l -1 1 z";case a.triangle:return"M 0 0 m -1 1 l 1 -2 l 1 2 z";case a.none:return null}}})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).axisScale||(t.axisScale={})).linear="linear",t.log="log",t.type=e.createEnumType([{value:t.linear,displayName:function(e){return e.get("Visual_Axis_Linear")}},{value:t.log,displayName:function(e){return e.get("Visual_Axis_Log")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).axisStyle||(t.axisStyle={})).showBoth="showBoth",t.showTitleOnly="showTitleOnly",t.showUnitOnly="showUnitOnly",t.type=e.createEnumType([{value:t.showTitleOnly,displayName:function(e){return e.get("Visual_Axis_ShowTitleOnly")}},{value:t.showUnitOnly,displayName:function(e){return e.get("Visual_Axis_ShowUnitOnly")}},{value:t.showBoth,displayName:function(e){return e.get("Visual_Axis_ShowBoth")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).axisType||(t.axisType={})).scalar="Scalar",t.categorical="Categorical",t.both="Both",t.type=e.createEnumType([{value:t.scalar,displayName:function(e){return e.get("Visual_Axis_Scalar")}},{value:t.categorical,displayName:function(e){return e.get("Visual_Axis_Categorical")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).basicShapeType||(t.basicShapeType={})).rectangle="rectangle",t.oval="oval",t.line="line",t.arrow="arrow",t.triangle="triangle",t.arrowButton="arrowbutton",t.type=e.createEnumType([{value:t.rectangle,displayName:function(e){return e.get("ReportAppBar_ShapeRectangle")}},{value:t.oval,displayName:function(e){return e.get("ReportAppBar_ShapeOval")}},{value:t.line,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:t.arrow,displayName:function(e){return e.get("ReportAppBar_ShapeArrow")}},{value:t.triangle,displayName:function(e){return e.get("ReportAppBar_ShapeTriangle")}},{value:t.arrowButton,displayName:"arrowbutton"}])})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.BingMapTheme||(t.BingMapTheme={})).aerial="aerial",a.canvasDark="canvasDark",a.canvasLight="canvasLight",a.grayscale="grayscale",a.road="road",a.defaultTheme=a.road,a.highContrastTheme=a.canvasDark,a.type=e.createEnumType([{value:a.aerial,displayName:function(e){return e.get("Visual_MapThemeAerial")}},{value:a.canvasDark,displayName:function(e){return e.get("Visual_MapThemeDark")}},{value:a.canvasLight,displayName:function(e){return e.get("Visual_MapThemeLight")}},{value:a.grayscale,displayName:function(e){return e.get("Visual_MapThemeGrayScale")}},{value:a.road,displayName:function(e){return e.get("Visual_MapThemeRoad")}}]),a.useDarkButtonTheme=function(e){return e===a.aerial||e===a.canvasDark}})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).BingMapHeatMapUnit||(t.BingMapHeatMapUnit={})).pixels="pixels",t.meters="meters",t.defaultUnit=t.pixels,t.maxRadiusPixels=200,t.maxRadiusMeters=4e6,t.type=e.createEnumType([{value:t.pixels,displayName:function(e){return e.get("Generic_Pixels")}},{value:t.meters,displayName:function(e){return e.get("Visual_MapUnitMeters")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).binType||(t.binType={})).numOfBins="Number of bins",t.binSize="Bin size",t.type=e.createEnumType([{value:t.numOfBins,displayName:function(e){return e.get("BinsDialog_ModeByCount")}},{value:t.binSize,displayName:function(e){return e.get("BinsDialog_ModeBySize")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).confidenceBandStyle||(t.confidenceBandStyle={})).fill="fill",t.line="line",t.none="none",t.type=e.createEnumType([{value:t.fill,displayName:function(e){return e.get("Visual_Confidence_Band_Style_Fill")}},{value:t.line,displayName:function(e){return e.get("Visual_Confidence_Band_Style_Line")}},{value:t.none,displayName:function(e){return e.get("None")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).donutLabelBackground||(t.donutLabelBackground={})).auto="auto",t.on="on",t.off="off",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_Auto")}},{value:t.on,displayName:function(e){return e.get("ToggleSwitchOn")}},{value:t.off,displayName:function(e){return e.get("ToggleSwitchOff")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).donutLabelPosition||(t.donutLabelPosition={})).outside="outside",t.inside="inside",t.preferOutside="preferOutside",t.preferInside="preferInside",t.type=e.createEnumType([{value:t.outside,displayName:function(e){return e.get("Visual_DonutLabelPosition_Outside")}},{value:t.inside,displayName:function(e){return e.get("Visual_DonutLabelPosition_Inside")}},{value:t.preferOutside,displayName:function(e){return e.get("Visual_DonutLabelPosition_PreferOutside")}},{value:t.preferInside,displayName:function(e){return e.get("Visual_DonutLabelPosition_PreferInside")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).errorBarEndStyle||(t.errorBarEndStyle={})).cap="cap",t.dot="dot",t.none="none",t.defaultValue=t.cap,t.type=e.createEnumType([{value:t.cap,displayName:function(e){return e.get("Visual_Error_Cap")}},{value:t.dot,displayName:function(e){return e.get("Visual_Error_Dot")}},{value:t.none,displayName:function(e){return e.get("None")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).errorFormat||(t.errorFormat={})).absolute="absolute",t.relativeNumeric="relativeNumeric",t.relativePercentage="relativePercentage",t.type=e.createEnumType([{value:t.absolute,displayName:function(e){return e.get("Visual_Absolute")}},{value:t.relativeNumeric,displayName:function(e){return e.get("Visual_RelativeNumeric")}},{value:t.relativePercentage,displayName:function(e){return e.get("Visual_RelativePercentage")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).fillStyle||(t.fillStyle={})).fillOnly="Fill only",t.borderOnly="Border only",t.style=e.createEnumType([{value:t.fillOnly,displayName:function(e){return e.get("Visual_FillStyle_Fill")}},{value:t.borderOnly,displayName:function(e){return e.get("Visual_FillStyle_Border")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).forecastConfidenceIntervals||(t.forecastConfidenceIntervals={})).ninetyNine="99%",t.ninetyFive="95%",t.ninety="90%",t.eightyFive="85%",t.eighty="80%",t.seventyfive="75%",t.type=e.createEnumType([{value:t.ninetyNine,displayName:function(){return"99%"}},{value:t.ninetyFive,displayName:function(){return"95%"}},{value:t.ninety,displayName:function(){return"90%"}},{value:t.eightyFive,displayName:function(){return"85%"}},{value:t.eighty,displayName:function(){return"80%"}},{value:t.seventyfive,displayName:function(){return"75%"}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).forecastUnits||(t.forecastUnits={})).year="year",t.quarter="quarter",t.month="month",t.day="day",t.hour="hour",t.minute="minute",t.second="second",t.point="point",t.type=e.createEnumType([{value:t.year,displayName:function(e){return e.get("TimeUnit_Years")}},{value:t.quarter,displayName:function(e){return e.get("TimeUnit_Quarters")}},{value:t.month,displayName:function(e){return e.get("TimeUnit_Months")}},{value:t.day,displayName:function(e){return e.get("TimeUnit_Days")}},{value:t.hour,displayName:function(e){return e.get("TimeUnit_Hours")}},{value:t.minute,displayName:function(e){return e.get("TimeUnit_Minutes")}},{value:t.second,displayName:function(e){return e.get("TimeUnit_Seconds")}},{value:t.point,displayName:function(e){return e.get("Visual_Forecast_Units_Point")}}])})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.funnelLabelStyle||(t.funnelLabelStyle={})).flagLabelStyleData=2,a.flagLabelStylePercentOfFirst=4,a.flagLabelStylePercentOfPrevious=8,(t=a.labelStyleFlagEnum||(a.labelStyleFlagEnum={}))[t.data=a.flagLabelStyleData]="data",t[t.percentOfFirst=a.flagLabelStylePercentOfFirst]="percentOfFirst",t[t.percentOfPrevious=a.flagLabelStylePercentOfPrevious]="percentOfPrevious",t[t.dataAndPercentOfFirst=a.flagLabelStyleData|a.flagLabelStylePercentOfFirst]="dataAndPercentOfFirst",t[t.dataAndPercentOfPrevious=a.flagLabelStyleData|a.flagLabelStylePercentOfPrevious]="dataAndPercentOfPrevious",a.data="Data",a.percentOfFirst="Percent of first",a.percentOfPrevious="Percent of previous",a.dataAndPercentOfFirst="Data, percent of first",a.dataAndPercentOfPrevious="Data, percent of previous",a.type=e.createEnumType([{value:a.data,displayName:function(e){return e.get("Visual_LabelStyle_DataValue")}},{value:a.percentOfFirst,displayName:function(e){return e.get("Funnel_PercentOfFirst")}},{value:a.percentOfPrevious,displayName:function(e){return e.get("Funnel_PercentOfPrevious")}},{value:a.dataAndPercentOfFirst,displayName:function(e){return e.get("Visual_LabelStyle_DataAndPercentOfFirst")}},{value:a.dataAndPercentOfPrevious,displayName:function(e){return e.get("Visual_LabelStyle_DataAndPercentOfPrevious")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).GeocodingCulture||(t.GeocodingCulture={})).Default="",t.JA="ja",t.type=e.createEnumType([{value:t.Default,displayName:function(e){return e.get("Visual_Auto")}},{value:t.JA,displayName:function(e){return e.get("Visual_MapGeocodingCulture_JA")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).gridLineType||(t.gridLineType={})).inner="inner",t.innerHorizontal="innerHorizontal",t.innerVertical="innerVertical",t.all="all",t.none="none",t.type=e.createEnumType([{value:t.all,displayName:function(e){return e.get("All")},icon:{glyph:"border-all"}},{value:t.inner,displayName:function(e){return e.get("Border_Grid_Line_Type_Inner")},icon:{glyph:"border-inside"}},{value:t.innerHorizontal,displayName:function(e){return e.get("Border_Grid_Line_Type_Inner_Horizontal")},icon:{glyph:"border-inside-horizontal"}},{value:t.innerVertical,displayName:function(e){return e.get("Border_Grid_Line_Type_Inner_Vertical")},icon:{glyph:"border-inside-vertical"}},{value:t.none,displayName:function(e){return e.get("None")},icon:{glyph:"border-none"}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).horizontalPosition||(t.horizontalPosition={})).left="left",t.center="center",t.right="right",t.type=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:t.center,displayName:function(e){return e.get("Visual_TextAlignment_Center")}},{value:t.right,displayName:function(e){return e.get("Visual_TextAlignment_Right")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).iconPlacement||(t.iconPlacement={})).custom="custom",t.left="left",t.right="right",t.above="above",t.below="below",t.type=e.createEnumType([{value:t.custom,displayName:function(e){return e.get("Custom")}},{value:t.left,displayName:function(e){return e.get("Visual_IconPlacement_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_IconPlacement_Right")}},{value:t.above,displayName:function(e){return e.get("Visual_IconPlacement_Above")}},{value:t.below,displayName:function(e){return e.get("Visual_IconPlacement_Below")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).imageScalingType||(t.imageScalingType={})).normal="Normal",t.fit="Fit",t.fill="Fill",t.type=e.createEnumType([{value:t.normal,displayName:function(e){return e.get("Normal")}},{value:t.fit,displayName:function(e){return e.get("Visual_ImageScalingType_Fit")}},{value:t.fill,displayName:function(e){return e.get("Visual_ImageScalingType_Fill")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriverAnalysis||(t.keyDriverAnalysis={})).keyInfluencers="keyInfluencers",t.topProfiles="topProfiles",t.type=e.createEnumType([{value:t.keyInfluencers,displayName:function(){return"keyInfluencers"}},{value:t.topProfiles,displayName:function(){return"topProfiles"}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriversCount||(t.keyDriversCount={})).absolute="absolute",t.relative="relative",t.type=e.createEnumType([{value:t.absolute,displayName:function(e){return e.get("Visual_Absolute")}},{value:t.relative,displayName:function(e){return e.get("Visual_Relative")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriversNumericAnalysis||(t.keyDriversNumericAnalysis={})).continuous="Continuous",t.categorical="Categorical",t.type=e.createEnumType([{value:t.continuous,displayName:function(e){return e.get("Visual_Axis_Scalar")}},{value:t.categorical,displayName:function(e){return e.get("Visual_Axis_Categorical")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriversSort||(t.keyDriversSort={})).impact="impact",t.count="count",t.type=e.createEnumType([{value:t.impact,displayName:function(e){return e.get("KeyDriver_SortType_Impact")}},{value:t.count,displayName:function(e){return e.get("KeyDriver_SortType_Count")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).kpiDirection||(t.kpiDirection={})).positive="Positive",t.negative="Negative",t.type=e.createEnumType([{value:t.positive,displayName:function(e){return e.get("Visual_KPI_Direction_Positive")}},{value:t.negative,displayName:function(e){return e.get("Visual_KPI_Direction_Negative")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).kpiDistanceDirection||(t.kpiDistanceDirection={})).positive="High is good",t.negative="Low is good",t.type=e.createEnumType([{value:t.positive,displayName:function(e){return e.get("Visual_KPI_DistanceDirection_Positive")}},{value:t.negative,displayName:function(e){return e.get("Visual_KPI_DistanceDirection_Negative")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).kpiDistanceLabel||(t.kpiDistanceLabel={})).value="Value",t.percent="Percent",t.both="Value, percent",t.type=e.createEnumType([{value:t.value,displayName:function(e){return e.get("Visual_LabelText_Value")}},{value:t.percent,displayName:function(e){return e.get("ConditionalFormattingDialog_Percent")}},{value:t.both,displayName:function(e){return e.get("Visual_LabelStyle_Both")}}])})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).labelOrientation||(t.labelOrientation={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Visual_LabelOrientation_Vertical")}},{value:1,displayName:function(e){return e.get("Visual_LabelOrientation_Horizontal")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).labelPosition||(t.labelPosition={})).auto="Auto",t.insideEnd="InsideEnd",t.insideCenter="InsideCenter",t.outsideEnd="OutsideEnd",t.insideBase="InsideBase",t.above="Above",t.under="Under",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_Auto")}},{value:t.insideEnd,displayName:function(e){return e.get("Visual_LabelPosition_InsideEnd")}},{value:t.outsideEnd,displayName:function(e){return e.get("Visual_LabelPosition_OutsideEnd")}},{value:t.insideCenter,displayName:function(e){return e.get("Visual_LabelPosition_InsideCenter")}},{value:t.insideBase,displayName:function(e){return e.get("Visual_LabelPosition_InsideBase")}},{value:t.above,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Above")}},{value:t.under,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Under")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).labelSeriesPosition||(t.labelSeriesPosition={})).left="Left",t.right="Right",t.type=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_yAxis_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_yAxis_Right")}}])})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.labelStyle||(t.labelStyle={})).flagLabelStyleCategory=2,a.flagLabelStyleData=4,a.flagLabelStylePercent=8,(t=a.labelStyleFlagEnum||(a.labelStyleFlagEnum={}))[t.category=a.flagLabelStyleCategory]="category",t[t.data=a.flagLabelStyleData]="data",t[t.percent=a.flagLabelStylePercent]="percent",t[t.categoryAndData=a.flagLabelStyleCategory|a.flagLabelStyleData]="categoryAndData",t[t.categoryAndPercent=a.flagLabelStyleCategory|a.flagLabelStylePercent]="categoryAndPercent",t[t.dataAndPercent=a.flagLabelStyleData|a.flagLabelStylePercent]="dataAndPercent",t[t.categoryAndDataAndPercent=a.flagLabelStyleCategory|a.flagLabelStyleData|a.flagLabelStylePercent]="categoryAndDataAndPercent",a.category="Category",a.data="Data",a.percent="Percent of total",a.categoryAndData="Both",a.categoryAndPercent="Category, percent of total",a.dataAndPercent="Data value, percent of total",a.categoryAndDataAndPercent="Category, data value, percent of total",a.type=e.createEnumType([{value:a.category,displayName:function(e){return e.get("Visual_LabelStyle_Category")}},{value:a.data,displayName:function(e){return e.get("Visual_LabelStyle_DataValue")}},{value:a.percent,displayName:function(e){return e.get("Visual_LabelStyle_Percent")}},{value:a.categoryAndData,displayName:function(e){return e.get("Visual_LabelStyle_CategoryAndData")}},{value:a.categoryAndPercent,displayName:function(e){return e.get("Visual_LabelStyle_CategoryAndPercent")}},{value:a.dataAndPercent,displayName:function(e){return e.get("Visual_LabelStyle_DataAndPercent")}},{value:a.categoryAndDataAndPercent,displayName:function(e){return e.get("Visual_LabelStyle_CategoryAndDataAndPercent")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).labelText||(t.labelText={})).value="Value",t.name="Name",t.nameAndValue="ValueAndName",t.type=e.createEnumType([{value:t.value,displayName:function(e){return e.get("Visual_LabelStyle_DataValue")}},{value:t.name,displayName:function(e){return e.get("Name")}},{value:t.nameAndValue,displayName:function(e){return e.get("Visual_LabelStyle_Both")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).legendMarkerRendering||(t.legendMarkerRendering={})).markerOnly="markerOnly",t.lineAndMarker="lineAndMarker",t.lineOnly="lineOnly",t.markerCircleDefault="markerCircleDefault",t.type=e.createEnumType([{value:t.markerCircleDefault,displayName:function(e){return e.get("MarkerCircleDefault")}},{value:t.markerOnly,displayName:function(e){return e.get("Marker")}},{value:t.lineOnly,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:t.lineAndMarker,displayName:function(e){return e.get("Visual_LegendLineAndMarker")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).legendPosition||(t.legendPosition={})).top="Top",t.bottom="Bottom",t.left="Left",t.right="Right",t.topCenter="TopCenter",t.bottomCenter="BottomCenter",t.leftCenter="LeftCenter",t.rightCenter="RightCenter",t.topRight="TopRight",t.bottomRight="BottomRight",t.type=e.createEnumType([{value:t.top,displayName:function(e){return e.get("Visual_LabelPosition_TopLeft")}},{value:t.topCenter,displayName:function(e){return e.get("Visual_LabelPosition_TopCenter")}},{value:t.topRight,displayName:function(e){return e.get("Visual_LabelPosition_TopRight")}},{value:t.left,displayName:function(e){return e.get("Visual_LegendPosition_TopLeftStacked")}},{value:t.right,displayName:function(e){return e.get("Visual_LegendPosition_TopRightStacked")}},{value:t.leftCenter,displayName:function(e){return e.get("Visual_LegendPosition_LeftCenter")}},{value:t.rightCenter,displayName:function(e){return e.get("Visual_LegendPosition_RightCenter")}},{value:t.bottom,displayName:function(e){return e.get("Visual_LabelPosition_BottomLeft")}},{value:t.bottomCenter,displayName:function(e){return e.get("Visual_LabelPosition_BottomCenter")}},{value:t.bottomRight,displayName:function(e){return e.get("Visual_LabelPosition_BottomRight")}}])})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).linecapTypeEnum=e.createEnumType([{value:"flat",displayName:function(e){return e.get("Visual_StrokeCap_Flat")}},{value:"round",displayName:function(e){return e.get("Visual_StrokeLineJoin_Round")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).lineStyle||(t.lineStyle={})).dashed="dashed",t.solid="solid",t.dotted="dotted",t.type=e.createEnumType([{value:t.dashed,displayName:function(e){return e.get("Visual_LineStyle_Dashed")}},{value:t.solid,displayName:function(e){return e.get("Visual_LineStyle_Solid")}},{value:t.dotted,displayName:function(e){return e.get("Visual_LineStyle_Dotted")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).markerShape||(t.markerShape={})).circle="circle",t.square="square",t.diamond="diamond",t.triangle="triangle",t.x="x",t.shortDash="shortDash",t.longDash="longDash",t.plus="plus",t.upperErrorBar="upperErrorBar",t.lowerErrorBar="lowerErrorBar",t.none="none",t.defaultValue=t.circle,t.type=e.createEnumType([{value:t.circle,displayName:function(e){return e.get("Visual_MarkerShape_Circle")}},{value:t.square,displayName:function(e){return e.get("Visual_MarkerShape_Square")}},{value:t.diamond,displayName:function(e){return e.get("Visual_MarkerShape_Diamond")}},{value:t.triangle,displayName:function(e){return e.get("Visual_MarkerShape_Triangle")}},{value:t.x,displayName:function(e){return e.get("Visual_MarkerShape_X")}},{value:t.shortDash,displayName:function(e){return e.get("Visual_MarkerShape_ShortDash")}},{value:t.longDash,displayName:function(e){return e.get("Visual_MarkerShape_LongDash")}},{value:t.plus,displayName:function(e){return e.get("Visual_MarkerShape_Plus")}}])})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).navigatorOrientation||(t.navigatorOrientation={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Visual_Grid")}},{value:1,displayName:function(e){return e.get("Slicer_Orientation_Vertical")}},{value:2,displayName:function(e){return e.get("Slicer_Orientation_Horizontal")}}])})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.outline||(t.outline={})).none="None",a.bottomOnly="BottomOnly",a.topOnly="TopOnly",a.leftOnly="LeftOnly",a.rightOnly="RightOnly",a.topBottom="TopBottom",a.leftRight="LeftRight",a.frame="Frame",a.showTop=function(t){return"number"==typeof t?!!(1&t):[a.topOnly,a.topBottom,a.frame].some((function(e){return e===t}))},a.showRight=function(t){return"number"==typeof t?!!(2&t):[a.rightOnly,a.leftRight,a.frame].some((function(e){return e===t}))},a.showBottom=function(t){return"number"==typeof t?!!(4&t):[a.bottomOnly,a.topBottom,a.frame].some((function(e){return e===t}))},a.showLeft=function(t){return"number"==typeof t?!!(8&t):[a.leftOnly,a.leftRight,a.frame].some((function(e){return e===t}))},a.flagsEnumerationType=e.createEnumType([{value:1,displayName:function(e){return e.get("Top")}},{value:4,displayName:function(e){return e.get("Bottom")}},{value:8,displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:2,displayName:function(e){return e.get("Visual_TextAlignment_Right")}}]),a.type=e.createEnumType([{value:a.none,displayName:function(e){return e.get("None")}},{value:a.bottomOnly,displayName:function(e){return e.get("Visual_Outline_bottom_only")}},{value:a.topOnly,displayName:function(e){return e.get("Visual_Outline_top_only")}},{value:a.leftOnly,displayName:function(e){return e.get("Visual_Outline_LeftOnly")}},{value:a.rightOnly,displayName:function(e){return e.get("Visual_Outline_RightOnly")}},{value:a.topBottom,displayName:function(e){return e.get("Visual_Outline_top_Bottom")}},{value:a.leftRight,displayName:function(e){return e.get("Visual_Outline_leftRight")}},{value:a.frame,displayName:function(e){return e.get("Visual_Outline_frame")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLinePosition||(t.referenceLinePosition={})).back="back",t.front="front",t.type=e.createEnumType([{value:t.back,displayName:function(e){return e.get("Visual_Reference_Line_Behind")}},{value:t.front,displayName:function(e){return e.get("Visual_Reference_Line_InFront")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLineDataLabelHorizontalPosition||(t.referenceLineDataLabelHorizontalPosition={})).left="left",t.right="right",t.type=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Right")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLineDataLabelVerticalPosition||(t.referenceLineDataLabelVerticalPosition={})).above="above",t.under="under",t.type=e.createEnumType([{value:t.above,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Above")}},{value:t.under,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Under")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLineShadeRegion||(t.referenceLineShadeRegion={})).before="before",t.after="after",t.none="none",t.type=e.createEnumType([{value:t.before,displayName:function(e){return e.get("Visual_Before")}},{value:t.after,displayName:function(e){return e.get("Visual_After")}},{value:t.none,displayName:function(e){return e.get("None")}}])})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=t.relativeSlicerPeriod||(t.relativeSlicerPeriod={}),i=e.data.RelativeDateUnit,a.none="None",a.seconds="Seconds",a.minutes="Minutes",a.hours="Hours",a.days="Days",a.weeks="Weeks",a.calendarWeeks="Calendar Weeks",a.months="Months",a.calendarMonths="Calendar Months",a.years="Years",a.calendarYears="Calendar Years",a.typeDate=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.days,displayName:function(e){return e.get("TimeUnit_Days")}},{value:a.weeks,displayName:function(e){return e.get("TimeUnit_Weeks")}},{value:a.calendarWeeks,displayName:function(e){return e.get("Visual_SlicerPeriod_CalWeeks")}},{value:a.months,displayName:function(e){return e.get("TimeUnit_Months")}},{value:a.calendarMonths,displayName:function(e){return e.get("Visual_SlicerPeriod_CalMonths")}},{value:a.years,displayName:function(e){return e.get("TimeUnit_Years")}},{value:a.calendarYears,displayName:function(e){return e.get("Visual_SlicerPeriod_CalYears")}}]),a.typeTime=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.minutes,displayName:function(e){return e.get("TimeUnit_Minutes")}},{value:a.hours,displayName:function(e){return e.get("TimeUnit_Hours")}}]),a.typeDateCurrent=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.days,displayName:function(e){return e.get("TimeUnit_Day")}},{value:a.weeks,displayName:function(e){return e.get("TimeUnit_Week")}},{value:a.months,displayName:function(e){return e.get("TimeUnit_Month")}},{value:a.years,displayName:function(e){return e.get("TimeUnit_Year")}}]),a.typeTimeCurrent=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.minutes,displayName:function(e){return e.get("TimeUnit_Minute")}},{value:a.hours,displayName:function(e){return e.get("TimeUnit_Hour")}}]),a.toString=function(e){if(null==e)return null;switch(e){case i.Second:return a.seconds;case i.Minute:return a.minutes;case i.Hour:return a.hours;case i.Day:return a.days;case i.Week:return a.weeks;case i.CalendarWeek:return a.calendarWeeks;case i.Month:return a.months;case i.CalendarMonth:return a.calendarMonths;case i.Year:return a.years;case i.CalendarYear:return a.calendarYears;default:return}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=t.relativeSlicerRelativeQualifier||(t.relativeSlicerRelativeQualifier={}),i=e.data.RelativeDateQualifier,a.last="Last",a.next="Next",a.current="This",a.type=e.createEnumType([{value:a.last,displayName:function(e){return e.get("Visual_SlicerRange_Last")}},{value:a.next,displayName:function(e){return e.get("Visual_SlicerRange_Next")}},{value:a.current,displayName:function(e){return e.get("Visual_SlicerRange_This")}}]),a.toString=function(e){if(null==e)return null;switch(e){case i.Last:return a.last;case i.Current:return a.current;case i.Next:return a.next;default:return}}})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).rowSubtotalPosition||(t.rowSubtotalPosition={})).top="Top",t.bottom="Bottom",t.type=e.createEnumType([{value:t.top,displayName:function(e){return e.get("Top")}},{value:t.bottom,displayName:function(e){return e.get("Bottom")}}])})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(t=(a=t.ShapeMapType||(t.ShapeMapType={})).Role||(a.Role={})).category="Category",t.series="Series",t.tooltips="Tooltips",t.value="Value",(a=a.Projection||(a.Projection={})).albersUsa="albersUsa",a.equirectangular="equirectangular",a.mercator="mercator",a.orthographic="orthographic",a.type=e.createEnumType([{value:a.albersUsa,displayName:function(e){return e.get("Visual_ShapeMap_Projection_AlbersUsa")}},{value:a.equirectangular,displayName:function(e){return e.get("Visual_ShapeMap_Projection_Equirectangular")}},{value:a.mercator,displayName:function(e){return e.get("Visual_ShapeMap_Projection_Mercator")}},{value:a.orthographic,displayName:function(e){return e.get("Visual_ShapeMap_Projection_Orthographic")}}])})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=t.shapeType||(t.shapeType={}),(t=i=a.shape||(a.shape={})).Arrow="arrow",t.ArrowChevron="arrowChevron",t.ArrowPentagon="arrowPentagon",t.Heart="heart",t.Hexagon="hexagon",t.Line="line",t.Octagon="octagon",t.Oval="oval",t.Parallelogram="parallelogram",t.Pentagon="pentagon",t.Pill="pill",t.Rectangle="rectangle",t.RectangleRounded="rectangleRounded",t.TabCutCorner="tabCutCorner",t.TabCutTopCorners="tabCutTopCorners",t.TabRoundCorner="tabRoundCorner",t.TabRoundTopCorners="tabRoundTopCorners",t.Speechbubble="speechbubbleRectangle",t.Trapezoid="trapezoid",t.TriangleIsoc="triangleIsoc",t.TriangleRight="triangleRight",a.type=e.createEnumType([{value:i.Arrow,displayName:function(e){return e.get("ReportAppBar_ShapeArrow")}},{value:i.ArrowChevron,displayName:function(e){return e.get("Visual_Shape_ArrowChevron")}},{value:i.ArrowPentagon,displayName:function(e){return e.get("Visual_Shape_ArrowPentagon")}},{value:i.Heart,displayName:function(e){return e.get("Visual_Shape_Heart")}},{value:i.Hexagon,displayName:function(e){return e.get("Visual_Shape_Hexagon")}},{value:i.Line,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:i.Octagon,displayName:function(e){return e.get("Visual_Shape_Octagon")}},{value:i.Oval,displayName:function(e){return e.get("ReportAppBar_ShapeOval")}},{value:i.Parallelogram,displayName:function(e){return e.get("Visual_Shape_Parallelogram")}},{value:i.Pentagon,displayName:function(e){return e.get("Visual_Shape_Pentagon")}},{value:i.Pill,displayName:function(e){return e.get("Visual_Shape_Pill")}},{value:i.Rectangle,displayName:function(e){return e.get("ReportAppBar_ShapeRectangle")}},{value:i.RectangleRounded,displayName:function(e){return e.get("Visual_Shape_RectangleRounded")}},{value:i.TabCutCorner,displayName:function(e){return e.get("Visual_Shape_TabCutCorner")}},{value:i.TabCutTopCorners,displayName:function(e){return e.get("Visual_Shape_TabCutTopCorners")}},{value:i.TabRoundCorner,displayName:function(e){return e.get("Visual_Shape_TabRoundCorner")}},{value:i.TabRoundTopCorners,displayName:function(e){return e.get("Visual_Shape_TabRoundTopCorners")}},{value:i.Speechbubble,displayName:function(e){return e.get("Visual_Shape_SpeechBubble")}},{value:i.Trapezoid,displayName:function(e){return e.get("Visual_Shape_Trapezoid")}},{value:i.TriangleIsoc,displayName:function(e){return e.get("Visual_Shape_TriangleIsoc")}},{value:i.TriangleRight,displayName:function(e){return e.get("Visual_Shape_TriangleRight")}}])})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).slicerExpandCollapseToggle||(t.slicerExpandCollapseToggle={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Icon_Chevron")}},{value:1,displayName:function(e){return e.get("Icon_PlusMinus")}},{value:2,displayName:function(e){return e.get("Icon_Caret")}}])})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),i=e.data.RelativeFilterType,(a=t.slicerMode||(t.slicerMode={})).before="Before",a.after="After",a.between="Between",a.basic="Basic",a.dropdown="Dropdown",a.relativeDate="Relative",a.single="Single",a.relativeTime="RelativeTime",a.type=e.createEnumType([{value:a.between,displayName:function(e){return e.get("Visual_SliderMode_Between")}},{value:a.before,displayName:function(e){return e.get("Visual_Before")}},{value:a.after,displayName:function(e){return e.get("Visual_After")}},{value:a.basic,displayName:function(e){return e.get("Visual_SliderMode_Basic")}},{value:a.dropdown,displayName:function(e){return e.get("Visual_SliderMode_Dropdown")}},{value:a.relativeDate,displayName:function(e){return e.get("Visual_SliderMode_RelativeDate")}},{value:a.single,displayName:function(e){return e.get("Visual_SliderMode_SingleVal")}},{value:a.relativeTime,displayName:function(e){return e.get("Visual_SliderMode_RelativeTime")}}]),a.isRangeSlicerMode=function(e){return e===a.before||e===a.between||e===a.after||e===a.single},a.slicerModeSupportsMinMax=function(e){return e===a.before||e===a.between||e===a.after},a.isRelativeSlicer=function(e){return e===a.relativeDate||e===a.relativeTime},a.convertModeToRelativeFilterType=function(e){switch(e){case a.relativeTime:return i.Time;case a.relativeDate:return i.Date}}})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).slicerOrientation||(t.slicerOrientation={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Slicer_Orientation_Vertical")}},{value:1,displayName:function(e){return e.get("Slicer_Orientation_Horizontal")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).smallMultiplesLayout||(t.smallMultiplesLayout={})).auto="auto",t.custom="custom",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_Auto")}},{value:t.custom,displayName:function(e){return e.get("Custom")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).sparklineChartType||(t.sparklineChartType={})).line="line",t.column="column",t.type=e.createEnumType([{value:t.line,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:t.column,displayName:function(e){return e.get("Column")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).sparklineMarkerType||(t.sparklineMarkerType={})).all=1,t.highest=2,t.lowest=4,t.first=8,t.last=16,t.negative=32,t.isolated=128,t.type=e.createEnumType([{value:t.all,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_All")}},{value:t.highest,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Highest")}},{value:t.lowest,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Lowest")}},{value:t.first,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_First")}},{value:t.last,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Last")}},{value:t.negative,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Negative")}},{value:t.isolated,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Isolated")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).SpeechBubbleTailPosition||(t.SpeechBubbleTailPosition={})).BottomLeft="bottomLeft",t.BottomRight="bottomRight",t.RightDown="rightDown",t.RightUp="rightUp",t.TopRight="topRight",t.TopLeft="topLeft",t.LeftUp="leftUp",t.LeftDown="leftDown",t.type=e.createEnumType([{value:t.BottomLeft,displayName:function(e){return e.get("Visual_LabelPosition_BottomLeft")}},{value:t.BottomRight,displayName:function(e){return e.get("Visual_LabelPosition_BottomRight")}},{value:t.RightDown,displayName:function(e){return e.get("Visual_Shape_ChatPosition_RightDown")}},{value:t.RightUp,displayName:function(e){return e.get("Visual_Shape_ChatPosition_RightUp")}},{value:t.TopRight,displayName:function(e){return e.get("Visual_LabelPosition_TopRight")}},{value:t.TopLeft,displayName:function(e){return e.get("Visual_LabelPosition_TopLeft")}},{value:t.LeftUp,displayName:function(e){return e.get("Visual_Shape_ChatPosition_LeftUp")}},{value:t.LeftDown,displayName:function(e){return e.get("Visual_Shape_ChatPosition_LeftDown")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).standardGeoJson||(t.standardGeoJson={})).australiaStates="australia.states.topo",t.austriaStates="austria.states.topo",t.brazilStates="brazil.states.topo",t.canadaProvinces="canada.provinces.topo",t.franceRegionsV2="france.regions.v2.topo",t.germanyStates="germany.states.topo",t.irelandCounties="ireland.counties.topo",t.italyRegions="italy.regions.topo",t.mexicoStates="mexico.states.topo",t.netherlandsProvinces="netherlands.provinces.topo",t.ukCountries="uk.countries.topo",t.usaStates="usa.states.topo",t.franceRegions="france.regions.topo",t.type=e.createEnumType([{value:t.australiaStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_AustraliaStates")}},{value:t.austriaStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_AustriaStates")}},{value:t.brazilStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_BrazilStates")}},{value:t.canadaProvinces,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")}},{value:t.franceRegionsV2,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_FranceRegions")}},{value:t.franceRegions,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")}},{value:t.germanyStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_GermanyStates")}},{value:t.irelandCounties,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_IrelandCounties")}},{value:t.italyRegions,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_ItalyRegions")}},{value:t.mexicoStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_MexicoStates")}},{value:t.netherlandsProvinces,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")}},{value:t.ukCountries,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_UkCountries")}},{value:t.usaStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_UsaStates")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).strokeLineJoin||(t.strokeLineJoin={})).miter="miter",t.round="round",t.bevel="bevel",t.defaultValue=t.round,t.type=e.createEnumType([{value:t.miter,displayName:function(e){return e.get("Visual_StrokeLineJoin_Miter")}},{value:t.round,displayName:function(e){return e.get("Visual_StrokeLineJoin_Round")}},{value:t.bevel,displayName:function(e){return e.get("Visual_StrokeLineJoin_Bevel")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).textAlignment||(t.textAlignment={})).auto="Auto",t.left="Left",t.center="Center",t.right="Right",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_TextAlignment_Auto")}},{value:t.left,displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:t.center,displayName:function(e){return e.get("Visual_TextAlignment_Center")}},{value:t.right,displayName:function(e){return e.get("Visual_TextAlignment_Right")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).verticalPosition||(t.verticalPosition={})).top="top",t.bottom="bottom",t.type=e.createEnumType([{value:t.top,displayName:function(e){return e.get("Top")}},{value:t.bottom,displayName:function(e){return e.get("Bottom")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).yAxisPosition||(t.yAxisPosition={})).left="Left",t.right="Right",t.type=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_yAxis_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_yAxis_Right")}}])})(powerbi=powerbi||{}),(function(e){!(function(e){var t;(a=t=e.AnimatorCommon||(e.AnimatorCommon={})).MinervaAnimationDuration=250,a.MaxDataPointsToAnimate=1e3,a.GetAnimationDuration=function(e,t){return t||!e?0:e.getDuration()};var a=(i.prototype.getDuration=function(){return this.animationDuration},i.prototype.animate=function(e){return null},i.prototype.getEasing=function(){return d3.easeCubicInOut},i);function i(e){e&&e.duration&&(this.animationDuration=e.duration),this.animationDuration=0<=this.animationDuration?this.animationDuration:t.MinervaAnimationDuration}e.BaseAnimator=a})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(re){var ne,le,e,l,se,ue,p;ne=re.visuals||(re.visuals={}),l=re.data.CompiledDataViewMapping,se=re.data.DataRoleHelper,ue=re.DataViewObject,p=re.data.Selector,ne.AnomalyDetectionColumns={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},(e=le=ne.AnomalyDetectionObjectConstants||(ne.AnomalyDetectionObjectConstants={})).capabilityObjectName="anomalyDetection",e.dataPointObjectName="anomaly",e.isAnomalyHighlighted="isAnomalyHighlighted",e.sensitivitySliceName="sensitivity",e.transformParameterSensitivityName="Sensitivity",e.explainByPropertyName="explainBy",ne.referenceLineObjectName="referenceLine",ne.categoryAxisName="categoryAxis",ne.axisTypeName="axisType",ne.scalarName="Scalar",ne.AnomalyDetectionOutputRoles=_.mapValues(ne.AnomalyDetectionColumns,(function(e){return le.capabilityObjectName+"."+e})),(e=ne.AnomalyDetectionTransformConstants||(ne.AnomalyDetectionTransformConstants={})).transformPluginName="SampleAndDetectAnomaly",e.transformPropertyName="transform",e.transformParameterSampleCountName="SampleSizePerSeries",e.defaultSensitivityValue=.7,e.transformProperty={objectName:le.capabilityObjectName,propertyName:e.transformPropertyName},e.showProperty={objectName:le.capabilityObjectName,propertyName:"show"},e.explainByProperty={objectName:le.capabilityObjectName,propertyName:le.explainByPropertyName},(function(ae){ae.anomalyDetectionPropertyNames={show:"show",displayName:"displayName",markerShape:"markerShape",markerShapeSize:"markerShapeSize",markerColor:"markerColor",confidenceBandStyle:"confidenceBandStyle",transparency:"transparency",confidenceBandColor:"confidenceBandColor",transform:"transform"},ae.defaultsFormattingPropertyValues={displayName:"",markerShape:ne.anomalyMarkerShape.defaultValue,markerShapeSize:5,confidenceBandStyle:ne.confidenceBandStyle.fill,transparency:80};var ie="foregroundSelected",oe="foregroundSelected",e=(t.prototype.getTooltipItems=function(e,t){e=this.anomalies[e];if(e)return[{displayName:this.expectedValueName,value:ne.converterHelper.formatFromMetadataColumn(e.expectedValue,this.valuesMetadata,this.formatStringProp,!1,t)},{displayName:this.expectedLowName,value:ne.converterHelper.formatFromMetadataColumn(e.lowerBound,this.valuesMetadata,this.formatStringProp,!1,t)},{displayName:this.expectedHighName,value:ne.converterHelper.formatFromMetadataColumn(e.upperBound,this.valuesMetadata,this.formatStringProp,!1,t)}]},t);function t(e,t,a,i){this.host=e,this.anomalyDetection=t,this.valuesMetadata=a,this.formatStringProp=i,this.anomalies=this.anomalyDetection.anomalies,this.expectedValueName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedValue"),this.expectedHighName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedHighValue"),this.expectedLowName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedLowValue")}function d(e){var t,a=null===(t=e.categorical)||void 0===t?void 0:t.categories;if(_.size(a),!a||0===_.size(a))return!1;a=null===(t=_.first(a).source)||void 0===t?void 0:t.type;return!!a&&(!!a.dateTime||!(null===(t=a.temporal)||void 0===t||!t.year)||!!a.temporal&&_.some(e.metadata.columns,(function(e){return null===(e=e.type.temporal)||void 0===e?void 0:e.year})))}function m(e){e=null===(e=e.categorical)||void 0===e?void 0:e.values;return _.size(e),!(!e||0===_.size(e))&&_.some(e,(function(e){return!!e.source.objects&&!!e.source.objects[ne.referenceLineObjectName]}))}function a(e){return _.some(e,(function(e){return!(!e.objects||!e.objects[le.capabilityObjectName]||e.objects[ne.referenceLineObjectName]||e.objects[ne.ForecastHelper.forecastObjectName])}))}function i(e){if(!e)return!0;e=re.DataViewObjects.getValue(e,{objectName:ne.categoryAxisName,propertyName:ne.axisTypeName});return!e||e===ne.scalarName}function o(e){var t=e.items,e=e.activeItems;if(_.size(t)<1)return!1;if(1===_.size(t)){if(!(o=_.first(t).type)||!o.dateTime&&(null===(a=o.temporal)||void 0===a||!a.year))return!1}else{var a=_.size(e);if(a<1)return!1;var i=_.last(e),e=_.find(t,(function(e){return e.queryName===i}));if(!e)return!1;var o=e.type;if(!(1!==a||null!==(t=null==o?void 0:o.temporal)&&void 0!==t&&t.year))return!1;if(1<a&&(null==o||!o.temporal))return!1;if(null===(e=e.scalarKeyInfo)||void 0===e||!e.hasScalarKey)return!1}return!0}function r(e){return!(e.role===ne.LineChartRoles.Series&&!_.isEmpty(e.items))}function n(e){var t=e;if(!t)return!1;e=_.find(t,(function(e){return e.for.in.role===ne.LineChartRoles.Y}));if(!e||1!==_.size(e.for.in.items))return!1;t=_.find(t,(function(e){return e.for.in.role===ne.LineChartRoles.Y2}));return!(t&&!_.isEmpty(t.for.in.items))}ae.AnomalyTooltipBuilder=e,ae.enumerateObjectInstances=function(e,t,a,i,o){var r,n;if(n=_.first(t)){t=((t={})[ae.anomalyDetectionPropertyNames.show]=n.show,t[ae.anomalyDetectionPropertyNames.displayName]=n.displayName,t[ae.anomalyDetectionPropertyNames.markerShape]=n.markerShape,t[ae.anomalyDetectionPropertyNames.markerShapeSize]=n.markerShapeSize,t[ae.anomalyDetectionPropertyNames.markerColor]=n.markerColor,t[ae.anomalyDetectionPropertyNames.confidenceBandStyle]=n.confidenceBandStyle,t[ae.anomalyDetectionPropertyNames.transparency]=n.transparency,t[ae.anomalyDetectionPropertyNames.confidenceBandColor]=n.confidenceBandColor,t);if(e.pushInstance({selector:n.selector,properties:t,objectName:le.capabilityObjectName}),o)for(var l=p.containsWildcard(p.convertSelectorsByColumnToSelector(o)),s=0,u=n.anomalies;s<u.length;s++){var c=u[s];c.isAnomaly&&(l||p.equalsSelectorsByColumn(c.identity.getSelectorsByColumn(),o))&&e.pushInstance({objectName:le.dataPointObjectName,selector:p.convertSelectorsByColumnToSelector(c.identity.getSelectorsByColumn()),properties:((r={})[ne.AnomalyDetectionColumns.CategoryValue]=c.categoryValue,r[ne.AnomalyDetectionColumns.Value]=c.value,r[ne.AnomalyDetectionColumns.ExpectedValue]=c.expectedValue,r[ne.AnomalyDetectionColumns.ExpectedLow]=c.lowerBound,r[ne.AnomalyDetectionColumns.ExpectedHigh]=c.upperBound,r[ne.AnomalyDetectionColumns.BatchStart]=c.batchStart,r[ne.AnomalyDetectionColumns.BatchEnd]=c.batchEnd,r[ne.AnomalyDetectionColumns.FormattedCategoryValue]=c.formattedCategoryValue,r[ne.AnomalyDetectionColumns.ValueFormatString]=c.valueFormatString,r)})}}else{a=(n=a,a=i,{selector:{id:"0"},properties:((i={})[ae.anomalyDetectionPropertyNames.show]=!1,i[ae.anomalyDetectionPropertyNames.displayName]=ae.defaultsFormattingPropertyValues.displayName,i[ae.anomalyDetectionPropertyNames.markerShape]=ae.defaultsFormattingPropertyValues.markerShape,i[ae.anomalyDetectionPropertyNames.markerShapeSize]=ae.defaultsFormattingPropertyValues.markerShapeSize,i[ae.anomalyDetectionPropertyNames.markerColor]={solid:{color:ne.ColorHelper.getThemeColor(n,ie)}},i[ae.anomalyDetectionPropertyNames.confidenceBandStyle]=ae.defaultsFormattingPropertyValues.confidenceBandStyle,i[ae.anomalyDetectionPropertyNames.transparency]=ae.defaultsFormattingPropertyValues.transparency,i[ae.anomalyDetectionPropertyNames.confidenceBandColor]={solid:{color:ne.ColorHelper.getThemeColor(n,oe)}},i),objectName:le.capabilityObjectName,disabledReason:a});e.pushInstance(a)}},ae.enumerateAnomalyObjectInstances=function(e,t,a,i,o,r,n,l){var s,u,c,p;_.isEmpty(t.forecastLines)?t.hasDynamicSeries?(p=e.getLocalizedString("Role_DisplayName_Legend"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",p)):se.hasRoleInMetadataColumns(t.valuesMetadata,ne.LineChartRoles.Y2)?(p=e.getLocalizedString("Role_DisplayName_Y2"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",p)):1!==t.series.length?(p=e.getLocalizedString("Role_DisplayName_Values"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",p)):d(a)?n?m(a)&&(u=e.getLocalizedString("Visual_Trend_Line"),c=e.getLocalizedString("Visual_Reference_Line"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",u,c)):(a=e.getLocalizedString("Type"),u=e.getLocalizedString("Visual_XAxis"),c=e.getLocalizedString("Visual_Axis_Scalar"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",a,u,c)):(p=e.getLocalizedString("Role_DisplayName_Axis"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",p)):s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast"),ae.enumerateObjectInstances(i,o,r,s,l)},ae.hasDatetime=d,ae.hasDataBoundReferenceLine=m,ae.supportedAnomalyMapping=function(e){return jsCommon.TypeChecker.check((function(t){return{metadata:t.check(e&&e.metadata,jsCommon.exists,(function(e){return{columns:t.check(e.columns,a,jsCommon.identity),objects:t.check(e.objects,i,jsCommon.identity)}})),categorical:t.check(e.categorical,jsCommon.exists,(function(e){return{categories:t.check(e.categories,l.isCompiledDataViewRoleForMapping,(function(e){return{for:t.check(e.for,jsCommon.exists,(function(e){return{in:t.check(e.in,o,jsCommon.identity)}}))}})),values:t.check(e.values,l.isCompiledDataViewGroupedRoleMapping,(function(e){return{group:t.check(e.group,jsCommon.exists,(function(e){return{by:t.check(e.by,r,jsCommon.identity),select:t.check(e.select,n,jsCommon.identity)}}))}}))}}))}}))},ae.isDataViewForAnomalyDetection=function(e){var t;return!(null===(t=null==e?void 0:e.categorical)||void 0===t||!t.values)&&(e=e.categorical.values.grouped(),_.some(e,(function(e){return _.some(e.values,(function(e){return se.hasRoleInValueColumn(e,ne.AnomalyDetectionOutputRoles.Anomaly)}))})))},ae.readDataView=function(e,t,a,i){if(!e.categorical||!t.categorical)return[];var o=e.categorical;if(_.isEmpty(o.categories)||_.isEmpty(o.values))return[];var r,n,l=_.first(o.categories);(e=ne.ScalarUtils.getScalarKeys(l))?(r=_.map(e.values,(function(e){return e.min})),n=_.last(o.categories).values):r=l.values;var s=o.values.grouped();if(_.isEmpty(r)||_.isEmpty(s))return[];if(e=t.categorical.values,_.isEmpty(e))return[];var u,o=_.first(e),c=null!==(e=o.objects)&&void 0!==e?e:[],p=o.values,d=se.getMeasureIndexOfRole(s,ne.AnomalyDetectionOutputRoles.Anomaly),m=se.getMeasureIndexOfRole(s,ne.AnomalyDetectionOutputRoles.ExpectedValue),g=se.getMeasureIndexOfRole(s,ne.AnomalyDetectionOutputRoles.ExpectedHigh),y=se.getMeasureIndexOfRole(s,ne.AnomalyDetectionOutputRoles.ExpectedLow),h=se.getMeasureIndexOfRole(s,ne.AnomalyDetectionOutputRoles.BatchStart),b=se.getMeasureIndexOfRole(s,ne.AnomalyDetectionOutputRoles.BatchEnd),f=ne.ColorHelper.create(a),v=[],S=0,C=(function(e){e.categorical.values;var t=[],e=_.first(e.categorical.values.grouped());if(e)for(var a=0,i=e.values;a<i.length;a++){var o=i[a],r=o.source.queryName;r&&(o=re.DataViewObjects.getUserDefinedObjects(o.source.objects,le.capabilityObjectName),t[r]=o)}return t})(t),x=_.first(t.categorical.categories).source.queryName,w=o.source,N=w.queryName,P=o.objects;for(u in C){var T,D=C[u];for(T in D){var V=D[T],L=ue.getValue(V,ae.anomalyDetectionPropertyNames.show,!1);if(L){for(var M=ue.getValue(V,ae.anomalyDetectionPropertyNames.displayName),R=ue.getValue(V,ae.anomalyDetectionPropertyNames.markerShape,ae.defaultsFormattingPropertyValues.markerShape),A=ue.getValue(V,ae.anomalyDetectionPropertyNames.markerShapeSize,ae.defaultsFormattingPropertyValues.markerShapeSize),k={solid:{color:f.getColorForPropertyName(V,ae.anomalyDetectionPropertyNames.markerColor,ie)}},j=ue.getValue(V,ae.anomalyDetectionPropertyNames.transparency,ae.defaultsFormattingPropertyValues.transparency),F=ue.getValue(V,ae.anomalyDetectionPropertyNames.confidenceBandStyle,ae.defaultsFormattingPropertyValues.confidenceBandStyle),O={solid:{color:f.getColorForPropertyName(V,ae.anomalyDetectionPropertyNames.confidenceBandColor,oe)}},V=s[S],z=[],B=[],I=V.values[d].values,H=V.values[m].values,E=V.values[g].values,G=V.values[y].values,W=V.values[h].values,U=V.values[b].values,K={index:-1,value:Number.MIN_VALUE},Y={index:-1,value:Number.MAX_VALUE},q=0;q<r.length;q++){var Q=c[q],Z=(new ne.SelectionIdBuilder).withCategory([l],q,x,!0).withMeasure(N).createSelectionId(),X=re.DataViewObjects.getValue(Q,{objectName:le.capabilityObjectName,propertyName:le.isAnomalyHighlighted},!1),$=ne.AxisHelper.normalizeNonFiniteNumber(p[q]),J=ne.AxisHelper.normalizeNonFiniteNumber(H[q]),ee=!!I[q],te=void 0,Q=void 0;ee&&(J<$&&K.value<$&&(K={index:q,value:$}),$<J&&Y.value>$&&(Y={index:q,value:$}),te=(function(e,t,a,i,o){if(a)return a;a=e.objects,i=re.DataViewObjects.getValue(a?a[i]:void 0,t);return ne.converterHelper.formatFromMetadataColumn(o,e.source,t,!1,i)})(l,i,_.get(n,q,void 0),q,r[q]),Q=(function(e,t,a){t=re.DataViewObjects.getValue(t,a);t=t||ne.valueFormatter.getFormatString(e,a,!!e.format);!t&&e&&(t=e.format);return t})(w,P?P[q]:void 0,i)),z.push({isAnomaly:ee,categoryValue:ne.AxisHelper.normalizeNonFiniteNumber(r[q]),value:$,upperBound:ne.AxisHelper.normalizeNonFiniteNumber(E[q]),lowerBound:ne.AxisHelper.normalizeNonFiniteNumber(G[q]),expectedValue:J,identity:Z,batchStart:W[q],batchEnd:U[q],categoryIndex:q,isHighlighted:X,formattedCategoryValue:te,valueFormatString:Q,seriesIndex:0,selected:!1}),ee&&B.push(q)}v.push({selector:{id:T,metadata:u},anomalies:z,anomaliesCategoryIndex:B,show:L,displayName:M,markerShape:R,markerShapeSize:A,markerColor:k,confidenceBandStyle:F,transparency:j,confidenceBandColor:O,highestAnomalyPointIndex:K.index,lowestAnomalyPointIndex:Y.index}),S++}}}return v},ae.adjustDomainForAnomalyMarkers=function(e,t,a){if(e&&2===_.size(e)&&_.isNumber(e[0])&&_.isNumber(e[1]),_.isEmpty(a)||_.every(a,(function(e){return-1===e.highestAnomalyPointIndex&&-1===e.lowestAnomalyPointIndex})))return e;for(var i=t,o=i(e[0]),r=i(e[1]),n=0,l=a;n<l.length;n++){var s,u=l[n],c=5*u.markerShapeSize;-1===u.highestAnomalyPointIndex||i(s=u.anomalies[u.highestAnomalyPointIndex].value)-i(e[1])<c&&(s=i(s)-c,r=Math.min(r,s)),-1!==u.lowestAnomalyPointIndex&&(u=u.anomalies[u.lowestAnomalyPointIndex].value,i(e[0])-i(u)<c&&(c=i(u)+c,o=Math.max(o,c)))}return[i.invert(o),i.invert(r)]},ae.isSingleDateColumn=function(e,t){return 1===_.size(e)&&((t=e[0].getMetadata(t))&&!!t.type.dateTime)}})(ne.AnomalyDetectionVisualPlugin||(ne.AnomalyDetectionVisualPlugin={}))})(powerbi=powerbi||{}),(function(e){var b,t,a;b=e.visuals||(e.visuals={}),t=jsCommon.CssConstants,a=jsCommon.DOMConstants,(function(c){c.anomalyConfidenceIntervalClassSelector=t.createClassAndSelector("anomaly-confidence-interval"),c.anomalyDetectionLowerLayerClassSelector=t.createClassAndSelector("anomaly-lower-layer"),c.anomalyDetectionHigherLayerClassSelector=t.createClassAndSelector("anomaly-higher-layer"),c.anomalyPointClassSelector=t.createClassAndSelector("anomaly-point"),c.fillOpacity=.5,c.fillOpacitySelected=1;var p,d=""+a.mouseOutEventName+c.anomalyPointClassSelector.selector,m=""+a.mouseOverEventName+c.anomalyPointClassSelector.selector,g=""+a.pointerDownEventName+c.anomalyPointClassSelector.selector,y=2;function h(e,t,a){p?p===e?(d3.select(e).style("fill-opacity",c.fillOpacity),p=void 0):(d3.select(p).style("fill-opacity",c.fillOpacity),p=e,d3.select(p).style("fill-opacity",c.fillOpacitySelected)):(p=e,d3.select(p).style("fill-opacity",c.fillOpacitySelected)),p&&a({visualObjects:[{objectName:b.AnomalyDetectionObjectConstants.dataPointObjectName,selectorsByColumn:t.identity.getSelectorsByColumn()}]}),d3.event.stopPropagation()}c.render=function(e,t,a,i,o,r,n,l){var s=t.select(c.anomalyDetectionLowerLayerClassSelector.selector);s.empty()&&(s=t.insert("g",":first-child").classed(c.anomalyDetectionLowerLayerClassSelector.class,!0));var u=t.select(c.anomalyDetectionHigherLayerClassSelector.selector);u.empty()&&(u=t.append("g").classed(c.anomalyDetectionHigherLayerClassSelector.class,!0)),(function(e,t,s,u,a){var i,t=t.selectAll(c.anomalyConfidenceIntervalClassSelector.selector).data(e||[],(function(e){return e.selector.id})),e=t.enter().insert("path",":first-child").classed(c.anomalyConfidenceIntervalClassSelector.class,!0).merge(t);a&&(i=e.transition().ease(d3.easeLinear).duration(a));(i||e).attr("d",(function(e){for(var t=d3.line().x((function(e){return s(e.x)})).y((function(e){return u(e.y)})),a=[],i=0,o=e.anomalies.slice().reverse();i<o.length;i++){var r=o[i];a.push({x:r.categoryValue,y:r.lowerBound})}for(var n=0,l=e.anomalies;n<l.length;n++){r=l[n];a.push({x:r.categoryValue,y:r.upperBound})}return t(a)})),e.each((function(t){var e=d3.select(this);0<=t.transparency&&t.transparency;var a=(100-t.transparency)/100;switch(e.style("fill-opacity",(function(e){return a})),e.style("stroke-opacity",(function(e){return a})),t.confidenceBandStyle){case b.confidenceBandStyle.fill:e.style("stroke",(function(e){return"transparent"})),e.style("fill",(function(e){return t.confidenceBandColor.solid.color}));break;case b.confidenceBandStyle.line:e.style("stroke",t.confidenceBandColor.solid.color),e.style("fill",(function(e){return"transparent"}));break;case b.confidenceBandStyle.none:e.style("stroke",(function(e){return"transparent"})),e.style("fill",(function(e){return"transparent"}));break;default:t.confidenceBandStyle}})),t.exit().remove()})(e,s,a,i,r),(function(e,t,o,r,a,i,n){var l=_.first(e),e=[];l&&(e=_.filter(l.anomalies,(function(e){return e.isAnomaly})));t=t.selectAll(c.anomalyPointClassSelector.selector).data(e,(function(e){return e.categoryValue.toString()})),e=t.enter().append("path").classed(c.anomalyPointClassSelector.class,!0).merge(t);(a?e.transition().ease(d3.easeLinear).duration(a):e).attr("d",(function(){return b.anomalyMarkerShape.getPath(l.markerShape)}));e.attr("transform",(function(e){var t=o(e.categoryValue),a=r(e.value),i=r.range()[0]>r.range()[1];return"translate("+t+","+(a+(e.value>e.expectedValue&&i?-y*l.markerShapeSize:y*l.markerShapeSize))+") rotate("+(e.value>e.expectedValue&&i?0:180)+") scale("+l.markerShapeSize+")"})),e.each((function(){d3.select(this).style("fill",l.markerColor.solid.color).style("stroke",l.markerColor.solid.color).attr("vector-effect","non-scaling-stroke").style("stroke-width",1.5).style("stroke-opacity",1).style("fill-opacity",(function(e){return this===p||e.isHighlighted?c.fillOpacitySelected:c.fillOpacity})).on(g,(function(e){n&&h(this,e,i)})).on(m,(function(){n&&d3.select(this).style("fill-opacity",c.fillOpacitySelected)})).on(d,(function(){n&&this!==p&&d3.select(this).style("fill-opacity",c.fillOpacity)}))})),t.exit().remove()})(e,u,a,i,r,n.onSelecting,l)},c.handleSelectedAnomaly=h,c.getAnomalyYPosition=function(e,t,a){return a=e.value>e.expectedValue?-y*a:y*a,t(e.value)+a},c.getAnomalySize=function(e){return 1.4*e}})(b.AnomalyDetectionCartesianRenderer||(b.AnomalyDetectionCartesianRenderer={}))})(powerbi=powerbi||{}),(function(e){var r;function t(){}r=e.visuals||(e.visuals={}),t.prototype.update=function(e,t,a,i,o){this.anomalies=e,this.scrolledData=t,this.focusedDatum=a,this.updateFocusElement=i},t.prototype.getFirstElement=function(t,e){if(void 0===e&&(e=!1),null!=t){var a=void 0;return(a=(e?_.findLast:_.find)(this.anomalies,(function(e){return e.categoryIndex>=t&&e.isAnomaly})))&&this.scrolledData&&-1===this.scrolledData.categories.indexOf(a.categoryValue)?{element:null}:a?(this.focusedDatum=a,{element:this.updateFocusElement(a).node()}):void 0}},t.prototype.getNextDataPoint=function(t,e,a){var i=this.focusedDatum;switch(a){case r.DataDirection.NextCategory:case r.DataDirection.PreviousCategory:var o=_.findIndex(this.anomalies,(function(e){return e&&e.categoryIndex===t})),i=this.pickNextAvailableIndex(this.anomalies,o,a);break;case r.DataDirection.NextSeries:case r.DataDirection.PreviousSeries:}if(i)return this.scrolledData&&-1===this.scrolledData.categories.indexOf(i.categoryValue)?{element:null,targetCategoryIndex:i.categoryIndex}:(this.focusedDatum=i,{element:this.updateFocusElement(i).node(),targetCategoryIndex:i.categoryIndex})},t.prototype.pickNextAvailableIndex=function(e,t,a){a===r.DataDirection.NextCategory||r.DataDirection.PreviousCategory;var i=a===r.DataDirection.NextCategory?1:-1,o=t;do{if((o+=i)>=e.length?o=0:o<0&&(o=e.length-1),o===t)break}while(!e[o]||!e[o].isAnomaly);return e[o]},r.AnomalyDetectionKeyboardNavigationHelper=t})(powerbi=powerbi||{}),(function(r){var n;(function(o){var a=r.data;function e(e,t){return(e+1)*t}o.LayoutObjectName="smallMultiplesLayout",o.SubheaderObjectName="subheader",o.windowCount=e;var t=(i.DefaultRowCount=2,i.DefaultColumnCount=2,i.DefaultBackgroundColor=null,i.DefaultBackgroundTransparency=0,i.DefaultGridLineType=n.gridLineType.none,i.DefaultGridLineStyle=n.lineStyle.solid,i.DefaultGridLineColorName=n.ForegroundColorDarkName,i.DefaultGridLineWidth=1,i.DefaultPadding=12,i.DefaultAdvancedPaddingOptions=!1,i.DefaultWindowSize=(i.DefaultRowCount+1)*i.DefaultColumnCount,i);function i(){}o.SmallMultiplesDefaults=t,o.isSmallMultiplesMapping=function(e){return jsCommon.TypeChecker.check((function(t){return{matrix:t.check(e&&e.matrix,jsCommon.exists,(function(e){return{rows:t.check(e.rows,a.CompiledDataViewMapping.isCompiledDataViewListRoleMapping,(function(e){return{select:t.check(e.select,jsCommon.size(2),(function(e){return[t.check(e[0],a.CompiledDataViewMapping.isCompiledDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],a.CompiledDataViewMapping.isCompiledDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}})),t.check(e[1],a.CompiledDataViewMapping.isCompiledDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],a.CompiledDataViewMapping.isCompiledDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}}))]}))}})),columns:t.check(e.columns,a.CompiledDataViewMapping.isCompiledDataViewRoleForMapping,jsCommon.identity),values:t.check(e.values,a.CompiledDataViewMapping.isCompiledDataViewListRoleMapping,jsCommon.identity)}})),metadata:e.metadata}}))},o.isSmallMultiplesDataViewMapping=function(e){return jsCommon.TypeChecker.check((function(t){return{matrix:t.check(e&&e.matrix,jsCommon.exists,(function(e){return{rows:t.check(e.rows,r.DataViewMapping.isDataViewListRoleMapping,(function(e){return{select:t.check(e.select,jsCommon.size(2),(function(e){return[t.check(e[0],r.DataViewMapping.isDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],r.DataViewMapping.isDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}})),t.check(e[1],r.DataViewMapping.isDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],r.DataViewMapping.isDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}}))]}))}})),columns:t.check(e.columns,r.DataViewMapping.isDataViewRoleForMapping,jsCommon.identity)}}))}}))},o.supportsSmallMultiplesDataViewMapping=function(e){if(!_.isEmpty(e))for(var t=0,a=e;t<a.length;t++){var i=a[t];if(i.matrix&&o.isSmallMultiplesDataViewMapping(i))return!0}return!1},o.getRowMapping=function(e){return e.matrix.rows.select[0].composite[0]},o.getRowDataReduction=function(e){return e.matrix.rows.select[0].dataReductionAlgorithm},o.getCategoryMapping=function(e){return e.matrix.rows.select[1].composite[0]},o.getCategoryDataReduction=function(e){return e.matrix.rows.select[1].dataReductionAlgorithm},o.setCategoryDataReduction=function(e,t){e.matrix.rows.select[1].dataReductionAlgorithm=t},o.getSeriesMapping=function(e){return e.matrix.columns}})((n=r.visuals||(r.visuals={})).SmallMultiplesUtils||(n.SmallMultiplesUtils={}))})(powerbi=powerbi||{}),(function(o){!(function(e){var t=o.data.createDisplayNameGetter;e.StandardObjectProperties={axisEnd:{displayName:t("Visual_Axis_End"),description:t("Visual_Axis_EndDescription"),placeHolderText:t("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisScale:{displayName:t("Visual_Axis_Scale"),type:{enumeration:e.axisScale.type}},axisStart:{displayName:t("Visual_Axis_Start"),description:t("Visual_Axis_StartDescription"),placeHolderText:t("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:t("Visual_Axis_Style"),type:{enumeration:e.axisStyle.type}},axisType:{displayName:t("Type"),type:{enumeration:e.axisType.type}},backColor:{displayName:t("Background_Color"),description:t("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:t("BinsDialog_BinType"),type:{enumeration:e.binType.type}},bold:{displayName:t("Bold"),type:{bool:!0}},borderColor:{displayName:t("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},numOfBins:{displayName:t("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:t("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:t("Visual_LabelsFill"),description:t("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},categoryColor:{displayName:t("Visual_LabelsFill"),description:t("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}},color:{displayName:t("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},dataLabelColor:{displayName:t("Visual_Reference_Line_Data_Label_Color"),description:t("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:t("Visual_Precision"),placeHolderText:t("Visual_Auto"),type:{numeric:!0}},dataLabelDisplayUnits:{displayName:t("Visual_DisplayUnits"),description:t("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelHorizontalPosition:{displayName:t("Visual_Reference_Line_Data_Horizontal_Position"),description:t("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:e.referenceLineDataLabelHorizontalPosition.type}},dataLabelText:{displayName:t("Text"),description:t("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:e.labelText.type}},dataLabelShow:{displayName:t("Visual_Reference_Line_Data_Label"),description:t("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelVerticalPosition:{displayName:t("Visual_Reference_Line_Data_Vertical_Position"),description:t("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:e.referenceLineDataLabelVerticalPosition.type}},defaultColor:{displayName:t("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:t("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:t("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},defaultToCircle:{displayName:t("Visual_LegendDefaultToCircle"),description:t("Visual_LegendDefaultToCircleDescription"),type:{bool:!0}},errorFormat:{displayName:t("Visual_Error_Format"),type:{enumeration:e.errorFormat.type}},fill:{displayName:t("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:t("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:t("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:t("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},iconSize:{displayName:t("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:t("Italic"),type:{bool:!0}},image:{type:{image:{}}},invertAxis:{displayName:t("Visual_InvertAxis"),type:{bool:!0}},labelBackgroundColor:{displayName:t("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:t("Visual_Reference_Line_Transparency"),type:{integer:!0}},innerPadding:{displayName:t("Visual_Axis_InnerPadding"),description:t("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}},labelColor:{displayName:t("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},labelDisplayUnits:{displayName:t("Visual_DisplayUnits"),description:t("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:t("Visual_LabelEnableBackground"),type:{bool:!0}},labelPrecision:{displayName:t("Visual_Precision"),description:t("Visual_PrecisionDescription"),placeHolderText:t("Visual_Auto"),type:{integer:!0}},logAxisScale:{displayName:t("Visual_LogarithmicScale"),type:{bool:!0}},matchLineColor:{displayName:t("Visual_LegendMatchLineColor"),description:t("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},preferredCategoryWidth:{displayName:t("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:t("Visual_MaxMarginFactor"),description:t("Visual_MaxMarginFactorDescription"),type:{integer:!0}},percentageLabelPrecision:{displayName:t("Visual_Percentage_Precision"),description:t("Visual_Percentage_PrecisionDescription"),placeHolderText:t("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:t("Visual_Axis_Style"),description:t("Visual_LegendStyleDescription"),type:{enumeration:o.visuals.legendMarkerRendering.type}},legendPosition:{displayName:t("Visual_LegendPosition"),description:t("Visual_LegendPositionDescription"),type:{enumeration:e.legendPosition.type}},legendTitle:{displayName:t("Visual_LegendName"),description:t("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:t("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineStyle:{displayName:t("Visual_LineStyle"),type:{enumeration:e.lineStyle.type}},titleColor:{displayName:t("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:t("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:t("Visual_AxisTitleText"),placeHolderText:t("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:t("Visual_Outline"),type:{enumeration:e.outline.type}},outlineStyle:{displayName:t("Visual_Outline"),type:{flagsEnumeration:e.outline.flagsEnumerationType}},outlineColor:{displayName:t("Visual_OutlineColor"),description:t("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:t("Visual_OutlineWeight"),description:t("Visual_OutlineWeight_Desc"),type:{numeric:!0}},referenceLinePosition:{displayName:t("Visual_Reference_Line_Arrange"),description:t("Visual_Reference_Line_Arrange_Description"),type:{enumeration:e.referenceLinePosition.type}},show:{displayName:t("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:t("ShowAll"),type:{bool:!0}},showLegendTitle:{displayName:t("Visual_LegendShowTitle"),description:t("Visual_LegendShowTitleDescription"),type:{bool:!0}},strokeWidth:{displayName:t("Visual_StrokeWidth"),type:{integer:!0}},strokeLineJoin:{displayName:t("Visual_StrokeLineJoin"),type:{enumeration:e.strokeLineJoin.type}},switchAxisPosition:{displayName:t("Visual_SwitchAxisPosition"),type:{bool:!0}},lineDashType:{displayName:t("Visual_LineDashType"),type:{enumeration:e.lineStyle.type}},showIcon:{displayName:t("Visual_ShowIcon"),type:{bool:!0}},showMarker:{displayName:t("Visual_ShowMarker"),type:{bool:!0}},markerShape:{displayName:t("Visual_MarkerShape"),type:{enumeration:e.markerShape.type}},fillPointStyle:{displayName:t("Visual_MarkerShape"),type:{enumeration:e.fillStyle.style}},markerSize:{displayName:t("Visual_MarkerSize"),type:{numeric:!0}},markerColor:{displayName:t("Visual_MarkerColor"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:t("Transparency"),description:t("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:t("Transparency"),description:t("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},yAxisPosition:{displayName:t("Visual_YAxis_Position"),description:t("Visual_YAxis_PositionDescription"),type:{enumeration:e.yAxisPosition.type}},referenceLineColor:{displayName:t("Visual_Reference_Line_Color"),description:t("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},responsive:{displayName:t("Visual_General_ResponsiveLabel"),description:t("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},shadeRegion:{displayName:t("Visual_ShadeRegion"),type:{enumeration:e.referenceLineShadeRegion.type}},shadeColor:{displayName:t("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeTransparency:{displayName:t("Visual_ShadeTransparency"),type:{numeric:!0}},stepped:{displayName:t("Visual_SteppedLine"),description:t("Visual_SteppedLineDescription"),type:{bool:!0}},tablixFontColor:{displayName:t("Visual_FontColor"),description:t("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},textAlignment:{displayName:t("Visual_TextAlignment"),type:{enumeration:e.textAlignment.type}},totalsEnabled:{displayName:t("Visual_Axis_Total"),description:t("Visual_Axis_TotalDescription"),type:{bool:!0}},underline:{displayName:t("Underline"),type:{bool:!0}},width:{displayName:t("Visual_General_Properties_Width"),type:{integer:!0}}},e.SecondaryAxisProperties={secShow:{displayName:t("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:t("Visual_YAxis_AlignZeros"),description:t("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:t("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:t("Visual_YAxis_LineTitle"),type:{none:!0}},secPosition:e.StandardObjectProperties.yAxisPosition,secAxisScale:e.StandardObjectProperties.axisScale,secStart:{displayName:t("Visual_Axis_Start"),description:t("Visual_Axis_StartDescription"),placeHolderText:t("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:t("Visual_Axis_End"),description:t("Visual_Axis_EndDescription"),placeHolderText:t("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:{displayName:t("Visual_Axis_Title"),description:t("Visual_Axis_YTitleDescription"),type:{bool:!0}},secAxisStyle:e.StandardObjectProperties.axisStyle,secLabelColor:e.StandardObjectProperties.labelColor,secFontFamily:e.StandardObjectProperties.fontFamily,secFontSize:e.StandardObjectProperties.fontSize,secBold:e.StandardObjectProperties.bold,secItalic:e.StandardObjectProperties.italic,secUnderline:e.StandardObjectProperties.underline,secLabelDisplayUnits:e.StandardObjectProperties.labelDisplayUnits,secLabelPrecision:e.StandardObjectProperties.labelPrecision,secTitleColor:e.StandardObjectProperties.titleColor,secTitleFontFamily:e.StandardObjectProperties.fontFamily,secTitleFontSize:e.StandardObjectProperties.titleFontSize,secTitleBold:e.StandardObjectProperties.bold,secTitleItalic:e.StandardObjectProperties.italic,secTitleUnderline:e.StandardObjectProperties.underline,secTitleText:e.StandardObjectProperties.titleText};var a={displayName:t("Visual_DataTotalLabels"),description:t("Visual_DataTotalLabelsDescription"),properties:{show:e.StandardObjectProperties.show,color:e.StandardObjectProperties.dataColor,labelDisplayUnits:e.StandardObjectProperties.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},e.StandardObjectProperties.labelPrecision),{suppressFormatPainterCopy:!0}),enableBackground:e.StandardObjectProperties.labelEnableBackground,backgroundColor:e.StandardObjectProperties.labelBackgroundColor,backgroundTransparency:e.StandardObjectProperties.labelBackgroundTransparency,fontSize:e.StandardObjectProperties.fontSize,bold:e.StandardObjectProperties.bold,italic:e.StandardObjectProperties.italic,underline:e.StandardObjectProperties.underline,fontFamily:e.StandardObjectProperties.fontFamily}},i=_.cloneDeep(a);i.properties.showPositiveAndNegative={displayName:t("Visual_LabelPosAndNeg"),description:t("Visual_LabelPosAndNeg_Description"),type:{bool:!0}},e.StandardObjectDescriptors={legend:{displayName:t("Visual_Legend"),description:t("Visual_LegendDescription"),properties:{show:{displayName:t("Visual_Show"),type:{bool:!0}},position:{displayName:t("Visual_LegendPosition"),description:t("Visual_LegendPositionDescription"),type:{enumeration:e.legendPosition.type}},showTitle:{displayName:t("Visual_LegendShowTitle"),description:t("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:t("Visual_LegendName"),description:t("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},labelColor:{displayName:t("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},fontFamily:{displayName:t("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},fontSize:{displayName:t("Visual_TextSize"),type:{formatting:{fontSize:!0}}},bold:{displayName:t("Bold"),type:{bool:!0}},italic:{displayName:t("Italic"),type:{bool:!0}},underline:{displayName:t("Underline"),type:{bool:!0}}}},totals:a,totalsWithNet:i,zoom:{displayName:t("Visual_ZoomSlider"),properties:{show:{displayName:t("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:t("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:t("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:t("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:t("Visual_ZoomTooltips"),type:{bool:!0}}}},subheader:{displayName:t("Small_Multiples_Title"),description:t("Small_Multiples_Title_Description"),properties:{show:e.StandardObjectProperties.show,fontFamily:e.StandardObjectProperties.fontFamily,fontSize:e.StandardObjectProperties.fontSize,bold:e.StandardObjectProperties.bold,italic:e.StandardObjectProperties.italic,underline:e.StandardObjectProperties.underline,fontColor:e.StandardObjectProperties.fontColor,alignment:{displayName:t("Visual_Title_Alignment"),description:t("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:t("Visual_Position"),type:{enumeration:e.verticalPosition.type}},titleWrap:{displayName:t("Visual_Word_Wrap"),type:{bool:!0}}}},smallMultiplesLayout:{displayName:t("Small_Multiples_Layout"),description:t("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:t("Small_Multiples_Layout"),type:{enumeration:e.smallMultiplesLayout.type}},rowCount:{displayName:t("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:t("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:t("Background_Color"),description:t("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:__assign(__assign({},e.StandardObjectProperties.transparency),{displayName:t("Small_Multiples_Layout_Background_Transparency")}),gridLineType:{displayName:t("Visual_Gridline_Show"),description:t("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:e.gridLineType.type}},gridLineColor:__assign({},e.StandardObjectProperties.lineColor),gridLineWidth:__assign(__assign({},e.StandardObjectProperties.strokeWidth),{displayName:t("Visual_Line_Width")}),gridLineStyle:e.StandardObjectProperties.lineStyle,gridPadding:{displayName:t("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:t("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:t("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:t("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:t("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:t("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:t("Visual_Error_Bars"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:t("Enabled"),type:{bool:!0}},errorRange:{displayName:t("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:e.StandardObjectProperties.show,barEndStyle:{displayName:t("Visual_Error_EndStyle"),type:{enumeration:e.errorBarEndStyle.type}},barColor:e.StandardObjectProperties.color,barWidth:e.StandardObjectProperties.width,barTransparency:e.StandardObjectProperties.transparency,barBorderColor:e.StandardObjectProperties.borderColor,barBorderSize:{displayName:t("Visual_Border_Size"),type:{integer:!0}},barBorderTransparency:{displayName:t("Visual_Border_Transparency"),type:{numeric:!0}},lineShow:e.StandardObjectProperties.show,lineLineStyle:e.StandardObjectProperties.lineStyle,lineStrokeLineJoin:e.StandardObjectProperties.strokeLineJoin,lineMatchSeriesColor:{displayName:t("RibbonChart_Color"),type:{bool:!0}},lineColor:e.StandardObjectProperties.color,lineWidth:e.StandardObjectProperties.width,lineTransparency:e.StandardObjectProperties.transparency,shadeShow:e.StandardObjectProperties.show,shadeColor:e.StandardObjectProperties.color,shadeMatchSeriesColor:{displayName:t("RibbonChart_Color"),type:{bool:!0}},shadeTransparency:e.StandardObjectProperties.transparency,markerShow:e.StandardObjectProperties.show,markerShape:e.StandardObjectProperties.markerShape,markerSize:e.StandardObjectProperties.markerSize,markerMatchSeriesColor:{displayName:t("RibbonChart_Color"),type:{bool:!0}},markerColor:e.StandardObjectProperties.color,markerTransparency:e.StandardObjectProperties.transparency,tooltipShow:__assign(__assign({},e.StandardObjectProperties.show),{displayName:t("Visual_ShowInTooltip")}),tooltipFormat:e.StandardObjectProperties.errorFormat}}},e.StandardObjectIdentifiers=e.builder.getPropertyIdentifiers(e.StandardObjectDescriptors),e.StandardObjectPropertyIdentifiers={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},smallMultiplesGridLineColor:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"}},e.SecondaryAxisZoomObjectDescriptors={zoom:{properties:{showOnValueSecAxis:{displayName:t("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}},e.GradientLegendObjectDescriptors={legend:{properties:{showGradientLegend:{displayName:t("ShowGradientLegend"),type:{bool:!0}}}}},e.SeriesObjectDescriptors={seriesLabels:{properties:{show:{displayName:t("Visual_SeriesLabels"),type:{bool:!0}},seriesColor:{displayName:t("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:t("Visual_SeriesPosition"),type:{enumeration:e.labelSeriesPosition.type}},enableBackground:e.StandardObjectProperties.labelEnableBackground,backgroundColor:e.StandardObjectProperties.labelBackgroundColor,backgroundTransparency:e.StandardObjectProperties.labelBackgroundTransparency,showAll:{displayName:t("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:t("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:e.StandardObjectProperties.bold,italic:e.StandardObjectProperties.italic,underline:e.StandardObjectProperties.underline,seriesFontFamily:{displayName:t("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:{displayName:t("Visual_WordWrap"),type:{bool:!0}},seriesMaximumWidth:{displayName:t("Visual_SeriesMaximumWidth"),placeHolderText:t("Visual_Auto"),type:{integer:!0}}}}}})(o.visuals||(o.visuals={}))})(powerbi=powerbi||{}),(function(s){!(function(e){var t,a=s.data.createDisplayNameGetter,i=e.StandardObjectProperties;e.tileLibraryProps={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}}},e.tileShadowPositionPresetEnum=s.createEnumType([{value:"custom",displayName:function(e){return e.get("Custom")}},{value:"top",displayName:function(e){return e.get("Top")}},{value:"topLeft",displayName:function(e){return e.get("Visual_LabelPosition_TopLeft")}},{value:"topRight",displayName:function(e){return e.get("Visual_LabelPosition_TopRight")}},{value:"center",displayName:function(e){return e.get("Visual_TextAlignment_Center")}},{value:"centerLeft",displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:"centerRight",displayName:function(e){return e.get("Visual_TextAlignment_Right")}},{value:"bottom",displayName:function(e){return e.get("Bottom")}},{value:"bottomLeft",displayName:function(e){return e.get("Visual_LabelPosition_BottomLeft")}},{value:"bottomRight",displayName:function(e){return e.get("Visual_LabelPosition_BottomRight")}}]),e.tileLibraryObjectNames={fill:"fill",outline:"outline",shape:"shape",shadow:"shadow",glow:"glow"},e.tileLibraryObjectPropertyNames={fillColor:"fillColor",fillTransparency:"transparency",fillImage:"image",outlineColor:"lineColor",outlineWeight:"weight",outlineTransparency:"transparency",tileShape:"tileShape",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",shadowColor:"color",shadowTransparency:"transparency",shadowPositionPreset:"shadowPositionPreset",shadowBlur:"shadowBlur",shadowAngle:"angle",shadowDistance:"shadowDistance",glowBlur:"shadowBlur",glowColor:"color",glowTransparency:"transparency",arrowheadSize:"arrowheadSize",arrowStemWidth:"arrowStemWidth",chevronAngle:"chevronAngle",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",parallelogramSlant:"parallelogramSlant",trapezoidSlant:"trapezoidSlant",hexagonSlant:"hexagonSlant",octagonSnipSize:"octagonSnipSize",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailPosition:"speechBubbleTailPosition",speechBubbleTailAngle:"speechBubbleTailAngle",rectangleRoundedCurve:"rectangleRoundedCurve",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabRoundCornerTopRight:"tabRoundCornerTopRight",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerBottom:"tabRoundCornerBottom"};var o=((n={show:i.show})[e.tileLibraryObjectPropertyNames.fillColor]=i.fill,n[e.tileLibraryObjectPropertyNames.fillTransparency]=i.transparency,n[e.tileLibraryObjectPropertyNames.fillImage]=i.image,n),r=((t={show:i.show})[e.tileLibraryObjectPropertyNames.outlineColor]=i.outlineColor,t[e.tileLibraryObjectPropertyNames.outlineTransparency]=i.lineTransparency,t[e.tileLibraryObjectPropertyNames.outlineWeight]=i.outlineWeight,t),n=((l={})[e.tileLibraryObjectPropertyNames.tileShape]={displayName:a("Visual_Shape"),type:{enumeration:e.shapeType.type},suppressFormatPainterCopy:!0},l[e.tileLibraryObjectPropertyNames.shapeRounding]={displayName:a("Visual_BasicShape_RoundEdges"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.arrowheadSize]={displayName:a("Visual_Shape_ArrowheadSize"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.arrowStemWidth]={displayName:a("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.chevronAngle]={displayName:a("Visual_Angle"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.isocelesTriangleTipPosition]={displayName:a("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.parallelogramSlant]={displayName:a("Visual_Shape_Slant"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.trapezoidSlant]={displayName:a("Visual_Shape_Slant"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.hexagonSlant]={displayName:a("Visual_Shape_Slant"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.octagonSnipSize]={displayName:a("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.speechBubbleHeight]={displayName:a("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.speechBubbleTailPosition]={displayName:a("Visual_Shape_ChatTailPosition"),type:{enumeration:e.SpeechBubbleTailPosition.type}},l[e.tileLibraryObjectPropertyNames.speechBubbleTailAngle]={displayName:a("Visual_Shape_ChatTailAngle"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.rectangleRoundedCurve]={displayName:a("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeTopRight]={displayName:a("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeTop]={displayName:a("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeBottom]={displayName:a("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.tabRoundCornerTop]={displayName:a("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.tabRoundCornerTopRight]={displayName:a("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.tabRoundCornerTop]={displayName:a("Visual_Shape_TabRoundingTop"),type:{integer:!0}},l[e.tileLibraryObjectPropertyNames.tabRoundCornerBottom]={displayName:a("Visual_Shape_TabRoundingBottom"),type:{integer:!0}},l),l=((t={show:i.show})[e.tileLibraryObjectPropertyNames.shadowColor]={displayName:a("Generic_Color"),type:{fill:{solid:{color:!0}}}},t[e.tileLibraryObjectPropertyNames.shadowTransparency]=i.transparency,t[e.tileLibraryObjectPropertyNames.shadowBlur]={displayName:a("Visual_DropShadow_Blur"),type:{numeric:!0}},t[e.tileLibraryObjectPropertyNames.shadowPositionPreset]={displayName:a("Visual_DropShadow_Preset"),type:{enumeration:e.tileShadowPositionPresetEnum}},t[e.tileLibraryObjectPropertyNames.shadowAngle]={displayName:a("Visual_Angle"),type:{numeric:!0}},t[e.tileLibraryObjectPropertyNames.shadowDistance]={displayName:a("Distance"),type:{numeric:!0}},t),i=((t={show:i.show})[e.tileLibraryObjectPropertyNames.glowColor]={displayName:a("Generic_Color"),type:{fill:{solid:{color:!0}}}},t[e.tileLibraryObjectPropertyNames.glowTransparency]=i.transparency,t[e.tileLibraryObjectPropertyNames.glowBlur]={displayName:a("Visual_DropShadow_Blur"),type:{numeric:!0}},t);e.tileLibraryObjectDescriptors=((t={})[e.tileLibraryObjectNames.fill]={displayName:a("Visual_Fill"),properties:o},t[e.tileLibraryObjectNames.outline]={displayName:a("Visual_Outline"),properties:r},t[e.tileLibraryObjectNames.shape]={displayName:a("Visual_Shape"),properties:n},t[e.tileLibraryObjectNames.shadow]={displayName:a("Visual_Shape_Shadow"),properties:l},t[e.tileLibraryObjectNames.glow]={displayName:a("Visual_Shape_Glow"),properties:i},t)})(s.visuals||(s.visuals={}))})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.tileContentProps={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},t.tileContentObjectNames={text:"text",icon:"icon"},t.tileContentObjectPropertyNames={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},t.tileContentTextObjectPropertyDescriptors=((e={show:i.show})[t.tileContentObjectPropertyNames.fontColor]=i.fontColor,e[t.tileContentObjectPropertyNames.fontSize]=i.fontSize,e[t.tileContentObjectPropertyNames.fontFamily]=i.fontFamily,e[t.tileContentObjectPropertyNames.text]={displayName:a("Text"),type:{text:!0},suppressFormatPainterCopy:!0},e[t.tileContentObjectPropertyNames.textVerticalAlignment]={displayName:a("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},e[t.tileContentObjectPropertyNames.textHorizontalAlignment]={displayName:a("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},e[t.tileContentObjectPropertyNames.textLeftMargin]={displayName:a("Visual_Margin_Left"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.textRightMargin]={displayName:a("Visual_Margin_Right"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.textTopMargin]={displayName:a("Visual_Margin_Top"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.textBottomMargin]={displayName:a("Visual_Margin_Bottom"),type:{integer:!0}},e),t.tileContentIconObjectPropertyDescriptors=((e={show:i.show,shapeType:{displayName:a("Icon"),type:{enumeration:t.ActionButtonType.type}}})[t.tileContentObjectPropertyNames.iconImage]=i.image,e[t.tileContentObjectPropertyNames.iconColor]={displayName:a("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},e[t.tileContentObjectPropertyNames.iconTransparency]=i.lineTransparency,e[t.tileContentObjectPropertyNames.iconWeight]={displayName:a("Visual_BasicShape_Weight"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.iconPlacement]={displayName:a("Visual_IconPlacement"),type:{enumeration:t.iconPlacement.type}},e[t.tileContentObjectPropertyNames.iconVerticalAlignment]={displayName:a("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},e[t.tileContentObjectPropertyNames.iconHorizontalAlignment]={displayName:a("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},e[t.tileContentObjectPropertyNames.iconLeftMargin]={displayName:a("Visual_Margin_Left"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.iconRightMargin]={displayName:a("Visual_Margin_Right"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.iconTopMargin]={displayName:a("Visual_Margin_Top"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.iconBottomMargin]={displayName:a("Visual_Margin_Bottom"),type:{integer:!0}},e[t.tileContentObjectPropertyNames.iconSize]={displayName:a("Visual_IconSize"),placeHolderText:a("Visual_Auto"),type:{numeric:!0}},e),t.tileContentObjectDescriptors=((e={})[t.tileContentObjectNames.text]={displayName:a("Text"),properties:t.tileContentTextObjectPropertyDescriptors},e[t.tileContentObjectNames.icon]={displayName:a("Icon"),properties:t.tileContentIconObjectPropertyDescriptors},e)})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).cartesianRoleNames={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},t.cartesianChartProps={scalarKey:{scalarKeyMin:e.data.scalarKeyMinPropertyIdentifier},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"}}}})(powerbi=powerbi||{}),(function(r){!(function(t){var e,a=r.data.createDisplayNameGetter,i=t.StandardObjectProperties;t.getActionButtonCapabilites=function(e){return e&&e.buttonTileFormatting?t.actionButtonCapabilities:t.legacyActionButtonCapabilities},t.actionButtonProps={fill:t.tileLibraryProps.fill,outline:t.tileLibraryProps.outline,text:t.tileContentProps.text,icon:t.tileContentProps.icon,shape:t.tileLibraryProps.shape,shadow:t.tileLibraryProps.shadow,glow:t.tileLibraryProps.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},t.actionButtonObjectNames={fill:t.tileLibraryObjectNames.fill,outline:t.tileLibraryObjectNames.outline,text:t.tileContentObjectNames.text,icon:t.tileContentObjectNames.icon,shape:t.tileLibraryObjectNames.shape,shadow:t.tileLibraryObjectNames.shadow,glow:t.tileLibraryObjectNames.glow,rotation:"rotation"},t.actionButtonObjectPropertyNames=__assign(__assign(__assign({},t.tileLibraryObjectPropertyNames),t.tileContentObjectPropertyNames),{rotation:"angle"}),t.actionButtonInstanceId={default:"default",hover:"hover",selected:"selected",disabled:"disabled"};var o=((e={})[t.actionButtonObjectPropertyNames.rotation]={displayName:a("Visual_BasicShape_Rotate"),type:{integer:!0}},e[t.actionButtonObjectPropertyNames.shapeRotation]={displayName:a("Visual_ShapeRotation"),type:{integer:!0}},e[t.actionButtonObjectPropertyNames.textRotation]={displayName:a("Visual_TextRotation"),type:{integer:!0}},e);t.actionButtonObjects=((e={})[t.actionButtonObjectNames.fill]=t.tileLibraryObjectDescriptors.fill,e[t.actionButtonObjectNames.outline]=t.tileLibraryObjectDescriptors.outline,e[t.actionButtonObjectNames.text]=t.tileContentObjectDescriptors.text,e[t.actionButtonObjectNames.icon]=t.tileContentObjectDescriptors.icon,e[t.actionButtonObjectNames.shape]=t.tileLibraryObjectDescriptors.shape,e[t.actionButtonObjectNames.shadow]=t.tileLibraryObjectDescriptors.shadow,e[t.actionButtonObjectNames.glow]=t.tileLibraryObjectDescriptors.glow,e[t.actionButtonObjectNames.rotation]={displayName:a("Visual_BasicShape_Rotate"),properties:o},e),t.actionButtonCapabilities={objects:t.actionButtonObjects,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button"},t.legacyActionButtonObjects={text:{displayName:a("ActionButton_Text"),properties:{show:i.show,text:{displayName:a("ActionButton_Text"),type:{text:!0},suppressFormatPainterCopy:!0},fontColor:i.fontColor,padding:{displayName:a("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:a("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:a("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},fontSize:i.fontSize,fontFamily:i.fontFamily}},icon:{displayName:a("Icon"),properties:{show:i.show,shapeType:{displayName:a("BasicShape_ToolTip"),type:{enumeration:t.ActionButtonType.type}},padding:{displayName:a("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:a("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:a("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},lineColor:{displayName:a("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineWeight:{displayName:a("Visual_BasicShape_Weight"),type:{integer:!0}},lineTransparency:i.lineTransparency}},outline:{displayName:a("Visual_Outline"),properties:{show:i.show,lineColor:i.outlineColor,transparency:i.lineTransparency,weight:i.outlineWeight,roundEdge:{displayName:a("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:a("Visual_Fill"),properties:{show:i.show,fillColor:{displayName:a("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:i.transparency,image:i.image}}},t.legacyActionButtonCapabilities={objects:t.legacyActionButtonObjects,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button"},t.legacyActionButtonProps={text:{show:{objectName:"text",propertyName:"show"},text:{objectName:"text",propertyName:"text"},fontColor:{objectName:"text",propertyName:"fontColor"},padding:{objectName:"text",propertyName:"padding"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},padding:{objectName:"icon",propertyName:"padding"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},fillColor:{objectName:"icon",propertyName:"fillColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},transparency:{objectName:"outline",propertyName:"transparency"},weight:{objectName:"outline",propertyName:"weight"},roundEdge:{objectName:"outline",propertyName:"roundEdge"}},fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}}}})(r.visuals||(r.visuals={}))})(powerbi=powerbi||{}),(function(e){(e=e.visuals||(e.visuals={})).animatedTextObjectDescs={general:{properties:{formatString:e.StandardObjectProperties.formatString}}},e.animatedNumberCapabilities={objects:e.animatedTextObjectDescs,dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,e=t.StandardObjectProperties,t.basicShapeCapabilities={objects:{line:{displayName:a("Visual_BasicShape_Line"),properties:{lineColor:{displayName:a("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},transparency:e.transparency,weight:{displayName:a("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:a("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:a("Visual_Fill"),properties:{show:e.show,fillColor:{displayName:a("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:e.transparency}},rotation:{displayName:a("Visual_BasicShape_Rotate"),properties:{angle:{displayName:a("Visual_BasicShape_Rotate"),type:{numeric:!0}}}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},t.basicShapeProps={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}})(powerbi=powerbi||{}),(function(r){!(function(e){var t,a=r.data.createDisplayNameGetter;e.shapeProps={fill:e.tileLibraryProps.fill,outline:e.tileLibraryProps.outline,text:e.tileContentProps.text,shape:__assign(__assign({},e.tileLibraryProps.shape),{linecapType:{objectName:"shape",propertyName:"linecapType"}}),shadow:e.tileLibraryProps.shadow,glow:e.tileLibraryProps.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},e.shapeObjectNames=__assign(__assign(__assign({},e.tileLibraryObjectNames),e.tileContentObjectNames),{rotation:"rotation"}),e.shapeObjectPropertyNames=__assign(__assign(__assign({},e.tileLibraryObjectPropertyNames),e.tileContentObjectPropertyNames),{linecapType:"linecapType",rotation:"angle"}),e.shapeInstanceId={default:"default"};var i=((o={show:e.StandardObjectProperties.show})[e.tileLibraryObjectPropertyNames.fillColor]=e.StandardObjectProperties.fill,o[e.tileLibraryObjectPropertyNames.fillTransparency]=e.StandardObjectProperties.transparency,o),o=((t={})[e.shapeObjectPropertyNames.rotation]={displayName:a("Visual_BasicShape_Rotate"),type:{integer:!0}},t[e.shapeObjectPropertyNames.shapeRotation]={displayName:a("Visual_ShapeRotation"),type:{integer:!0}},t[e.shapeObjectPropertyNames.textRotation]={displayName:a("Visual_TextRotation"),type:{integer:!0}},t);e.shapeObjectDescriptors=((t={})[e.shapeObjectNames.fill]={displayName:a("Visual_Fill"),properties:i},t[e.shapeObjectNames.outline]=e.tileLibraryObjectDescriptors.outline,t[e.shapeObjectNames.text]=e.tileContentObjectDescriptors.text,t[e.shapeObjectNames.shape]={displayName:a("Visual_Shape"),properties:__assign(__assign({},e.tileLibraryObjectDescriptors.shape.properties),((i={})[e.shapeObjectPropertyNames.linecapType]={displayName:a("LinecapType"),type:{enumeration:e.linecapTypeEnum}},i))},t[e.shapeObjectNames.shadow]=e.tileLibraryObjectDescriptors.shadow,t[e.shapeObjectNames.glow]=e.tileLibraryObjectDescriptors.glow,t[e.shapeObjectNames.rotation]={displayName:a("Visual_BasicShape_Rotate"),properties:o},t),e.shapeCapabilities={objects:e.shapeObjectDescriptors,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},e.shapeObjectProps=e.builder.getPropertyIdentifiers(e.shapeObjectDescriptors)})(r.visuals||(r.visuals={}))})(powerbi=powerbi||{}),(function(n){var l,s,u;l=n.visuals||(n.visuals={}),s=n.data.createDisplayNameGetter,u=l.StandardObjectProperties,l.columnRoleNames={category:"Category",series:"Series",rows:l.cartesianRoleNames.rows,y:"Y",gradient:"Gradient",tooltips:"Tooltips"},l.getColumnChartCapabilities=function(e,t,a,o){void 0===t&&(t=!1),void 0===a&&(a=!1);var i=o&&o.cartesianConditionalFormatting,r=o&&o.useModernFormatPane,r={dataRoles:(function(e,t,a,i){i=[{name:l.columnRoleNames.category,kind:n.VisualDataRoleKind.Grouping,displayName:s(i?e?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:s("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:l.columnRoleNames.series,kind:n.VisualDataRoleKind.Grouping,displayName:s("Role_DisplayName_Legend"),displayOrder:i?3:2,description:s("Role_DisplayName_LegendDescription")},{name:l.columnRoleNames.y,kind:n.VisualDataRoleKind.Measure,displayName:s(i?e?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:i?2:3,description:s("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];a||t||i.push({name:l.columnRoleNames.gradient,kind:n.VisualDataRoleKind.Measure,displayName:s("Role_DisplayName_Gradient"),displayOrder:4,description:s("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});null!=o&&o.cartesianMultiples&&i.push({name:l.columnRoleNames.rows,kind:n.VisualDataRoleKind.Grouping,displayName:s("Role_DisplayName_SmallMultiples"),displayOrder:5,description:s("Role_DisplayName_SmallMultiples_Description")});return i.push({name:l.columnRoleNames.tooltips,kind:n.VisualDataRoleKind.Measure,displayName:s("Role_DisplayName_Tooltips"),displayOrder:6,description:s("Role_Tooltips_Description"),joinPredicate:0}),i})(e=void 0===e?!1:e,a,i,r),objects:((r={general:{displayName:s("Visual_General"),properties:{formatString:u.formatString,responsive:u.responsive,responsiveLegacy:u.responsiveLegacy}},legend:a?l.StandardObjectDescriptors.legend:{displayName:l.StandardObjectDescriptors.legend.displayName,description:l.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},l.StandardObjectDescriptors.legend.properties),l.GradientLegendObjectDescriptors.legend.properties)},subheader:__assign({},l.StandardObjectDescriptors.subheader)})[l.SmallMultiplesUtils.LayoutObjectName]=__assign({},l.StandardObjectDescriptors.smallMultiplesLayout),r.categoryAxis={displayName:s(e?"Visual_YAxis":"Visual_XAxis"),properties:{show:u.show,position:u.yAxisPosition,axisScale:u.axisScale,start:u.axisStart,end:u.axisEnd,axisType:u.axisType,showAxisTitle:{displayName:s("Visual_Axis_Title"),description:s(e?"Visual_Axis_YTitleDescription":"Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:u.axisStyle,labelColor:u.labelColor,fontFamily:u.fontFamily,fontSize:u.fontSize,bold:u.bold,italic:u.italic,underline:u.underline,invertAxis:u.invertAxis,labelDisplayUnits:u.labelDisplayUnits,labelPrecision:u.labelPrecision,concatenateLabels:{displayName:s("Visual_Axis_ConcatenateLabels"),description:s("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:u.preferredCategoryWidth,maxMarginFactor:u.maxMarginFactor,titleColor:u.titleColor,titleFontFamily:u.fontFamily,titleFontSize:u.titleFontSize,titleBold:u.bold,titleItalic:u.italic,titleUnderline:u.underline,titleText:u.titleText,gridlineShow:__assign(__assign({},u.show),{displayName:s("Visual_Gridline_Show")}),gridlineColor:u.lineColor,gridlineThickness:u.strokeWidth,gridlineStyle:u.lineStyle,innerPadding:u.innerPadding,logAxisScale:u.logAxisScale,switchAxisPosition:u.switchAxisPosition}},r.valueAxis={displayName:s(e?"Visual_XAxis":"Visual_YAxis"),properties:{show:u.show,position:u.yAxisPosition,axisScale:u.axisScale,start:u.axisStart,end:u.axisEnd,invertAxis:u.invertAxis,showAxisTitle:{displayName:s("Visual_Axis_Title"),description:s(e?"Visual_Axis_YTitleDescription":"Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:u.axisStyle,labelColor:u.labelColor,fontFamily:u.fontFamily,fontSize:u.fontSize,bold:u.bold,italic:u.italic,underline:u.underline,labelDisplayUnits:u.labelDisplayUnits,labelPrecision:u.labelPrecision,titleColor:u.titleColor,titleFontFamily:u.fontFamily,titleFontSize:u.titleFontSize,titleBold:u.bold,titleItalic:u.italic,titleUnderline:u.underline,titleText:u.titleText,gridlineShow:__assign(__assign({},u.show),{displayName:s("Visual_Gridline_Show")}),gridlineColor:u.lineColor,gridlineThickness:u.strokeWidth,gridlineStyle:u.lineStyle,logAxisScale:u.logAxisScale,switchAxisPosition:u.switchAxisPosition}},r.zoom={displayName:l.StandardObjectDescriptors.zoom.displayName,properties:{show:l.StandardObjectDescriptors.zoom.properties.show,showOnCategoryAxis:{displayName:s(e?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:l.StandardObjectDescriptors.zoom.properties.categoryMin,categoryMax:l.StandardObjectDescriptors.zoom.properties.categoryMax,categorySize:l.StandardObjectDescriptors.zoom.properties.categorySize,showOnValueAxis:{displayName:s(e?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:l.StandardObjectDescriptors.zoom.properties.valueMin,valueMax:l.StandardObjectDescriptors.zoom.properties.valueMax,valueSize:l.StandardObjectDescriptors.zoom.properties.valueSize,showLabels:l.StandardObjectDescriptors.zoom.properties.showLabels,showTooltip:l.StandardObjectDescriptors.zoom.properties.showTooltip}},r.dataPoint={displayName:s("Visual_DataPoint"),description:s("Visual_DataPointDescription"),properties:{defaultColor:u.defaultColor,showAllDataPoints:u.showAllDataPoints,fill:u.defaultCategoryColor,fillRule:{displayName:s("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:l.columnRoleNames.gradient,output:{property:"fill",selector:[l.columnRoleNames.category]}}}}},r.labels={displayName:s("Visual_DataPointsLabels"),description:s("Visual_DataPointsLabelsDescription"),properties:{show:u.show,showSeries:{displayName:s("Visual_Show"),type:{bool:!0}},color:u.dataColor,labelDisplayUnits:u.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},u.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:s("Visual_LabelOrientation"),type:{enumeration:l.labelOrientation.type}},labelPosition:{displayName:s("Visual_Position"),type:{enumeration:l.labelPosition.type}},enableBackground:u.labelEnableBackground,backgroundColor:u.labelBackgroundColor,backgroundTransparency:u.labelBackgroundTransparency,labelOverflow:{displayName:s("Visual_LabelOverflow"),description:s("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:s("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:u.fontSize,bold:u.bold,italic:u.italic,underline:u.underline,fontFamily:u.fontFamily,labelDensity:{displayName:s("Visual_LabelDensity"),type:{integer:!0}}}},r.totals={properties:void 0},r.plotArea={displayName:s("Visual_Plot"),properties:{transparency:u.transparency,image:u.image}},r.y1AxisReferenceLine={displayName:s("Visual_Reference_Line"),description:s("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:u.show,displayName:{displayName:s("Name"),description:s("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:s("Visual_Reference_Line_Value"),description:s("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:u.referenceLineColor,transparency:{displayName:s("Visual_Reference_Line_Transparency"),description:s("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:u.lineStyle,position:u.referenceLinePosition,dataLabelShow:u.dataLabelShow,dataLabelText:u.dataLabelText,dataLabelColor:u.dataLabelColor,dataLabelDecimalPoints:u.dataLabelDecimalPoints,dataLabelHorizontalPosition:u.dataLabelHorizontalPosition,dataLabelVerticalPosition:u.dataLabelVerticalPosition,dataLabelDisplayUnits:u.dataLabelDisplayUnits}},r.xAxisReferenceLine={displayName:s("Visual_Reference_Line_X"),description:s("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:u.show,displayName:{displayName:s("Name"),description:s("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:s("Visual_Reference_Line_Value"),description:s("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:u.lineColor,transparency:{displayName:s("Visual_Reference_Line_Transparency"),description:s("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:u.lineStyle,position:u.referenceLinePosition,shadeRegion:u.shadeRegion,shadeColor:u.shadeColor,shadeTransparency:u.shadeTransparency,dataLabelShow:u.dataLabelShow,dataLabelColor:u.dataLabelColor,dataLabelText:u.dataLabelText,dataLabelDecimalPoints:u.dataLabelDecimalPoints,dataLabelHorizontalPosition:u.dataLabelHorizontalPosition,dataLabelVerticalPosition:u.dataLabelVerticalPosition,dataLabelDisplayUnits:u.dataLabelDisplayUnits}},r.trend={displayName:s("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:{type:{bool:!0}},displayName:{displayName:s("Name"),description:s("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},lineColor:{displayName:s("Visual_Trend_Line_Color"),description:s("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:s("Visual_Trend_Line_Transparency"),description:s("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:s("Style"),description:s("Visual_Trend_Line_Style_Description"),type:{enumeration:l.lineStyle.type}},combineSeries:{displayName:s("Visual_Trend_Line_Combine_Series"),description:s("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:s("Visual_Trend_Line_UseHighlightValues"),description:s("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}},r.error={displayName:l.StandardObjectDescriptors.error.displayName,objectCategory:l.StandardObjectDescriptors.error.objectCategory,suppressFormatPainterCopy:l.StandardObjectDescriptors.error.suppressFormatPainterCopy,properties:{enabled:l.StandardObjectDescriptors.error.properties.enabled,errorRange:l.StandardObjectDescriptors.error.properties.errorRange,barShow:l.StandardObjectDescriptors.error.properties.barShow,barEndStyle:l.StandardObjectDescriptors.error.properties.barEndStyle,barColor:l.StandardObjectDescriptors.error.properties.barColor,barWidth:l.StandardObjectDescriptors.error.properties.barWidth,barTransparency:l.StandardObjectDescriptors.error.properties.barTransparency,barBorderColor:l.StandardObjectDescriptors.error.properties.barBorderColor,barBorderSize:l.StandardObjectDescriptors.error.properties.barBorderSize,barBorderTransparency:l.StandardObjectDescriptors.error.properties.barBorderTransparency,markerShow:l.StandardObjectDescriptors.error.properties.markerShow,markerShape:l.StandardObjectDescriptors.error.properties.markerShape,markerSize:l.StandardObjectDescriptors.error.properties.markerSize,markerMatchSeriesColor:l.StandardObjectDescriptors.error.properties.markerMatchSeriesColor,markerColor:l.StandardObjectDescriptors.error.properties.markerColor,markerTransparency:l.StandardObjectDescriptors.error.properties.markerTransparency,tooltipShow:l.StandardObjectDescriptors.error.properties.tooltipShow,tooltipFormat:l.StandardObjectDescriptors.error.properties.tooltipFormat}},r.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},r),dataViewMappings:__spreadArray(__spreadArray([],(function(){var e=[];o&&o.cartesianMultiples&&e.push(function(){var e;return{conditions:[((e={})[l.columnRoleNames.rows]={min:1},e[l.columnRoleNames.series]={max:0},e),((e={})[l.columnRoleNames.rows]={min:1},e[l.columnRoleNames.series]={min:1,max:1},e[l.columnRoleNames.y]={max:1},e),((e={})[l.columnRoleNames.rows]={min:1},e[l.columnRoleNames.series]={min:1,max:1},e[l.columnRoleNames.y]={max:0},e)],matrix:{rows:{select:[{composite:[{for:{in:l.columnRoleNames.rows}}],dataReductionAlgorithm:{window:{count:l.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultWindowSize}}},{composite:[{for:{in:l.columnRoleNames.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:l.columnRoleNames.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:l.columnRoleNames.y}},{for:{in:l.columnRoleNames.tooltips}}]},dataVolume:6}}}());return e.push(function(){var e;return{conditions:[((e={})[l.columnRoleNames.rows]={max:0},e[l.columnRoleNames.series]={max:0},e[l.columnRoleNames.gradient]={max:0},e),((e={})[l.columnRoleNames.rows]={max:0},e[l.columnRoleNames.series]={min:1,max:1},e[l.columnRoleNames.y]={max:1},e[l.columnRoleNames.gradient]={max:0},e),((e={})[l.columnRoleNames.rows]={max:0},e[l.columnRoleNames.series]={max:0},e[l.columnRoleNames.y]={min:0,max:1},e[l.columnRoleNames.gradient]={max:1},e)],categorical:{categories:{for:{in:l.columnRoleNames.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:l.columnRoleNames.series,select:[{for:{in:l.columnRoleNames.y}},{bind:{to:l.columnRoleNames.gradient}},{for:{in:l.columnRoleNames.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}}()),e})()),[{conditions:[((e={})[l.cartesianRoleNames.rows]={max:0},e[l.columnRoleNames.series]={max:0},e[l.columnRoleNames.gradient]={max:0},e),((e={})[l.cartesianRoleNames.rows]={max:0},e[l.columnRoleNames.series]={min:1,max:1},e[l.columnRoleNames.y]={max:1},e[l.columnRoleNames.gradient]={max:0},e),((e={})[l.cartesianRoleNames.rows]={max:0},e[l.columnRoleNames.series]={max:0},e[l.columnRoleNames.y]={min:0,max:1},e[l.columnRoleNames.gradient]={max:1},e)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}]),supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[l.columnRoleNames.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[l.columnRoleNames.category]},grouping:{groupingRules:[{condition:((r={})[l.columnRoleNames.category]={min:1,max:1},r[l.columnRoleNames.y]={min:1,max:1},r[l.columnRoleNames.series]={max:0},r[l.columnRoleNames.gradient]={max:0},r),groupingTargetRole:l.columnRoleNames.series,kind:0},{condition:((r={})[l.columnRoleNames.category]={min:1,max:1},r[l.columnRoleNames.y]={min:1},r[l.columnRoleNames.series]={max:0},r[l.columnRoleNames.gradient]={max:0},r),groupingTargetRole:l.columnRoleNames.category,kind:1},{condition:((r={})[l.columnRoleNames.category]={min:1,max:1},r[l.columnRoleNames.y]={min:0,max:1},r[l.columnRoleNames.series]={max:0},r[l.columnRoleNames.gradient]={max:1},r),groupingTargetRole:l.columnRoleNames.category,kind:1},{condition:((r={})[l.columnRoleNames.category]={max:0},r[l.columnRoleNames.y]={min:1,max:1},r[l.columnRoleNames.series]={max:1},r[l.columnRoleNames.gradient]={max:0},r),groupingTargetRole:l.columnRoleNames.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0};return t&&!a?r.objects.totals=l.StandardObjectDescriptors.totalsWithNet:delete r.objects.totals,t||(r.objects.referenceLine={displayName:s("Visual_Reference_Line"),description:s("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:u.show,displayName:{displayName:s("Name"),description:s("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:s("Visual_Reference_Line_Value"),description:s("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:u.referenceLineColor,transparency:{displayName:s("Visual_Reference_Line_Transparency"),description:s("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:u.lineStyle,position:u.referenceLinePosition,dataLabelShow:u.dataLabelShow,dataLabelText:u.dataLabelText,dataLabelColor:u.dataLabelColor,dataLabelDecimalPoints:u.dataLabelDecimalPoints,dataLabelHorizontalPosition:u.dataLabelHorizontalPosition,dataLabelVerticalPosition:u.dataLabelVerticalPosition,dataLabelDisplayUnits:u.dataLabelDisplayUnits}}),a&&(delete r.objects.valueAxis,r.objects.ribbonChart={displayName:s("RibbonChart"),description:s("RibbonChart_Description"),properties:{colorBands:{displayName:s("RibbonChart_Color"),description:s("RibbonChart_ColorDescription"),type:{bool:!0}},showBorder:{displayName:s("Visual_Border"),description:s("RibbonChart_BorderDescription"),type:{bool:!0}},seriesGapRatio:{displayName:s("RibbonChart_SeriesGapWidth"),description:s("RibbonChart_SeriesGapWidthDescription"),type:{integer:!0}},bandsTransparency:{displayName:s("Transparency"),description:s("RibbonChart_ColorTransparencyDescription"),type:{integer:!0}}}}),r},l.columnChartProps={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},showBorder:{objectName:"ribbonChart",propertyName:"showBorder"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},innerPadding:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"}},labels:{show:{objectName:"labels",propertyName:"show"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},ribbonChart:{colorBands:{objectName:"ribbonChart",propertyName:"colorBands"},bandsTransparency:{objectName:"ribbonChart",propertyName:"bandsTransparency"}},series:{seriesGapRatio:{objectName:"ribbonChart",propertyName:"seriesGapRatio"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}})(powerbi=powerbi||{}),(function(o){var r,e,n,t;function l(e){var t={rows:{select:[{composite:[{for:{in:r.comboChartRoleNames.rows}}],dataReductionAlgorithm:{window:{count:r.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultWindowSize}}},{composite:[{for:{in:r.comboChartRoleNames.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:r.comboChartRoleNames.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:r.comboChartRoleNames.y}},{for:{in:r.comboChartRoleNames.tooltips}}]},dataVolume:6};return e?t.rows.values={select:[{for:{in:r.comboChartRoleNames.y2}}]}:t.values.select.push({for:{in:r.comboChartRoleNames.y2}}),t}r=o.visuals||(o.visuals={}),n=o.data.createDisplayNameGetter,t=r.StandardObjectProperties,r.comboChartRoleNames={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips",rows:"Rows"},r.ComboChartObjectDescriptors=((e={general:{displayName:n("Visual_General"),properties:{formatString:t.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:t.responsive,responsiveLegacy:t.responsiveLegacy}},legend:{displayName:r.StandardObjectDescriptors.legend.displayName,description:r.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},r.StandardObjectDescriptors.legend.properties),{legendMarkerRendering:t.legendMarkerRendering,defaultToCircle:t.defaultToCircle,matchLineColor:t.matchLineColor})},subheader:__assign({},r.StandardObjectDescriptors.subheader)})[r.SmallMultiplesUtils.LayoutObjectName]=__assign({},r.StandardObjectDescriptors.smallMultiplesLayout),e.categoryAxis={displayName:n("Visual_XAxis"),properties:{show:t.show,axisScale:t.axisScale,start:t.axisStart,end:t.axisEnd,axisType:t.axisType,showAxisTitle:{displayName:n("Visual_Axis_Title"),description:n("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:t.axisStyle,labelColor:t.labelColor,fontFamily:t.fontFamily,fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,invertAxis:t.invertAxis,labelDisplayUnits:t.labelDisplayUnits,labelPrecision:t.labelPrecision,concatenateLabels:{displayName:n("Visual_Axis_ConcatenateLabels"),description:n("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:t.preferredCategoryWidth,maxMarginFactor:t.maxMarginFactor,titleColor:t.titleColor,titleFontFamily:t.fontFamily,titleFontSize:t.titleFontSize,titleBold:t.bold,titleItalic:t.italic,titleUnderline:t.underline,titleText:t.titleText,gridlineShow:__assign(__assign({},t.show),{displayName:n("Visual_Gridline_Show")}),gridlineColor:t.lineColor,gridlineThickness:t.strokeWidth,gridlineStyle:t.lineStyle,innerPadding:t.innerPadding,logAxisScale:t.logAxisScale}},e.valueAxis={displayName:n("Visual_YAxis"),properties:__assign({show:t.show,axisLabel:{displayName:n("Visual_YAxis_ColumnTitle"),type:{none:!0}},position:t.yAxisPosition,axisScale:t.axisScale,start:t.axisStart,end:t.axisEnd,invertAxis:t.invertAxis,showAxisTitle:{displayName:n("Visual_Axis_Title"),description:n("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:t.axisStyle,labelColor:t.labelColor,fontFamily:t.fontFamily,fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,labelDisplayUnits:t.labelDisplayUnits,labelPrecision:t.labelPrecision,titleColor:t.titleColor,titleFontFamily:t.fontFamily,titleFontSize:t.titleFontSize,titleBold:t.bold,titleItalic:t.italic,titleUnderline:t.underline,titleText:t.titleText,gridlineShow:__assign(__assign({},t.show),{displayName:n("Visual_Gridline_Show")}),gridlineColor:t.lineColor,gridlineThickness:t.strokeWidth,gridlineStyle:t.lineStyle,logAxisScale:t.logAxisScale,switchAxisPosition:t.switchAxisPosition},r.SecondaryAxisProperties)},e.zoom={displayName:r.StandardObjectDescriptors.zoom.displayName,properties:__assign(__assign({},r.StandardObjectDescriptors.zoom.properties),r.SecondaryAxisZoomObjectDescriptors.zoom.properties)},e.dataPoint={displayName:n("Visual_DataPoint"),description:n("Visual_DataPointDescription"),properties:{defaultColor:__assign(__assign({},t.defaultColor),{displayName:n("Visual_DefaultColumnColor")}),showAllDataPoints:t.showAllDataPoints,fill:t.defaultCategoryColor,fillRule:{displayName:n("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},e.labels={displayName:n("Visual_DataPointsLabels"),description:n("Visual_DataPointsLabelsDescription"),properties:{show:t.show,showSeries:{displayName:n("Visual_Show"),type:{bool:!0}},color:t.dataColor,labelDisplayUnits:t.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},t.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:n("Visual_LabelOrientation"),type:{enumeration:r.labelOrientation.type}},labelPosition:{displayName:n("Visual_Position"),type:{enumeration:r.labelPosition.type}},fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,fontFamily:t.fontFamily,labelDensity:{displayName:n("Visual_LabelDensity"),type:{integer:!0}},enableBackground:t.labelEnableBackground,backgroundColor:t.labelBackgroundColor,backgroundTransparency:t.labelBackgroundTransparency,showAll:{displayName:n("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},e.totals=r.StandardObjectDescriptors.totalsWithNet,e.error=r.StandardObjectDescriptors.error,e.lineStyles={displayName:n("Visual_Shapes"),description:n("Visual_ShapesDescription"),properties:{shadeArea:{displayName:n("Visual_Shapes_ShadeArea"),type:{bool:!0}},strokeWidth:t.strokeWidth,strokeLineJoin:t.strokeLineJoin,lineStyle:t.lineStyle,showMarker:t.showMarker,markerShape:t.markerShape,markerSize:t.markerSize,markerColor:t.markerColor,stepped:t.stepped,showSeries:{displayName:n("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},e.plotArea={displayName:n("Visual_Plot"),properties:{transparency:t.transparency,image:t.image}},e.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},e.xAxisReferenceLine={displayName:n("Visual_Reference_Line_X"),description:n("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:t.show,displayName:{displayName:n("Name"),description:n("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:n("Visual_Reference_Line_Value"),description:n("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:t.lineColor,transparency:{displayName:n("Visual_Reference_Line_Transparency"),description:n("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:t.lineStyle,position:t.referenceLinePosition,shadeRegion:t.shadeRegion,shadeColor:t.shadeColor,shadeTransparency:t.shadeTransparency,dataLabelShow:t.dataLabelShow,dataLabelColor:t.dataLabelColor,dataLabelText:t.dataLabelText,dataLabelDecimalPoints:t.dataLabelDecimalPoints,dataLabelHorizontalPosition:t.dataLabelHorizontalPosition,dataLabelVerticalPosition:t.dataLabelVerticalPosition,dataLabelDisplayUnits:t.dataLabelDisplayUnits}},e),r.comboChartObjectProps=r.builder.getPropertyIdentifiers(r.ComboChartObjectDescriptors),r.getComboChartCapabilities=function(e,t){var a=__assign({},r.ComboChartObjectDescriptors),i=t&&t.useModernFormatPane,i=[{name:r.comboChartRoleNames.category,kind:o.VisualDataRoleKind.Grouping,displayName:n(i?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:n("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:r.comboChartRoleNames.series,kind:o.VisualDataRoleKind.Grouping,displayName:n(i?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:i?4:2},{name:r.comboChartRoleNames.y,kind:o.VisualDataRoleKind.Measure,displayName:n(i?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:i?2:3,description:n("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:r.comboChartRoleNames.y2,kind:o.VisualDataRoleKind.Measure,displayName:n(i?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:i?3:4,description:n("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];return t&&t.cartesianMultiples&&t.comboMultiples&&i.push({name:r.comboChartRoleNames.rows,kind:o.VisualDataRoleKind.Grouping,displayName:n("Role_DisplayName_SmallMultiples"),displayOrder:5,description:n("Role_DisplayName_SmallMultiples_Description")}),i.push({name:r.comboChartRoleNames.tooltips,kind:o.VisualDataRoleKind.Measure,displayName:n("Role_DisplayName_Tooltips"),displayOrder:6,description:n("Role_Tooltips_Description"),joinPredicate:0}),a={dataRoles:i,objects:a,dataViewMappings:(function(e){var t=(function(){var e;return[{conditions:[((e={Series:{max:0}})[r.comboChartRoleNames.rows]={max:0},e),((e={Series:{min:1,max:1},Y:{max:1}})[r.comboChartRoleNames.rows]={max:0},e)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[((e={Series:{max:0},Y2:{min:1}})[r.comboChartRoleNames.rows]={max:0},e),((e={Series:{min:1,max:1},Y:{max:1},Y2:{min:1}})[r.comboChartRoleNames.rows]={max:0},e)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[((e={Series:{max:0}})[r.comboChartRoleNames.rows]={max:0},e),((e={Series:{min:1,max:1},Y:{max:1}})[r.comboChartRoleNames.rows]={max:0},e)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}]})();e&&e.cartesianMultiples&&e.comboMultiples&&t.push.apply(t,(function(){var e;return[{conditions:[((e={})[r.comboChartRoleNames.series]={max:0},e[r.comboChartRoleNames.rows]={min:1},e)],matrix:l(!1)},{conditions:[((e={})[r.comboChartRoleNames.series]={min:1,max:1},e[r.comboChartRoleNames.y]={max:1},e[r.comboChartRoleNames.rows]={min:1},e)],matrix:l(!0)}]})());return t})(t),supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0},e?a.objects.totals=r.StandardObjectDescriptors.totalsWithNet:(delete a.objects.totals,a.objects.trend={displayName:n("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:{displayName:n("Visual_Trend_Line_Color"),description:n("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:n("Visual_Trend_Line_Transparency"),description:n("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:n("Style"),description:n("Visual_Trend_Line_Style_Description"),type:{enumeration:r.lineStyle.type}},combineSeries:{displayName:n("Visual_Trend_Line_Combine_Series"),description:n("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:n("Visual_Trend_Line_UseHighlightValues"),description:n("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}),t&&t.lineChartSeriesLabels&&(a.objects.seriesLabels={displayName:n("Visual_SeriesLabels"),description:n("Visual_SeriesDescription"),properties:__assign({},r.SeriesObjectDescriptors.seriesLabels.properties)}),a},r.comboChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},valueAxis:{secShow:{objectName:"valueAxis",propertyName:"secShow"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}}}})(powerbi=powerbi||{}),(function(a){var i,o,r;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,r=i.StandardObjectProperties,i.legacyComboChartRoleNames={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips"},i.getLegacyComboChartCapabilities=function(e){var t={dataRoles:[{name:i.legacyComboChartRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_ComboChart_Category"),description:o("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:i.legacyComboChartRoleNames.series,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_ComboChart_Series")},{name:i.legacyComboChartRoleNames.y,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_ComboChart_Y"),description:o("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:i.legacyComboChartRoleNames.y2,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_ComboChart_Y2"),description:o("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:i.legacyComboChartRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:o("Visual_General"),properties:{formatString:r.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:r.responsive,responsiveLegacy:r.responsiveLegacy}},legend:{displayName:i.StandardObjectDescriptors.legend.displayName,description:i.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},i.StandardObjectDescriptors.legend.properties),{legendMarkerRendering:r.legendMarkerRendering,defaultToCircle:r.defaultToCircle,matchLineColor:r.matchLineColor})},categoryAxis:{displayName:o("Visual_XAxis"),properties:{show:r.show,axisScale:r.axisScale,start:r.axisStart,end:r.axisEnd,axisType:r.axisType,showAxisTitle:{displayName:o("Visual_Axis_Title"),description:o("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:r.axisStyle,labelColor:r.labelColor,fontFamily:r.fontFamily,fontSize:r.fontSize,labelDisplayUnits:r.labelDisplayUnits,labelPrecision:r.labelPrecision,concatenateLabels:{displayName:o("Visual_Axis_ConcatenateLabels"),description:o("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:r.preferredCategoryWidth,maxMarginFactor:r.maxMarginFactor,titleColor:r.titleColor,titleFontFamily:r.fontFamily,titleFontSize:r.titleFontSize,titleText:r.titleText,gridlineShow:__assign(__assign({},r.show),{displayName:o("Visual_Gridline_Show")}),gridlineColor:r.lineColor,gridlineThickness:r.strokeWidth,gridlineStyle:r.lineStyle,innerPadding:r.innerPadding}},valueAxis:{displayName:o("Visual_YAxis"),properties:__assign({show:r.show,axisLabel:{displayName:o("Visual_YAxis_ColumnTitle"),type:{none:!0}},position:r.yAxisPosition,axisScale:r.axisScale,start:r.axisStart,end:r.axisEnd,invertAxis:r.invertAxis,showAxisTitle:{displayName:o("Visual_Axis_Title"),description:o("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:r.axisStyle,labelColor:r.labelColor,fontFamily:r.fontFamily,fontSize:r.fontSize,labelDisplayUnits:r.labelDisplayUnits,labelPrecision:r.labelPrecision,titleColor:r.titleColor,titleFontFamily:r.fontFamily,titleFontSize:r.titleFontSize,titleText:r.titleText,gridlineShow:__assign(__assign({},r.show),{displayName:o("Visual_Gridline_Show")}),gridlineColor:r.lineColor,gridlineThickness:r.strokeWidth,gridlineStyle:r.lineStyle},i.SecondaryAxisProperties)},zoom:{displayName:i.StandardObjectDescriptors.zoom.displayName,properties:__assign(__assign({},i.StandardObjectDescriptors.zoom.properties),i.SecondaryAxisZoomObjectDescriptors.zoom.properties)},dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:__assign(__assign({},r.defaultColor),{displayName:o("Visual_DefaultColumnColor")}),showAllDataPoints:r.showAllDataPoints,fill:r.defaultCategoryColor}},labels:{displayName:o("Visual_DataPointsLabels"),description:o("Visual_DataPointsLabelsDescription"),properties:{show:r.show,showSeries:{displayName:o("Visual_Show"),type:{bool:!0}},color:r.dataColor,labelDisplayUnits:r.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},r.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:o("Visual_LabelOrientation"),type:{enumeration:i.labelOrientation.type}},labelPosition:{displayName:o("Visual_Position"),type:{enumeration:i.labelPosition.type}},fontSize:r.fontSize,fontFamily:r.fontFamily,labelDensity:{displayName:o("Visual_LabelDensity"),type:{integer:!0}},enableBackground:r.labelEnableBackground,backgroundColor:r.labelBackgroundColor,backgroundTransparency:r.labelBackgroundTransparency,showAll:{displayName:o("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},totals:{properties:void 0},lineStyles:{displayName:o("Visual_Shapes"),description:o("Visual_ShapesDescription"),properties:{shadeArea:{displayName:o("Visual_Shapes_ShadeArea"),type:{bool:!0}},strokeWidth:r.strokeWidth,strokeLineJoin:r.strokeLineJoin,lineStyle:r.lineStyle,showMarker:r.showMarker,markerShape:r.markerShape,markerSize:r.markerSize,markerColor:r.markerColor,stepped:r.stepped,showSeries:{displayName:o("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:o("Visual_Plot"),properties:{transparency:r.transparency,image:r.image}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Series:{max:0}},{Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},Y2:{min:1}},{Series:{min:1,max:1},Y:{max:1},Y2:{min:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0}},{Series:{min:1,max:1},Y:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0};return e?t.objects.totals=i.StandardObjectDescriptors.totalsWithNet:(delete t.objects.totals,t.objects.trend={displayName:o("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:{displayName:o("Visual_Trend_Line_Color"),description:o("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:o("Visual_Trend_Line_Transparency"),description:o("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:o("Style"),description:o("Visual_Trend_Line_Style_Description"),type:{enumeration:i.lineStyle.type}},combineSeries:{displayName:o("Visual_Trend_Line_Combine_Series"),description:o("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:o("Visual_Trend_Line_UseHighlightValues"),description:o("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}),t},i.legacyComboChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},valueAxis:{secShow:{objectName:"valueAxis",propertyName:"secShow"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}}}})(powerbi=powerbi||{}),(function(t){var a,i,e;a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,e=a.StandardObjectProperties,a.donutRoleNames={category:"Category",series:"Series",y:"Y",tootips:"Tooltips"},a.donutChartObjectDescriptors={general:{displayName:i("Visual_General"),properties:{formatString:e.formatString}},legend:a.StandardObjectDescriptors.legend,dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{defaultColor:e.defaultColor,fill:e.fill}},labels:{displayName:i("Visual_DetailLabels"),properties:{show:e.show,color:e.dataColor,labelDisplayUnits:e.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},e.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:__assign(__assign({},e.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:__assign(__assign({},e.fontSize),{suppressFormatPainterCopy:!0}),bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,labelStyle:{displayName:i("Visual_LabelStyle"),type:{enumeration:a.labelStyle.type}},position:{displayName:i("Visual_DonutLabelPosition"),type:{enumeration:a.donutLabelPosition.type}},overflow:{displayName:i("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:i("Visual_Background"),type:{enumeration:a.donutLabelBackground.type}}}},slices:{displayName:i("Visual_Shapes"),description:i("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:i("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:i("Visual_DonutStartAngle"),type:{integer:!0}},borderWidth:{displayName:i("Visual_DonutBorderWidth"),type:{integer:!0}},borderColor:{displayName:i("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},explode:{displayName:i("Visual_DonutExplode"),type:{integer:!0}}}}},a.donutChartObjectDescriptorProps=a.builder.getPropertyIdentifiers(a.donutChartObjectDescriptors),a.getDonutChartCapabilities=function(e){return{dataRoles:(e=e&&e.useModernFormatPane,[{name:a.donutRoleNames.category,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Legend"),displayOrder:1,description:i("Role_DisplayName_LegendDescription")},{name:a.donutRoleNames.series,kind:t.VisualDataRoleKind.Grouping,displayName:i("Details"),displayOrder:e?3:2,description:i("Role_DisplayName_DetailsDonutChartDescription")},{name:a.donutRoleNames.y,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Values"),displayOrder:e?2:3,description:i("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:a.donutRoleNames.tootips,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),displayOrder:4,description:i("Role_Tooltips_Description"),joinPredicate:0}]),objects:a.donutChartObjectDescriptors,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.dataDotChartCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Axis"),description:a("Role_DisplayName_AxisDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Value"),requiredTypes:[{numeric:!0},{integer:!0}]}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,responsive:i.responsive,responsiveLegacy:i.responsiveLegacy}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}}]}}}]}})(powerbi=powerbi||{}),(function(i){var o,r;o=i.visuals||(i.visuals={}),r=i.data.createDisplayNameGetter,o.decompositionTreeRoles={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},o.decompositionTreeObjectNames={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},o.decompositionTreeObjectPropertyNames={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor"},o.decompositionTreeBarsPerLevel={defaultValue:10,minValue:3,maxValue:30},o.getDecompositionTreeCapabilities=function(e){var t=[{name:o.decompositionTreeRoles.analyze,kind:i.VisualDataRoleKind.Measure,kindPreference:0,requiredTypes:[{numeric:!0},{integer:!0}],displayName:r("Role_DisplayName_Target"),description:r("DecompositionTree_Analyze_Tooltip")},{name:o.decompositionTreeRoles.explainBy,kind:i.VisualDataRoleKind.Grouping,displayName:r("Role_DisplayName_ExplainBy"),description:r("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:o.decompositionTreeRoles.tooltips,kind:i.VisualDataRoleKind.Measure,displayName:r("Role_DisplayName_Tooltips"),description:r("Role_Tooltips_Description"),joinPredicate:0}],a={select:[{for:{in:o.decompositionTreeRoles.analyze}},{for:{in:o.decompositionTreeRoles.tooltips}}]};return{dataRoles:t,dataViewMappings:[{conditions:[((t={})[o.decompositionTreeRoles.analyze]={max:1},t)],matrix:{rows:{for:{in:o.decompositionTreeRoles.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:a}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.decompositionTreeRoles.tooltips],supportEnhancedTooltips:!1},objects:((t={general:{displayName:r("Visual_General"),properties:{formatString:o.StandardObjectProperties.formatString}}})[o.decompositionTreeObjectNames.analysis]={displayName:r("Analysis"),description:r("Analysis"),properties:((a={})[o.decompositionTreeObjectPropertyNames.aiEnabled]={displayName:r("DecompositionTree_Formatting_EnableAI"),description:r("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},a[o.decompositionTreeObjectPropertyNames.aiMode]={displayName:r("DecompositionTree_AnalysisType"),description:r("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_AnalysisType_Absolute"),value:"absolute"},{displayName:r("DecompositionTree_AnalysisType_Relative"),value:"relative"}])}},a)},t[o.decompositionTreeObjectNames.tree]={displayName:r("DecompositionTree_Formatting_Tree"),description:r("DecompositionTree_Formatting_Tree"),properties:((a={})[o.decompositionTreeObjectPropertyNames.density]={displayName:r("DecompositionTree_Density"),description:r("DecompositionTree_Density_Description"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_Density_Dense"),value:"dense"},{displayName:r("Default"),value:"default"},{displayName:r("DecompositionTree_Density_Sparse"),value:"sparse"}])}},a[o.decompositionTreeObjectPropertyNames.accentColor]={displayName:r("DecompositionTree_Formatting_Selected_Line"),description:r("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.connectorDefaultColor]={displayName:r("DecompositionTree_Formatting_Unselected_Line"),description:r("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.connectorType]={displayName:r("Style"),description:r("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:i.createEnumType([{displayName:r("Default"),value:"curve"},{displayName:r("Visual_StrokeLineJoin_Round"),value:"round"}])}},a[o.decompositionTreeObjectPropertyNames.responsiveLayout]={displayName:r("Visual_General_ResponsiveLabel"),description:r("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},a[o.decompositionTreeObjectPropertyNames.barsPerLevel]={displayName:r("DecompositionTree_BarsPerLevel"),description:r("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},a[o.decompositionTreeObjectPropertyNames.defaultClickAction]={displayName:r("DecompositionTree_DefaultAction"),description:r("DecompositionTree_DefaultAction_Description"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_DefaultAction_Filter"),value:"select"},{displayName:r("Collapse"),value:"toggle"}])}},a)},t[o.decompositionTreeObjectNames.dataBars]={displayName:r("Visual_ConditionalFormatting_DataBars"),description:r("Visual_ConditionalFormatting_DataBars"),properties:((a={})[o.decompositionTreeObjectPropertyNames.positiveBarColor]={displayName:r("DataBarsDialog_PositiveBar"),description:r("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.negativeBarColor]={displayName:r("DataBarsDialog_NegativeBar"),description:r("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.dataBarBackgroundColor]={displayName:r("DecompositionTree_Formatting_BarBackground"),description:r("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.dataBarColor]={displayName:r("DecompositionTree_DataBarColor"),description:r("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.dataBarWidthPercent]={displayName:r("DecompositionTree_Formatting_DataBarSize"),description:r("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},a[o.decompositionTreeObjectPropertyNames.dataBarScalingType]={displayName:r("DecompositionTree_Formatting_ScaleType"),description:r("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_Formatting_ScaleType_TopNode"),value:"topNode"},{displayName:r("DecompositionTree_Formatting_ScaleType_ParentNode"),value:"parentNode"},{displayName:r("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:"levelMaximum"}])}},a[o.decompositionTreeObjectPropertyNames.axisStart]=o.StandardObjectProperties.axisStart,a[o.decompositionTreeObjectPropertyNames.axisEnd]=o.StandardObjectProperties.axisEnd,a)},t[o.decompositionTreeObjectNames.categoryLabels]={displayName:r("Visual_CategoryLabels"),description:r("DecompositionTree_Formatting_CategoryLabels_Description"),properties:((a={})[o.decompositionTreeObjectPropertyNames.categoryLabelFontFamily]=o.StandardObjectProperties.fontFamily,a[o.decompositionTreeObjectPropertyNames.categoryLabelFontSize]=o.StandardObjectProperties.fontSize,a[o.decompositionTreeObjectPropertyNames.categoryLabelBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.categoryLabelItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.categoryLabelUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.categoryLabelFontColor]=o.StandardObjectProperties.fontColor,a)},t[o.decompositionTreeObjectNames.dataLabels]={displayName:r("Visual_DataPointsLabels"),description:r("DecompositionTree_Formatting_ValueLabels_Description"),properties:((a={})[o.decompositionTreeObjectPropertyNames.dataLabelFontFamily]=o.StandardObjectProperties.fontFamily,a[o.decompositionTreeObjectPropertyNames.dataLabelFontSize]=o.StandardObjectProperties.fontSize,a[o.decompositionTreeObjectPropertyNames.dataLabelBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.dataLabelItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.dataLabelUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.dataLabelFontColor]=o.StandardObjectProperties.fontColor,a[o.decompositionTreeObjectPropertyNames.dataLabelDisplayUnits]=o.StandardObjectProperties.labelDisplayUnits,a[o.decompositionTreeObjectPropertyNames.dataLabelPrecision]=o.StandardObjectProperties.labelPrecision,a)},t[o.decompositionTreeObjectNames.levelHeader]={displayName:r("DecompositionTree_Formatting_TreeHeader"),description:r("DecompositionTree_Formatting_TreeHeader_Description"),properties:((a={})[o.decompositionTreeObjectPropertyNames.levelHeaderBackgroundColor]={displayName:r("Background_Color"),description:r("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.levelTitleFontFamily]={displayName:r("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:r("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},a[o.decompositionTreeObjectPropertyNames.levelTitleFontSize]={displayName:r("DecompositionTree_Formatting_LevelTitle_FontSize"),description:r("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},a[o.decompositionTreeObjectPropertyNames.levelTitleBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.levelTitleItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.levelTitleUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.levelTitleFontColor]={displayName:r("DecompositionTree_Formatting_LevelTitle_Color"),description:r("DecompositionTree_Formatting_LevelTitle_Color"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.showSubtitles]={displayName:r("DecompositionTree_Formatting_ShowSubtitles"),description:r("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},a[o.decompositionTreeObjectPropertyNames.levelSubtitleFontFamily]={displayName:r("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:r("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},a[o.decompositionTreeObjectPropertyNames.levelSubtitleFontSize]={displayName:r("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:r("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},a[o.decompositionTreeObjectPropertyNames.levelSubtitleBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.levelSubtitleItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.levelSubtitleUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.levelSubtitleFontColor]={displayName:r("DecompositionTree_Formatting_LevelSubtitle_Color"),description:r("DecompositionTree_Formatting_LevelSubtitle_Color"),type:{fill:{solid:{color:!0}}}},a)},t[o.decompositionTreeObjectNames.insights]={properties:((a={})[o.decompositionTreeObjectPropertyNames.isAINode]={type:{bool:!0}},a)},t),expandCollapse:{roles:[o.decompositionTreeRoles.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0},filterMappings:{measureFilter:{targetRoles:[o.decompositionTreeRoles.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:o.decompositionTreeRoles.analyze,explainByRole:o.decompositionTreeRoles.explainBy,enableAIProperty:{objectName:o.decompositionTreeObjectNames.analysis,propertyName:o.decompositionTreeObjectPropertyNames.aiEnabled},highlightedAIMatrixNode:{objectName:o.decompositionTreeObjectNames.insights,propertyName:o.decompositionTreeObjectPropertyNames.isAINode},analysisType:{objectName:o.decompositionTreeObjectNames.analysis,propertyName:o.decompositionTreeObjectPropertyNames.aiMode}},ignoreHighlightFilter:!0}}}})(powerbi=powerbi||{}),(function(a){var i,o,t;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,t=i.StandardObjectProperties,i.filledMapRoleNames={category:"Category",series:"Series",x:"X",y:"Y",gradient:"Size",tooltips:"Tooltips"},i.getFilledMapCapabilities=function(e){return{dataRoles:(function(e){var t=[{name:i.filledMapRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Location"),description:o("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:i.filledMapRoleNames.series,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Legend"),description:o("Role_DisplayName_LegendDescription")},{name:i.filledMapRoleNames.y,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Latitude"),description:o("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:i.filledMapRoleNames.x,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Longitude"),description:o("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];e||t.push({name:i.filledMapRoleNames.gradient,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Gradient"),description:o("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]});return t.push({name:i.filledMapRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting),objects:{general:{displayName:o("Visual_General"),properties:{formatString:t.formatString}},legend:i.StandardObjectDescriptors.legend,dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:t.defaultColor,showAllDataPoints:t.showAllDataPoints,fill:t.defaultCategoryColor,fillRule:{displayName:o("Role_DisplayName_Values"),description:o("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:i.filledMapRoleNames.gradient,output:{property:"fill",selector:[i.filledMapRoleNames.category]}}},transparency:t.transparency}},labels:{displayName:o("Visual_DataPointsLabels"),properties:{show:t.show,color:t.dataColor,labelDisplayUnits:t.labelDisplayUnits,labelPrecision:t.labelPrecision}},categoryLabels:{displayName:o("Visual_CategoryLabels"),properties:{show:t.show}},mapControls:{displayName:o("Visual_MapControls"),description:o("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:o("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:o("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:o("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:o("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:o("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:o("Visual_MapGeocodingCulture"),type:{enumeration:i.GeocodingCulture.type}}}},mapStyles:{displayName:o("Visual_MapStyles"),description:o("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:o("Visual_MapTheme"),type:{enumeration:i.BingMapTheme.type}},showLabels:{displayName:o("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:t.show,strokeColor:{displayName:o("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},strokeWidth:t.strokeWidth}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:i.filledMapRoleNames.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:i.filledMapRoleNames.series,select:[{bind:{to:i.filledMapRoleNames.x}},{bind:{to:i.filledMapRoleNames.y}},{bind:{to:i.filledMapRoleNames.gradient}},{for:{in:i.filledMapRoleNames.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:i.filledMapRoleNames.series}},{composite:[{for:{in:i.filledMapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:i.filledMapRoleNames.gradient,direction:2}]}},drilldown:{roles:[i.filledMapRoleNames.category]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[i.filledMapRoleNames.tooltips],supportEnhancedTooltips:!0}}},i.filledMapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}})(powerbi=powerbi||{}),(function(i){var o,r,n;o=i.visuals||(i.visuals={}),r=i.data.createDisplayNameGetter,n=o.StandardObjectProperties,o.azureMapRoleNames={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips"},o.azureMapStyles={road:"road",grayscaleLight:"grayscale_light",grayscaleDark:"grayscale_dark",night:"night",roadShadedRelief:"road_shaded_relief",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels"},o.azureMapStylesEnum=i.createEnumType([{value:o.azureMapStyles.road,displayName:r("Visual_MapThemeRoad")},{value:o.azureMapStyles.grayscaleLight,displayName:r("Visual_AzureMapsGrayScaleLightStyle")},{value:o.azureMapStyles.grayscaleDark,displayName:r("Visual_AzureMapsGrayScaleDarkStyle")},{value:o.azureMapStyles.night,displayName:r("Visual_AzureMapsNightStyle")},{value:o.azureMapStyles.roadShadedRelief,displayName:r("Visual_AzureMapsRoadShadedReliefStyle")},{value:o.azureMapStyles.satellite,displayName:r("Visual_AzureMapsSatelliteStyle")},{value:o.azureMapStyles.satelliteRoadLabels,displayName:r("Visual_AzureMapsSatelliteRoadLabelsStyle")}]),o.barShapeEnum=i.createEnumType([{value:0,displayName:r("Visual_AzureMapsBoxShape")},{value:1,displayName:r("Visual_AzureMapsCylinderShape")}]),o.scalingMethodEnum=i.createEnumType([{value:0,displayName:r("Visual_Axis_Linear")},{value:1,displayName:r("Visual_Axis_Log")},{value:2,displayName:r("Visual_AzureMapsCubicBezier")}]),o.pitchAlignmentEnum=i.createEnumType([{value:"map",displayName:r("Visual_ShapeMap_Map")},{value:"viewport",displayName:r("Visual_AzureMapsViewport")}]),o.layerPositionEnum=i.createEnumType([{value:"",displayName:r("Visual_AzureMapsLayerAboveLabels")},{value:"labels",displayName:r("Visual_AzureMapsLayerBelowLabels")},{value:"transit",displayName:r("Visual_AzureMapsLayerBelowRoads")}]),o.azureMapHeatMapUnitEnum=i.createEnumType([{value:"pixels",displayName:function(e){return e.get("Generic_Pixels")}},{value:"meters",displayName:function(e){return e.get("Visual_MapUnitMeters")}}]),o.azureMapObjectNames={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer"},o.azureMapObjectPropertyNames={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize"},o.getAzureMapCapabilities=function(e){return{dataRoles:(function(e){var t=e&&e.useModernFormatPane,t=[{name:o.azureMapRoleNames.y,kind:i.VisualDataRoleKind.GroupingOrMeasure,displayName:r("Role_DisplayName_Latitude"),description:r("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:o.azureMapRoleNames.x,kind:i.VisualDataRoleKind.GroupingOrMeasure,displayName:r("Role_DisplayName_Longitude"),description:r("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:o.azureMapRoleNames.series,kind:i.VisualDataRoleKind.Grouping,displayName:r("Role_DisplayName_Legend"),description:r("Role_DisplayName_LegendDescription")},{name:o.azureMapRoleNames.size,kind:i.VisualDataRoleKind.Measure,displayName:r(t?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:r("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:o.azureMapRoleNames.tooltips,kind:i.VisualDataRoleKind.Measure,displayName:r("Role_DisplayName_Tooltips"),description:r("Role_Tooltips_Description"),joinPredicate:0}];null!=e&&e.azureMapsGeocoding&&t.unshift({name:o.azureMapRoleNames.category,kind:i.VisualDataRoleKind.Grouping,displayName:r("Role_DisplayName_Location"),description:r("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]});return t})(e),objects:(function(e){var t,a=((a={general:{displayName:r("Visual_General"),properties:{formatString:n.formatString}},legend:o.StandardObjectDescriptors.legend,dataPoint:{displayName:r("Visual_DataPoint"),description:r("Visual_DataPointDescription"),properties:{showAllDataPoints:n.showAllDataPoints,fill:n.defaultCategoryColor}},labels:{displayName:r("Visual_DataPointsLabels"),properties:{show:n.show,color:n.dataColor,labelDisplayUnits:n.labelDisplayUnits,labelPrecision:n.labelPrecision}},categoryLabels:{displayName:r("Visual_CategoryLabels"),properties:{show:n.show}}})[o.azureMapObjectNames.mapControls]={displayName:r("Visual_AzureMapsMapSettings"),description:r("Visual_MapControlsDescription"),properties:((t={})[o.azureMapObjectPropertyNames.defaultStyle]={displayName:r("Visual_AzureMapsDefaultStyle"),description:r("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:o.azureMapStylesEnum}},t[o.azureMapObjectPropertyNames.showStylePicker]={displayName:r("Visual_AzureMapsStylePicker"),description:r("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.showNavigationControls]={displayName:r("Visual_AzureMapsNavigationControls"),description:r("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.zoom]={displayName:r("Visual_ShapeMap_Zoom"),description:r("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.centerLatitude]={displayName:r("Visual_AzureMapsCenterLatitude"),description:r("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.centerLongitude]={displayName:r("Visual_AzureMapsCenterLongitude"),description:r("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.heading]={displayName:r("Visual_AzureMapsHeading"),description:r("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.pitch]={displayName:r("Visual_AzureMapsPitch"),description:r("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.autoZoom]={displayName:r("Visual_AutoZoom"),description:r("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.worldWrap]={displayName:r("Visual_AzureMapsWorldWrap"),description:r("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.showSelectionControl]={displayName:r("Visual_AzureMapsSelectionControl"),description:r("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}},t)},a[o.azureMapObjectNames.bubbleLayer]={displayName:r("Visual_Bubbles"),description:r("Visual_BubblesDescription"),properties:((t={show:n.show})[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Visual_Fill_Transparency"),description:r("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.bubbleRadius]={displayName:r("Visual_BubbleSize"),description:r("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.minBubbleRadius]={displayName:r("Visual_AzureMapsMinBubbleRadius"),description:r("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.radiusScalingMethod]={displayName:r("Visual_AzureMapsBubbleRadiusScalingMethod"),description:r("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:o.scalingMethodEnum}},t[o.azureMapObjectPropertyNames.maxRadius]={displayName:r("Visual_AzureMapsBubbleMaxRadius"),description:r("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.logScale]={displayName:r("Visual_AzureMapsLogScale"),description:r("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.x1]={displayName:r("Visual_AzureMapsX1"),description:r("Visual_AzureMapsX1Description"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.x2]={displayName:r("Visual_AzureMapsX2"),description:r("Visual_AzureMapsX2Description"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.y1]={displayName:r("Visual_AzureMapsY1"),description:r("Visual_AzureMapsY1Description"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.y2]={displayName:r("Visual_AzureMapsY2"),description:r("Visual_AzureMapsY2Description"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.defaultColor]={displayName:r("Visual_FillColor"),description:r("Visual_AzureMapsBubbleDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},t[o.azureMapObjectPropertyNames.strokeColor]={displayName:r("Visual_OutlineColor"),description:r("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},t[o.azureMapObjectPropertyNames.autoStrokeColor]={displayName:r("Visual_AzureMapsBubbleAutoStrokeColor"),description:r("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.strokeTransparency]={displayName:r("Visual_AzureMapsBubbleStrokeTransparency"),description:r("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.bubbleStrokeWidth]={displayName:r("Visual_AzureMapsBubbleStrokeWidth"),description:r("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.blur]={displayName:r("Visual_DropShadow_Blur"),description:r("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.pitchAlignment]={displayName:r("Visual_AzureMapsBubblePitchAlignment"),description:r("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:o.pitchAlignmentEnum}},t[o.azureMapObjectPropertyNames.zoomScaleFactor]={displayName:r("Visual_AzureMapsZoomScaleFactor"),description:r("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},t)},a[o.azureMapObjectNames.heatMapLayer]={displayName:r("Visual_HeatMap"),description:r("Visual_HeatMapDescription"),properties:((t={show:n.show})[o.azureMapObjectPropertyNames.heatMapRadius]={displayName:r("Visual_Radius"),description:r("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.heatMapRadiusUnit]={displayName:r("Visual_Forecast_Parameter_Units"),description:r("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:o.azureMapHeatMapUnitEnum}},t[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Transparency"),description:r("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.heatMapIntensity]={displayName:r("Visual_AzureMapsHeatMapIntensity"),description:r("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.heatMapColorLow]={displayName:r("Visual_Color0"),description:r("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},t[o.azureMapObjectPropertyNames.heatMapColorCenter]={displayName:r("Visual_Color50"),description:r("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},t[o.azureMapObjectPropertyNames.heatMapColorHigh]={displayName:r("Visual_Color100"),description:r("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},t[o.azureMapObjectPropertyNames.heatMapUseSize]={displayName:r("Visual_AzureMapsHeatMapUseSize"),description:r("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},t)},a[o.azureMapObjectNames.barChart]={displayName:r("Visual_AzureMapsBarChart"),description:r("Visual_AzureMapsBarChartDescription"),properties:((t={show:n.show})[o.azureMapObjectPropertyNames.barShape]={displayName:r("Visual_AzureMapsBarShape"),description:r("Visual_AzureMapsBarShapeDescription"),type:{enumeration:o.barShapeEnum}},t[o.azureMapObjectPropertyNames.height]={displayName:r("Visual_General_Properties_Height"),description:r("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.scaleHeightOnZoom]={displayName:r("Visual_AzureMapsScaleBarHeight"),description:r("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.thickness]={displayName:r("Visual_General_Properties_Width"),description:r("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.scaleThicknessOnZoom]={displayName:r("Visual_AzureMapsScaleBarThickness"),description:r("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.defaultColor]={displayName:r("Visual_FillColor"),description:r("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},t[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Transparency"),description:r("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},t)},a[o.azureMapObjectNames.commonDataOptions]={displayName:r("Visual_AzureMapsCommonDataLayer"),description:r("Visual_AzureMapsCommonDataLayerDescription"),properties:((t={})[o.azureMapObjectPropertyNames.unselectedTransparency]={displayName:r("Visual_AzureMapsUnselectedTransparency"),description:r("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.showZeros]={displayName:r("Visual_AzureMapsShowZeros"),description:r("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.showNegatives]={displayName:r("Visual_AzureMapsShowNegatives"),description:r("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.minDataValue]={displayName:r("Visual_AzureMapsMinDataValue"),description:r("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.maxDataValue]={displayName:r("Visual_AzureMapsMaxDataValue"),description:r("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}},t)},a[o.azureMapObjectNames.referenceLayer]={displayName:r("Visual_AzureMapsReferenceLayer"),description:r("Visual_AzureMapsReferenceLayerDescription"),properties:((t={})[o.azureMapObjectPropertyNames.additionalDatasource]={displayName:r("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:i.GeoJsonContentTypes.geojson}}},t)},a[o.azureMapObjectNames.traffic]={displayName:r("Visual_AzureMapsTrafficLayer"),description:r("Visual_AzureMapsTrafficLayerDescription"),properties:((t={show:n.show})[o.azureMapObjectPropertyNames.showIncidents]={displayName:r("Visual_AzureMapsShowIncidents"),description:r("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.showTrafficControl]={displayName:r("Visual_AzureMapsShowTrafficControl"),description:r("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}},t)},a[o.azureMapObjectNames.tileLayer]={displayName:r("Visual_AzureMapsTileLayer"),description:r("Visual_AzureMapsTileLayerDescription"),properties:((t={})[o.azureMapObjectPropertyNames.tileLayerUrl]={displayName:r("Url"),description:r("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},t[o.azureMapObjectPropertyNames.tileSize]={displayName:r("Visual_AzureMapsTileSize"),description:r("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.northBounds]={displayName:r("Visual_AzureMapsTileNorthBounds"),description:r("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.southBounds]={displayName:r("Visual_AzureMapsTileSouthBounds"),description:r("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.eastBounds]={displayName:r("Visual_AzureMapsTileEastBounds"),description:r("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.westBounds]={displayName:r("Visual_AzureMapsTileWestBounds"),description:r("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Transparency"),description:r("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},t[o.azureMapObjectPropertyNames.isTMS]={displayName:r("Visual_AzureMapsTileIsTMS"),description:r("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},t[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},t[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},t)},a);null!=e&&e.azureMapsGeocoding&&(a[o.azureMapObjectNames.mapControls].properties[o.azureMapObjectPropertyNames.geocodingCulture]={displayName:r("Visual_MapGeocodingCulture"),type:{enumeration:o.GeocodingCulture.type}});return a})(e),dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{min:1,max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:o.azureMapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:o.azureMapRoleNames.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:o.azureMapRoleNames.y}},{bind:{to:o.azureMapRoleNames.x}},{bind:{to:o.azureMapRoleNames.size}},{for:{in:o.azureMapRoleNames.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:o.azureMapRoleNames.series}},{composite:[{for:{in:o.azureMapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,max:1,kind:i.VisualDataRoleKind.Grouping},Y:{max:1,kind:i.VisualDataRoleKind.Grouping},Size:{max:1}},{Category:{max:0},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Grouping},Y:{min:1,max:1,kind:i.VisualDataRoleKind.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:o.azureMapRoleNames.series}},{composite:[{bind:{to:o.azureMapRoleNames.x}},{bind:{to:o.azureMapRoleNames.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:o.azureMapRoleNames.size}},{bind:{to:o.azureMapRoleNames.tooltips}}]},dataVolume:6}}],sorting:{custom:{},implicit:{clauses:[{role:o.azureMapRoleNames.size,direction:2}]}},drilldown:{roles:[o.azureMapRoleNames.category]},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.azureMapRoleNames.tooltips],supportEnhancedTooltips:!0},supportsLandingPage:!0}},o.azureMapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},defaultColor:{objectName:"bubbleLayer",propertyName:"defaultColor"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"}}}})(powerbi=powerbi||{}),(function(a){var i,o,e;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,e=i.StandardObjectProperties,i.funnelRoleNames={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},i.FunnelChartObjectDescriptors={general:{displayName:o("Visual_General"),properties:{formatString:e.formatString}},categoryAxis:{displayName:o("Visual_CategoryLabels"),description:o("Visual_CategoryLabelOptionsDescription"),properties:{show:e.show,color:e.categoryColor,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily}},dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:e.defaultColor,showAllDataPoints:e.showAllDataPoints,fill:e.defaultCategoryColor,fillRule:{displayName:o("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:o("Visual_DataPointsLabels"),description:o("Visual_DataPointsLabelsDescription"),properties:{show:e.show,color:e.dataColor,labelPosition:{displayName:o("Visual_Position"),type:{enumeration:i.labelPosition.type},suppressFormatPainterCopy:!0},labelDisplayUnits:e.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},e.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:__assign(__assign({},e.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,funnelLabelStyle:{displayName:o("Visual_LabelStyle"),type:{enumeration:i.funnelLabelStyle.type}}}},percentBarLabel:{displayName:o("Visual_PercentBarLabel"),description:o("Visual_PercentBarLabelDescription"),properties:{show:e.show,color:e.dataColor,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily}}},i.funnelChartObjectProps=i.builder.getPropertyIdentifiers(i.FunnelChartObjectDescriptors),i.getFunnelChartCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:i.funnelRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o(t?"Role_DisplayName_Category":"Group_Role"),description:o("Role_DisplayName_GroupFunnelDescription")},{name:i.funnelRoleNames.y,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Values"),description:o("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:i.funnelRoleNames.gradient,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Gradient"),description:o("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:i.funnelRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:i.FunnelChartObjectDescriptors,supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}},i.funnelChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.gaugeRoleNames={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},t.gaugeCapabilities={dataRoles:[{name:t.gaugeRoleNames.y,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Value"),description:a("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.gaugeRoleNames.minValue,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_MinValue"),description:a("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.gaugeRoleNames.maxValue,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_MaxValue"),description:a("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.gaugeRoleNames.targetValue,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_TargetValue"),description:a("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Tooltips"),description:a("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{properties:{formatString:i.formatString}},axis:{displayName:a("Visual_Gauge_Axis"),properties:{min:{displayName:a("Min"),type:{numeric:!0}},max:{displayName:a("Max"),type:{numeric:!0}},target:{displayName:a("Visual_Gauge_Axis_Target"),type:{numeric:!0}}}},dataPoint:{displayName:a("Visual_DataPoint"),properties:{fill:i.fill,target:{displayName:a("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:a("Visual_DataPointsLabels"),properties:{show:i.show,color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},target:{displayName:a("Visual_Gauge_Axis_Target"),properties:{show:i.show,color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},calloutValue:{displayName:a("Visual_Gauge_CalloutValue"),properties:{show:i.show,color:i.dataColor,bold:i.bold,italic:i.italic,underline:i.underline,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0},t.gaugeProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"}}}})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,t.imageVisualObjectDescriptors={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:e("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:e("Visual_Image_Scaling_Type"),type:{enumeration:t.imageScalingType.type}}}}},t.imageVisualObjectProps=t.builder.getPropertyIdentifiers(t.imageVisualObjectDescriptors),t.imageVisualCapabilities={objects:t.imageVisualObjectDescriptors,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0}})(powerbi=powerbi||{}),(function(t){var a,i;a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,a.keyDriverRoleNames={target:"Target",explainBy:"ExplainBy",details:"Details"},a.keyDriversObjectDescriptors={keyDrivers:{displayName:i("Analysis"),description:i("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:i("Visual_KeyDrivers_AllowKeyDrivers"),description:i("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:i("Visual_KeyDrivers_AllowProfiles"),description:i("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:i("Visual_KeyDrivers_NumericAnalysis"),description:i("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:a.keyDriversNumericAnalysis.type},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:i("Visual_KeyDrivers_AllowKeyDriversCounting"),description:i("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:i("KeyDriver_CountType"),description:i("KeyDriver_CountType_Description"),type:{enumeration:a.keyDriversCount.type}},selectedAnalysis:{type:{enumeration:a.keyDriverAnalysis.type},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:a.keyDriversSort.type},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:i("Visual_KeyDriversVisualColors"),description:i("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:i("Visual_KeyDriversVisualColors_PrimaryColor"),description:i("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:i("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:i("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:i("Visual_KeyDriversVisualColors_SecondaryColor"),description:i("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:i("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:i("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:i("Background_Color"),description:i("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:i("Visual_FontColor"),description:i("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:i("Visual_KeyDriversDrillVisualColors"),description:i("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:i("Visual_DefaultColor"),description:i("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:i("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:i("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},a.keyDriverProps=a.builder.getPropertyIdentifiers(a.keyDriversObjectDescriptors),a.getKeyDriversCapabilities=function(){var e;return{dataRoles:[{name:a.keyDriverRoleNames.target,kind:t.VisualDataRoleKind.GroupingOrMeasure,kindPreference:1,displayName:i("Role_DisplayName_Target"),description:i("Role_DisplayName_TargetDescription")},{name:a.keyDriverRoleNames.explainBy,kind:t.VisualDataRoleKind.GroupingOrMeasure,displayName:i("Role_DisplayName_ExplainBy"),description:i("Role_DisplayName_ExplainByDescription")},{name:a.keyDriverRoleNames.details,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Details"),description:i("Role_DisplayName_DetailsKeyDriversDescription")}],objects:a.keyDriversObjectDescriptors,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[((e={})[a.keyDriverRoleNames.target]={min:1,max:1},e)],table:{rows:{select:[{bind:{to:a.keyDriverRoleNames.target}},{for:{in:a.keyDriverRoleNames.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.realTimeLineChartCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Axis"),description:a("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:0},{name:"Series",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Legend"),description:a("Role_DisplayName_LegendDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values"),description:a("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,responsive:i.responsive,responsiveLegacy:i.responsiveLegacy}},legend:{displayName:a("Visual_Legend"),description:a("Visual_LegendDescription"),properties:{show:i.show,position:i.legendPosition,showTitle:i.showLegendTitle,titleText:__assign(__assign({},i.legendTitle),{suppressFormatPainterCopy:!0}),labelColor:i.labelColor,fontSize:i.fontSize}},categoryAxis:{displayName:a("Visual_XAxis"),properties:{show:i.show,axisType:i.axisType,showAxisTitle:{displayName:a("Visual_Axis_Title"),description:a("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:i.axisStyle,labelColor:i.labelColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:a("Visual_YAxis"),properties:{show:i.show,position:i.yAxisPosition,showAxisTitle:{displayName:a("Visual_Axis_Title"),description:a("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:i.axisStyle,labelColor:i.labelColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision}},dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{defaultColor:i.defaultColor,fill:i.fill}},plotArea:{displayName:a("Visual_Plot"),properties:{transparency:i.transparency,image:i.image}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:1}]}}}})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,t.scorecardCapabilities={dataViewMappings:[],objects:{scorecard:{displayName:e("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:e("ContentHeader_URL"),suppressFormatPainterCopy:!0},backgroundColor:t.StandardObjectProperties.backColor,foregroundColor:t.StandardObjectProperties.fontColor,fontFamily:t.StandardObjectProperties.fontFamily,tableBackgroundColor:t.StandardObjectProperties.backColor,showCommandBar:{type:{bool:!0},displayName:e("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:e("ThemeDialog_SubSection_Header"),properties:{show:t.StandardObjectProperties.show,showTitle:{type:{bool:!0},displayName:e("EditWidget_ShowTitleCheckbox")},showCards:{type:{bool:!0},displayName:e("Cards")},foregroundColor:t.StandardObjectProperties.fontColor,backgroundColor:t.StandardObjectProperties.backColor}},columnHeaders:{displayName:e("Visual_Tablix_ColumnHeaders"),properties:{show:t.StandardObjectProperties.show,foregroundColor:t.StandardObjectProperties.fontColor}},goals:{displayName:e("Role_DisplayName_KPI_Goals"),properties:{foregroundColor:t.StandardObjectProperties.fontColor,backgroundColor:t.StandardObjectProperties.backColor}},detailsPane:{displayName:e("DetailsPane"),properties:{foregroundColor:t.StandardObjectProperties.fontColor,backgroundColor:t.StandardObjectProperties.backColor,cardForegroundColor:{displayName:e("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:e("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:e("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:e("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1},t.scorecardProps=t.builder.getPropertyIdentifiers(t.scorecardCapabilities.objects)})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).scriptVisualCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:e.data.createDisplayNameGetter("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).getPythonVisualCapabilities=function(){return{dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:e.data.createDisplayNameGetter("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}}}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=t.samples||(t.samples={}),t=e.data.createDisplayNameGetter,a.consoleWriterCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:t("Role_DisplayName_Axis"),description:t("Role_DisplayName_AxisDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,displayName:t("Role_DisplayName_Y"),description:t("Role_DisplayName_YDescription")}],dataViewMappings:[{categorical:{categories:{for:{in:"Category"}}}}]}})(powerbi=powerbi||{}),(function(e){!(function(e){function t(){}e=e.samples||(e.samples={}),t.converter=function(e){return window.console.log("converter"),window.console.log(e),{}},t.prototype.init=function(e){var t=d3.select(e.element.get(0)).append("div");t.append("h1").text("ConsoleWriter"),t.append("p").text("This IVisual writes messages passed to it to the javscript console output. Check your console for the actual messages passed. For more information, click below"),t.append("a").attr("href","https://microsoft.github.io/PowerBI-visuals/modules/powerbi.html").text("Online help"),window.console.log("init"),window.console.log(e)},t.prototype.onResizing=function(e){},t.prototype.update=function(e){window.console.log("update"),window.console.log(e)},e.ConsoleWriter=t})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(n){var l,s,e,u,c,p,d;function m(e){var t;_.find(e.conditions,(function(e){return _.isEqual(e[l.LineChartRoles.Series],{min:1,max:1})&&_.isEqual(e[l.LineChartRoles.Y],{max:1})}))[l.LineChartRoles.Y2]={max:0},_.find(e.conditions,(function(e){return _.isEqual(e[l.LineChartRoles.Series],{min:1,max:1})&&_.isEqual(e[l.LineChartRoles.Y],{max:0})}))[l.LineChartRoles.Y2]={max:1},e.categorical?t=e.categorical.values.group.select:e.matrix&&(t=e.matrix.values.select),t.splice(1,0,{for:{in:l.LineChartRoles.Y2}})}l=n.visuals||(n.visuals={}),u=n.visuals.AnomalyDetectionColumns,c=n.visuals.AnomalyDetectionOutputRoles,p=n.data.createDisplayNameGetter,d=l.StandardObjectProperties,l.LineChartRoles={Rows:l.cartesianRoleNames.rows,Category:"Category",Series:"Series",Y:"Y",Y2:"Y2",Tooltips:"Tooltips"},l.LineChartObjectDescriptors=((e={general:{displayName:p("Visual_General"),properties:{formatString:d.formatString,responsive:d.responsive,responsiveLegacy:d.responsiveLegacy}},legend:{displayName:l.StandardObjectDescriptors.legend.displayName,description:l.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},l.StandardObjectDescriptors.legend.properties),{legendMarkerRendering:d.legendMarkerRendering,defaultToCircle:d.defaultToCircle,matchLineColor:d.matchLineColor})},subheader:__assign({},l.StandardObjectDescriptors.subheader)})[l.SmallMultiplesUtils.LayoutObjectName]=__assign({},l.StandardObjectDescriptors.smallMultiplesLayout),e.categoryAxis={displayName:p("Visual_XAxis"),properties:{show:d.show,axisScale:d.axisScale,start:d.axisStart,end:d.axisEnd,axisType:d.axisType,showAxisTitle:{displayName:p("Visual_Axis_Title"),description:p("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:d.axisStyle,labelColor:d.labelColor,fontFamily:d.fontFamily,fontSize:d.fontSize,bold:d.bold,italic:d.italic,underline:d.underline,invertAxis:d.invertAxis,labelDisplayUnits:d.labelDisplayUnits,labelPrecision:d.labelPrecision,logAxisScale:d.logAxisScale,concatenateLabels:{displayName:p("Visual_Axis_ConcatenateLabels"),description:p("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:d.preferredCategoryWidth,maxMarginFactor:d.maxMarginFactor,titleColor:d.titleColor,titleFontFamily:d.fontFamily,titleFontSize:d.titleFontSize,titleBold:d.bold,titleItalic:d.italic,titleUnderline:d.underline,titleText:d.titleText,gridlineShow:__assign(__assign({},d.show),{displayName:p("Visual_Gridline_Show")}),gridlineColor:d.lineColor,gridlineThickness:d.strokeWidth,gridlineStyle:d.lineStyle}},e.valueAxis={displayName:p("Visual_YAxis"),properties:{show:d.show,position:d.yAxisPosition,axisScale:d.axisScale,start:d.axisStart,end:d.axisEnd,invertAxis:d.invertAxis,showAxisTitle:{displayName:p("Visual_Axis_Title"),description:p("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:d.axisStyle,labelColor:d.labelColor,fontFamily:d.fontFamily,fontSize:d.fontSize,bold:d.bold,italic:d.italic,underline:d.underline,labelDisplayUnits:d.labelDisplayUnits,labelPrecision:d.labelPrecision,logAxisScale:d.logAxisScale,titleColor:d.titleColor,titleFontFamily:d.fontFamily,titleFontSize:d.titleFontSize,titleBold:d.bold,titleItalic:d.italic,titleUnderline:d.underline,titleText:d.titleText,gridlineShow:__assign(__assign({},d.show),{displayName:p("Visual_Gridline_Show")}),gridlineColor:d.lineColor,gridlineThickness:d.strokeWidth,gridlineStyle:d.lineStyle,switchAxisPosition:d.switchAxisPosition}},e.y2Axis={displayName:p("Visual_Y2Axis"),properties:__assign({show:d.show},_.omit(l.SecondaryAxisProperties,["alignZeros","secPosition","secShow"]))},e.zoom={displayName:l.StandardObjectDescriptors.zoom.displayName,properties:__assign(__assign({},l.StandardObjectDescriptors.zoom.properties),l.SecondaryAxisZoomObjectDescriptors.zoom.properties)},e.dataPoint={displayName:p("Visual_DataPoint"),description:p("Visual_DataPointDescription"),properties:{transparency:{displayName:p("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:d.defaultColor,fill:d.defaultDataPointColor,showAllDataPoints:d.showAllDataPoints}},e.labels={displayName:p("Visual_DataPointsLabels"),description:p("Visual_DataPointsLabelsDescription"),properties:{show:d.show,showSeries:{displayName:p("Visual_Show"),type:{bool:!0}},color:d.dataColor,labelDisplayUnits:d.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},d.labelPrecision),{suppressFormatPainterCopy:!0}),labelPosition:{displayName:p("Visual_Position"),type:{enumeration:l.labelPosition.type}},enableBackground:d.labelEnableBackground,backgroundColor:d.labelBackgroundColor,backgroundTransparency:d.labelBackgroundTransparency,showAll:{displayName:p("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:d.fontSize,bold:d.bold,italic:d.italic,underline:d.underline,fontFamily:d.fontFamily,labelDensity:{displayName:p("Visual_LabelDensity"),type:{integer:!0}}}},e.totals=l.StandardObjectDescriptors.totals,e.seriesLabels={displayName:p("Visual_SeriesLabels"),description:p("Visual_SeriesDescription"),properties:__assign({},l.SeriesObjectDescriptors.seriesLabels.properties)},e.lineStyles={displayName:p("Visual_Shapes"),description:p("Visual_ShapesDescription"),properties:{strokeWidth:d.strokeWidth,strokeLineJoin:d.strokeLineJoin,lineStyle:d.lineStyle,showMarker:d.showMarker,markerShape:d.markerShape,markerSize:d.markerSize,markerColor:d.markerColor,stepped:d.stepped,showSeries:{displayName:p("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},e.plotArea={displayName:p("Visual_Plot"),properties:{transparency:d.transparency,image:d.image}},e.trend={displayName:p("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},lineColor:{displayName:p("Visual_Trend_Line_Color"),description:p("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:p("Visual_Trend_Line_Transparency"),description:p("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:p("Style"),description:p("Visual_Trend_Line_Style_Description"),type:{enumeration:l.lineStyle.type}},combineSeries:{displayName:p("Visual_Trend_Line_Combine_Series"),description:p("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:p("Visual_Trend_Line_UseHighlightValues"),description:p("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}},e.scalarKey={properties:{min:{type:{dateTime:!0}}}},e.y1AxisReferenceLine={displayName:p("Visual_Reference_Line_Y"),description:p("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:p("Visual_Reference_Line_Value"),description:p("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:d.referenceLineColor,transparency:{displayName:p("Visual_Reference_Line_Transparency"),description:p("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:d.lineStyle,position:d.referenceLinePosition,dataLabelShow:d.dataLabelShow,dataLabelColor:d.dataLabelColor,dataLabelText:d.dataLabelText,dataLabelDecimalPoints:d.dataLabelDecimalPoints,dataLabelHorizontalPosition:d.dataLabelHorizontalPosition,dataLabelVerticalPosition:d.dataLabelVerticalPosition,dataLabelDisplayUnits:d.dataLabelDisplayUnits}},e.xAxisReferenceLine={displayName:p("Visual_Reference_Line_X"),description:p("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:p("Visual_Reference_Line_Value"),description:p("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:d.lineColor,transparency:{displayName:p("Visual_Reference_Line_Transparency"),description:p("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:d.lineStyle,position:d.referenceLinePosition,shadeRegion:d.shadeRegion,shadeColor:d.shadeColor,shadeTransparency:d.shadeTransparency,dataLabelShow:d.dataLabelShow,dataLabelColor:d.dataLabelColor,dataLabelText:d.dataLabelText,dataLabelDecimalPoints:d.dataLabelDecimalPoints,dataLabelHorizontalPosition:d.dataLabelHorizontalPosition,dataLabelVerticalPosition:d.dataLabelVerticalPosition,dataLabelDisplayUnits:d.dataLabelDisplayUnits}},e.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},e),l.lineChartObjectProps=l.builder.getPropertyIdentifiers(l.LineChartObjectDescriptors),l.getLineChartCapabilities=function(t,e,a){var i=a&&a.useModernFormatPane,o=__assign({},l.LineChartObjectDescriptors),r=[{name:l.LineChartRoles.Category,kind:n.VisualDataRoleKind.Grouping,displayName:p(i?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:p("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:l.LineChartRoles.Series,kind:n.VisualDataRoleKind.Grouping,displayName:p("Role_DisplayName_Legend"),displayOrder:i?4:2,description:p("Role_DisplayName_LegendDescription")},{name:l.LineChartRoles.Y,kind:n.VisualDataRoleKind.Measure,displayName:p(i?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:i?2:3,description:p("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];t||r.push({name:l.LineChartRoles.Y2,kind:n.VisualDataRoleKind.Measure,displayName:p(i?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:i?3:4,description:p("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}),a&&a.cartesianMultiples&&r.push({name:l.LineChartRoles.Rows,kind:n.VisualDataRoleKind.Grouping,displayName:p("Role_DisplayName_SmallMultiples"),displayOrder:5,description:p("Role_DisplayName_SmallMultiples_Description")}),r.push({name:l.LineChartRoles.Tooltips,kind:n.VisualDataRoleKind.Measure,displayName:p("Role_DisplayName_Tooltips"),displayOrder:6,description:p("Role_Tooltips_Description"),joinPredicate:0});o={dataRoles:r,objects:o,dataViewMappings:__spreadArray(__spreadArray([],(function(){var e=[];a&&a.cartesianMultiples&&e.push(function(){var e={conditions:[((e={})[l.LineChartRoles.Series]={max:0},e[l.LineChartRoles.Rows]={min:1},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:1},e[l.LineChartRoles.Rows]={min:1},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:0},e[l.LineChartRoles.Rows]={min:1},e)],matrix:{rows:{select:[{composite:[{for:{in:l.LineChartRoles.Rows}}],dataReductionAlgorithm:{window:{count:l.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultWindowSize}}},{composite:[{for:{in:l.LineChartRoles.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:l.LineChartRoles.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:l.LineChartRoles.Y}},{for:{in:l.LineChartRoles.Tooltips}}]},dataVolume:6}};t||m(e);return e}());return e.push(function(){var e={conditions:[((e={})[l.LineChartRoles.Series]={max:0},e[l.LineChartRoles.Rows]={max:0},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:1},e[l.LineChartRoles.Rows]={max:0},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:0},e[l.LineChartRoles.Rows]={max:0},e)],categorical:{categories:{for:{in:l.LineChartRoles.Category}},values:{group:{by:l.LineChartRoles.Series,select:[{for:{in:l.LineChartRoles.Y}},{for:{in:l.LineChartRoles.Tooltips}}]}}}};t?s.applyLegacySampling(e):s.applyBinnedSampling(e);t||m(e);return e}()),e})()),[{conditions:[((r={})[l.cartesianRoleNames.rows]={max:0},r[l.LineChartRoles.Series]={max:0},r),((r={})[l.cartesianRoleNames.rows]={max:0},r[l.LineChartRoles.Series]={min:1,max:1},r[l.LineChartRoles.Y]={max:1},r[l.LineChartRoles.Y2]={max:0},r),((r={})[l.cartesianRoleNames.rows]={max:0},r[l.LineChartRoles.Series]={min:1,max:1},r[l.LineChartRoles.Y]={max:0},r[l.LineChartRoles.Y2]={max:1},r)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[((r={})[l.cartesianRoleNames.rows]={max:0},r[l.LineChartRoles.Series]={max:0},r[l.LineChartRoles.Category]={min:1},r[l.LineChartRoles.Y]={min:1,max:1},r[l.LineChartRoles.Y2]={max:0},r)],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:l.LineChartRoles.Category}},values:{group:{by:l.LineChartRoles.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}},{conditions:[((r={})[l.LineChartRoles.Rows]={max:0},r[l.LineChartRoles.Series]={max:0},r[l.LineChartRoles.Category]={min:1},r[l.LineChartRoles.Y]={min:1,max:1},r[l.LineChartRoles.Y2]={max:0},r)],requiredProperties:[{objectName:l.AnomalyDetectionObjectConstants.capabilityObjectName,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:l.LineChartRoles.Category}},values:{group:{by:l.LineChartRoles.Series,select:[{for:{in:c.ExpectedValue}},{for:{in:c.ExpectedLow}},{for:{in:c.ExpectedHigh}},{for:{in:c.RawScore}},{for:{in:c.Anomaly}},{for:{in:c.BatchStart}},{for:{in:c.BatchEnd}}]}}}}]),sorting:{default:{}},drilldown:{roles:[l.LineChartRoles.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[l.LineChartRoles.Tooltips]},supportsDataDrivenAlerts:!(!a||!a.lineChartAlert),insights:{explainAnomalies:{anomalyDataPointObjectName:l.AnomalyDetectionObjectConstants.dataPointObjectName}}};return t?o.objects.totals=l.StandardObjectDescriptors.totals:(delete o.objects.totals,o.objects.referenceLine={displayName:p("Visual_Reference_Line"),description:p("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:p("Visual_Reference_Line_Value"),description:p("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:d.referenceLineColor,transparency:{displayName:p("Visual_Reference_Line_Transparency"),description:p("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:d.lineStyle,position:d.referenceLinePosition,dataLabelShow:d.dataLabelShow,dataLabelColor:d.dataLabelColor,dataLabelText:d.dataLabelText,dataLabelDecimalPoints:d.dataLabelDecimalPoints,dataLabelHorizontalPosition:d.dataLabelHorizontalPosition,dataLabelVerticalPosition:d.dataLabelVerticalPosition,dataLabelDisplayUnits:d.dataLabelDisplayUnits}}),t||e||(o.objects.error=__assign({},l.StandardObjectDescriptors.error),o.objects.forecast={displayName:p("Visual_Forecast"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Forecast_DisplayName_Description"),type:{text:!0}},confidenceBandStyle:{displayName:p("Visual_Forecast_Confidence_Band_Style"),description:p("Visual_Forecast_Confidence_Band_Style_Description"),type:{enumeration:l.confidenceBandStyle.type}},lineColor:{displayName:p("Visual_Forecast_Line_Color"),description:p("Visual_Forecast_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:d.transparency,style:d.lineStyle,transform:{type:{queryTransform:{}}}}},a&&a.daxTransformEnabled&&(o.objects[l.AnomalyDetectionObjectConstants.capabilityObjectName]={displayName:p("Visual_AnomalyDetection"),objectCategory:2,suppressFormatPainterCopy:!0,properties:((e={})[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.show]=d.show,e[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.displayName]={displayName:p("Name"),description:p("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},e[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.markerShape]={displayName:p("Visual_AnomalyDetection_AnomalyShape"),description:p("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:l.anomalyMarkerShape.type}},e[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.markerShapeSize]={displayName:p("Visual_AnomalyDetection_AnomalyShapeSize"),description:p("Visual_AnomalyDetection_AnomalyShapeSize_Description"),type:{numeric:!0}},e[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.markerColor]={displayName:p("Visual_AnomalyDetection_AnomalyColor"),description:p("Visual_AnomalyDetection_AnomalyColor_Description"),type:{fill:{solid:{color:!0}}}},e[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.confidenceBandStyle]={displayName:p("Visual_AnomalyDetection_RangeStyle"),description:p("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:l.confidenceBandStyle.type}},e[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.transparency]={displayName:p("Visual_AnomalyDetection_RangeTransparency"),description:p("Visual_AnomalyDetection_RangeTransparency_Description"),type:{numeric:!0}},e[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.confidenceBandColor]={displayName:p("Visual_AnomalyDetection_RangeColor"),description:p("Visual_AnomalyDetection_RangeColor_Description"),type:{fill:{solid:{color:!0}}}},e[u.CategoryValue]={type:{dateTime:!0}},e[u.Value]={type:{numeric:!0}},e[u.ExpectedValue]={type:{numeric:!0}},e[u.ExpectedLow]={type:{numeric:!0}},e[u.ExpectedHigh]={type:{numeric:!0}},e[u.BatchStart]={type:{dateTime:!0}},e[u.BatchEnd]={type:{dateTime:!0}},e.transform={type:{queryTransform:{}}},e[l.AnomalyDetectionObjectConstants.explainByPropertyName]={type:{exprList:{}}},e[l.AnomalyDetectionObjectConstants.isAnomalyHighlighted]={type:{bool:!0}},e)})),o},l.lineChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{transparency:{objectName:"dataPoint",propertyName:"transparency"},defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},anomalyDetection:{show:l.AnomalyDetectionTransformConstants.showProperty},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"},legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},defaultToCircle:{objectName:"legend",propertyName:"defaultToCircle"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},lineStyles:{shadeArea:{objectName:"lineStyles",propertyName:"shadeArea"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},lineStyle:{objectName:"lineStyles",propertyName:"lineStyle"},showMarker:{objectName:"lineStyles",propertyName:"showMarker"},markerShape:{objectName:"lineStyles",propertyName:"markerShape"},markerSize:{objectName:"lineStyles",propertyName:"markerSize"},markerColor:{objectName:"lineStyles",propertyName:"markerColor"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},stepped:{objectName:"lineStyles",propertyName:"stepped"}}},(e=s=l.LineChartDataReduction||(l.LineChartDataReduction={})).applyLegacySampling=function(e){e.categorical,(e=e.categorical).dataReductionAlgorithm=void 0,e.categories.dataReductionAlgorithm={sample:{}},e.values.group.dataReductionAlgorithm={top:{}}},e.applyWindow=function(e,t){var a;e.categorical?(a=e.categorical)&&(a.dataReductionAlgorithm=void 0,a.categories.dataReductionAlgorithm={window:{count:200}},a.values.group.dataReductionAlgorithm={top:{count:60}}):t&&l.SmallMultiplesUtils.isSmallMultiplesMapping(e)&&(e.matrix.rows.select[1].dataReductionAlgorithm={top:{}})},e.applyBinnedSampling=function(e){var t;e.categorical?((t=e.categorical).dataReductionAlgorithm={binnedLineSample:{}},t.categories.dataReductionAlgorithm=void 0,t.values.group.dataReductionAlgorithm=void 0):e.matrix}})(powerbi=powerbi||{}),(function(a){var i,o,t;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,t=i.StandardObjectProperties,i.mapRoleNames={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"},i.getMapCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:i.mapRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Location"),description:o("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:i.mapRoleNames.series,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Legend"),description:o("Role_DisplayName_LegendDescription")},{name:i.mapRoleNames.y,kind:a.VisualDataRoleKind.GroupingOrMeasure,displayName:o("Role_DisplayName_Latitude"),description:o("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:i.mapRoleNames.x,kind:a.VisualDataRoleKind.GroupingOrMeasure,displayName:o("Role_DisplayName_Longitude"),description:o("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:i.mapRoleNames.size,kind:a.VisualDataRoleKind.Measure,displayName:o(t?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:o("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:i.mapRoleNames.gradient,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Gradient"),description:o("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:i.mapRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),objects:{general:{displayName:o("Visual_General"),properties:{formatString:t.formatString}},legend:i.StandardObjectDescriptors.legend,dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:t.defaultColor,showAllDataPoints:t.showAllDataPoints,fill:t.defaultCategoryColor,fillRule:{displayName:o("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:i.mapRoleNames.gradient,output:{property:"fill",selector:[i.mapRoleNames.category,i.mapRoleNames.x,i.mapRoleNames.y]}}},transparency:t.transparency}},categoryLabels:{displayName:o("Visual_CategoryLabels"),description:o("Visual_CategoryLabelsDescription"),properties:{show:t.show,color:t.categoryColor,fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,fontFamily:t.fontFamily,enableBackground:t.labelEnableBackground,backgroundColor:t.labelBackgroundColor,backgroundTransparency:t.labelBackgroundTransparency}},bubbles:{displayName:o("Visual_Bubbles"),description:o("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:o("Visual_BubbleSize"),type:{integer:!0}}}},mapControls:{displayName:o("Visual_MapControls"),description:o("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:o("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:o("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:o("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:o("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:o("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:o("Visual_MapGeocodingCulture"),type:{enumeration:i.GeocodingCulture.type}}}},mapStyles:{displayName:o("Visual_MapStyles"),description:o("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:o("Visual_MapTheme"),type:{enumeration:i.BingMapTheme.type}},showLabels:{displayName:o("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:o("Visual_HeatMap"),properties:{show:t.show,filterRadius:{displayName:o("Visual_Radius"),type:{numeric:!0}},transparency:t.transparency,unit:{displayName:o("Visual_Forecast_Parameter_Units"),type:{enumeration:i.BingMapHeatMapUnit.type}},color0:{displayName:o("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:o("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:o("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,min:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:i.mapRoleNames.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:i.mapRoleNames.series,select:[{bind:{to:i.mapRoleNames.x}},{bind:{to:i.mapRoleNames.y}},{bind:{to:i.mapRoleNames.size}},{bind:{to:i.mapRoleNames.gradient}},{for:{in:i.mapRoleNames.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Grouping},Y:{max:1,kind:a.VisualDataRoleKind.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:a.VisualDataRoleKind.Grouping},Y:{max:1,kind:a.VisualDataRoleKind.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:i.mapRoleNames.x}},{bind:{to:i.mapRoleNames.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:i.mapRoleNames.series,select:[{bind:{to:i.mapRoleNames.size}},{bind:{to:i.mapRoleNames.gradient}},{for:{in:i.mapRoleNames.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:i.mapRoleNames.series}},{composite:[{for:{in:i.mapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:a.VisualDataRoleKind.Grouping},Y:{max:1,kind:a.VisualDataRoleKind.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:i.mapRoleNames.series}},{composite:[{bind:{to:i.mapRoleNames.x}},{bind:{to:i.mapRoleNames.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:i.mapRoleNames.tooltips}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:i.mapRoleNames.size,direction:2}]}},drilldown:{roles:[i.mapRoleNames.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:i.mapRoleNames.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[i.mapRoleNames.tooltips],supportEnhancedTooltips:!0}}},i.mapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.MultiRowCardObjectDescriptors={general:{properties:{formatString:i.formatString}},dataLabels:{displayName:a("Visual_DataPointsLabels"),description:a("Visual_DataPointsLabelsDescription"),properties:{color:i.dataColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},categoryLabels:{displayName:a("Visual_CategoryLabels"),description:a("Visual_CategoryLabelsDescription"),properties:{show:i.show,color:i.categoryColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},cardTitle:{displayName:a("Visual_CardTitle"),description:a("Visual_CardTitleDescription"),properties:{color:i.dataColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},card:{displayName:a("Card_ToolTip"),properties:{outline:i.outline,outlineStyle:i.outlineStyle,outlineColor:{displayName:a("Visual_OutlineColor"),description:a("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:a("Visual_OutlineWeight"),description:a("Visual_OutlineWeight_Desc"),type:{numeric:!0}},barShow:{displayName:a("Visual_MultiRowCard_BarShow"),description:a("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:a("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:a("Visual_MultiRowCard_BarWeight"),description:a("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:a("Visual_Padding"),description:a("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:a("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},t.multiRowCardObjectProps=t.builder.getPropertyIdentifiers(t.MultiRowCardObjectDescriptors),t.multiRowCardCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:a("Role_DisplayName_Fields"),description:a("Role_DisplayName_FieldsDescription")}],objects:t.MultiRowCardObjectDescriptors,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!1,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},t.multiRowCardProps={card:{outline:{objectName:"card",propertyName:"outline"},outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,t.textboxProps={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},t.textboxCapabilities={objects:{general:{displayName:a("Visual_General"),properties:((e={})[t.textboxProps.general.paragraphs.propertyName]={type:{paragraphs:{}},suppressFormatPainterCopy:!0},e)},text:{displayName:a("Text"),properties:((e={})[t.textboxProps.text.fontSize.propertyName]={displayName:a("Default_Font_Size"),type:{formatting:{fontSize:!0}}},e[t.textboxProps.text.fontFamily.propertyName]={displayName:a("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},e[t.textboxProps.text.color.propertyName]={displayName:a("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},e)},values:{properties:((e={})[t.textboxProps.values.expr.propertyName]={formatStringProperty:t.textboxProps.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},e[t.textboxProps.values.formatString.propertyName]=t.StandardObjectProperties.formatString,e)}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0},t.TextRunNewline="\n",t.TextRunNewlineHidden="__Newline__"})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,t.cheerMeterCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Axis"),description:a("Role_DisplayName_AxisDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:a("Role_DisplayName_Y"),description:a("Role_DisplayName_YDescription")}],dataViewMappings:[{categorical:{categories:{for:{in:"Category"}}}}],objects:{dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{fill:t.StandardObjectProperties.fill}}}}})(powerbi=powerbi||{}),(function(c){var a,i,e;function t(e,t,a){var i={min:1,max:1,kind:c.VisualDataRoleKind.Grouping},o={min:1,max:1,kind:c.VisualDataRoleKind.Grouping};a&&(i={min:1,kind:c.VisualDataRoleKind.Grouping});var r,n={max:1,kind:c.VisualDataRoleKind.Measure},l=e?i:n,s=t?o:n,u={bind:{to:"X"}},i={bind:{to:"Y"}},o=[],n=[];e?o.push(a?{for:{in:"X"}}:u):n.push(u),(t?o:n).push(i);i=o.length;return 2<=i||1===i&&e&&a?r={composite:o}:1===i&&(r=o[0]),{conditions:[{Category:{max:0},Series:{max:1},X:l,Y:s,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:l,Y:s,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},r],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:__spreadArray(__spreadArray([],n||[]),[{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}])},dataVolume:4}}}function o(){return{general:{displayName:i("Visual_General"),properties:{formatString:e.formatString,responsive:e.responsive,responsiveLegacy:e.responsiveLegacy,dataVolume:{displayName:i("Visual_DataVolume"),description:i("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:a.StandardObjectDescriptors.legend.displayName,description:a.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},a.StandardObjectDescriptors.legend.properties),a.GradientLegendObjectDescriptors.legend.properties)},categoryAxis:{displayName:i("Visual_XAxis"),properties:{show:e.show,axisScale:e.axisScale,start:e.axisStart,end:e.axisEnd,invertAxis:e.invertAxis,axisType:e.axisType,showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:e.axisStyle,labelColor:e.labelColor,fontFamily:e.fontFamily,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,labelDisplayUnits:e.labelDisplayUnits,labelPrecision:e.labelPrecision,logAxisScale:e.logAxisScale,preferredCategoryWidth:e.preferredCategoryWidth,maxMarginFactor:e.maxMarginFactor,treatNullsAsZero:{displayName:i("Visual_Scatter_TreatNullsAsZero"),description:i("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},titleColor:e.titleColor,titleFontFamily:e.fontFamily,titleFontSize:e.titleFontSize,titleText:e.titleText,gridlineShow:__assign(__assign({},e.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:e.lineColor,gridlineThickness:e.strokeWidth,gridlineStyle:e.lineStyle,innerPadding:e.innerPadding}},valueAxis:{displayName:i("Visual_YAxis"),properties:{show:e.show,axisScale:e.axisScale,position:e.yAxisPosition,start:e.axisStart,end:e.axisEnd,invertAxis:e.invertAxis,treatNullsAsZero:{displayName:i("Visual_Scatter_TreatNullsAsZero"),description:i("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:e.axisStyle,labelColor:e.labelColor,fontFamily:e.fontFamily,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,labelDisplayUnits:e.labelDisplayUnits,labelPrecision:e.labelPrecision,logAxisScale:e.logAxisScale,titleColor:e.titleColor,titleFontFamily:e.fontFamily,titleFontSize:e.titleFontSize,titleText:e.titleText,gridlineShow:__assign(__assign({},e.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:e.lineColor,gridlineThickness:e.strokeWidth,gridlineStyle:e.lineStyle,switchAxisPosition:e.switchAxisPosition}},zoom:a.StandardObjectDescriptors.zoom,dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{defaultColor:e.defaultColor,showAllDataPoints:e.showAllDataPoints,fill:e.defaultCategoryColor,fillRule:{displayName:i("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},bubbles:{displayName:i("Visual_Shapes"),description:i("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:i("Visual_BubbleSize"),type:{integer:!0}},markerShape:e.markerShape,showSeries:{displayName:i("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:i("Visual_Plot"),properties:{transparency:e.transparency,image:e.image}},categoryLabels:{displayName:i("Visual_CategoryLabels"),description:i("Visual_CategoryLabelsDescription"),properties:{show:e.show,color:e.categoryColor,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,enableBackground:e.labelEnableBackground,backgroundColor:e.labelBackgroundColor,backgroundTransparency:e.labelBackgroundTransparency}},trend:{displayName:i("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},lineColor:{displayName:i("Visual_Trend_Line_Color"),description:i("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:i("Visual_Trend_Line_Transparency"),description:i("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:i("Style"),description:i("Visual_Trend_Line_Style_Description"),type:{enumeration:a.lineStyle.type}},combineSeries:{displayName:i("Visual_Trend_Line_Combine_Series"),description:i("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}}}},xAxisReferenceLine:{displayName:i("Visual_Reference_Line_X"),description:i("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:e.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:e.lineStyle,position:e.referenceLinePosition,dataLabelShow:e.dataLabelShow,dataLabelColor:e.dataLabelColor,dataLabelText:e.dataLabelText,dataLabelDecimalPoints:e.dataLabelDecimalPoints,dataLabelHorizontalPosition:e.dataLabelHorizontalPosition,dataLabelVerticalPosition:e.dataLabelVerticalPosition,dataLabelDisplayUnits:e.dataLabelDisplayUnits}},y1AxisReferenceLine:{displayName:i("Visual_Reference_Line_Y"),description:i("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:e.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:e.lineStyle,position:e.referenceLinePosition,dataLabelShow:e.dataLabelShow,dataLabelColor:e.dataLabelColor,dataLabelText:e.dataLabelText,dataLabelDecimalPoints:e.dataLabelDecimalPoints,dataLabelHorizontalPosition:e.dataLabelHorizontalPosition,dataLabelVerticalPosition:e.dataLabelVerticalPosition,dataLabelDisplayUnits:e.dataLabelDisplayUnits}},referenceLine:{displayName:i("Visual_Reference_Line"),description:i("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:e.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:e.lineStyle,position:e.referenceLinePosition,dataLabelShow:e.dataLabelShow,dataLabelColor:e.dataLabelColor,dataLabelText:e.dataLabelText,dataLabelDecimalPoints:e.dataLabelDecimalPoints,dataLabelHorizontalPosition:e.dataLabelHorizontalPosition,dataLabelVerticalPosition:e.dataLabelVerticalPosition,dataLabelDisplayUnits:e.dataLabelDisplayUnits}},colorBorder:{displayName:i("Visual_ColorBorder"),properties:{show:e.show}},fillPoint:{displayName:i("Visual_FillPoint"),properties:{show:e.show,style:e.fillPointStyle}},colorByCategory:{displayName:i("Visual_ColorByCategory"),properties:{show:e.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:i("Visual_Scatter_SymmetryShading"),description:i("Visual_Scatter_SymmetryShadingDescription"),objectCategory:2,properties:{show:e.show,displayName:{displayName:i("Name"),type:{text:!0}},upperShadingColor:{displayName:i("Visual_Scatter_SymmetryShadingUpper"),description:i("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:i("Visual_Scatter_SymmetryShadingLower"),description:i("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:e.transparency}},ratioLine:{displayName:i("Visual_Scatter_RatioLine"),description:i("Visual_Scatter_RatioLineDescription"),objectCategory:2,properties:{show:e.show,displayName:{displayName:i("Name"),type:{text:!0}},lineColor:e.referenceLineColor,transparency:e.lineTransparency,style:e.lineStyle}}}}a=c.visuals||(c.visuals={}),i=c.data.createDisplayNameGetter,e=a.StandardObjectProperties,a.scatterRoleNames={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",play:"Play",tooltips:"Tooltips"},a.getScatterChartCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:a.scatterRoleNames.category,kind:c.VisualDataRoleKind.Grouping,displayName:i(t?"Role_DisplayName_Values":"Details"),displayOrder:1,description:i("Role_DisplayName_DetailsScatterChartDescription")},{name:a.scatterRoleNames.series,kind:c.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Legend"),displayOrder:t?4:2,description:i("Role_DisplayName_LegendDescription")},{name:a.scatterRoleNames.x,kind:c.VisualDataRoleKind.GroupingOrMeasure,displayName:i("Role_DisplayName_X"),displayOrder:t?2:3,description:i("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:0},{name:a.scatterRoleNames.y,kind:c.VisualDataRoleKind.GroupingOrMeasure,displayName:i("Role_DisplayName_Y"),displayOrder:t?3:4,description:i("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:a.scatterRoleNames.size,kind:c.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Size"),displayOrder:5,description:i("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:a.scatterRoleNames.gradient,kind:c.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Gradient"),displayOrder:6,description:i("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:a.scatterRoleNames.play,kind:c.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Play"),displayOrder:7}),t.push({name:a.scatterRoleNames.tooltips,kind:c.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),displayOrder:8,description:i("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),objects:o(),dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:c.VisualDataRoleKind.Measure},Y:{max:1,kind:c.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:c.VisualDataRoleKind.Measure},Y:{max:1,kind:c.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:c.VisualDataRoleKind.Measure},Y:{max:1,kind:c.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},t(!0,!0,!1),t(!0,!1,!0),t(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:c.VisualDataRoleKind.Measure},Y:{max:1,kind:c.VisualDataRoleKind.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:c.VisualDataRoleKind.Measure},Y:{max:1,kind:c.VisualDataRoleKind.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:1}]}},drilldown:{roles:[a.scatterRoleNames.category,a.scatterRoleNames.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}},a.getScatterChartObjectDescriptors=o,a.scatterChartObjectProps=a.builder.getPropertyIdentifiers(o()),a.scatterChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"},dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerShape:{objectName:"bubbles",propertyName:"markerShape"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorBorder:{show:{objectName:"colorBorder",propertyName:"show"}},fillPoint:{show:{objectName:"fillPoint",propertyName:"show"},style:{objectName:"fillPoint",propertyName:"style"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:{show:{objectName:"ratioLine",propertyName:"show"},lineColor:{objectName:"ratioLine",propertyName:"lineColor"},transparency:{objectName:"ratioLine",propertyName:"transparency"},style:{objectName:"ratioLine",propertyName:"style"}},categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}})(powerbi=powerbi||{}),(function(i){var o,r,e;o=i.visuals||(i.visuals={}),r=i.data.createDisplayNameGetter,e=o.StandardObjectProperties,o.slicerRoles={value:"Values"},o.slicerObjectDescriptors={general:{displayName:r("Visual_General"),properties:{responsive:e.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:e.formatString,outlineColor:e.outlineColor,outlineWeight:e.outlineWeight,orientation:{displayName:r("Slicer_Orientation"),type:{enumeration:o.slicerOrientation.type}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:o.relativeSlicerRelativeQualifier.type},filterState:!0},relativePeriod:{type:{enumeration:o.relativeSlicerPeriod.typeDate},filterState:!0},relativeTimePeriod:{type:{enumeration:o.relativeSlicerPeriod.typeTime},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{type:{enumeration:o.slicerMode.type},filterState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:r("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:r("Visual_SelectAll"),description:r("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:r("Visual_MultiSelectWithCtrl"),description:r("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:r("Visual_StrictSingleSelect"),description:r("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:r("Slicer_Header"),properties:{show:e.show,fontColor:e.fontColor,text:{displayName:r("Visual_Title_Text"),description:r("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:e.outline,outlineStyle:e.outlineStyle,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,showRestatement:{displayName:r("Slicer_Restatement_Enabled"),type:{bool:!0}}}},searchBox:{displayName:r("SearchBox"),properties:{outline:e.outline,outlineStyle:e.outlineStyle,borderColor:e.outlineColor,background:{displayName:r("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:r("Role_DisplayName_Items"),properties:{fontColor:e.fontColor,background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:e.outline,outlineStyle:e.outlineStyle,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,expandCollapseToggleType:{displayName:r("Slicer_ExpandCollapse_Toggle"),type:{enumeration:o.slicerExpandCollapseToggle.type}},steppedLayoutIndentation:{displayName:r("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:r("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:r("Slicer_DateInputs"),properties:{fontColor:e.fontColor,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}},hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:r("Slicer_NumericInputs"),properties:{fontColor:e.fontColor,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}}}},slider:{displayName:r("Slicer_Slider"),properties:{show:e.show,color:{displayName:r("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}}}},dateRange:{displayName:r("Slicer_DateRange"),properties:{includeToday:{displayName:r("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:r("RelativeSlicer_AnchorDate"),type:{dateTime:!0},filterState:!0}}}},o.slicerProps=o.builder.getPropertyIdentifiers(o.slicerObjectDescriptors),o.getSlicerCapabilities=function(e){var t,a;return{dataRoles:[{name:o.slicerRoles.value,kind:i.VisualDataRoleKind.Grouping,displayName:r("Field"),description:r("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],objects:o.slicerObjectDescriptors,drilldown:{roles:[o.slicerRoles.value],suppresDrillOperations:!0},dataViewMappings:((a=[{conditions:[((t={})[o.slicerRoles.value]={max:1,suppressDrill:!0},t)],categorical:{categories:{for:{in:o.slicerRoles.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}]).unshift({conditions:[((t={})[o.slicerRoles.value]={min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0},t)],matrix:{rows:{for:{in:o.slicerRoles.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),a),expandCollapse:{roles:[o.slicerRoles.value],addDataViewFlags:{defaultValue:!0}},sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}})(powerbi=powerbi||{}),(function(u){!(function(e){var t,a=u.data.createDisplayNameGetter,i=e.StandardObjectProperties;e.navigatorProps={fill:e.tileLibraryProps.fill,outline:e.tileLibraryProps.outline,text:e.tileContentProps.text,shape:e.tileLibraryProps.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:e.tileLibraryProps.shadow,glow:e.tileLibraryProps.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},e.pageNavigatorProps=__assign(__assign({},e.navigatorProps),{pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"}}}),e.bookmarkNavigatorProps=__assign(__assign({},e.navigatorProps),{bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}}),e.navigatorObjectNames={fill:e.tileLibraryObjectNames.fill,outline:e.tileLibraryObjectNames.outline,text:e.tileContentObjectNames.text,shape:e.tileLibraryObjectNames.shape,layout:"layout",shadow:e.tileLibraryObjectNames.shadow,glow:e.tileLibraryObjectNames.glow,rotation:"rotation"},e.pageNavigatorObjectNames=__assign(__assign({},e.navigatorObjectNames),{pages:"pages"}),e.bookmarkNavigatorObjectNames=__assign(__assign({},e.navigatorObjectNames),{bookmarks:"bookmarks"}),e.navigatorObjectPropertyNames=__assign(__assign(__assign({},e.tileLibraryObjectPropertyNames),e.tileContentObjectPropertyNames),{orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"}),e.pageNavigatorObjectPropertyNames=__assign(__assign({},e.navigatorObjectPropertyNames),{showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages"}),e.bookmarkNavigatorObjectPropertyNames=__assign(__assign({},e.navigatorObjectPropertyNames),{bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"});var o=((t={show:i.show})[e.tileLibraryObjectPropertyNames.fillColor]=i.fill,t[e.tileLibraryObjectPropertyNames.fillTransparency]=i.transparency,t),r=((s={show:i.show})[e.tileContentObjectPropertyNames.fontColor]=i.fontColor,s[e.tileContentObjectPropertyNames.fontSize]=i.fontSize,s[e.tileContentObjectPropertyNames.fontFamily]=i.fontFamily,s[e.tileContentObjectPropertyNames.textVerticalAlignment]={displayName:a("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},s[e.tileContentObjectPropertyNames.textHorizontalAlignment]={displayName:a("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},s[e.tileContentObjectPropertyNames.textLeftMargin]={displayName:a("Visual_Margin_Left"),type:{integer:!0}},s[e.tileContentObjectPropertyNames.textRightMargin]={displayName:a("Visual_Margin_Right"),type:{integer:!0}},s[e.tileContentObjectPropertyNames.textTopMargin]={displayName:a("Visual_Margin_Top"),type:{integer:!0}},s[e.tileContentObjectPropertyNames.textBottomMargin]={displayName:a("Visual_Margin_Bottom"),type:{integer:!0}},s),n=((l={})[e.navigatorObjectPropertyNames.orientation]={displayName:a("Slicer_Orientation"),type:{enumeration:e.navigatorOrientation.type}},l[e.navigatorObjectPropertyNames.rowCount]={displayName:a("Small_Multiples_Layout_Rows"),type:{integer:!0}},l[e.navigatorObjectPropertyNames.columnCount]={displayName:a("Small_Multiples_Layout_Columns"),type:{integer:!0}},l[e.navigatorObjectPropertyNames.cellPadding]={displayName:a("Visual_Padding"),type:{integer:!0}},l),i=((t={})[e.navigatorObjectPropertyNames.rotation]={displayName:a("Visual_BasicShape_Rotate"),type:{integer:!0}},t[e.navigatorObjectPropertyNames.shapeRotation]={displayName:a("Visual_ShapeRotation"),type:{integer:!0}},t[e.navigatorObjectPropertyNames.textRotation]={displayName:a("Visual_TextRotation"),type:{integer:!0}},t),l=((s={})[e.pageNavigatorObjectPropertyNames.showHiddenPages]={displayName:a("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},s[e.pageNavigatorObjectPropertyNames.showTooltipPages]={displayName:a("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},s),s=((t={})[e.bookmarkNavigatorObjectPropertyNames.bookmarkGroup]={displayName:a("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},t[e.bookmarkNavigatorObjectPropertyNames.allowDeselectionBookmark]={displayName:a("Visual_AllowDeselection"),description:a("Visual_AllowDeselection_Description"),type:{bool:!0}},t[e.bookmarkNavigatorObjectPropertyNames.deselectionBookmark]={displayName:a("Visual_LaunchOnDeselection"),description:a("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},t[e.bookmarkNavigatorObjectPropertyNames.hideDeselectedBookmark]={displayName:a("Visual_HideDeselectionBookmark"),description:a("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},t[e.bookmarkNavigatorObjectPropertyNames.selectedBookmark]={type:{text:!0}},t);e.navigatorInstanceId={default:"default",hover:"hover",press:"press",selected:"selected"};(t={})[e.navigatorObjectNames.fill]={displayName:a("Visual_Fill"),properties:o},t[e.navigatorObjectNames.outline]=e.tileLibraryObjectDescriptors.outline,t[e.navigatorObjectNames.text]={displayName:a("Text"),properties:r},t[e.navigatorObjectNames.shape]=e.tileLibraryObjectDescriptors.shape,t[e.navigatorObjectNames.layout]={displayName:a("Small_Multiples_Layout"),properties:n},t[e.navigatorObjectNames.shadow]=e.tileLibraryObjectDescriptors.shadow,t[e.navigatorObjectNames.glow]=e.tileLibraryObjectDescriptors.glow,t[e.navigatorObjectNames.rotation]={displayName:a("Visual_BasicShape_Rotate"),properties:i},i=t;e.pageNavigatorCapabilites={objects:__assign(__assign({},i),((t={})[e.pageNavigatorObjectNames.pages]={displayName:a("Pages"),properties:l},t)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},e.bookmarkNavigatorCapabilites={objects:__assign(__assign({},i),((i={})[e.bookmarkNavigatorObjectNames.bookmarks]={displayName:a("ExplorationBookmarksPane_Title"),properties:s},i)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}})(u.visuals||(u.visuals={}))})(powerbi=powerbi||{}),(function(t){var e,a,i;e=t.visuals||(t.visuals={}),a=t.data.createDisplayNameGetter,i=e.StandardObjectProperties,e.getTableCapabilities=function(e){return{dataRoles:(e=(e=e)&&e.useModernFormatPane,[{name:"Values",kind:t.VisualDataRoleKind.GroupingOrMeasure,displayName:a(e?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]),objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:a("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:a("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:a("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:a("Visual_Grid"),properties:{outlineColor:i.outlineColor,outlineWeight:i.outlineWeight,gridVertical:{displayName:a("Visual_GridVertical"),description:a("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:a("Visual_GridVertical_Color"),description:a("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:a("Visual_GridVertical_Weight"),description:a("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:a("Visual_GridHorizontal"),description:a("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:a("Visual_GridHorizontal_Color"),description:a("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:a("Visual_GridHorizontal_Weight"),description:a("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:a("Visual_RowPadding"),description:a("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:a("Visual_Tablix_ImageHeight"),description:a("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:a("Visual_Tablix_ColumnHeaders"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor,wordWrap:{displayName:a("Visual_Word_Wrap"),type:{bool:!0}}}},values:{displayName:a("Visual_Tablix_Values"),properties:{outline:i.outline,backColor:{displayName:a("Background_Color"),description:a("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:a("Visual_FontColor"),description:a("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:a("Background_Color"),description:a("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:a("Visual_Tablix_FontColorSecondary"),description:a("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:a("Visual_Tablix_BackColorSecondary"),description:a("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:a("Visual_Tablix_UrlIcon"),description:a("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:a("Visual_Total"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor}},columnFormatting:{displayName:a("Visual_Tablix_ColumnFormatting"),properties:{fontColor:i.tablixFontColor,backColor:i.backColor,styleHeader:{displayName:a("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:a("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:a("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.matrixRoleNames={rows:"Rows",columns:"Columns",values:"Values"},t.matrixCapabilities={dataRoles:[{name:t.matrixRoleNames.rows,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Rows"),description:a("Role_DisplayName_RowsDescription")},{name:t.matrixRoleNames.columns,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Columns"),description:a("Role_DisplayName_ColumnsDescription")},{name:t.matrixRoleNames.values,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:a("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:a("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:a("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:a("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:a("Visual_Grid"),properties:{outlineColor:i.outlineColor,outlineWeight:i.outlineWeight,gridVertical:{displayName:a("Visual_GridVertical"),description:a("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:a("Visual_GridVertical_Color"),description:a("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:a("Visual_GridVertical_Weight"),description:a("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:a("Visual_GridHorizontal"),description:a("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:a("Visual_GridHorizontal_Color"),description:a("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:a("Visual_GridHorizontal_Weight"),description:a("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:a("Visual_RowPadding"),description:a("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:a("Visual_Tablix_ImageHeight"),description:a("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:a("Visual_Tablix_ColumnHeaders"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor}},rowHeaders:{displayName:a("Visual_Tablix_RowHeaders"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor,wordWrap:{displayName:a("Visual_Word_Wrap"),type:{bool:!0}}}},values:{displayName:a("Visual_Tablix_Values"),properties:{outline:i.outline,backColor:{displayName:a("Background_Color"),description:a("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:a("Visual_FontColor"),description:a("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:a("Background_Color"),description:a("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:a("Visual_Tablix_FontColorSecondary"),description:a("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:a("Visual_Tablix_BackColorSecondary"),description:a("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:a("Visual_Tablix_TotalSub"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor}},total:{displayName:a("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor,applyToHeaders:{displayName:a("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:a("Visual_Tablix_ColumnFormatting"),properties:{fontColor:i.tablixFontColor,backColor:i.backColor,styleHeader:{displayName:a("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:a("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:a("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:a("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[t.matrixRoleNames.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[t.matrixRoleNames.columns],displayName:a("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:a("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:a("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[t.matrixRoleNames.rows],displayName:a("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:a("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:a("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,t.accessibleTableCapabilities={dataRoles:[{name:t.matrixRoleNames.rows,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Rows"),description:a("Role_DisplayName_RowsDescription")},{name:t.matrixRoleNames.columns,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Columns"),description:a("Role_DisplayName_ColumnsDescription")},{name:t.matrixRoleNames.values,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:t.StandardObjectProperties.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:t.matrixRoleNames.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:t.matrixRoleNames.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:t.matrixRoleNames.values}}}}]}})(powerbi=powerbi||{}),(function(a){var t,e,i,o;t=a.visuals||(a.visuals={}),i=a.data.createDisplayNameGetter,o=t.StandardObjectProperties,t.treemapRoles={group:"Group",details:"Details",values:"Values",gradient:"Gradient"},t.getTreemapCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:"Group",kind:a.VisualDataRoleKind.Grouping,displayName:i(t?"Role_DisplayName_Category":"Group_Role"),description:i("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:a.VisualDataRoleKind.Grouping,displayName:i("Details")},{name:"Values",kind:a.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Values"),description:i("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:"Gradient",kind:a.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Gradient"),description:i("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:"Tooltips",kind:a.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),description:i("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},legend:t.StandardObjectDescriptors.legend,dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{fill:o.defaultCategoryColor,fillRule:{displayName:i("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:i("Visual_DataPointsLabels"),description:i("Visual_DataPointsLabelsDescription"),properties:{show:o.show,color:o.dataColor,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily}},categoryLabels:{displayName:i("Visual_CategoryLabels"),description:i("Visual_CategoryLabelsDescription"),properties:{show:o.show,color:o.categoryColor,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:1},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:0},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}},(e=a.ensurePowerbiVisuals()).getTreemapCapabilities||(e.getTreemapCapabilities=function(){return a.visuals.getTreemapCapabilities()}),t.treemapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.cardCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Fields"),description:a("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString}},labels:{displayName:a("Visual_DataPointLabel"),properties:{color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily,preserveWhitespace:{displayName:a("Visual_LabelPreserveWhitespace"),description:a("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:a("Visual_CategoryLabel"),properties:{show:i.show,color:i.dataColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily,preserveWhitespace:{displayName:a("Visual_LabelPreserveWhitespace"),description:a("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:a("Visual_Word_Wrap"),properties:{show:i.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0}},t.cardProps={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){e=e&&e.useModernFormatPane;return{dataRoles:[{name:a.waterfallRoleNames.category,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Category"),description:i("Role_DisplayName_CategoryWaterfallDescription")},{name:a.waterfallRoleNames.breakdown,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_BreakdownWaterfall"),description:i("Role_DisplayName_BreakdownWaterfallDescription")},{name:a.waterfallRoleNames.y,kind:t.VisualDataRoleKind.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:i(e?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:i("Role_DisplayName_ValuesDescription")},{name:a.waterfallRoleNames.tooltips,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),description:i("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString,responsive:o.responsive,responsiveLegacy:o.responsiveLegacy}},legend:a.StandardObjectDescriptors.legend,categoryAxis:{displayName:i("Visual_XAxis"),properties:{show:o.show,showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,preferredCategoryWidth:o.preferredCategoryWidth,maxMarginFactor:o.maxMarginFactor,innerPadding:o.innerPadding,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleText:o.titleText}},valueAxis:{displayName:i("Visual_YAxis"),properties:{show:o.show,position:o.yAxisPosition,start:o.axisStart,end:o.axisEnd,invertAxis:o.invertAxis,showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,totalsEnabled:o.totalsEnabled,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleText:o.titleText,gridlineShow:__assign(__assign({},o.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:o.lineColor,gridlineThickness:o.strokeWidth,gridlineStyle:o.lineStyle,switchAxisPosition:o.switchAxisPosition}},labels:{displayName:i("Visual_DataPointsLabels"),description:i("Visual_DataPointsLabelsDescription"),properties:{show:o.show,color:o.dataColor,labelDisplayUnits:o.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},o.labelPrecision),{suppressFormatPainterCopy:!0}),fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily,labelOrientation:{displayName:i("Visual_LabelOrientation"),type:{enumeration:a.labelOrientation.type}},labelPosition:{displayName:i("Visual_Position"),type:{enumeration:a.labelPosition.type}},enableBackground:o.labelEnableBackground,backgroundColor:o.labelBackgroundColor,backgroundTransparency:o.labelBackgroundTransparency}},plotArea:{displayName:i("Visual_Plot"),properties:{transparency:o.transparency,image:o.image}},sentimentColors:{displayName:i("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:i("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:i("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:i("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:i("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},y1AxisReferenceLine:{displayName:i("Visual_Reference_Line"),description:i("Visual_Reference_Line_Description"),objectCategory:2,properties:{show:o.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:o.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:o.lineStyle,position:o.referenceLinePosition,dataLabelShow:o.dataLabelShow,dataLabelColor:o.dataLabelColor,dataLabelText:o.dataLabelText,dataLabelDecimalPoints:o.dataLabelDecimalPoints,dataLabelHorizontalPosition:o.dataLabelHorizontalPosition,dataLabelVerticalPosition:o.dataLabelVerticalPosition,dataLabelDisplayUnits:o.dataLabelDisplayUnits}},breakdown:{displayName:i("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:i("Visual_Waterfall_MaxBreakdown"),description:i("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.waterfallRoleNames={category:"Category",breakdown:"Breakdown",y:"Y",tooltips:"Tooltips"},a.getWaterfallChartCapabilities=e,a.waterfallChartPropsNew=a.builder.getPropertyIdentifiers(e().objects),a.waterfallChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},sentimentColors:{increaseFill:{objectName:"sentimentColors",propertyName:"increaseFill"},decreaseFill:{objectName:"sentimentColors",propertyName:"decreaseFill"},totalFill:{objectName:"sentimentColors",propertyName:"totalFill"},otherFill:{objectName:"sentimentColors",propertyName:"otherFill"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},breakdown:{maxBreakdowns:{objectName:"breakdown",propertyName:"maxBreakdowns"}},valueAxis:{totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.sunburstCapabilities={dataRoles:[{name:"Nodes",kind:e.VisualDataRoleKind.Grouping,displayName:a("Group_Role")},{name:"Values",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values"),description:a("Role_DisplayName_ValuesDescription")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString}},legend:{displayName:a("Visual_Legend"),description:a("Visual_LegendDescription"),properties:{show:i.show,position:i.legendPosition,showTitle:i.showLegendTitle,titleText:i.legendTitle,labelColor:i.labelColor,fontSize:i.fontSize}},dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{fill:{type:{fill:{solid:{color:!0}}}},fillRule:{displayName:a("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:a("Visual_DataPointsLabels"),description:a("Visual_DataPointsLabelsDescription"),properties:{show:i.show,color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision}},categoryLabels:{displayName:a("Visual_CategoryLabels"),description:a("Visual_CategoryLabelsDescription"),properties:{show:i.show}}},dataViewMappings:[{conditions:[{Nodes:{min:0},Values:{max:1}}],matrix:{rows:{for:{in:"Nodes"}},columns:{for:{in:""}},values:{for:{in:"Values"}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}}},t.sunburstProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}}}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).bingSocialNewsCapabilities={dataViewMappings:[]}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).bingSocialTweetsCapabilities={dataViewMappings:[]}})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){return{dataRoles:(e=(e=e)&&e.useModernFormatPane,[{name:a.kpiRoleNames.indicator,kind:t.VisualDataRoleKind.Measure,displayName:i(e?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:i("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:a.kpiRoleNames.trendLine,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_KPI_TrendLine"),description:i("Role_DisplayName_KPI_Trendline_Description")},{name:a.kpiRoleNames.goal,kind:t.VisualDataRoleKind.Measure,displayName:i(e?"KpiTrendFieldListDisplayName":"Role_DisplayName_KPI_Goal"),description:i("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},indicator:{displayName:i("Role_DisplayName_KPI_Indicator"),description:i("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:i("Visual_DisplayUnits"),description:i("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:o.labelPrecision,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily,fontColor:o.fontColor,showIcon:o.showIcon,iconSize:o.iconSize,kpiFormat:{displayName:i("TaskPane_Format"),type:{text:!0}},verticalAlignment:{displayName:i("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:i("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}}}},trendline:{displayName:i("Role_DisplayName_KPI_TrendLine"),description:i("Role_DisplayName_KPI_Trendline_Description"),properties:{show:o.show,transparency:o.transparency}},goals:{displayName:i("Role_DisplayName_KPI_Goals"),description:i("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:i("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:i("Role_DisplayName_Label"),type:{text:!0}},fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,goalFontFamily:o.fontFamily,goalFontColor:o.fontColor,showDistance:{displayName:i("Distance"),type:{bool:!0}},distanceLabel:{displayName:i("Role_DisplayName_Label"),type:{enumeration:a.kpiDistanceLabel.type}},labelPrecision:o.labelPrecision,titleFontSize:o.fontSize,titleBold:o.bold,titleItalic:o.italic,titleUnderline:o.underline,distanceFontFamily:o.fontFamily,distanceFontColor:o.fontColor,direction:{displayName:i("Visual_KPI_DistanceDirection"),type:{enumeration:a.kpiDistanceDirection.type}}}},status:{displayName:i("Role_DisplayName_KPI_Color_Coding"),description:i("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:i("Visual_KPI_Direction"),type:{enumeration:a.kpiDirection.type}},goodColor:{displayName:i("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:i("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:i("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:i("ConditionalFormattingDialog_Date"),description:i("Role_DisplayName_KPI_Date_Description"),properties:{show:o.show,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,lastDateFontFamily:o.fontFamily,lastDateFontColor:o.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:1}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.kpiRoleNames={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"},a.getKPIStatusWithHistoryCapabilities=e,a.kpiPropsNewModel=a.builder.getPropertyIdentifiers(e().objects),a.kpiProps={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}})(powerbi=powerbi||{}),(function(t){var e,a,i,o,r;e=t.visuals||(t.visuals={}),a=t.data.createDisplayNameGetter,i=e.StandardObjectProperties,o=e.ShapeMapType.Role,r={general:{displayName:a("Visual_General"),properties:{formatString:i.formatString}},legend:e.StandardObjectDescriptors.legend,dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{defaultColor:i.defaultColor,showAllDataPoints:i.showAllDataPoints,fill:i.defaultCategoryColor,fillRule:{displayName:a("Role_DisplayName_Values"),description:a("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:o.value,output:{property:"fill",selector:[o.category]}}}}},shape:{displayName:a("Visual_Shape"),description:a("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:t.GeoJsonContentTypes.topojson}}},projectionEnum:{displayName:a("Visual_ShapeMap_Projection"),description:a("Visual_ShapeMap_Projection_Desc"),type:{enumeration:e.ShapeMapType.Projection.type}}}},defaultColors:{displayName:a("Visual_ShapeMap_DefaultColor"),description:a("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:a("Visual_ShapeMap_DefaultShow"),description:a("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:a("Visual_ShapeMap_DefaultColorColor"),description:a("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:{displayName:a("Visual_ShapeMap_BorderColor"),description:a("Visual_ShapeMap_BorderColor_Desc"),type:{fill:{solid:{color:!0}}}},borderThickness:{displayName:a("Visual_ShapeMap_BorderThickness"),description:a("Visual_ShapeMap_BorderThickness_Desc"),type:{numeric:!0}}}},zoom:{displayName:a("Visual_ShapeMap_Zoom"),description:a("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:a("Visual_ShapeMap_AutoZoom"),description:a("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:a("Visual_ShapeMap_SelectionZoom"),description:a("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:a("Visual_ShapeMap_ManualZoom"),description:a("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}},e.getShapeMapCapabilities=function(){var e;return{dataRoles:[{name:o.category,kind:t.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Location"),description:a("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:o.series,kind:t.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Legend"),description:a("Role_DisplayName_LegendDescription")},{name:o.value,kind:t.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Gradient"),description:a("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:o.tooltips,kind:t.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Tooltips"),description:a("Role_Tooltips_Description"),joinPredicate:0}],objects:r,dataViewMappings:[{conditions:[((e={})[o.category]={min:0,max:1},e[o.series]={min:0,max:1},e[o.value]={min:0,max:1},e)],categorical:{categories:{for:{in:o.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:o.series,select:[{bind:{to:o.value}},{for:{in:o.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:o.value,direction:2}]}},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}},e.shapeMapProps=t.visuals.builder.getPropertyIdentifiers(r)})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){return{dataRoles:(e=(e=e)&&e.useModernFormatPane,[{name:"Values",kind:t.VisualDataRoleKind.GroupingOrMeasure,displayName:i(e?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]),objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},grid:{displayName:i("Visual_Grid"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,gridVertical:{displayName:i("Visual_GridVertical"),description:i("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:i("Visual_GridVertical_Color"),description:i("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:i("Visual_GridVertical_Weight"),description:i("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:i("Visual_GridHorizontal"),description:i("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:i("Visual_GridHorizontal_Color"),description:i("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:i("Visual_GridHorizontal_Weight"),description:i("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:i("Visual_RowPadding"),description:i("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:i("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:i("Visual_Tablix_ImageHeight"),description:i("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:i("Visual_Tablix_ColumnHeaders"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,alignment:o.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:i("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}}}},values:{displayName:i("Visual_Tablix_Values"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,backColor:{displayName:i("Background_Color"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:i("Visual_FontColor"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontColorPrimary:{displayName:i("Visual_FontColor"),description:i("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:i("Background_Color"),description:i("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:i("Visual_Tablix_FontColorSecondary"),description:i("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:i("Visual_Tablix_BackColorSecondary"),description:i("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}},icon:{displayName:i("Visual_Tablix_Icons"),description:i("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:i("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:i("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:i("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:i("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor}},columnFormatting:{displayName:i("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:i("Visual_DisplayUnits"),description:i("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:o.labelPrecision,fontColor:o.tablixFontColor,backColor:o.backColor,alignment:o.textAlignment,styleHeader:{displayName:i("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:i("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:i("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:i("Visual_ConditionalFormatting_DataBars"),description:i("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:{displayName:i("Sparkline_Label"),properties:{chartType:{displayName:i("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:a.sparklineChartType.type}},dataColor:{displayName:i("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:o.strokeWidth,markers:{displayName:i("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:a.sparklineMarkerType.type}},markerColor:o.markerColor,markerSize:{displayName:i("Visual_MarkerSize"),type:{integer:!0}},markerShape:o.markerShape}},accessibility:{displayName:i("Accessibility"),properties:{altTextColumns:{displayName:i("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:i("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.getTableExCapabilities=e,a.tableExProps=a.builder.getPropertyIdentifiers(e().objects)})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){return{dataRoles:[{name:a.matrixRoleNames.rows,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Rows"),description:i("Role_DisplayName_RowsDescription")},{name:a.matrixRoleNames.columns,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Columns"),description:i("Role_DisplayName_ColumnsDescription")},{name:a.matrixRoleNames.values,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},grid:{displayName:i("Visual_Grid"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,gridVertical:{displayName:i("Visual_GridVertical"),description:i("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:i("Visual_GridVertical_Color"),description:i("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:i("Visual_GridVertical_Weight"),description:i("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:i("Visual_GridHorizontal"),description:i("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:i("Visual_GridHorizontal_Color"),description:i("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:i("Visual_GridHorizontal_Weight"),description:i("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:i("Visual_RowPadding"),description:i("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:i("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:i("Visual_Tablix_ImageHeight"),description:i("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:i("Visual_Tablix_ColumnHeaders"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,alignment:o.textAlignment,titleAlignment:{displayName:i("Visual_TextAlignment_Title"),type:{enumeration:a.textAlignment.type}},autoSizeColumnWidth:{type:{bool:!0},displayName:i("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}}}},rowHeaders:{displayName:i("Visual_Tablix_RowHeaders"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,alignment:o.textAlignment,stepped:{displayName:i("Visual_PivotTable_SteppedLayout"),description:i("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:i("Visual_PivotTable_SteppedLayoutIndentation"),description:i("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}},showExpandCollapseButtons:{displayName:i("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:i("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:i("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}}}},values:{displayName:i("Visual_Tablix_Values"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,backColor:{displayName:i("Background_Color"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:i("Visual_FontColor"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontColorPrimary:{displayName:i("Visual_FontColor"),description:i("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:i("Background_Color"),description:i("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:i("Visual_Tablix_FontColorSecondary"),description:i("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:i("Visual_Tablix_BackColorSecondary"),description:i("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:i("Visual_PivotTable_ValuesBandedRowHeaders"),description:i("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}},valuesOnRow:{displayName:i("Visual_PivotTable_ValuesOnRow"),description:i("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:i("Visual_Tablix_Icons"),description:i("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:i("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:i("Visual_Tablix_TotalSub"),properties:{outline:o.outline,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,rowSubtotals:{type:{bool:!0},displayName:i("Visual_SubtotalRow"),description:i("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:i("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:i("Visual_SubtotalRow_Position"),type:{enumeration:a.rowSubtotalPosition.type},suppressFormatPainterCopy:!0},perRowLevel:{displayName:i("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:i("Visual_SubtotalColumn"),description:i("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:i("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:i("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:i("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:o.outline,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:i("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:i("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:i("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:i("Visual_DisplayUnits"),description:i("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:o.labelPrecision,fontColor:o.tablixFontColor,backColor:o.backColor,alignment:o.textAlignment,styleHeader:{displayName:i("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:i("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:i("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:i("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:i("Visual_ConditionalFormatting_DataBars"),description:i("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:{displayName:i("Sparkline_Label"),properties:{chartType:{displayName:i("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:a.sparklineChartType.type}},dataColor:{displayName:i("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:o.strokeWidth,markers:{displayName:i("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:a.sparklineMarkerType.type}},markerColor:o.markerColor,markerSize:{displayName:i("Visual_MarkerSize"),type:{integer:!0}},markerShape:o.markerShape}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[a.matrixRoleNames.columns],displayName:i("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:i("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:i("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[a.matrixRoleNames.rows],displayName:i("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:i("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:i("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[a.matrixRoleNames.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[a.matrixRoleNames.rows,a.matrixRoleNames.columns]},expandCollapse:{roles:[a.matrixRoleNames.rows],addDataViewFlags:{defaultValue:!0}},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.getPivotTableCapabilities=e,a.pivotTableProps=a.builder.getPropertyIdentifiers(e().objects)})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,t.qnaVisualObjectDescriptors={inputBox:{displayName:e("Visual_Qna_QuestionBox"),properties:{background:{displayName:e("Background_Color"),description:e("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:e("Visual_Qna_QuestionFontColor"),description:e("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:e("Visual_Qna_QuestionFontSize"),description:e("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:t.StandardObjectProperties.bold,questionItalic:t.StandardObjectProperties.italic,questionUnderline:t.StandardObjectProperties.underline,questionFontFamily:{displayName:e("Visual_Qna_QuestionFontFamily"),description:e("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:e("Visual_Qna_HoverColor"),description:e("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:e("Visual_Qna_AcceptedUnderlineColor"),description:e("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:e("Visual_Qna_ErrorUnderlineColor"),description:e("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:e("Visual_Qna_WarningUnderlineColor"),description:e("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:e("Visual_Qna_RestatementFontColor"),description:e("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:e("Visual_Qna_RestatementFontSize"),description:e("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementBold:t.StandardObjectProperties.bold,restatementItalic:t.StandardObjectProperties.italic,restatementUnderline:t.StandardObjectProperties.underline,restatementFontFamily:{displayName:e("Visual_Qna_RestatementFontFamily"),description:e("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:e("Visual_Qna_CommitButtonBackgroundColor"),description:e("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:e("Visual_Qna_Suggestions"),properties:{show:t.StandardObjectProperties.show,headerFontColor:{displayName:e("Visual_Qna_HeaderFontColor"),description:e("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:e("Visual_Qna_HeaderFontSize"),description:e("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:t.StandardObjectProperties.bold,headerItalic:t.StandardObjectProperties.italic,headerUnderline:t.StandardObjectProperties.underline,headerFontFamily:{displayName:e("Visual_Qna_HeaderFontFamily"),description:e("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:e("Visual_Qna_CardBackgroundColor"),description:e("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:e("Visual_Qna_CardFontColor"),description:e("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:e("Visual_Qna_CardFontSize"),description:e("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:t.StandardObjectProperties.bold,cardItalic:t.StandardObjectProperties.italic,cardUnderline:t.StandardObjectProperties.underline,cardFontFamily:{displayName:e("Visual_Qna_CardFontFamily"),description:e("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},t.qnaVisualProps=t.builder.getPropertyIdentifiers(t.qnaVisualObjectDescriptors),t.qnaVisualCapabilities={objects:t.qnaVisualObjectDescriptors,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1}}})(powerbi=powerbi||{}),(function(t){var a,i,o;a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.histogramColumnRoleNames={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},a.getHistogramCapabilities=function(e){return{dataRoles:[{name:a.histogramColumnRoleNames.category,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Axis"),requiredTypes:[{numeric:!0},{integer:!0}],description:i("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:a.histogramColumnRoleNames.series,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Legend"),description:i("Role_DisplayName_LegendDescription")},{name:a.histogramColumnRoleNames.y,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Value"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:a.histogramColumnRoleNames.tooltips,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),description:i("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString,responsive:o.responsive,responsiveLegacy:o.responsiveLegacy}},legend:a.StandardObjectDescriptors.legend,categoryAxis:{displayName:i("Visual_XAxis"),properties:{show:o.show,position:o.yAxisPosition,start:o.axisStart,end:o.axisEnd,showAxisTitle:{displayName:i("Visual_Axis_Title"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleText:o.titleText,gridlineShow:__assign(__assign({},o.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:o.lineColor,gridlineThickness:o.strokeWidth,gridlineStyle:o.lineStyle}},valueAxis:{displayName:i("Visual_YAxis"),properties:{show:o.show,position:o.yAxisPosition,axisScale:o.axisScale,start:o.axisStart,end:o.axisEnd,showAxisTitle:{displayName:i("Visual_Axis_Title"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleText:o.titleText,gridlineShow:__assign(__assign({},o.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:o.lineColor,gridlineThickness:o.strokeWidth,gridlineStyle:o.lineStyle}},dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{defaultColor:o.defaultColor,fill:o.defaultCategoryColor,fillRule:{displayName:i("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:i("Visual_DataPointsLabels"),description:i("Visual_DataPointsLabelsDescription"),properties:{show:o.show,showSeries:{displayName:i("Visual_Show"),type:{bool:!0}},color:o.dataColor,labelDisplayUnits:o.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},o.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:i("Visual_LabelOrientation"),type:{enumeration:a.labelOrientation.type}},labelPosition:{displayName:i("Visual_Position"),type:{enumeration:a.labelPosition.type}},enableBackground:o.labelEnableBackground,backgroundColor:o.labelBackgroundColor,backgroundTransparency:o.labelBackgroundTransparency,labelOverflow:{displayName:i("Visual_LabelOverflow"),description:i("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:i("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:o.fontSize,fontFamily:o.fontFamily,labelDensity:{displayName:i("Visual_LabelDensity"),type:{integer:!0}}}},plotArea:{displayName:i("Visual_Plot"),properties:{transparency:o.transparency,image:o.image}},binning:{displayName:i("Visual_Binning"),suppressFormatPainterCopy:!0,properties:{binType:o.binType,numOfBins:o.numOfBins,binSize:o.binSize}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Category:{min:0,max:1},Y:{min:0,max:1},Series:{min:0,max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{count:500}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},sorting:{default:{}},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},Y:{min:0,max:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0}},a.histogramProps={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},showBorder:{objectName:"ribbonChart",propertyName:"showBorder"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},series:{seriesGapRatio:{objectName:"ribbonChart",propertyName:"seriesGapRatio"}},binning:{binType:{objectName:"binning",propertyName:"binType"},binCount:{objectName:"binning",propertyName:"binCount"},binSize:{objectName:"binning",propertyName:"binSize"}}}})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).dataQueryVisualRoles={values:"Values"},t.dataQueryVisualFormatIdentifier={objectName:"general",propertyName:"formatString"},t.dataQueryVisualOverrideDataReductionIdentifier={objectName:"overrideDataReduction",propertyName:"count"},t.dataQueryVisualSuppressJoinPredicateIdentifier={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},t.dataQueryVisualCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure}],objects:{general:{properties:{formatString:t.StandardObjectProperties.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.rdlVisualToolbarPositionEnum=e.createEnumType([{value:0,displayName:a("Top")},{value:1,displayName:a("Bottom")}]),t.rdlVisualCapabilities={advancedEditModeSupport:2,objects:{toolbar:{displayName:a("RdlVisual_Capabilities_Toolbar"),properties:{show:i.show,pageNavigation:{displayName:a("PageNavigation"),type:{bool:!0}},paramButton:{displayName:a("Parameters"),type:{bool:!0}},openReportButton:{displayName:a("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:a("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:a("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:t.rdlVisualToolbarPositionEnum}}}},export:{displayName:a("Export"),properties:{show:i.show,exportExcel:{displayName:a("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:a("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:a("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:a("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:a("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:a("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:a("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:a("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:a("RdlVisual_Capabilities_AutoFilter"),properties:{show:i.show}},reportInfo:{properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:a("Parameters"),description:a("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}]}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).capabilities={actionButton:e.visuals.getActionButtonCapabilites(),animatedNumber:e.visuals.animatedNumberCapabilities,areaChart:e.visuals.getLineChartCapabilities(!1,!0),barChart:e.visuals.getColumnChartCapabilities(!0,!0),basicShape:e.visuals.basicShapeCapabilities,shape:e.visuals.shapeCapabilities,card:e.visuals.cardCapabilities,multiRowCard:e.visuals.multiRowCardCapabilities,clusteredBarChart:e.visuals.getColumnChartCapabilities(!0),clusteredColumnChart:e.visuals.getColumnChartCapabilities(),columnChart:e.visuals.getColumnChartCapabilities(!1,!0),comboChart:e.visuals.getLegacyComboChartCapabilities(!1),dataDotChart:e.visuals.dataDotChartCapabilities,dataDotClusteredColumnComboChart:e.visuals.getLegacyComboChartCapabilities(!1),dataDotStackedColumnComboChart:e.visuals.getLegacyComboChartCapabilities(!0),donutChart:e.visuals.getDonutChartCapabilities(),funnel:e.visuals.getFunnelChartCapabilities(),gauge:e.visuals.gaugeCapabilities,hundredPercentStackedBarChart:e.visuals.getColumnChartCapabilities(!0,!0),hundredPercentStackedColumnChart:e.visuals.getColumnChartCapabilities(!1,!0),ribbonChart:e.visuals.getColumnChartCapabilities(!1,!0,!0),image:e.visuals.imageVisualCapabilities,lineChart:e.visuals.getLineChartCapabilities(!1,!1),stackedAreaChart:e.visuals.getLineChartCapabilities(!0,!0),lineStackedColumnComboChart:e.visuals.getComboChartCapabilities(!0),lineClusteredColumnComboChart:e.visuals.getComboChartCapabilities(!1),map:e.visuals.getMapCapabilities(),filledMap:e.visuals.getFilledMapCapabilities(),azureMap:e.visuals.getAzureMapCapabilities(),shapeMap:e.visuals.getShapeMapCapabilities(),treemap:e.visuals.getTreemapCapabilities(),pieChart:e.visuals.getDonutChartCapabilities(),scatterChart:e.visuals.getScatterChartCapabilities(),table:e.visuals.getTableCapabilities(),matrix:e.visuals.matrixCapabilities,slicer:e.visuals.getSlicerCapabilities(),pageNavigator:e.visuals.pageNavigatorCapabilites,bookmarkNavigator:e.visuals.bookmarkNavigatorCapabilites,textbox:e.visuals.textboxCapabilities,waterfallChart:e.visuals.getWaterfallChartCapabilities(),cheerMeter:e.visuals.cheerMeterCapabilities,heatMap:e.visuals.getMapCapabilities(),sunburst:e.visuals.sunburstCapabilities,scriptVisual:e.visuals.scriptVisualCapabilities,pythonVisual:e.visuals.getPythonVisualCapabilities(),kpi:e.visuals.getKPIStatusWithHistoryCapabilities(),realTimeLineChart:e.visuals.realTimeLineChartCapabilities,accessibleTable:e.visuals.accessibleTableCapabilities,pivotTableCapabilities:e.visuals.getPivotTableCapabilities(),keyDrivers:e.visuals.getKeyDriversCapabilities(),decompositionTree:e.visuals.getDecompositionTreeCapabilities(),qnaVisual:e.visuals.qnaVisualCapabilities,histogram:e.visuals.getHistogramCapabilities(),dataQueryVisual:e.visuals.dataQueryVisualCapabilities,scorecard:e.visuals.scorecardCapabilities,rdlVisual:e.visuals.rdlVisualCapabilities}})(powerbi=powerbi||{}),(function(e){var n,t;function a(){}n=e.visuals||(e.visuals={}),t=jsCommon.BrowserUtils,a.prototype.bindEvents=function(e,a,t){var i,o,r=this;e?(i=e.root,o=this.ticks=e.ticks,t&&(e=t.dataPointNavigationManager,t=t.pointSourceKey,e.isEmpty(t)||(n.InteractivityUtils.registerEnterPlotAreaHandler(i,e,t),n.InteractivityUtils.registerDataPointNavigationHandler(i,e,t),n.InteractivityUtils.registerClearCatcherShortcut(i,a))),o.on("click.select",(function(){return r.handleSelection(a)})).on("keydown.select",(function(){var e=d3.event,t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),e.stopPropagation(),r.handleSelection(a))}))):this.ticks&&this.ticks.on("click.select",null).on("keydown.select",null)},a.prototype.renderSelection=function(e){this.ticks&&this.ticks.style("font-weight",(function(e){return e.selected?"700":null}))},a.prototype.renderFocus=function(e){t.focus(e)},a.prototype.handleSelection=function(t){n.InteractivityUtils.tryToSelectD3Target((function(e){return n.InteractivityUtils.handleSelection(e,t)}),!0)},n.AxisBehavior=a})(powerbi=powerbi||{}),(function(e){var r,n;function o(){}r=e.visuals||(e.visuals={}),n=jsCommon.BrowserUtils,o.prototype.bindEvents=function(e,a,t){var i=this;this.legendIcons=e.legendIcons,this.legendLines=e.legendLines,this.visualStyle=e.visualStyle;var o=e.legendRoot;this.legendItems=e.legendItems;e=e.clearCatcher;r.InteractivityUtils.registerClearCatcherShortcut(o,a),this.legendItems.on("click",(function(e){return i.handleSelection(a,e)})).on("keydown",(function(e){var t=d3.event.keyCode;32!==t&&13!==t||i.handleSelection(a,e)})),e.on("click",(function(){n.isCtrlOrMeta(d3.event)||a.handleClearSelection()}))},o.prototype.renderSelection=function(t){var a=this,i=r.ColorHelper.getThemeColor(this.visualStyle,o.dimmedLegendColorName);this.legendIcons.styles({fill:function(e){return e.dataPoint&&(e=e.dataPoint),t&&!e.selected?i:e.color},stroke:function(e){return e.dataPoint&&(e=e.dataPoint),t&&!e.selected?i:e.color}}),this.legendLines.styles({stroke:function(e){return e.dataPoint&&(e=e.dataPoint),t&&!e.selected?i:e.lineColor}}),this.legendItems.attr("aria-selected",(function(e){return!(!t||!e.dataPoint.selected)})),this.visualStyle.isHighContrast&&(this.legendIcons.styles({"fill-opacity":function(e){return a.getOpacity(t,e)},"stroke-opacity":function(e){return a.getOpacity(t,e)}}),this.legendLines.styles({"stroke-opacity":function(e){return a.getOpacity(t,e)}}))},o.prototype.getOpacity=function(e,t){return t.dataPoint&&(t=t.dataPoint),e&&!t.selected?r.ColumnUtil.DimmedOpacity:r.ColumnUtil.DefaultOpacity},o.prototype.handleSelection=function(e,t){r.InteractivityUtils.handleSelection(t.dataPoint,e)},o.dimmedLegendColorName="foregroundNeutralTertiary",r.LegendBehavior=o})(powerbi=powerbi||{}),(function(e){var i;function t(){}i=e.visuals||(e.visuals={}),t.prototype.bindEvents=function(e,t,a){this.labelItems=e.labelItems,i.InteractivityUtils.registerStandardSelectionHandler(this.labelItems,t)},t.prototype.renderSelection=function(e){e?this.labelItems.styles({opacity:function(e){return e.selected?t.DefaultLabelOpacity:t.DimmedLabelOpacity}}):this.labelItems.styles({opacity:t.DefaultLabelOpacity})},t.DefaultLabelOpacity=1,t.DimmedLabelOpacity=.6,i.LabelsBehavior=t})(powerbi=powerbi||{}),(function(o){var N,e,t,P,g,r,y;function T(){}N=o.visuals||(o.visuals={}),e=N.controls||(N.controls={}),t=jsCommon.CssConstants,P=t.createClassAndSelector("noUi-target"),g=t.createClassAndSelector("noUi-base"),r=t.createClassAndSelector("noUi-value"),y=t.createClassAndSelector("noUi-handle"),T.createOrUpdateSliders=function(e){var t=e.containers,p=e.axesData,d=e.zoomAxes,m=e.zoomData,g=e.zoomExtents,y=e.hasYAxisCategorical,h=e.yFlipped,b=e.maxLabelWidthLeft,f=e.maxLabelWidthRight,v=e.resetEventHandlers,S=e.hideSliders,C=e.visualHostServices,x=e.invertedState,w=e.featureSwitches;t.each((function(e){var t,a,i,o,r,n,l,s=T.getAxisType(e,h),u=!1,c="y2"===s?(l=d.valueSecAxis,g.valueSecExtent):"y1"===s&&y||"x"===s&&!y?(l=d.categoryAxis,g.categoryExtent):(l=d.valueAxis,g.valueExtent);l&&(t=T.getAxisData(s,p),a=l.scale.domain(),i=l.axis.tickValues(),n=(null!=w&&w.logAxisScale&&null!==(r=t.logAxisScale)&&void 0!==r?r:t.axisScale===N.axisScale.log)&&N.AxisHelper.isLogScalePossible(a),"none"!==(o=S?"none":T.getScaleType(a,n))&&n&&(c=T.calcLogSliderValues(c),a=T.calcLogSliderValues(a),i=T.calcLogSliderValues(i)),r=T.getFormatFn(l,o),l=(n=d3.select(this)).select(P.selector),T.wasInverted(s,p,x)&&(l.node()&&l.node().noUiSlider.destroy(),u=!0),l.node()&&!u?T.updateSlider({slider:l,axisType:s,axisData:t,zoomData:m,hasYAxisCategorical:y,extent:c,scaleDomain:a,labelValues:i,maxLabelWidth:"left"===e?b:f,scaleType:o,formatFn:r,resetEventHandlers:v,visualHostServices:C}):T.createSlider({container:n,axisType:s,axisData:t,zoomData:m,hasYAxisCategorical:y,extent:c,scaleDomain:a,labelValues:i,maxLabelWidth:"left"===e?b:f,scaleType:o,formatFn:r,visualHostServices:C}))}))},T.createSlider=function(t){var r,e=t.container,a=t.axisType,i=t.axisData,o=t.zoomData,n=t.hasYAxisCategorical,l=t.extent,s=t.scaleDomain,u=t.labelValues,c=t.maxLabelWidth,p=t.scaleType,d=t.formatFn,m=t.visualHostServices;"none"!==p&&(e=e.append("div").attr("rtl","rtl"===document.dir),noUiSlider.create(e.node(),{start:l,range:{min:s[0],max:s[1]},margin:.001*(s[1]-s[0]),connect:!0,behaviour:"tap-drag",orientation:"x"===a?"horizontal":"vertical",direction:"x"===a?i.invertAxis?"rtl":"ltr":i.invertAxis?"ltr":"rtl",tooltips:!!o.showTooltip&&[{to:d},{to:d}],pips:o.showLabels?{mode:"values",values:u,format:{to:d,from:void 0}}:void 0}),e.select(g.selector).attr("drag-resize-disabled",!0).on("keydown",(function(){return d3.event.stopPropagation()})),this.applyVisualAxisStyles(e,a,i,c),r=T.getPropertyNames(a,n),e.node().querySelectorAll(y.selector).forEach((function(e){e.setAttribute("aria-label",t.visualHostServices.getLocalizedString("Visual_ZoomSlider"))})),e.node().noUiSlider.on("slide",_.throttle((function(e,t,a){var i=this.options.range.min,o=this.options.range.max;T.onSlide(r.min,r.max,r.size,a,i,o,p,m)}),100)))},T.updateSlider=function(e){var r,t=e.slider,a=e.axisType,i=e.axisData,o=e.zoomData,n=e.hasYAxisCategorical,l=e.extent,s=e.scaleDomain,u=e.labelValues,c=e.maxLabelWidth,p=e.scaleType,d=e.formatFn,m=e.resetEventHandlers,g=e.visualHostServices;"none"!==p?(t.node().noUiSlider.updateOptions({start:l,range:{min:s[0],max:s[1]},margin:.001*(s[1]-s[0]),tooltips:!!o.showTooltip&&[{to:d},{to:d}],pips:o.showLabels?{mode:"values",values:u,format:{to:d,from:void 0}}:null},!1),this.applyVisualAxisStyles(t,a,i,c),m&&(r=T.getPropertyNames(a,n),t.node().noUiSlider.off("slide"),t.node().noUiSlider.on("slide",_.throttle((function(e,t,a){var i=this.options.range.min,o=this.options.range.max;T.onSlide(r.min,r.max,r.size,a,i,o,p,g)}),100)))):t.node().noUiSlider.destroy()},T.destroySliders=function(e){var t=e.containers,a=e.hasYAxisCategorical,i=e.yFlipped,o=e.visualHostServices;t.each((function(e){e=T.getAxisType(e,i);T.destroySlider({axisType:e,hasYAxisCategorical:a,visualHostServices:o})}))},T.destroySlider=function(e){var t=e.axisType,a=e.hasYAxisCategorical,e=e.visualHostServices,t=T.getPropertyNames(t,a),a={};a[t.min]=!0,a[t.max]=!0,a[t.size]=!0,e.persistProperties({remove:[{objectName:"zoom",properties:a,selector:void 0}]},!0)},T.onSlide=function(e,t,a,i,o,r,n,l){var s={},u={};i=_.map(i,(function(e){return T.calcOriginalValue(e,n)})),o=T.calcOriginalValue(o,n),r=T.calcOriginalValue(r,n);var c=i[1]-i[0];i[0]===o&&i[1]===r?(u[e]=!0,u[t]=!0,u[a]=!0):i[0]===o?(u[e]=!0,s[t]=Number(!0),s[a]=c):i[1]===r?(s[e]=Number(!0),u[t]=!0,s[a]=c):(s[e]=i[0],s[t]=i[1],u[a]=!0),l.persistProperties({merge:[{objectName:"zoom",properties:s,selector:void 0}],remove:[{objectName:"zoom",properties:u,selector:void 0}]},!0)},T.getAxisType=function(e,t){switch(e){case"bottom":return"x";case"left":return t?"y2":"y1";case"right":return t?"y1":"y2"}},T.getPropertyNames=function(e,t){return"y2"===e?{min:N.zoomProps.valueSecMin.propertyName,max:N.zoomProps.valueSecMax.propertyName,size:N.zoomProps.valueSecSize.propertyName}:"y1"===e&&t||"x"===e&&!t?{min:N.zoomProps.categoryMin.propertyName,max:N.zoomProps.categoryMax.propertyName,size:N.zoomProps.categorySize.propertyName}:{min:N.zoomProps.valueMin.propertyName,max:N.zoomProps.valueMax.propertyName,size:N.zoomProps.valueSize.propertyName}},T.getFormatFn=function(e,t){if("none"!==t){var a=e.axis.tickFormat();return function(e){return a(T.calcOriginalValue(e,t),0)}}},T.calcLogSliderValues=function(e){return _.map(e,(function(e){return T.log10(Math.abs(e))}))},T.calcOriginalValue=function(e,t){switch(t){case"linear":return e;case"log":return Math.pow(10,e);case"rLog":return-Math.pow(10,e)}},T.applyVisualAxisStyles=function(e,t,a,i){a=a.labelFontProperties;e.selectAll(r.selector).styles(N.FontProperties.toHTMLStyle(a)),"x"!==t&&e.selectAll(r.selector).call(N.AxisHelper.LabelLayoutStrategy.clip,i,o.TextMeasurementService.svgEllipsis)},T.getAxisData=function(e,t){return t["y1"===e?"y":e]},T.getScaleType=function(e,t){return e[0],e[1],t?(e[0]<0&&e[1]<0||0<e[0]&&e[1],e[0]<0?"rLog":"log"):"linear"},T.log10=function(e){return Math.log(e)/Math.log(10)},T.wasInverted=function(e,t,a){return"x"===e&&(null==a?void 0:a.x)!==t.x.invertAxis||"y1"===e&&(null==a?void 0:a.y)!==t.y.invertAxis||"y2"===e&&(null==a?void 0:a.y2)!==t.y2.invertAxis},t=T,e.AxisZoomSlider=t})(powerbi=powerbi||{}),(function(e){(function(e){var t=(a.prototype.willCollide=function(e){return!1},a.prototype.addItem=function(e){},a.prototype.skipItem=function(e){},a);function a(){}e.NoCollisionDetector=t;i.prototype.willCollide=function(e){return e-this.fontOffsetLeft<=this.previousLabelRightEdge},i.prototype.addItem=function(e){this.previousLabelRightEdge=e+this.fontOffsetRight},i.prototype.skipItem=function(e){},t=i;function i(e,t,a){this.fontOffsetLeft=t,this.fontOffsetRight=a,this.previousLabelRightEdge=e}e.CollisionDetector=t;l.prototype.willCollide=function(e){return l.isLastChild(this.currentNode)?e-this.fontOffsetLeft<=this.previousLabelRightEdge:e+this.fontOffsetRight>this.groupEndPosition},l.prototype.addItem=function(e){this.moveToNextNode(e)},l.prototype.skipItem=function(e){this.moveToNextNode(e)},l.prototype.moveToNextNode=function(e){var t=this.currentNode,a=this.currentNode=this.currentNode.next;this.index++,l.isLastChild(t)?(this.previousLabelRightEdge=this.groupEndPosition+2*this.rotationPadding,a=l.getLastChildIndex(a,this.index),this.groupEndPosition=this.scale(a)+this.halfCategoryThickness-this.rotationPadding):this.previousLabelRightEdge=e+this.fontOffsetRight},l.isLastChild=function(e){return null==e.next||e.parent!==e.next.parent},l.getLastChildIndex=function(e,t){for(var a=e,i=t;!l.isLastChild(a);)i++,a=a.next;return i},t=l;function l(e,t,a,i,o,r,n){this.fontOffsetLeft=t,this.fontOffsetRight=a,this.currentNode=i,this.scale=o,this.halfCategoryThickness=r,this.rotationPadding=n,this.previousLabelRightEdge=e,this.index=0;i=l.getLastChildIndex(i,0);this.groupEndPosition=o(i)+r-n}e.HierarchicalCollisionDetector=t})((e=e.visuals||(e.visuals={})).AxisTickCollisionUtils||(e.AxisTickCollisionUtils={}))})(powerbi=powerbi||{}),(function(F){var U,O,e,K,Y,L,u,z,q,M,Q,R,t;function Z(e){return e<300?3:e<500?5:8}function X(e){return e<150?3:e<300?5:8}function B(e,t){switch(t){case O.top:return d3.axisTop(e);case O.right:return d3.axisRight(e);case O.bottom:return d3.axisBottom(e);case O.left:return d3.axisLeft(e)}}function n(e){for(var t=0,a=e.length;t<a;t++){var i=e[t];if(i&&i.type&&!i.type.integer)return!0}return!1}function I(e,t,a,i,o,r,n){return!i||$(t)?l(e,t.domain()):c(a)?(function(e,t,a){if(0===t[0]&&0===t[1])return[];e=F.DateTimeSequence.calculate(a.utcDates,F.FeatureSwitchedDate.fromTimeValue(a.utcDates,t[0]),F.FeatureSwitchedDate.fromTimeValue(a.utcDates,t[1]),e).sequence;return d(e.map((function(e){return e.getTime()})),t[0],t[1])})(e,t.domain(),o):s(e,t,r,n)}function l(e,t){var a=[];if(e<=0)return a;var i=t.length;if(i<e)return t;for(var o=0,r=Math.ceil(i/e);o<i;o+=r)a.push(t[o]);return a}function s(e,t,a,i){var o=[];if(e<=1)return[];var r,n=t,l=e;if(n.ticks){if((o=n.ticks(l)).length>e&&1<e&&(l=(function(e,t,a){var i=(t-e)/a,a=Math.floor(Math.log(i)/Math.LN10);if((i=i/Math.pow(10,a))>=Math.sqrt(50)){var o=Math.sqrt(2)*Math.pow(10,a+1);return Math.floor((t-e)/o)}if(i>=Math.sqrt(10)){o=Math.sqrt(50)*Math.pow(10,a);return Math.floor((t-e)/o)}if(i>=Math.sqrt(2)){o=Math.sqrt(10)*Math.pow(10,a);return Math.floor((t-e)/o)}return o=Math.sqrt(2)*Math.pow(10,a),Math.floor((t-e)/o)})((r=t.domain())[0],r[1],o.length),o=n.ticks(l)),o.length<u&&(o=n.ticks(l=e+1)),a&&1<o.length)for(var s=o[1]-o[0];0<s&&F.Double.lessWithPrecision(s,a)&&2<l;){if(l--,(o=n.ticks(l)).length<u){o=n.ticks(++l);break}s=o[1]-o[0]}return o.length<=1?[]:(0===(o=i!==U.axisScale.log?(function(e,t){void 0===t&&(t=1e-5);if(!e||e.length<2)return e;var a=t*Math.abs(e[1]-e[0]);return e.map((function(e){return Math.abs(e)<=a?0:e}))})(o):o).length||F.Double.greaterOrEqualWithPrecision(o[0],t.domain()[0],F.Double.DEFAULT_PRECISION_IN_DECIMAL_DIGITS)&&F.Double.lessOrEqualWithPrecision(o[o.length-1],t.domain()[1],F.Double.DEFAULT_PRECISION_IN_DECIMAL_DIGITS),o)}return o}function a(e){return e&&(e.bool||e.numeric||e.text||e.dateTime)}function w(e){return!(!e||!(e.text||e.bool||e.misc&&e.misc.barcode||e.geography&&e.geography.postalCode))}function $(e){return!e.invert}function c(e){return!(!e||!e.dateTime)}function H(t){return $(t)?t.domain().map((function(e){return t(e)})):t.range()}function r(e,t){var a=e.bandwidth(),i=H(e),e=e.domain();if(i.length<2||i[0]>t)return e[0]||0;a=(i[1]-i[0]-a)/2;return e[d3.bisect(i,t+a)-1]}function p(e,t,a,i,o){var r=H(e),n=e.domain(),l=o||1,s=e.bandwidth()/l;if(0!==n.length){_.some(n,(function(e,t){return 0!==t&&e!==n[t-1]+1}));o=1===i?s/2:0;if(r[0]+o>t)return 1===a?void 0:{value:n[0],seriesIndex:0};if(!(t>r[r.length-1]+s*l-o&&-1===a)){i=o*a*-1,o=r[1]-r[0]-s*l;if(1<l){var u=d3.bisect(r,t)-1,c=e(n[u]),e=_.map(d3.range(l),(function(e){return e*s+c})),e=d3.bisect(e,t+i)-1;return e<0?{value:n[u-1],seriesIndex:l-1}:-1===a&&e==l-1&&u!==r.length-1&&t+i+o>r[u+1]?{value:n[u+1],seriesIndex:0}:{value:n[u],seriesIndex:e}}-1===a&&(i+=o);u=d3.bisect(r,t+i)-1;return{value:n[u],seriesIndex:0}}}}function d(e,t,a){e=e.filter((function(e){return t<=e&&e<=a}));return e=e.length<2?[t,a]:e}function i(e){var t=e.pixelSpan,a=e.dataDomain,i=e.metaDataColumn,o=e.formatString,r=e.outerPadding||0,n=e.outerPaddingRatio||0,l=null!=e.innerPaddingRatio?e.innerPaddingRatio:U.DefaultInnerPaddingRatio,s=!!e.isCategoryAxis,u=!!e.isScalar,c=!!e.isVertical,p=!!e.useTickIntervalForDisplayUnits,d=e.getValueFn,m=e.categoryThickness,g=e.axisDisplayUnits,y=e.axisPrecision,h=!!e.is100Pct,b=e.scaleType,f=e.margin,v=e.invertAxis||!1,S=e.totalsEnabled||!1;null!==(V=e.featureSwitches)&&void 0!==V&&V.logAxisScale&&(b=(null!==(L=e.logAxisScale)&&void 0!==L?L:e.scaleType===U.axisScale.log)?U.axisScale.log:U.axisScale.linear),0===r&&u&&c&&(e.outerPadding=r=1);var C=U.converterHelper.createAxisLabel(i),x=i instanceof Array?U.CartesianHelper.getFirstMetadataColumn(i):i,w=K.getCategoryValueType(x,u),N=u?G(o,w,h):void 0;!s||(M=o,R=g,T=a,!(P=w)||M&&"0"!==M&&"g"!==M&&"G"!==M||R&&1!==R||!(P.temporal&&P.temporal.year||P.integer&&T&&2===T.length&&E(T[0])&&E(T[1])))||(p=!(o="0"));var P,T,D,V=K.createScale(e,N),L=V.scale,x=V.bestTickCount,h=L.domain(),M=K.isLogScalePossible(a,w),R=u&&!M&&b===U.axisScale.log;if(m&&u&&a&&2===a.length&&(a[0]instanceof Date&&(a[0],F.PBIFormattingDate),P=a[1]-a[0],T=h[1]-h[0],0<P&&0<T&&(m=m*P/T)),D=u&&!_.isEmpty(a)&&1===x?[a[0]]:I(x,L,w,u,e.featureSwitches,N,b),b&&b===U.axisScale.log&&M)for(var A=0;10<D.length;)D=D.filter((function(e){return K.powerOfTen(e,A)})),A++;var k,j,h=K.createFormatter({scaleDomain:h,dataDomain:a,dataType:w,isScalar:u,formatString:o,bestTickCount:x,tickValues:D,useTickIntervalForDisplayUnits:p,axisDisplayUnits:g,axisPrecision:y,scaleType:b}),o=B(L,c?O.left:O.bottom).tickSizeInner(K.DefaultInnerTickSize).tickSizeOuter(0).ticks(x).tickValues(D),p=[];return _.isEmpty(i)||(p=(function(e,t,a,i,o){var r=[];o=o||function(e){return e};r=a?(e.tickFormat((function(e){return a.format(o(e,i))})),t.map((function(e){return a.format(o(e,i))}))):t.map((function(e){return o(e,i)}));return r})(o,D,h,w,d)),!u&&m?k=Math.max(1,m-2*U.CartesianHelper.TickLabelPadding):1<D.length?(g=D,k=!(y=L)||_.isEmpty(g)?1:Math.abs(y(g[1])-y(g[0])),k-=2*z,f&&(b=L,c=D,x=f,i=r,d=k,j=_.times(c.length,_.constant(d)),u=x.left,y=x.right,g=b(_.head(c)),f=b(_.last(c)),x=H(b),b=x[0],x=x[1],u=2*(Math.abs(g-b)+u+i),i=2*(Math.abs(f-x)+y+i),j[0]=Math.min(u,d),j[c.length-1]=Math.min(i,d),j=j,k=void 0)):k=t-2*z,{scale:L,axis:o,formatter:h,values:p,axisType:w,axisLabel:C,isCategoryAxis:s,xLabelMaxWidth:k,xLabelMaxWidths:j,categoryThickness:m,outerPadding:r,outerPaddingRatio:n,innerPaddingRatio:l,usingDefaultDomain:V.usingDefaultDomain,isLogScaleAllowed:M,dataDomain:a,hasDisallowedZeroInDomain:R,invertAxis:v,totalsEnabled:S}}function E(e){return _.isNumber(e)&&e===Math.floor(e)&&-1e4<e&&e<1e4}function m(e,t,a,i){var o;a||((o=U.valueFormatter.createDisplayUnitSystem()).update(t-e),a=o.displayUnit&&o.displayUnit.value||1);e=(e||0)/a,a=(t||0)/a;return i&&(e*=i=F.NumberFormat.getCustomFormatMetadata(i,!1,!1,!0).partsPerScale,a*=i),Math.max(g(e),g(a))}function g(e){if(0===e)return 0;e<0&&(e=-e);var t=Math.floor(F.Double.log10(e));if(0<=t){var a=5-(t+1);return a<=0?0:o(e,a)}return t<-5?5:-t-1+o(e/F.Double.pow10(t+1),5)}function o(e,t){var a=e.toFixed(t),i=a.indexOf(".");if(-1!==i)for(var o=a.length;o-- >i;)if("0"!==a[o])return o-i;return 0}function G(e,t,a){if(!e||F.NumberFormat.isStandardFormat(e))return a?.01:t.integer?1:0;t=F.NumberFormat.getCustomFormatMetadata(e,!0).precision;return-1<e.indexOf("%")&&(t+=2),Math.pow(10,-t)}function N(e,t,a,i){return void 0===a&&(a=0),void 0===i&&(i=U.DefaultInnerPaddingRatio),d3.scaleBand().range([0,e]).paddingInner(i).paddingOuter(a).domain(t)}function P(e,t){return null!=e&&(!c(t)&&(0<e[0]&&0<e[1]||e[0]<0&&e[1]<0))}function T(e,t,a,i,o,r,n){return void 0===o&&(o=0),e&&e===U.axisScale.log&&P(a,i)?y(t,a,o,r):D(t,a,o,r,n)}function y(e,t,a,i){void 0===a&&(a=0),P(t);a=d3.scaleLog().range([a,e-a]).domain([t[0],t[1]]).clamp(!0),t=a.domain();return i&&t[0]!==-Number.MAX_VALUE&&t[1]!==Number.MAX_VALUE&&a.nice(),a}function D(e,t,a,i,o){void 0===a&&(a=0);t=d3.scaleLinear().range([a,e-a]).domain([t[0],t[1]]).clamp(o),o=t.domain();return i&&o[0]!==-Number.MAX_VALUE&&o[1]!==Number.MAX_VALUE&&t.nice(i),t}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var a,i,o,r,n=!1,l=!1,s=0,u=0,c=!1,p=!1,d=0,m=e;d<m.length;d++){var g,y,h,b,f,v,S=m[d];S&&S.domain&&(g=(f=S.domain)[0],y=f[1],h=(v=S.domainSources||[void 0,void 0])[0],b=v[1],v=f=!1,S.forced&&(f=!!(S=S.forced)[0],v=!!S[1]),null!=g&&(0===(h=void 0===h?0:h)&&null==o&&(o=g,c=f),s<h?(a=g,s=h,n=f):h===s&&(f&&!n?(a=g,n=!0,0===h&&(o=g,c=f)):!f&&n||(a=Math.min(g,void 0===a?Number.POSITIVE_INFINITY:a),0===h&&(o=a,c=f)))),null!=y&&(0===(b=void 0===b?0:b)&&null==r&&(r=y,p=v),u<b?(i=y,u=b,l=v):b===u&&(v&&!l?(i=y,l=!0,0===b&&(r=y,p=v)):!v&&l||(i=Math.max(y,void 0===i?Number.NEGATIVE_INFINITY:i),0===b&&(r=i,p=v)))))}if(void 0!==a||void 0!==i)return null==o||null==r||0!==s&&0!==u||!(r<a||i<o)?{type:1,domain:[a,i],forced:[n,l],domainSources:[s,u]}:{type:1,domain:[o,r],forced:[c,p],domainSources:[0,0]}}function b(e){return!0===e.isStacked}function A(e,t){if(_.isEmpty(e.xLabelMaxWidths))return e.xLabelMaxWidth;if(b(e))return e.xLabelMaxWidths[t];t=e.axis.tickValues().indexOf(t);return e.xLabelMaxWidths[t]}U=F.visuals||(F.visuals={}),q=jsCommon.API,M=F.visuals.AxisTickCollisionUtils,Q=U.Units.FontSize,R=jsCommon.PixelConverter,t=jsCommon.Errors.TypeAssertionError,U.emptyDomain=[0,0],(e=O=U.AxisOrientation||(U.AxisOrientation={}))[e.top=0]="top",e[e.bottom=1]="bottom",e[e.left=2]="left",e[e.right=3]="right",K=U.AxisHelper||(U.AxisHelper={}),u=2,z=3,K.stackedAxisPadding=5,K.DefaultInnerTickSize=6,K.getRecommendedNumberOfTicksForXAxis=Z,K.getRecommendedNumberOfTicksForYAxis=X,K.axisFactory=B,K.getBestNumberOfTicks=function(e,t,a,i,o,r){return isNaN(e)||isNaN(t)?3:e===t?r||o?1:3:i<=1||t<=1&&-1<=e||n(a)?i:Math.min(t-e+1,i)},K.hasNonIntegerData=n,K.getRecommendedTickValues=I,K.getRecommendedTickValuesForAnOrdinalRange=l,K.getRecommendedTickValuesForAQuantitativeRange=s,K.getMargin=function(e,t,a,i){return 0===Z(e-a)||0===X(t-i)?{top:0,right:a,bottom:i,left:0}:{top:20,right:30,bottom:40,left:30}},K.getTickLabelMargins=function(e,t,a,i,o,r,n,l,s,u,c,p){var d,m=e,g=!1;m.plotArea?(d=m.plotArea,t=m.yMarginLimit,a=m.textWidthMeasurer,i=m.textHeightMeasurer,o=m.axes,r=m.bottomMarginLimit,W=m.axesFontProperties,l=m.rotate90,s=m.showOnRight,u=m.renderXAxis,c=m.renderY1Axis,p=m.renderY2Axis,g=null!=m.numHierarchyLevels&&0<m.numHierarchyLevels):(q.deprecated("Calling getTickLabelMargins without a property bag is deprecated"),d=e,C=n.fontFamily,x=parseInt(n.fontSize,10),W={x:{tickLabels:{family:C,size:Q.createFromPx(x)},title:{family:C,size:Q.createFromPx(x)}},y:{tickLabels:{family:C,size:Q.createFromPx(x)},title:{family:C,size:Q.createFromPx(x)}},y2:{tickLabels:{family:C,size:Q.createFromPx(x)},title:{family:C,size:Q.createFromPx(x)}}},(n.fontWeight||n.fontStyle||n.fontVariant||n.whiteSpace)&&q.deprecated('getTickLabelMargins now ignores the following properties in the "properties" object: fontWeight, fontStyle, fontVariant, whiteSpace'));var y=o.x,h=o.y1,b=o.y2,f=y.values,v=0,S=0,e=0,C=0,x=0,n=0,w=0,o=null!=y.innerPaddingRatio?.5-y.innerPaddingRatio/2:0,N=y.categoryThickness?y.categoryThickness*o:0,P=$(y.scale),T=0;if(void 0!==y.outerPadding?T=y.outerPadding:void 0!==y.xLabelMaxWidth&&(T=Math.max(0,(d.width-y.xLabelMaxWidth*f.length)/2)),u=u&&!_.isEmpty(f),0!==Z(d.width)||0!==X(d.height)){var D,V=void 0,V=l||g?Y.DefaultVerticalRotation:Y.DefaultRotation;c&&(D=W.y.tickLabels,h.categoryIdentities&&(D=U.FontProperties.inherit(D,{weight:"700"})),x=(D=U.AxesLayoutUtils.getAxisTickLabelMargins(h,D,a,i)).maxWidth,e=Math.max(e,D.overflow.top),C=Math.max(C,D.overflow.bottom)),b&&p&&(n=(D=U.AxesLayoutUtils.getAxisTickLabelMargins(b,W.y2.tickLabels,a,i)).maxWidth,e=Math.max(e,D.overflow.top),C=Math.max(C,D.overflow.bottom));var L=W.x.tickLabels,M=U.FontProperties.toTextProperties(L),R=y.scale,A=R.domain(),k=i(M);if(u){var j=Math.floor(r/k);y.categoryIdentities&&!y.willLabelsWordBreak&&(M.fontWeight="700");for(var F=0,O=f.length;F<O;F++){var z=void 0;M.text=f[F];var B,I,H,E,G=a(M);y.willLabelsWordBreak?(B=_.isEmpty(y.xLabelMaxWidths)?y.xLabelMaxWidth:y.xLabelMaxWidths[F],z=jsCommon.WordBreaker.splitByWidth(M.text,M,a,B,j).length*k,G=B):!y.willLabelsFit&&P?(B=(I=L.size.pt<=U.CartesianHelper.DefaultAxisFontSizeInPt)?0:k*V.sine,I=I?0:k*V.cosine,z=G*V.sine+I,G=G*V.cosine+B):z=k+-5,0===F?P?(v=y.willLabelsFit?G/2-N-T:G-N-T,v=Math.max(v,0)):1<A.length&&(H=0,H=G/2-(E=y.invertAxis?R(A[1]):R(A[0])),H=Math.max(H,0),y.invertAxis&&s?S=H:v=H):F===O-1&&(P?(y.willLabelsFit||y.willLabelsWordBreak)&&(S=G/2-N-T,S=Math.max(S,0)):1<A.length&&(H=0,E=y.invertAxis?R(A[0]):R(A[1]),H=G/2-(d.width-E),H=Math.max(H,0),y.invertAxis&&s?v=H:S=H)),w=Math.max(w,z)}v=Math.min(v,35),S=Math.min(S,35)}}var W=0,i=0,r=Math.min(Math.max(C,Math.ceil(w)),r),W=s?(i=Math.min(Math.max(v,n),t),Math.min(Math.max(S,x),t)):(i=Math.min(Math.max(v,x),t),Math.min(Math.max(S,n),t));return g&&u&&(r+=(k+K.stackedAxisPadding)*(m.numHierarchyLevels-1)),{yTop:Math.ceil(e),yLeft:Math.ceil(i),yBottom:Math.ceil(C),yRight:Math.ceil(W),xMax:Math.ceil(r),stackHeight:g?k+K.stackedAxisPadding:void 0,overflow:{top:Math.ceil(e),bottom:Math.ceil(C),left:Math.ceil(v),right:Math.ceil(S)}}},K.getTickLabelMarginsForAxis=function(e,t,a,i,o){var r,n,l,s=e.scale,u=e.axis.tickValues();if(_.isEmpty(u))return{maxWidth:0,overflow:{top:0,bottom:0}};l=K.isScaleBand(s)?(n=(r=s.range())[0],r[1]):(l=H(s),n=_.head(l),_.last(l));for(var c,p=e.values,u=n<l?(d=n,c=s(_.head(u)),m=l,s(_.last(u))):(d=l,c=s(_.last(u)),m=n,s(_.head(u))),o=o({text:""+_.head(p),fontFamily:t,fontSize:R.toString(a)}),d=Math.max(0,-(c-o/2-d)),m=Math.max(0,u+o/2-m),g=0,y=0,h=p.length;y<h;y++)var b={text:""+p[y],fontFamily:t,fontSize:R.toString(a)},g=Math.max(g,i(b));return{maxWidth:g,overflow:{top:d,bottom:m}}},K.columnDataTypeHasValue=a,K.createOrdinalType=function(){return F.ValueType.fromDescriptor({text:!0})},K.isOrdinal=w,K.isScaleBand=$,K.isDateTime=c,K.invertScale=function(e,t,a,i,o){return $(e)?0===a?{value:r(e,t)}:p(e,t,a,i,o):{value:e.invert(t)}},K.extent=function(e){return $(e),e.range()},K.scaleRange=H,K.getCategoryThickness=function(e){var t=H(e);if(t.length<2&&K.isScaleBand(e)){e=e.range();return e[1]-e[0]}return t[1]-t[0]},K.invertOrdinalScale=r,K.invertOrdinalSimpleScaleWithDirection=p,K.findClosestXAxisIndex=function(e,t,a){var i=[(a=a.domain())[0],a[1]],o=-1;if(i[1]<i[0])return o;var r,n=Number.MAX_VALUE;for(r in t){var l=t[r].categoryValue;l<i[0]||i[1]<l||(l=Math.abs(e-l))<n&&(n=l,o=parseInt(r,10))}return o},K.adjustDomainWithConstantPixelDifference=function(e,t,a,i){if(a<e||t<i){var o=Math.abs(Math.min(a-e,0)),a=Math.max(i-t,0),i=t-e,o=e-o*Math.pow(i,2)/((i-a)*(i-o)-o*a);return{domain:[o,t+a*(t-o)/(i-a)],adjusted:!0}}return{domain:void 0,adjusted:!1}},K.lookupOrdinalIndex=function(e,t){var a=-1,i=Number.MAX_VALUE,o=e.domain();if(o.length<2)return 0;var r,n=(e(1)-e(0))/2;for(r in o){var l=e(r),l=Math.abs(t-(l+n));l<i&&(i=l,a=parseInt(r,10))}return a},K.diffScaled=function(e,t,a){return 0==(a=e(t)-e(a))?0:a<0?Math.min(a,-1):Math.max(a,1)},K.createDomain=function(e,t,a,i){return!a||w(t)?(function(e){if(_.isEmpty(e))return[];for(var t=[],e=e[0],a=0,i=e.data;a<i.length;a++){var o=i[a];o.highlight||t.push(o.categoryIndex)}return t})(e):(function(e,t){if(debug.assertValue(e,"data"),0!==e.length){var a=d3.min(e,(function(e){return d3.min(e.data,(function(e){return e&&e.categoryValue}))})),e=d3.max(e,(function(e){return d3.max(e.data,(function(e){return e&&e.categoryValue}))})),t=h.apply(void 0,__spreadArray([K.createScalarDomainOptions([a,e],0)],t||[]));return t&&t.domain}})(e,i)},K.assertScalarDomain=function(e){if(2!==e.length&&!_.every(e,(function(e){return null==e||_.isNumber(e)})))throw new t("CartesianAxisScalarDomain")},K.ensureValuesInRange=d,K.getCategoryValueType=function(e,t){return e&&a(e.type)?e.type:t?F.ValueType.fromDescriptor({numeric:!0}):F.ValueType.fromDescriptor({text:!0})},K.shouldIncludeZero=function(e){if(!(a=e&&e.domain)||2!==a.length)return!0;var t=e.domainSources,e=10===t[0]?a[0]:void 0,a=10===t[1]?a[1]:void 0;return!(0<e||a<0)},K.createAxis=function(e){var t=e.axisZoom,a=i(e);return t&&!e.skipAxisZoomUpdate&&(t.updateAxisOptions(a,e),a=i(e)),a},K.createStackedAxis=function(e){e.axis,e.scale,e.tickFormat;var t=null!=e.orient?e.orient:O.bottom,a=e.axis;return B(e.scale,t).tickSizeInner(e.innerTickSize||0).tickSizeOuter(e.outerTickSize||0).ticks(a.tickArguments()).tickValues(a.tickValues()).tickFormat(e.tickFormat)},K.createScale=function(e,t){var a=e.pixelSpan,i=e.dataDomain,o=e.metaDataColumn,r=e.outerPadding||0,n=null!=e.innerPaddingRatio?e.innerPaddingRatio:U.DefaultInnerPaddingRatio,l=!!e.isScalar,s=!!e.isVertical,u=e.forcedTickCount,c=e.categoryThickness,p=!!e.shouldClamp,d=e.maxTickCount,m=e.allowSingleScalarTick,g=e.preventNice,y=!!e.includeZero,h=e.scaleType,b=e.invertAxis;null!==(v=e.featureSwitches)&&void 0!==v&&v.logAxisScale&&(h=(null!==(S=e.logAxisScale)&&void 0!==S?S:e.scaleType===U.axisScale.log)?U.axisScale.log:U.axisScale.linear);var f=o instanceof Array?o:[o],v=U.CartesianHelper.getFirstMetadataColumn(f),S=K.getCategoryValueType(v,l),o=(s?X:Z)(a);d&&d<o&&(o=d),(v=i?i.slice():null)&&l&&y&&(x=0,h&&h===U.axisScale.log&&P(v,S)&&(x=_.every(v,(function(e){return 0<e}))?1:-1),v[0]=Math.min(x,v[0]),v[v.length-1]=Math.max(x,v[v.length-1]));var C,x,d=o,y=!1;return null==i||2===i.length&&null==i[0]&&null==i[1]||2!==i.length&&l?(y=!0,i=S.dateTime||!w(S)?U.emptyDomain:[],C=w(S)?N(a,i,c?r/c:0,n):T(h,a,i,S,r,d,void 0)):(l&&0<v.length&&(d=void 0!==u?0!==o?u:0:K.getBestNumberOfTicks(v[0],v[v.length-1],f,o,S.dateTime,m),x={min:v[0],max:v[v.length-1]},i=t,t=h,isNaN(x.min)||isNaN(x.max)?(x.min=U.emptyDomain[0],x.max=U.emptyDomain[1]):x.min===x.max?null==i||.2*Math.abs(x.max)>=i?(x.min=x.min<0?1.2*x.min:.8*x.min,x.max=x.max<0?.8*x.max:1.2*x.max):0!==x.max&&(x.min=x.min-i,x.max=x.max+i):t!==U.axisScale.log&&Math.abs(x.min)<1e-4&&Math.abs(x.min/(x.max-x.min))<1e-4&&(x.min=0),v=[x.min,x.max]),l&&S.numeric&&!S.dateTime?(v&&2===v.length&&0===v[0]&&0===v[1]&&e.zeroScalarDomain&&(v[0]=e.zeroScalarDomain[0],v[1]=e.zeroScalarDomain[1],void 0===u&&(d=K.getBestNumberOfTicks(v[0],v[1],f,o,S.dateTime,m))),f=d,C=T(h,a,v,S,r,f=g||m&&2===v.length&&v[0]===v[1]?0:f,p)):l&&S.dateTime?C=D(a,v,r,null,p):(S.text||S.dateTime||S.numeric||S.bool)&&(C=N(a,v,c?r/c:0,n),d=0===o?0:Math.min(v.length,(a-2*r)/U.CartesianHelper.MinOrdinalRectThickness))),s&&l&&C.range(H(C).reverse()),b&&C.range(C.range().reverse()),U.ColumnUtil.normalizeInfinityInScale(C),{scale:C,bestTickCount:d,usingDefaultDomain:y}},K.createFormatter=function(e,t,a,i,o,r,n,l,s,u,c){var p,d;return e.scaleDomain?(p=e.scaleDomain,t=e.dataDomain,a=e.dataType,i=e.isScalar,o=e.formatString,r=e.bestTickCount,n=e.tickValues,s=e.useTickIntervalForDisplayUnits||!1,u=e.axisDisplayUnits,c=e.axisPrecision,d=e.scaleType):(q.deprecated("Calling createFormatter without a property bag is deprecated."),p=e,s=s||!1),a.dateTime?i?(e=F.PBIFormattingDate.fromTimeValue(p[0]),p=F.PBIFormattingDate.fromTimeValue(p[1]),1===r&&(e=p=F.PBIFormattingDate.fromTimeValue(t[0])),U.valueFormatter.create({format:o,value:e,value2:p,tickCount:r,columnType:a})):U.valueFormatter.createDefaultFormatter(o,!0):s&&i&&1<n.length?(r=[n[0],n[1]],d=(r=d&&d===U.axisScale.log&&_.every(n,(function(e){return e<=0}))?[n[n.length-2],n[n.length-1]]:r)[1]-r[0],(a={format:o,value:u||d,value2:0,allowFormatBeautification:!0,columnType:a}).precision=null!=c?c:m(r[0],r[1],u,o),U.valueFormatter.create(a)):i&&1===n.length?(u=u||(s?_.head(n):0),U.valueFormatter.create({format:o,value:u,allowFormatBeautification:!0,precision:c})):U.valueFormatter.createDefaultFormatter(o,!0)},K.calculateAxisPrecision=m,K.getMinTickValueInterval=G,K.createValueDomain=function(e,t){if(0===e.length)return null;var a=d3.min(e,(function(e){return d3.min(e.data,(function(e){return e&&e.value}))})),e=d3.max(e,(function(e){return d3.max(e.data,(function(e){return e&&e.value}))}));return t?[null==a?0:Math.min(a,0),null==e?0:Math.max(e,0)]:[a,e]},K.createUncertaintyAwareValueDomain=function(e,t){if(0===e.length)return null;if(!_.some(e,(function(e){return null===(e=e.uncertainty)||void 0===e?void 0:e.renderUncertainty})))return K.createValueDomain(e,t);var a=d3.min(e,(function(e){var t;return null!==(t=e.uncertainty)&&void 0!==t&&t.renderUncertainty?d3.min(e.data,(function(e){return e&&d3.min([e.value,null===(e=e.uncertainty)||void 0===e?void 0:e.lower])})):d3.min(e.data,(function(e){return e&&e.value}))})),e=d3.max(e,(function(e){var t;return null!==(t=e.uncertainty)&&void 0!==t&&t.renderUncertainty?d3.max(e.data,(function(e){return e&&d3.max([e.value,null===(e=e.uncertainty)||void 0===e?void 0:e.upper])})):d3.max(e.data,(function(e){return e&&e.value}))}));return t&&(a=null==a?0:Math.min(a,0),e=null==e?0:Math.max(e,0)),[a,e]},K.getAxisFormatString=function(e){if(1<=e.length)for(var t=0,a=e;t<a.length;t++){var i=a[t],i=_.first(i.data);if(i)return i.labelFormatString}},K.createIntervalDomain=function(e){return[_.min(e.map((function(e){return _.min(e.data.map((function(e){return e.categoryValue.min})))}))),_.max(e.map((function(e){return _.max(e.data.map((function(e){return e.categoryValue.max})))})))]},(L=Y=K.LabelLayoutStrategy||(K.LabelLayoutStrategy={})).willLabelsFit=function(e,t,a,i){var o=e.values;if(0===o.length)return!1;var r=void 0!==e.xLabelMaxWidth?e.xLabelMaxWidth:t/o.length;return!o.some((function(e){return i.text=e,a(i)>r}))},L.willLabelsWordBreak=function(i,o,e,r,t,n,l){var a=i.values,s=void 0!==i.xLabelMaxWidth?i.xLabelMaxWidth:e/a.length,u=o.bottom/L.DefaultRotation.sine,t=t(l),c=Math.max(1,Math.floor(o.bottom/t));return 0!==a.length&&(!a.some((function(e){return l.text=e,!jsCommon.WordBreaker.hasBreakers(e)&&r(l)>s}))&&a.filter((function(e,t){var a=(o.left+i.outerPadding+i.categoryThickness*(t+.5)-10)/L.DefaultRotation.cosine,t=Math.min(a,u),a=jsCommon.WordBreaker.splitByWidth(e,l,r,s,c,n).join(" ");l.text=e;t=n(l,t);return U.TextUtil.removeEllipses(a).length>=U.TextUtil.removeEllipses(t).length})).length>=a.length>>1)},L.DefaultRotation={sine:Math.sin(Math.PI*(35/180)),cosine:Math.cos(Math.PI*(35/180)),tangent:Math.tan(Math.PI*(35/180)),transform:"rotate(-35)",dy:"-0.5em"},L.DefaultVerticalRotation={sine:Math.sin(.5*Math.PI),cosine:Math.cos(.5*Math.PI),tangent:Math.tan(.5*Math.PI),transform:"rotate(-90)",dy:"-0.65em"},L.rotate=function(e,t,r,n,a,l,s,i,u){var o,c,p,d,m,g,y,h,b,f,v,S,C,x,w,_,N,P,T,D,V=0;"object"==typeof t?(r=t.textTruncator,n=t.textProperties,a=t.needRotate,l=t.needEllipsis,s=t.axisProperties,i=t.margin,u=t.rotate90,o=t.firstVisibleNode,V=t.rotationPadding||0,c=t.dropLabelsOnOverlap,p=t.height):(p=t,q.deprecated("Calling rotate without using the property bag is deprecated.")),a?(K.isScaleBand(s.scale),d=u?L.DefaultVerticalRotation:L.DefaultRotation,m=F.Double.equalWithPrecision(Math.abs(d.cosine),0,1e-10),g=i.left-(m?10:0),x=R.fromPointToPixel(U.CartesianHelper.DefaultAxisFontSizeInPt),S=n.fontSize,y=parseFloat(S),h=y<=x,C=F.TextMeasurementService.estimateSvgTextHeight(n),b=s.scale,f=H(b),P=K.getCategoryThickness(b),v=C*d.sine,t=m?0:C*d.cosine,S=(m?0:t/d.tangent)+(i=v/2),C=i,i=!!o,h?(_=p/d.sine,w=-5.5):(w=-(((x=x/2)+t)*d.sine),_=a?(p-x-t-(!u||i?0:x))/d.sine:void 0),N=b.bandwidth()/2,P/=2,T=c?i?(D=V+f[0]+N-P,new M.HierarchicalCollisionDetector(D,S,C,o,b,P,V)):(D=V-(u?0:g),new M.CollisionDetector(D,S,C)):new M.NoCollisionDetector,e.each((function(e,t){var a=d3.select(this),i=f[t]+N;if(c&&T.willCollide(i))return T.skipItem(i),void a.text(null);T.addItem(i);var o=a.text();n.text=o,i=m?_:((h?s.outerPadding+s.categoryThickness*(t+.5):i)+g-v)/d.cosine,(u||l||i<_)&&(o=r(n,Math.min(i,_)),a.text(o)),a.style("text-anchor","end").attrs({y:y,dx:w,dy:d.dy,transform:d.transform})}))):e.each((function(e){var t=d3.select(this),a=t.text();n.text=a;e=A(s,e),e=r(n,e);e!==a&&t.text(e),t.style("text-anchor","middle").attrs({dx:"0em",dy:"1em",transform:"rotate(0)"})}))},L.wordBreak=function(e,i,o){var r=null;e.each((function(e){var t,a=A(i,e);null==r&&(t=F.TextMeasurementService.getSvgMeasurementProperties(this),e=F.TextMeasurementService.estimateSvgTextHeight(t),t=F.TextMeasurementService.estimateSvgTextBaselineDelta(t),r=10+e-t),d3.select(this).style("text-anchor","middle").attrs({dx:null,dy:null,y:r+"px",transform:"rotate(0)"}),U.TextUtil.wordBreak(this,a,o)}))},L.clip=function(e,t,a){0!==e.size()&&e.each((function(){var e=d3.select(this);a(e.node(),t)}))},K.createScaleBand=N,K.isLogScalePossible=P,K.createNumericalScale=T,K.createLogScale=y,K.createLinearScale=D,K.getRangeForColumn=function(e){var t={};return e&&(t.min=null==e.min?null==e.minLocal?d3.min(e.values):e.minLocal:e.min,t.max=null==e.max?null==e.maxLocal?d3.max(e.values):e.maxLocal:e.max),t},K.isScalarAxisDomain=function(e){return e&&1===e.type},K.isOrdinalAxisDomain=function(e){return e&&0===e.type},K.applyCustomizedDomain=function(e,t){var a=[void 0,void 0];return t&&2===t.length&&(a=[t[0],t[1]]),e&&2===e.length&&(null!=e[0]&&(a[0]=e[0]),null!=e[1]&&(a[1]=e[1])),null==a[0]&&null==a[1]||null!=a[0]&&null!=a[1]&&a[0]>a[1]?t:a},K.mergeDomains=function(){for(var e,t,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];for(var o=0,r=a;o<r.length;o++){var n,l=r[o];l&&(n=l[0],l=l[1],null!=n&&(e=Math.min(n,void 0===e?Number.POSITIVE_INFINITY:e)),null!=l&&(t=Math.max(l,void 0===t?Number.NEGATIVE_INFINITY:t)))}return[e,t]},K.createScalarDomainOptions=function(e,t,a){return e&&{type:1,domain:e,domainSources:K.generateScalarDomainSources(e,t),forced:a}},K.createOrdinalDomainOptions=function(e){return e&&{type:0,domain:e}},K.generateScalarDomainSources=function(e,t){return[null!=e[0]?t:void 0,null!=e[1]?t:void 0]},K.mergeScalarAxisDomains=h,K.hasForcedDomain=function(e){return e&&e.forced&&(e.forced[0]||e.forced[1])},K.createAxisLabel=function(e,t,a,i){return i=(i=void 0===i?!1:i)?"secAxisStyle":"axisStyle",e&&e[i]?(i=e[i],U.AxisViewModel.createAxisLabel(i,t,a)):t},K.scaleShouldClamp=function(e,t){return!(!e||!t||e.length<2||t.length<2)&&(e[0]!==t[0]||e[1]!==t[1])},K.normalizeNonFiniteNumber=function(e){return isNaN(e)?null:e===Number.POSITIVE_INFINITY?Number.MAX_VALUE:e===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:e},K.powerOfTen=function(e,t){void 0===t&&(t=0);var a=Math.abs(e),e=Math.log(a)/Math.LN10,e=Math.ceil(e-1e-12);return a/Math.pow(10,e)==1&&e%Math.pow(2,t)==0},K.isHierarchical=function(e){return e.isHierarchical},K.isStackedAxisProperties=b,K.getMaxWidth=A,K.orient=function(e,t,a){return delete e.node().__axis,(a=B(t.scale(),O[a])).tickArguments(t.tickArguments()),a.tickValues(t.tickValues()),a.tickFormat(t.tickFormat()),a.tickSize(t.tickSize()),a.tickSizeInner(t.tickSizeInner()),a.tickSizeOuter(t.tickSizeOuter()),a.tickPadding(t.tickPadding()),a}})(powerbi=powerbi||{}),(function(d){var m,g,e,l,i,y;function h(e,t,a,i){this.hostServices=t,this.isScrollable=a,this.featureSwitches=i,this._zoomData=__assign({},h.DefaultOptions),this.axesLabels={},this.zoomContext=d3.select(e.get(0)).append("div").attr("class","axisZoom").style("position","absolute"),this.zoomAxes={categoryAxis:void 0,valueAxis:void 0,valueSecAxis:void 0},this.zoomExtents={categoryExtent:void 0,valueExtent:void 0,valueSecExtent:void 0}}m=d.visuals||(d.visuals={}),g=m.controls.AxisZoomSlider,e=jsCommon.CssConstants.createClassAndSelector,l=d.data.DataRoleHelper,i=jsCommon.PixelConverter,y=e("zoom"),h.prototype.destroy=function(){this.zoomContext.selectAll(y.selector).remove()},h.prototype.update=function(e){var t=e.dataViews,a=e.hasScalarCategoryAxis;if(this.hasSmallMultiples=e.hasSmallMultiples,this.hasYAxisCategorical=e.hasYAxisCategorical,this.hasSmallMultiples||!this.isScrollable?this._zoomData=__assign({},h.DefaultOptions):this._zoomData=e.zoomData,a||(this._zoomData.showOnCategoryAxis=!1),this.hasValueAxis=!1,this.hasCategoryAxis=!1,this.hasY2Axis=!1,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];this.hasCategoryAxis=this.hasCategoryAxis||(l.hasRoleInDataView(r,m.cartesianRoleNames.category)||l.hasRoleInDataView(r,m.cartesianRoleNames.x))&&a,this.hasValueAxis=this.hasValueAxis||l.hasRoleInDataView(r,m.cartesianRoleNames.y),this.hasY2Axis=this.hasY2Axis||l.hasRoleInDataView(r,m.cartesianRoleNames.y2)}var n=this._zoomData,e=n.showOnValueAxis,t=n.showOnValueSecAxis,n=n.showOnCategoryAxis;this._zoomData.showOnValueAxis=e&&this.hasValueAxis,this._zoomData.showOnValueSecAxis=t&&this.hasY2Axis,this._zoomData.showOnCategoryAxis=n&&this.hasCategoryAxis}},h.prototype.render=function(e,i){var t,a,o=this,s=__assign({},this.baseZoomAxesPosition),r=e.margin,n=0,l=0;s.bottom&&(s.bottom.width-=r.left+r.right,t=!1,i&&i.isComboChart?i.show&&i.hasY2Role&&(t=!0):i&&i.show&&(t=!0),n=i&&null!=i.defaultSeriesWidth?(a=100*i.defaultSeriesWidth/s.bottom.width,Math.min(Math.max(1,a),50)):i.seriesMaximumWidth,t&&(l=n/100*s.bottom.width),s.bottom.width-=l,s.bottom.left+=i.seriesPosition===m.labelSeriesPosition.right?r.left:r.left+l,!this.hasYAxisCategorical&&this.xOuterPadding&&(s.bottom.left+=this.xOuterPadding,s.bottom.width-=2*this.xOuterPadding)),s.left&&(s.left.top+=r.top,s.left.height-=r.top+r.bottom),s.right&&(s.right.top+=r.top,s.right.height-=r.top+r.bottom);var u=this.axesLabels,c=this.yFlipped,l=null===(n=this.zoomAxes.categoryAxis)||void 0===n?void 0:n.scale.domain(),n=null===(r=this.zoomAxes.valueAxis)||void 0===r?void 0:r.scale.domain(),r=null===(r=this.zoomAxes.valueSecAxis)||void 0===r?void 0:r.scale.domain(),e=e.shouldRenderAxis,p=!(e.x||e.y||e.y2)||l&&l[0]===l[1]||n&&n[0]===n[1]||r&&r[0]===r[1];this.zoomContext.selectAll(y.selector).style("top",(function(e){return s[e].top?s[e].top+"px":null})).style("left",(function(e){return s[e].left?s[e].left+"px":null})).style("width",(function(e){return s[e].width+"px"})).style("height",(function(e){return s[e].height+"px"})).call((function(e){return g.createOrUpdateSliders({containers:e,axesData:i,zoomAxes:o.zoomAxes,zoomData:o.zoomData,zoomExtents:o.zoomExtents,hasYAxisCategorical:o.hasYAxisCategorical,yFlipped:o.yFlipped,maxLabelWidthLeft:o.maxZoomLabelWidthLeft,maxLabelWidthRight:o.maxZoomLabelWidthRight,resetEventHandlers:o.resetEventHandlers,hideSliders:p,visualHostServices:o.hostServices,invertedState:o.invertedState,featureSwitches:o.featureSwitches})})).each((function(n){var e,t=d3.select(this);switch(n){case"bottom":e="x";break;case"left":e=c?"y2":"y";break;case"right":e=c?"y":"y2"}var l=i[e].titleFontProperties,a=[];i[e].showAxisTitle&&!p&&(a=[u[e]]);a=t.selectAll(".title").data(a,(function(e){return e}));a.enter().append("span").attr("class","title").merge(a).each((function(e){var t,a=d3.select(this),e=m.FontProperties.toTextProperties(l,e),i=s[n].height,o=s[n].width,r=l.size.px;switch(n){case"bottom":t=o,a.style("top",i-r+"px").style("left","50%").style("width","100%").style("transform","translateX(-50%)");break;case"left":a.style("width",(t=i)+"px").style("transform","translateX(-"+i/2+"px)rotate(-90deg)").style("top",i/2-h.SliderHandleRadius+"px");break;case"right":a.style("width",(t=i)+"px").style("transform","translateX(-"+(i/2-8)+"px)rotate(-90deg)").style("top",i/2-h.SliderHandleRadius+"px").style("left",o-r+"px")}e=d.TextMeasurementService.getTailoredTextOrDefault(e,t);a.styles(m.FontProperties.toHTMLStyle(l)).text(e)})),a.exit().remove()})),this.invertedState={x:i.x.invertAxis,y:i.y.invertAxis,y2:i.y2.invertAxis}},h.prototype.renderContainers=function(e,t,a,i){var o=this;void 0===a&&(a=0);var r=null!=i&&i.switchAxisPosition?t.y.switchAxisPosition:t.y.position===m.yAxisPosition.right,n=null!=i&&i.logAxisScale&&null!==(u=t.x.logAxisScale)&&void 0!==u?u:t.x.axisScale===m.axisScale.log,l=null!=i&&i.logAxisScale?t.y.logAxisScale:t.y.axisScale===m.axisScale.log,s=null!=i&&i.logAxisScale?t.y2.logAxisScale:t.y2.axisScale===m.axisScale.log;this.resetEventHandlers=void 0!==this.yFlipped&&r!==this.yFlipped||void 0!==this.isLogScaleX&&n!==this.isLogScaleX||void 0!==this.isLogScaleY1&&l!==this.isLogScaleY1||void 0!==this.isLogScaleY2&&s!==this.isLogScaleY2,this.yFlipped=r,this.isLogScaleX=n,this.isLogScaleY1=l,this.isLogScaleY2=s;var u,c,p={top:0,left:0,right:0,bottom:0},d=[];this.zoomData.show&&(i=(u=this.zoomData).show,n=u.showOnCategoryAxis,l=u.showOnValueAxis,s=u.showOnValueSecAxis,u=u.showLabels,i&&(i=n&&!this.hasYAxisCategorical||l&&this.hasYAxisCategorical,n=l&&!this.hasYAxisCategorical||n&&this.hasYAxisCategorical,s=s,i&&(p.bottom+=16,u&&(p.bottom+=t.x.labelFontProperties.size.px+h.StaticPadding),t.x.showAxisTitle&&(p.bottom+=t.x.titleFontProperties.size.px+h.StaticPadding),d.push("bottom")),(n&&!this.yFlipped||s&&this.yFlipped)&&(this.maxZoomLabelWidthLeft=this.getMaxYLabelWidth("left",r,t),c=u?16+this.maxZoomLabelWidthLeft+h.StaticPadding:16,p.left+=c+8,t.y.showAxisTitle&&!this.yFlipped?p.left+=t.y.titleFontProperties.size.px+h.StaticPadding:t.y2.showAxisTitle&&this.yFlipped&&(p.left+=t.y2.titleFontProperties.size.px+h.StaticPadding),d.push("left")),(s&&!this.yFlipped||n&&this.yFlipped)&&(this.maxZoomLabelWidthRight=this.getMaxYLabelWidth("right",r,t),c=u?16+this.maxZoomLabelWidthRight+h.StaticPadding:16,p.right+=c+8,t.y2.showAxisTitle&&!this.yFlipped?p.right+=t.y2.titleFontProperties.size.px+h.StaticPadding:t.y.showAxisTitle&&this.yFlipped&&(p.right+=t.y.titleFontProperties.size.px+h.StaticPadding),d.push("right")))),this.baseZoomAxesPosition=this.calculateZoomAxesPositions(d,e,p,a);d=this.zoomContext.selectAll(".zoom").data(d,(function(e){return e}));d.enter().append("div").attr("class",(function(e){return"zoom zoom-"+e})).attr("tabindex",0).attr("focus-nav-mode","Hierarchy").attr("role","group").attr("aria-label",this.hostServices.getLocalizedString("Slicer_Slider")).style("position","absolute");d=d.exit();return this.resetEventHandlers||d.call((function(e){return g.destroySliders({containers:e,hasYAxisCategorical:o.hasYAxisCategorical,yFlipped:o.yFlipped,visualHostServices:o.hostServices})})),d.remove(),_.some(p,(function(e){return 0!==e}))?p:void 0},h.prototype.updateShowAxisTitles=function(e,t){var a=this.zoomData,i=a.show,o=a.showOnCategoryAxis,r=a.showOnValueAxis,a=a.showOnValueSecAxis;if(!i)return e;i=this.hasYAxisCategorical?r:o,r=this.hasYAxisCategorical?o:r;return{x:e.x&&!i,y:e.y&&!r,y2:e.y2&&!a}},h.prototype.updateAxisTitles=function(e){this.zoomData.show&&(this.axesLabels=__assign(__assign({},this.axesLabels),e))},h.prototype.updateAxisOptions=function(e,t){var a;t.isScalar&&this.zoomData.show&&(t.isCategoryAxis?this.zoomData.showOnCategoryAxis&&(this.zoomAxes.categoryAxis=e,a=h.getAxisRange(e,this.zoomData.categoryMin,this.zoomData.categoryMax,this.zoomData.categorySize),this.zoomExtents.categoryExtent=a.domain,t.dataDomain=a.domain,t.preventNice=t.preventNice||a.force,t.includeZero=t.includeZero&&!a.force,this.hasYAxisCategorical||(this.xOuterPadding=e.outerPadding)):t.isSecValueAxis?this.zoomData.showOnValueSecAxis&&(this.zoomAxes.valueSecAxis=e,a=h.getAxisRange(e,this.zoomData.valueSecMin,this.zoomData.valueSecMax,this.zoomData.valueSecSize),this.zoomExtents.valueSecExtent=a.domain,t.dataDomain=a.domain,t.preventNice=t.preventNice||a.force,t.includeZero=t.includeZero&&!a.force):this.zoomData.showOnValueAxis&&(this.zoomAxes.valueAxis=e,a=h.getAxisRange(e,this.zoomData.valueMin,this.zoomData.valueMax,this.zoomData.valueSize),this.zoomExtents.valueExtent=a.domain,t.dataDomain=a.domain,t.preventNice=t.preventNice||a.force,t.includeZero=t.includeZero&&!a.force))},h.prototype.skipMergingValueAxisDomains=function(){return this.zoomData.show&&(this.zoomData.showOnValueAxis||this.zoomData.showOnValueSecAxis)},h.getAxisRange=function(e,t,a,i){var o=e.scale.domain(),e=[void 0,void 0];return null!=i?e=null!=a?[o[0],Math.min(o[0]+i,o[1])]:[Math.max(o[1]-i,o[0]),o[1]]:(e[0]=null!=t&&t>=o[0]&&t<o[1]?t:o[0],e[1]=null!=a&&a>o[0]&&a<=o[1]?a:o[1]),{domain:e,force:!(null==i&&null==a&&null==t||e[0]===o[0]&&e[1]===o[1])}},Object.defineProperty(h.prototype,"zoomData",{get:function(){return this._zoomData},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"context",{get:function(){return this.zoomContext},enumerable:!1,configurable:!0}),h.converter=function(e){e=null===(e=null==e?void 0:e.metadata)||void 0===e?void 0:e.objects;return{show:d.DataViewObjects.getValue(e,m.zoomProps.show,h.DefaultOptions.show),showOnValueAxis:d.DataViewObjects.getValue(e,m.zoomProps.showOnValueAxis,h.DefaultOptions.showOnValueAxis),valueMin:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.valueMin,null)),valueMax:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.valueMax,null)),valueSize:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.valueSize,null)),showOnCategoryAxis:d.DataViewObjects.getValue(e,m.zoomProps.showOnCategoryAxis,h.DefaultOptions.showOnCategoryAxis),categoryMin:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.categoryMin,null)),categoryMax:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.categoryMax,null)),categorySize:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.categorySize,null)),showOnValueSecAxis:d.DataViewObjects.getValue(e,m.zoomProps.showOnValueSecAxis,h.DefaultOptions.showOnValueSecAxis),valueSecMin:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.valueSecMin,null)),valueSecMax:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.valueSecMax,null)),valueSecSize:this.clampValue(d.DataViewObjects.getValue(e,m.zoomProps.valueSecSize,null)),showLabels:d.DataViewObjects.getValue(e,m.zoomProps.showLabels,h.DefaultOptions.showLabels),showTooltip:d.DataViewObjects.getValue(e,m.zoomProps.showTooltip,h.DefaultOptions.showTooltip)}},h.clampValue=function(e){return isNaN(e)||"number"!=typeof e?null:e},h.prototype.enumerateObjectInstances=function(e){var t,a;this.showZoomCard()&&(a={selector:null,properties:{show:(t=this.zoomData).show},objectName:"zoom"},this.hasCategoryAxis&&(a.properties.showOnCategoryAxis=t.showOnCategoryAxis),this.hasValueAxis&&(a.properties.showOnValueAxis=t.showOnValueAxis),this.hasY2Axis&&(a.properties.showOnValueSecAxis=t.showOnValueSecAxis),a.properties.showLabels=t.showLabels,a.properties.showTooltip=t.showTooltip,e.pushInstance(a))},h.prototype.getZoomCard=function(e){var t=this;if(this.showZoomCard()&&e){var a=this.zoomData,e=new m.builder.FormattingCardBuilder(new m.builder.FormattingCardUidBuilder("axisZoom"),"Visual_ZoomSlider",[m.zoomProps.show,m.zoomProps.showOnCategoryAxis,m.zoomProps.showOnValueAxis,m.zoomProps.showOnValueSecAxis,m.zoomProps.showLabels,m.zoomProps.showTooltip],function(e){return t.hostServices.getLocalizedString(e)});return e.addTopLevelToggle("show",(function(){return new m.builder.ToggleSwitchBuilder({descriptor:m.zoomProps.show,value:a.show}).build()})).addGroup(void 0,(function(e){t.hasCategoryAxis&&e.addSimpleSlice("categoryaxis",new m.builder.ToggleSwitchBuilder({descriptor:m.zoomProps.showOnCategoryAxis,value:a.showOnCategoryAxis}).build(),(function(e){return e.withCustomDisplayName(t.hasYAxisCategorical?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen")})),t.hasValueAxis&&e.addSimpleSlice("valueAxis",new m.builder.ToggleSwitchBuilder({descriptor:m.zoomProps.showOnValueAxis,value:a.showOnValueAxis}).build(),(function(e){return e.withCustomDisplayName(t.hasYAxisCategorical?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen")})),t.hasY2Axis&&e.addSimpleSlice("valueSecAxis",new m.builder.ToggleSwitchBuilder({descriptor:m.zoomProps.showOnValueSecAxis,value:a.showOnValueSecAxis}).build(),(function(e){return e.withCustomDisplayName("Visual_Y2Axis_Hyphen")})),e.addSimpleSlice("labels",new m.builder.ToggleSwitchBuilder({descriptor:m.zoomProps.showLabels,value:a.showLabels}).build()).addSimpleSlice("tooltips",new m.builder.ToggleSwitchBuilder({descriptor:m.zoomProps.showTooltip,value:a.showTooltip}).build())})),e.build()}},h.prototype.showZoomCard=function(){return!this.hasSmallMultiples},h.prototype.calculateZoomAxesPositions=function(e,t,a,i){for(var o={},r=t.height-a.bottom-(i=void 0===i?0:i),n=t.width-a.right,l=r-a.top,s=n-a.left,u=h.SliderHandleRadius,c=0,p=e;c<p.length;c++){var d=p[c];switch(d){case"bottom":o.bottom={top:r,left:a.left-u,width:s+2*u,height:a.bottom};break;case"left":o.left={top:-u,left:null,width:a.left,height:l+2*u};break;case"right":o.right={top:-u,left:n,width:a.right,height:l+2*u}}}return o},h.prototype.getMaxYLabelWidth=function(e,t,a){if(!a)return 50;t=this.getAxisType(e,t),t=a["y1"===t?"y":t].labelFontProperties,t={text:"1234567",fontFamily:t.family,fontSize:i.toString(t.size.px),fontWeight:t.weight,fontStyle:t.style,fontVariant:t.variant,whiteSpace:t.whiteSpace};return d.TextMeasurementService.measureSvgTextWidth(t)},h.prototype.getAxisType=function(e,t){var a;switch(e){case"bottom":a="x";break;case"left":a=t?"y2":"y1";break;case"right":a=t?"y1":"y2"}return a},h.DefaultOptions={show:!1,showOnValueAxis:!0,showOnValueSecAxis:!1,showOnCategoryAxis:!0,showLabels:!1,showTooltip:!1},h.StaticPadding=5,h.SliderHandleRadius=8,e=h,m.AxisZoom=e,m.zoomProps={show:{objectName:"zoom",propertyName:"show"},showOnValueAxis:{objectName:"zoom",propertyName:"showOnValueAxis"},valueMin:{objectName:"zoom",propertyName:"valueMin"},valueMax:{objectName:"zoom",propertyName:"valueMax"},valueSize:{objectName:"zoom",propertyName:"valueSize"},showOnCategoryAxis:{objectName:"zoom",propertyName:"showOnCategoryAxis"},categoryMin:{objectName:"zoom",propertyName:"categoryMin"},categoryMax:{objectName:"zoom",propertyName:"categoryMax"},categorySize:{objectName:"zoom",propertyName:"categorySize"},showOnValueSecAxis:{objectName:"zoom",propertyName:"showOnValueSecAxis"},valueSecMin:{objectName:"zoom",propertyName:"valueSecMin"},valueSecMax:{objectName:"zoom",propertyName:"valueSecMax"},valueSecSize:{objectName:"zoom",propertyName:"valueSecSize"},showLabels:{objectName:"zoom",propertyName:"showLabels"},showTooltip:{objectName:"zoom",propertyName:"showTooltip"}}})(powerbi=powerbi||{}),(function(v){var m=v.visuals.builder;v.colorEnumerationHelperModuleFactory=function(){var h=v.DataViewObjects,b=v.visuals,f=b.lineChartProps.dataPoint.showAllDataPoints;function r(e){var i=e.groupBuilder,o=e.colorProps,t=e.featureSwitches,r=e.options,n=r.categories,a=r.dataView.metadata&&r.dataView.metadata.objects,l=h.getValue(a,f,!!r.showAllDataPoints),s=h.getFillColor(a,b.columnChartProps.dataPoint.fill);s||(s=h.getFillColor(a,b.columnChartProps.dataPoint.defaultColor)||r.style.colorPalette.dataColors.getColorByIndex(0).value);e=r.fillInstanceKind;null==e&&(e=t.expressionBasedFormatting?3:1);var u,c={solid:{color:s}},s={value:s};if(1&e&&(u=null),o.fill&&(e=__assign(__assign({},o.fill),{selector:{data:[v.data.DataViewWildcard.create(1)]},altConstantValueSelector:u,instanceKind:e}),r.noDefaultFillColor?r.hideShowAllToggle&&i.addSimpleSlice("defaultColor",new m.EmptyControlBuilder({descriptor:e,value:void 0}).build(),(function(e){return e.withCustomDisplayName("PropertyPane_ConditionalFormatting_DialogLauncherSliceTitle")})):i.addSimpleSlice("defaultColor",new m.ColorPickerBuilder({descriptor:e,value:s}).build(),(function(e){return e.withCustomDisplayName("Default")}))),o.showAllDataPoints&&!r.hideShowAllToggle&&i.addSimpleSlice("showAll",new m.ToggleSwitchBuilder({descriptor:__assign(__assign({},f),{selector:{data:[v.data.DataViewWildcard.create(1)]},altConstantValueSelector:u}),value:h.getValue(a,f,!!r.showAllDataPoints)}).build()),l)for(var p=0,d=n.length;p<d;p++)!(function(e){var t=n[e],a={value:t.color||c.solid.color},e=v.data.Selector.normalizeSelector(t.identity.getSelector());r.multipleRole&&((e=v.data.Selector.clone(e)).data,e.data.unshift(v.data.DataViewRoleWildcard.fromRoles([r.multipleRole]))),i.addSimpleSlice(t.displayName,new m.ColorPickerBuilder({descriptor:__assign(__assign({},o.fill),{selector:e,instanceKind:1}),value:a}).build(),(function(e){return e.withCustomDisplayName(t.displayName,!1)}))})(p)}function n(e,o){for(var r=e.groupBuilder,n=e.dataPoints,l=e.seriesColorProps,s=e.localize,t=0,a=null==n?void 0:n.length;t<a;t++)!(function(e){var t=n[e],e={value:t.color},a=t.displayName||s("DataPointColorTitle"),i=v.data.Selector.normalizeSelector(t.identity.getSelector());r.addSimpleSlice(a,new m.ColorPickerBuilder({descriptor:__assign(__assign({},l.fill),{selector:i,instanceKind:1}),value:e}).build(),(function(e){return e.withCustomDisplayName(a,!1).withDisabled(o&&!v.data.Selector.equals(o,i))}))})(t)}return{enumerateCategoryDataColors:function(e,t){if(e.dataView){var a=e.enumeration,i=e.categories,o=e.supportDataPointTransparency,r=e.dataView.metadata&&e.dataView.metadata.objects,n=!!e.noDefaultFillColor,l=h.getValue(r,f,!!e.showAllDataPoints),s=e.dataPointTransparency,u=h.getFillColor(r,b.columnChartProps.dataPoint.fill);u||(u=h.getFillColor(r,b.columnChartProps.dataPoint.defaultColor)||e.style.colorPalette.dataColors.getColorByIndex(0).value);r=e.fillInstanceKind;null==r&&(r=t.expressionBasedFormatting?3:1);var c={solid:{color:u}},u={objectName:"dataPoint",selector:{data:[v.data.DataViewWildcard.create(1)]},properties:{}};if(n||(_.assign(u.properties,{fill:c}),u.propertyInstanceKind={fill:r}),1&r&&(u.altConstantValueSelector=null),o&&_.assign(u.properties,{transparency:s}),_.assign(u.properties,{showAllDataPoints:l}),a.pushInstance(u),l)for(var p=0,d=i.length;p<d;p++){var m=i[p],g=m.color||c.solid.color,y=v.data.Selector.normalizeSelector(m.identity.getSelector());e.multipleRole&&((y=v.data.Selector.clone(y)).data,y.data.unshift(v.data.DataViewRoleWildcard.fromRoles([e.multipleRole]))),a.pushInstance({objectName:"dataPoint",displayName:m.displayName,selector:y,properties:{fill:{solid:{color:g}}},propertyInstanceKind:{fill:1}})}}},enumerateSeriesDataColors:function(e,t){for(var a=e.enumeration,i=e.dataPoints,o=0,r=i.length;o<r;o++){var n=i[o];a.pushInstance({objectName:"dataPoint",displayName:n.displayName,selector:v.data.Selector.normalizeSelector(n.identity.getSelector()),properties:{fill:{solid:{color:n.color}}},propertyInstanceKind:{fill:1}})}},getSeriesDataColorsFormattingModel:function(t,a){function i(e){return a.getLocalizedString(e)}var o={fill:{objectName:"dataPoint",propertyName:"fill"}},e=new m.FormattingCardBuilder(new m.FormattingCardUidBuilder("colors"),"Visual_Colors",o,i);return e.addGroup(void 0,(function(e){n({groupBuilder:e,dataPoints:t,seriesColorProps:o,localize:i})})),e.build()},getCategoryDataColorsFormattingModel:function(t,a,i){if(t.dataView){var o={fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},e=new m.FormattingCardBuilder(new m.FormattingCardUidBuilder("colors"),"Visual_Colors",o,function(e){return i.getLocalizedString(e)});return e.addGroup("colors",(function(e){r({colorProps:o,featureSwitches:a,groupBuilder:e,hostService:i,options:t})})),e.build()}},appendCategoryColorSlicesToGroup:r,appendSeriesColorSlicesToGroup:n}}})(powerbi=powerbi||{}),(function(V){var L,e,C,t;L=V.visuals||(V.visuals={}),C=jsCommon.Color,t=jsCommon.CssConstants.createClassAndSelector,(function(T){T.DimmedOpacity=.4,T.DefaultOpacity=1,T.UncertaintyGroup=t("uncertainty"),T.UncertaintyBars=t("uncertainty-bars"),T.UncertaintyBar=t("uncertainty-bar"),T.UncertaintyMarkers=t("uncertainty-markers"),T.UncertaintyMarker=t("uncertainty-marker"),T.SeriesClasses=t("series"),T.validLabelPositionsAutoClustered=[16,4,1,2],T.validLabelPositionsAutoStacked=[1,4,2],T.validTotalLabelPositions=[16];function D(e,t,a,i){return e||(t&&!a?L.ColorHelper.getThemeColor(i,L.DataLabelViewModel.DefaultInsideLabelColorName):L.ColorHelper.getThemeColor(i,L.DataLabelViewModel.DefaultLabelColorName))}function w(e){var t=_.map(e,(function(e){switch(e){case 4:return 128;case 2:return 64;case 1:return 32;default:return}})).filter((function(e){return void 0!==e}));return e.concat(t)}T.getCategoryAxis=function(a,e,t,i,o,r,n,l,s,u,c,p,d,m,g){var y=t.categoryThickness,h=t.isScalar,b=t.outerPaddingRatio,n=L.AxisHelper.createDomain(a.series,a.categoryMetadata?a.categoryMetadata.type:V.ValueType.fromDescriptor({text:!0}),h,n);return(g=L.AxisHelper.createAxis({pixelSpan:e,dataDomain:n,axisZoom:o,metaDataColumn:a.categoryMetadata,formatString:L.valueFormatter.getFormatString(a.categoryMetadata,L.columnChartProps.general.formatString),outerPadding:y*b,outerPaddingRatio:b,isCategoryAxis:!0,isScalar:h,isVertical:i,categoryThickness:y,useTickIntervalForDisplayUnits:!0,getValueFn:function(e,t){return L.CartesianHelper.lookupXValue(a,e,t,h,r)},scaleType:l,logAxisScale:s,axisDisplayUnits:u,axisPrecision:c,margin:p,allowSingleScalarTick:h,preventNice:d,innerPaddingRatio:m,invertAxis:!(null==t||!t.isScalar)&&g,featureSwitches:r})).categoryIdentities=a.categoryIdentities,t.categoryThickness=g.categoryThickness,g},T.applyInteractivity=function(e,t){t&&e.attr("draggable","true").on("dragstart",t)},T.getFillOpacity=function(e,t,a,i,o){return void 0===o&&(o=T.DefaultOpacity),a&&i&&t?e?o:0:i&&!t||a&&!e?T.DimmedOpacity*o:o},T.getClosestColumnIndex=function(e,t){for(var a=0,i=Number.MAX_VALUE,o=0,r=t.length;o<r;o++){var n=Math.abs(e-t[o]);n<i&&(i=n,a=o)}return a},T.setSelectedColumnOpacity=function(e,t,a,i,o){var r=!o;(t=e.selectAll(T.SeriesClasses.selector).selectAll("rect"+t)).filter((function(e){return e.categoryIndex===a})).interrupt().style("fill-opacity",T.DefaultOpacity),t=t.filter((function(e){if(void 0===i||o)return e.categoryIndex!==a;var t=e.categoryIndex===i,e=e.categoryIndex!==a;return t&&e})),(r?t.transition():t).style("fill-opacity",T.DimmedOpacity)},T.drawSeries=function(e,t,a){return e.strokeSettings&&e.strokeSettings.visible&&t.style("stroke",e.strokeSettings.color).style("stroke-width",e.strokeSettings.width),t=t.selectAll(T.SeriesClasses.selector).data(e.series,(function(e){return e.key})),(e=t.enter().append("g").classed(T.SeriesClasses.class,!0).merge(t)).styles({fill:function(e){return e.color}}),t.exit().remove(),e},T.drawDefaultShapes=function(t,e,a,i,o,r){var n=o?function(e){return _.filter(e.data,(function(e){return!!e.value}))}:function(e){return e.data},o=e.selectAll(i.selector).data(n,(function(e){return e.key})),e=jsCommon.BrowserUtils.isInternetExplorerOrEdge(),l=r&&r.hasSelection(),n=o.enter().append("rect").attr("class",(function(e){return i.class.concat(e.highlight?" highlight":"")})).merge(o);return r&&n.attrs({tabindex:0,focusable:!0,role:"option","aria-selected":function(e){return e.selected},"aria-label":function(e){return null!=e.value?e.value:"null"},"data-automation-type":"column-chart-rect"}).classed(L.SetFocusRingClassName,!e),n.style("fill-opacity",(function(e){return T.getFillOpacity(e.selected,e.highlight,l,t.hasHighlights)})).style("fill",(function(e){return e.color!==t.series[e.seriesIndex].color?e.color:null})).attrs(a.shapeLayout),o.exit().remove(),n},T.drawUncertainty=function(e,t,a,i,o,r,n){var l,s,u,c,p,d,m,g,y,h,b,f,v=e.series,S=e.hasHighlights;return void 0!==i&&(f=_.filter(v,(function(e){return e.uncertainty.renderUncertainty})),l=!_.isEmpty(f)),l?(s=n&&n.hasSelection(),u=function(e,t){return T.getFillOpacity(e.selected,e.highlight,s,S,C.convertTransparencyToOpacity(t))},c=r/2,p=i.scale,g=t?(d=function(e){return"translate("+p(e.value)+", "+(o.shapeLayout.y(e)+c-(e.drawThinner?c/2:0))+")"},m=d3.line().x(o.uncertaintyLayout.lower).y((function(e){return o.shapeLayout.y(e)+c})).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.lower&&(!S||e.highlight)})),d3.line().x(o.uncertaintyLayout.upper).y((function(e){return o.shapeLayout.y(e)+c})).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.upper&&(!S||e.highlight)}))):(d=function(e){return"translate("+(o.shapeLayout.x(e)+c-(e.drawThinner?c/2:0))+", "+p(e.value)+")"},m=d3.line().x((function(e){return o.shapeLayout.x(e)+c})).y(o.uncertaintyLayout.lower).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.lower})),d3.line().x((function(e){return o.shapeLayout.x(e)+c})).y(o.uncertaintyLayout.upper).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.upper}))),i=a.selectAll(T.UncertaintyGroup.selector).data([1]).join("g").attr("class",T.UncertaintyGroup.class),y=Math.min(10,r-2),h=i.selectAll(T.UncertaintyBars.selector).data(_.filter(f,(function(e){return e.uncertainty.bar.show})),(function(e){return e.identity.getKey()})).join("g").attr("class",T.UncertaintyBars.class).style("fill",(function(e){return e.uncertainty.bar.color})).style("fill-opacity",(function(e){return C.convertTransparencyToOpacity(e.uncertainty.bar.transparency)})).style("stroke",(function(e){return e.uncertainty.bar.borderColor})).style("stroke-width",(function(e){return e.uncertainty.bar.borderWidth})).style("stroke-opacity",(function(e){return C.convertTransparencyToOpacity(e.uncertainty.bar.borderTransparency)})).style("stroke-linejoin",(function(e){return e.uncertainty.bar.strokeLineJoin})).order().each((function(e){var t;null==e||_.isEmpty(e.data)||(t=e.uncertainty.bar,e=_.filter(e.data,(function(e){return!!e&&(!S||e.highlight)&&e.uncertainty&&(e.uncertainty.lower||e.uncertainty.upper)})),d3.select(this).selectAll(T.UncertaintyBar.selector).data(e,(function(e){return e.identity.getKey()})).join("path").attr("class",T.UncertaintyBar.class).attr("transform",d).attr("fill-opacity",(function(e){return s?u(e,t.transparency):null})).attr("stroke-opacity",(function(e){return s?u(e,t.borderTransparency):null})).attr("d",(function(e){return d3.symbol().type(L.UncertaintyHelper.errorBarSymbol(e,t,p)).size(y)()})))})),t=_.filter(f,(function(e){return e.uncertainty.markers.showMarker})),_.isEmpty(t)?i.selectAll(T.UncertaintyMarkers.selector).remove():(r=new L.MarkerRenderer,b=a.selectAll("defs").data([1]).join("defs"),f=_.map(t,(function(e){return e.uncertainty.markers})),r.ensureMarkers(b,f),t=i.selectAll(T.UncertaintyMarkers.selector).data(t,(function(e){return e.identity.getKey()})).join("g").attr("class",T.UncertaintyMarkers.class).style("stroke-opacity",0).style("stroke-width",(function(e){return e.uncertainty.markers.size})).order().selectAll(T.UncertaintyMarker.selector).data((function(t){return _.map(["upper","lower"],(function(e){return{seriesData:t,type:e}}))})).join("path").attr("class",T.UncertaintyMarker.class).attr("d",(function(e){return("upper"===e.type?g:m)(e.seriesData.data)})),r.renderUncertaintyMarkers(t))):a.selectAll(T.UncertaintyGroup.selector).remove(),{bars:h,markerDefs:b}},T.drawDefaultLabels=function(e,t,a,i,o,r){if(void 0===o&&(o=!1),e){for(var n=e.data(),l=[],s=0,u=n.length;s<u;s++)Array.prototype.push.apply(l,n[s].data);return L.DataLabelViewModel.drawDefaultLabelsForDataPointChart(l,t,a,i,o,r)}L.DataLabelViewModel.cleanDataLabels(t)},T.normalizeInfinityInScale=function(e){for(var t=e.domain(),a=0,i=t.length;a<i;++a)t[a]===Number.POSITIVE_INFINITY?t[a]=Number.MAX_VALUE:t[a]===Number.NEGATIVE_INFINITY&&(t[a]=-Number.MAX_VALUE);e.domain(t)},T.calculatePosition=function(e,t){var a=t.xScale,i=t.yScale,o=i(0),r=a(0);switch(e.chartType){case 18:case 50:return r+Math.abs(L.AxisHelper.diffScaled(a,0,e.valueAbsolute))+L.AxisHelper.diffScaled(a,e.position-e.valueAbsolute,0)+L.DataLabelViewModel.defaultColumnLabelMargin;case 10:return r+L.AxisHelper.diffScaled(a,Math.max(0,e.value),0)+L.DataLabelViewModel.defaultColumnLabelMargin;case 20:case 52:case 68:return o+L.AxisHelper.diffScaled(i,e.position,0)-L.DataLabelViewModel.defaultColumnLabelMargin;case 12:return o+L.AxisHelper.diffScaled(i,Math.max(0,e.value),0)-L.DataLabelViewModel.defaultColumnLabelMargin}},T.createLabelDataPoints=function(p,e,d,m,g,y,h,b){for(var f=[],v=p.series,S=L.DataLabelViewModel.createColumnFormatterCacheManager(),C=e.shapeLayout,x=p.scalarCategoryAxis,t=function(e,t){var s=v[e],u=s.labelSettings||p.dataLabelsSettings;if(!u.show)return f[e]={labelDataPoints:[],maxNumberOfLabels:0},"continue";var a=void 0;a=!(100===u.labelDensity)&&x?L.DataLabelRenderer.getNumberOfLabelsToRender(d.viewportWidth,u.labelDensity,4,L.MinMaxLabelDataPointSorter.estimatedLabelWidth):s.data.length;for(var c=L.DataLabelRenderer.getLabelUnitAndPrecisionForAxis(m,u),i=[],o=function(e,t){var a=d.is100Pct?L.DataLabelViewModel.hundredPercentFormat:e.labelFormatString,i=S.getOrCreate(a,u,c.units,c.getPrecision(!!a,s.type)),o=L.DataLabelRenderer.getLabelFormattedText(i.format(e.value)),r=u.fontProperties,n=L.FontProperties.toTextProperties(r,o),l=V.TextMeasurementService.measureSvgTextWidth(n),a=V.TextMeasurementService.estimateSvgTextHeight(n,!0),i={left:C.x(e),top:C.y(e),width:C.width(e),height:C.height(e)},n=(y?function(e){switch(e){case L.labelPosition.insideEnd:return[4];case L.labelPosition.insideCenter:return[1];case L.labelPosition.insideBase:return[2];case L.labelPosition.outsideEnd:return[16];default:return T.validLabelPositionsAutoClustered}}:function(e){switch(e){case L.labelPosition.insideEnd:return[4];case L.labelPosition.insideBase:return[2];case L.labelPosition.insideCenter:return[1];default:return T.validLabelPositionsAutoStacked}})(u.position);u.labelOverflow&&(n=w(n));t=g?0<=e.value?t?4:3:t?3:4:0<=e.value?t?2:1:t?1:2;return{isPreferred:!1,text:o,textSize:{width:l,height:a},outsideFill:D(u.fontProperties.color,!1,d.isComboChart,h),insideFill:D(u.fontProperties.color,!0,d.isComboChart,h),parentType:1,parentShape:{rect:i,orientation:t,validPositions:n},identity:e.identity,fontProperties:r,hasBackground:u.enableBackground,backgroundColor:u.backgroundColor,backgroundTransparency:u.backgroundTransparency}},r=0,n=s.data;r<n.length;r++){var l=n[r];null==l||null==l.value||p.hasHighlights&&!l.highlight||(l=o(l,b),i.push(l))}f[e]={labelDataPoints:i,maxNumberOfLabels:a}},a=0,i=v.length;a<i;a++)t(a);return p&&p.scalarCategoryAxis?new L.MinMaxLabelDataPointSorter({unsortedLabelDataPointGroups:f,series:v,viewport:{width:d.viewportWidth,height:d.viewportHeight},yScale:m.scale}).getSortedDataLabels():f},T.createTotalLabelDataPoints=function(e,t,a,i,o,r,n,l){for(var s,u,c,p,d,m,g,y,h=[],b=L.DataLabelViewModel.createColumnFormatterCacheManager(),f=t.shapeLayout,v=e.totalLabelsSettings,S=L.DataLabelRenderer.getLabelUnitAndPrecisionForAxis(i,v),C=[],x=0;x<e.totals.length;x++){var w=[];e.totalLabelsSettings.showPositiveAndNegative?(w.push(e.totals[x].positive),w.push(e.totals[x].negative)):w.push(e.totals[x].net);for(var _=0,N=w;_<N.length;_++){var P=N[_];0!==P&&(s=P,u=x,c=l,g=p=y=g=m=d=p=void 0,p=b.getOrCreate(n,v,S.units,v.precision),d=L.DataLabelRenderer.getLabelFormattedText(p.format(s)),m=v.fontProperties,g=L.FontProperties.toTextProperties(m,d),y=V.TextMeasurementService.measureSvgTextWidth(g),p=V.TextMeasurementService.estimateSvgTextHeight(g,!0),u={value:g=s,position:g=!v.showPositiveAndNegative?0<s?e.totals[u].positive:e.totals[u].negative:g,valueAbsolute:0,valueOriginal:s,categoryIndex:e.totals[u].categoryIndex,categoryValue:e.totals[u].categoryValue,labelSettings:void 0,color:void 0,originalValue:void 0,originalPosition:void 0,originalValueAbsolute:void 0,key:void 0,chartType:void 0,seriesIndex:void 0,selected:void 0,identity:void 0},u={left:f.x(u),top:f.y(u),width:f.width(u),height:o?f.height(u):0},c=o?0<=s?c?4:3:c?3:4:0<=s?c?2:1:c?1:2,P={isPreferred:!1,text:d,textSize:{width:y,height:p},outsideFill:D(v.fontProperties.color,!1,a.isComboChart,r),insideFill:D(v.fontProperties.color,!0,a.isComboChart,r),parentType:1,parentShape:{rect:u,orientation:c,validPositions:T.validTotalLabelPositions},identity:void 0,fontProperties:m,hasBackground:v.enableBackground,backgroundColor:v.backgroundColor,backgroundTransparency:v.backgroundTransparency},C.push(P))}}return h.push({labelDataPoints:C,maxNumberOfLabels:2*e.totals.length,isTotal:!0}),h},T.concatOverflowPositions=w})(L.ColumnUtil||(L.ColumnUtil={})),(e=L.StackedUtil||(L.StackedUtil={})).getSize=function(e,t,a){return L.AxisHelper.diffScaled(e,a=void 0===a?0:a,t)},e.calcValueDomain=function(e,t){if(0===e.length)return{min:0,max:10};var a=d3.min(e,(function(e){return d3.min(e.data,(function(e){return e.position-e.valueAbsolute}))})),e=d3.max(e,(function(e){return d3.max(e.data,(function(e){return e.position}))}));return t&&(a=V.Double.roundToPrecision(a,1e-4),e=V.Double.roundToPrecision(e,1e-4)),{min:a,max:e}},e.getStackedMultiplier=function(e,t){for(var a=0,i=0,o=0,r=e.length;o<r;o++){var n=e[o][t];0<(n=L.AxisHelper.normalizeNonFiniteNumber(n))?a+=n:n<0&&(i-=n)}var l=a+i;return{pos:a?a/l/a:1,neg:i?i/l/i:1}}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).StackedUtil||(e.StackedUtil={})).clearColumns=function(e,t){e.selectAll(t.selector).data([]).exit().remove()}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ClusteredUtil||(e.ClusteredUtil={})).clearColumns=function(e,t){e.selectAll(t.selector).data([]).exit().remove()}})(powerbi=powerbi||{}),(function(e){var r;function t(){this.cache={}}r=e.visuals||(e.visuals={}),t.prototype.getOrCreate=function(e,t,a,i){null==i&&(i=t.precision);var o={formatString:e,displayUnits:t.displayUnits,precision:e?r.DataLabelViewModel.getLabelPrecision(i,e):i,value2:a},i=JSON.stringify(o);return this.cache[i]||(this.cache[i]=r.valueFormatter.create(r.DataLabelViewModel.getOptionsForLabelFormatter(t,e,a,o.precision))),this.cache[i]},r.ColumnFormatterCacheManager=t})(powerbi=powerbi||{}),(function(m){var g,o,e,y;function l(e,t){for(var a=[],i=0,o=e;i<o.length;i++)for(var r=o[i],n=r.values,l=g.valueFormatter.getFormatString(r.source,t),s=g.valueFormatter.create({format:l,value:n[0],value2:n[n.length-1],displayUnitSystemType:m.DisplayUnitSystemType.Verbose,columnType:r.source.type}),u=0,c=r.values.length;u<c;u++){var p=r.values[u],d=s.format(p),p=a[u];p||a.splice(u,0,p=[]),p.push(d)}return _.map(a,(function(e){return e.join(" ")}))}function s(e,t){var a=o.getCategoryLevels(e),i=o.concatenateCategoryLevels(a),a={};a[t]=!0;a={displayName:i.displayName,roles:a,type:m.ValueType.fromPrimitiveTypeAndCategory(1)},e=_.last(e).source;return void 0!==e.isMeasure&&(a.isMeasure=e.isMeasure),a.queryName=e.queryName,a}g=m.visuals||(m.visuals={}),y=m.data.HierarchyVisitor,(e=g.DataViewConcatenateUtil||(g.DataViewConcatenateUtil={})).concatenateCategories=function(e,t,a){if(!e||!e.categorical||_.isEmpty(e.categorical.categories))return e;var i=e.categorical.categories,o=l(i,t),r=s(i,a),n=m.Prototype.inheritSingle(e);return(t=m.Prototype.inheritSingle(n.metadata.columns)).push(r),(a=m.Prototype.inheritSingle(n.metadata)).columns=t,n.metadata=a,t=e.categorical,a=m.data.DataViewCategoricalUtils.getCategoriesDataViewObjects(t.categories),o={source:r,values:o},(e=e.categorical.categories[0]).identity&&(o.identity=e.identity),e.identityFields&&(o.identityFields=e.identityFields),a&&(o.objects=a),o=[o],(t=m.Prototype.inheritSingle(t)).categories=o,t.originalCategories=i,n.categorical=t,n},e.buildConcatenatedValues=l,e.buildConcatenatedMetadataColumn=s,e.concatenateValues=function(e){return e.join(" ")},(e=o=g.CategoryLevelUtils||(g.CategoryLevelUtils={})).concatenateCategoryLevels=function(e){return{displayName:_.map(e,(function(e){return e.displayName})).join(" "),value:_.map(e,(function(e){return e.value})).join(" ")}},e.getCategoryLevels=function(e,t,a){for(var i=null!=t,o=null,r=null,n=null,l=[],s=0,u=e;s<u.length;s++){var c,p=u[s],d=p.source;d&&(null!=(c=d.expr?y.getProperty(d.expr):null)?(c===o?r=d.displayName:(null!==o&&l.push({displayName:o+" "+r,value:n?n.join(" "):null}),o=c,r=d.displayName,n=i?[]:null),i&&n.push(g.converterHelper.formatFromMetadataColumn(p.values[t],d,a,!1))):(null!=o&&(l.push({displayName:o+" "+r,value:n?n.join(" "):null}),n=r=o=null),l.push({displayName:d.displayName,value:i?g.converterHelper.formatFromMetadataColumn(p.values[t],d,a,!1):null})))}return null!=o&&l.push({displayName:o+" "+r,value:i&&n?n.join(" "):null}),l}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ConditionalEvaluator||(e.ConditionalEvaluator={})).processCases=function(e,t){return _.find(e.cases,(function(e){return e.pattern===t}))||e.defaultCase}})(powerbi=powerbi||{}),(function(o){var n,e,i;function t(e){e=a(e);return null!=e&&!0===e.imageUrl}function a(e){return e&&e.type&&e.type.misc}n=o.visuals||(o.visuals={}),i=o.data.DataRoleHelper,(e=n.converterHelper||(n.converterHelper={})).categoryIsAlsoSeriesRole=function(e,t,a){if(e.categories&&0<e.categories.length){e=e.categories[0];return e.source&&i.hasRole(e.source,t)&&i.hasRole(e.source,a)}return!1},e.getPivotedCategories=function(e,t,a){if(void 0===a&&(a=function(e){return _.last(e.categories).values}),e.categories&&0<e.categories.length){var i=_.last(e.categories),e=a(e);return 0<i.values.length?{categories:e,categoryFormatter:n.valueFormatter.create({format:n.valueFormatter.getFormatString(i.source,t),value:e[0],value2:e[e.length-1],displayUnitSystemType:o.DisplayUnitSystemType.Verbose,columnType:i.source.type}),categoryIdentities:i.identity,categoryObjects:i.objects}:{categories:[],categoryFormatter:{format:n.valueFormatter.format}}}return{categories:[null],categoryFormatter:{format:n.valueFormatter.format}}},e.getSeriesName=function(e){return void 0!==e.groupName?e.groupName:e.queryName},e.getFormattedLegendLabel=function(e,t,a){var i=e,o=e.displayName;return void 0!==e.groupName&&(i=t.source,o=e.groupName),n.valueFormatter.format(o,n.valueFormatter.getFormatString(i,a))},e.createAxisLabel=function(e){var t;return e instanceof Array?(t=[],t=e.map((function(e){return e?e.displayName:""})).filter((function(e,t,a){return""!==e&&a.indexOf(e)===t})),t=n.valueFormatter.formatListAnd(t)):e&&(t=e.displayName),t},e.createAxesLabels=function(e,t,a,i){var o=null,r=null;return e&&a&&a.displayName&&(o=a.displayName),t&&(t=[],i&&(t=i.map((function(e){return e?e.displayName:""})).filter((function(e,t,a){return""!==e&&a.indexOf(e)===t})),r=n.valueFormatter.formatListAnd(t))),{xAxisLabel:o,yAxisLabel:r}},e.isImageUrlColumn=t,e.isWebUrlColumn=function(e){return null!=(e=a(e))&&!0===e.webUrl},e.hasImageUrlColumn=function(e){return!(!e||!e.metadata||_.isEmpty(e.metadata.columns))&&_.some(e.metadata.columns,(function(e){return!0===t(e)}))},e.formatFromMetadataColumn=function(e,t,a,i,o){return void 0===i&&(i=!0),o||(!i&&t&&t.format&&(i=!0),o=n.valueFormatter.getFormatString(t,a,i)),!o&&t&&(o=t.format),n.valueFormatter.format(e,o)}})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).DataReductionConfiguration||(e.DataReductionConfiguration={})).MaxIntersectionCount=3500,e.MaxPotentialIntersectionCount=4900})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).EventBubblingUtil||(e.EventBubblingUtil={})).handled=function(e){if(e)return!!e.handled},e.markAsHandled=function(e){e&&(e.handled=!0)}})(powerbi=powerbi||{}),(function(a){var u,c,i,p,d;function m(e,t,a,i){var o,r,n,l,s;return t.size&&null!=(l=p.getValue(e,t.size))&&(o=t.sizeInPixels?u.Units.FontSize.createFromPx(+l):u.Units.FontSize.createFromPt(+l)),r=t.bold?(l=p.getValue(e,t.bold))?d.boldValue:d.normalValue:t.weight&&p.getValue(e,t.weight),n=t.italic?(l=p.getValue(e,t.italic))?d.italicValue:d.normalValue:t.style&&p.getValue(e,t.style),t.underline&&(s=(l=p.getValue(e,t.underline))?d.underlineValue:d.noneValue),{color:t.color&&a.getColorForPropertyName(e,t.color,i),family:t.family&&p.getValue(e,t.family),lineHeight:t.lineHeight&&p.getValue(e,t.lineHeight),size:o,style:n,variant:t.variant&&p.getValue(e,t.variant),weight:r,whiteSpace:t.whiteSpace&&p.getValue(e,t.whiteSpace),textDecoration:s}}function o(e,t){e.color&&(t.fill=e.color),e.family&&(t.fontFamily=e.family),e.lineHeight&&(t.lineHeight=e.lineHeight),e.size&&(t.fontSize=e.size?i.toString(e.size.px):void 0),e.style&&(t.fontStyle=e.style),e.variant&&(t.fontVariant=e.variant),e.weight&&(t.fontWeight=e.weight),e.whiteSpace&&(t.whiteSpace=e.whiteSpace)}function r(e,t){void 0===t&&(t=0);for(var a={},i=Object.getPrototypeOf({}),o=0;o<=t&&(null!=e&&e!==i);o++)_.forOwn(e,(function(e,t){void 0===a[t]&&(a[t]=e)})),e=Object.getPrototypeOf(e);return a}u=a.visuals||(a.visuals={}),i=jsCommon.PixelConverter,p=a.DataViewObject,d=jsCommon.CssConstants,(c=u.FontProperties||(u.FontProperties={})).createFromDataViewObject=function(e,t,a,i,o){return i=m(e,t,a,i),o?c.inherit(o,i):i},c.createFromObjectOrStyle=function(e,t,a,i,o,r,n,l){var s=m(e,t,a,void 0),r=i=u.TextHelper.getFontPropertiesForTextClass(i,r);return t.color&&(o=a.getColorForPropertyName(e,t.color,o),r=l?c.inherit(i,{color:o}):c.inherit({color:o},i)),(r=n?c.inherit(n,r):r)?c.inherit(r,s):s},c.inherit=function(e,t){return e=a.Prototype.inherit(e),t&&(t.color&&(e.color=t.color),t.family&&(e.family=t.family),t.lineHeight&&(e.lineHeight=t.lineHeight),t.size&&(e.size=t.size),t.style&&(e.style=t.style),t.variant&&(e.variant=t.variant),t.weight&&(e.weight=t.weight),t.whiteSpace&&(e.whiteSpace=t.whiteSpace),t.textDecoration&&(e.textDecoration=t.textDecoration)),e},c.toTextProperties=function(e,t,a){return{text:t,fontFamily:(e=a?r(e):e).family,fontSize:e.size?i.toString(e.size.px):void 0,fontWeight:e.weight,fontStyle:e.style,fontVariant:e.variant,whiteSpace:e.whiteSpace}},c.toHTMLStyle=function(e){var t={};return e.color&&(t.color=e.color),e.family&&(t["font-family"]=e.family),e.lineHeight&&(t["line-height"]=e.lineHeight),e.size&&(t["font-size"]=e.size?i.toString(e.size.px):void 0),e.style&&(t["font-style"]=e.style),e.variant&&(t["font-variant"]=e.variant),e.weight&&(t["font-weight"]=e.weight),e.whiteSpace&&(t["white-space"]=e.whiteSpace),e.textDecoration&&(t["text-decoration"]=e.textDecoration),t},c.applyStyleToElement=function(e,t){return o(e,t.style),t},c.applyStyle=o,c.toSVGStyle=function(e){var t={};return e.color&&(t.fill=e.color),e.family&&(t["font-family"]=e.family),e.lineHeight&&(t["line-height"]=e.lineHeight),e.size&&(t["font-size"]=e.size?i.toString(e.size.px):void 0),e.style&&(t["font-style"]=e.style),e.variant&&(t["font-variant"]=e.variant),e.weight&&(t["font-weight"]=e.weight),e.whiteSpace&&(t["white-space"]=e.whiteSpace),e.textDecoration&&(t["text-decoration"]=e.textDecoration),t},c.excludeInheritedProperties=r,c.flatten=function(e){return r(e,Number.MAX_VALUE)},c.toD3Style=function(t){return{color:function(e){return t(e).color},"font-family":function(e){return t(e).family},"font-size":function(e){return t(e).size?i.toString(t(e).size.px):void 0},"font-style":function(e){return t(e).style},"font-variant":function(e){return t(e).variant},"font-weight":function(e){return t(e).weight},"white-space":function(e){return t(e).whiteSpace},"text-decoration":function(e){return t(e).textDecoration}}},c.toDataViewPropertyValues=function(e){return __assign(__assign({},e),{color:e.color?{solid:{color:e.color}}:void 0})}})(powerbi=powerbi||{}),(function(F){var O,e,z;O=F.visuals||(F.visuals={}),e=jsCommon.CssConstants.createClassAndSelector,z=F.data.DataRoleHelper,(function(A){A.forecastObjectName="forecast",A.forecastValueRole="forecast.ForecastValue",A.forecastConfidenceHighBoundRole="forecast.ConfidenceHighBound",A.forecastConfidenceLowBoundRole="forecast.ConfidenceLowBound";var k="foregroundDark";A.defaults={displayName:"",confidenceBandStyle:O.confidenceBandStyle.fill,transparency:80,style:O.lineStyle.solid},A.quarterHierarchyLevelPrefixResorceKey="Visual_Quarter_Abbreviated";var n=e("forecast-line"),l=e("forecast-error-range"),c=e("forecast-line-layer");function j(e){return{solid:{color:O.ColorHelper.getThemeColor(e,k)}}}A.enumerateObjectInstances=function(e,t,a,i){var o;(o=_.isEmpty(t)?o:t[0])?((t={})[A.ForecastPropertyNames.show]=o.show,t[A.ForecastPropertyNames.displayName]=o.displayName,t[A.ForecastPropertyNames.lineColor]=o.lineColor,t[A.ForecastPropertyNames.style]=o.style,t[A.ForecastPropertyNames.confidenceBandStyle]=o.confidenceBandStyle,t[A.ForecastPropertyNames.transparency]=o.transparency,e.pushInstance({selector:o.selector,properties:t,objectName:A.forecastObjectName})):(i={selector:{id:"0"},properties:{show:!1,lineColor:j(a),style:A.defaults.style,confidenceBandStyle:A.defaults.confidenceBandStyle,transparency:A.defaults.transparency},objectName:A.forecastObjectName,disabledReason:i},e.pushInstance(i))},A.isDataViewForForecast=function(e){if(!e||!e.categorical||!e.categorical.values)return!1;for(var t=0,a=e.categorical.values.grouped();t<a.length;t++){var i=a[t];if(_.some(i.values,(function(e){return z.hasRoleInValueColumn(e,"forecast.ForecastValue")})))return!0}return!1},A.readDataView=function(e,t,a){if(!(e&&e.categorical&&t&&t.categorical))return[];var i=e.categorical;if(_.isEmpty(i.categories)||_.isEmpty(i.values))return[];var o=(e=O.ScalarUtils.getScalarKeys(i.categories[0]))?_.map(e.values,(function(e){return e.min})):i.categories[0].values,r=i.values.grouped();if(_.isEmpty(o)||_.isEmpty(r))return[];var n,l=z.getMeasureIndexOfRole(r,A.forecastValueRole),s=z.getMeasureIndexOfRole(r,A.forecastConfidenceHighBoundRole),u=z.getMeasureIndexOfRole(r,A.forecastConfidenceLowBoundRole),c=[],p=(function(e){var t=[];if(e&&e.categorical&&e.categorical.values){e=_.head(e.categorical.values.grouped());if(e)for(var a=0,i=e.values;a<i.length;a++){var o=i[a],r=o.source.queryName,o=F.DataViewObjects.getUserDefinedObjects(o.source.objects,A.forecastObjectName);t[r]=o}}return t})(t),d=0,m=O.ColorHelper.create(a);for(n in p){var g,y=p[n];for(g in y){for(var h=y[g],b=F.DataViewObject.getValue(h,A.ForecastPropertyNames.show,!1),f=F.DataViewObject.getValue(h,A.ForecastPropertyNames.displayName),v={solid:{color:m.getColorForPropertyName(h,A.ForecastPropertyNames.lineColor,k)}},S=F.DataViewObject.getValue(h,A.ForecastPropertyNames.confidenceBandStyle,A.defaults.confidenceBandStyle),C=F.DataViewObject.getValue(h,A.ForecastPropertyNames.transparency,A.defaults.transparency),x=F.DataViewObject.getValue(h,A.ForecastPropertyNames.style,A.defaults.style),h=(O.ColorHelper.create(a,{objectName:"dataPoint",propertyName:"fill"},j(a).solid.color),r[d]),w=[],N=h.values[l].highlights||h.values[l].values,P=h.values[s].highlights||h.values[s].values,T=h.values[u].highlights||h.values[u].values,D=0;D<o.length;D++){var V,L,M=O.AxisHelper.normalizeNonFiniteNumber(o[D]),R=O.AxisHelper.normalizeNonFiniteNumber(N[D]);null!=M&&null!=R&&(V=O.AxisHelper.normalizeNonFiniteNumber(P[D]),L=O.AxisHelper.normalizeNonFiniteNumber(T[D]),w.push({point:{x:M,y:R},upperBound:{x:M,y:V},lowerBound:{x:M,y:L}}))}c.push({selector:{id:g,metadata:n},points:w,show:b,displayName:f,lineColor:v,confidenceBandStyle:S,transparency:C,style:x}),d++}}return c},A.render=function(e,t,s,u,a,i){var o=t.select(c.selector),r=(o=o.empty()?t.insert("g",":first-child").classed(c.class,!0):o).selectAll(l.selector).data(e||[]);(t=r.enter().insert("path",":first-child").classed(l.class,!0).merge(r)).transition().ease(d3.easeLinear).duration(i).attr("d",(function(e){for(var t=d3.line().x((function(e){return s(e.x)})).y((function(e){return u(e.y)})),a=[],i=0,o=e.points.slice().reverse();i<o.length;i++){var r=o[i];a.push({x:r.lowerBound.x,y:r.lowerBound.y})}for(var n=0,l=e.points;n<l.length;n++){r=l[n];a.push({x:r.upperBound.x,y:r.upperBound.y})}return t(a)})),t.each((function(e){var t=d3.select(this),a={},i=(100-e.transparency)/100;a["fill-opacity"]=i,a["stroke-opacity"]=i,e.confidenceBandStyle===O.confidenceBandStyle.fill?(a.stroke="transparent",a.fill=e.lineColor.solid.color):e.confidenceBandStyle===O.confidenceBandStyle.line?(a.stroke=e.lineColor.solid.color,a.fill="transparent"):e.confidenceBandStyle===O.confidenceBandStyle.none&&(a.stroke="transparent",a.fill="transparent"),t.styles(a)})),r.exit().remove(),o=o.selectAll(n.selector).data(e||[]),(e=o.enter().append("path").classed(n.class,!0).merge(o)).transition().ease(d3.easeLinear).duration(i).attr("d",(function(e){return d3.line().x((function(e){return s(e.point.x)})).y((function(e){return u(e.point.y)}))(e.points)})),e.each((function(e){var t=d3.select(this),a={};a.stroke=e.lineColor.solid.color,a.fill="transparent",e.style===O.lineStyle.dashed?a["stroke-dasharray"]="5, 5":e.style===O.lineStyle.dotted?(a["stroke-dasharray"]="1, 5",a["stroke-linecap"]="round"):e.style===O.lineStyle.solid&&(a["stroke-dasharray"]=null,a["stroke-linecap"]=null),t.styles(a)})),o.exit().remove()}})(O.ForecastHelper||(O.ForecastHelper={}))})(powerbi=powerbi||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).ForecastHelper||(e.ForecastHelper={})).ForecastPropertyNames||(e.ForecastPropertyNames={})).show="show",e.displayName="displayName",e.lineColor="lineColor",e.confidenceBandStyle="confidenceBandStyle",e.transparency="transparency",e.style="style"})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).GeoJsonHelper||(e.GeoJsonHelper={})).getTopoJsonShapeKeys=function(e){try{for(var t=e.objects[Object.keys(e.objects)[0]].geometries,a=!1,i={},o=0,r=t;o<r.length;o++){var n=r[o],a=a||null!=n.id;if(n.properties)for(var l=Object.keys(n.properties),s=0,u=l;s<u.length;s++)i[u[s]]=!0}var c=Object.keys(i).sort();_.pull(c,"id");for(var p=[],d=0,m=t;d<m.length;d++){var n=m[d],g=[];if(a&&g.push(n.id),n.properties)for(var y=0,h=c;y<h.length;y++){var b=h[y];g.push(n.properties[b])}p.push(g)}if(c=(a?["id"]:[]).concat(c),!_.isEmpty(c)&&!_.isEmpty(p))return{names:c,values:p}}catch(e){}}})(powerbi=powerbi||{}),(function(x){var w,_,N,P,T,D,V,L;w=x.visuals||(x.visuals={}),_=x.visuals.builder,N=jsCommon.CssConstants.createClassAndSelector,P=jsCommon.EnumExtensions,T=w.Units.FontSize,D=w.labelStyle,V=jsCommon.PixelConverter,L=jsCommon.CssConstants,(function(f){f.DefaultLabelFontSizeInPt=9,f.minLabelFontSize=8,f.labelMargin=8,f.defaultLabelDensity=50,f.MapPolylineOpacity=.5,f.defaultComboChartLabelBackgroundOpacity=.3,f.LabelDensityBufferFactor=3,f.LabelDensityPadding=6,f.startingLabelOffset=8,f.maxLabelOffset=8,f.maxLabelWidth=50,f.hundredPercentFormat="0.00 %;-0.00 %;0.00 %",f.DefaultFontSizeInPt=9,f.DefaultLabelFontFamily=w.Font.Family.regularSecondary.css,f.StandardFontFamily=w.Font.Family.regular.css,f.DefaultLabelFontWeight="400",f.DefaultLabelFontStyle="normal",f.DefaultLabelFontDecoration="none solid rgb(0, 0, 0)",f.LabelTextProperties={fontFamily:w.Font.Family.regularSecondary.css,fontSize:V.fromPoint(f.DefaultFontSizeInPt),fontWeight:"normal"},f.DefaultFontProperties={family:f.DefaultLabelFontFamily,size:T.createFromPt(f.DefaultFontSizeInPt),weight:"normal"},f.DefaultLabelColorName="foregroundNeutralSecondaryAlt",f.DefaultInsideLabelColorName="foregroundLight",f.DefaultLabelBackgroundColorName="backgroundDark",f.defaultLabelBackgroundTransparency=.9,f.horizontalLabelBackgroundPadding=4,f.verticalLabelBackgroundPadding=2,f.defaultTreeMapMinorLabelTextSize=10,f.defaultTreeMapMajorLabelTextSize=12,f.DefaultTreeMapDataLabelMinFontSize=7,f.DefaultTreeMapDataLabelMaxFontSize=40,f.defaultColumnLabelMargin=5,f.defaultColumnHalfLabelHeight=4,f.DefaultDy="-0.15em",f.defaultLabelPrecision=void 0,f.defaultPercentageLabelPrecision=void 0,f.MaxLabelPrecision=15;f.MinLabelValue=1,f.MaxLabelValue=50;var l=N("labels"),i=N("lines"),s=N("data-labels"),o=N("line-label");f.labelGraphicsContextClass=N("labelGraphicsContext"),f.labelBackgroundGraphicsContextClass=N("labelBackgroundGraphicsContext"),f.labelSeriesGraphicsContextClass=N("labelSeriesGraphicsContext"),f.labelSeriesBackgroundGraphicsContextClass=N("labelSeriesBackgroundGraphicsContext");var e="֑-߿‏‫‮יִ-﷽ﹰ-ﻼ",t=new RegExp("^[^"+e+"]*?["+e+"]");function r(e){return t.test(e)}function m(e,t){void 0===e&&(e=w.visualStyles.create());var a=w.ColorHelper.getThemeColor(e,f.DefaultLabelColorName),a=w.FontProperties.inherit(f.DefaultFontProperties,{color:a}),t=w.TextHelper.getFontPropertiesForTextClass(e,t);return{show:!1,position:0,displayUnits:0,precision:f.defaultLabelPrecision,fontProperties:w.FontProperties.inherit(a,t),bold:!1,italic:!1,underline:!1}}function v(e){switch(e){case w.funnelLabelStyle.data:return w.funnelLabelStyle.labelStyleFlagEnum.data;case w.funnelLabelStyle.percentOfFirst:return w.funnelLabelStyle.labelStyleFlagEnum.percentOfFirst;case w.funnelLabelStyle.percentOfPrevious:return w.funnelLabelStyle.labelStyleFlagEnum.percentOfPrevious;case w.funnelLabelStyle.dataAndPercentOfFirst:return w.funnelLabelStyle.labelStyleFlagEnum.dataAndPercentOfFirst;case w.funnelLabelStyle.dataAndPercentOfPrevious:return w.funnelLabelStyle.labelStyleFlagEnum.dataAndPercentOfPrevious;default:return w.funnelLabelStyle.labelStyleFlagEnum.data}}function S(e){switch(e){case w.labelStyle.data:return w.labelStyle.labelStyleFlagEnum.data;case w.labelStyle.percent:return w.labelStyle.labelStyleFlagEnum.percent;case w.labelStyle.categoryAndData:return w.labelStyle.labelStyleFlagEnum.categoryAndData;case w.labelStyle.categoryAndPercent:return w.labelStyle.labelStyleFlagEnum.categoryAndPercent;case w.labelStyle.dataAndPercent:return w.labelStyle.labelStyleFlagEnum.dataAndPercent;case w.labelStyle.categoryAndDataAndPercent:return w.labelStyle.labelStyleFlagEnum.categoryAndDataAndPercent;default:w.labelStyle.category;return w.labelStyle.labelStyleFlagEnum.category}}function u(e,t){void 0===t&&(t=!1);var a=[];e.selectAll(s.selector).data(a).exit().remove(),e.selectAll(l.selector).remove(),t&&(e.selectAll(o.selector).data(a).exit().remove(),e.selectAll(i.selector).remove())}function c(e,i,o){void 0===o&&(o="Desktop_FileMenu_Options");var r=e.options,n=e.dataLabelsProps,l=e.omitGroupDisplayNames,t=e.cardBuilder,s=e.selector,u=e.hostServices,c=r.dataLabelsSettings;(i||t).addGroup("options",(function(e){l||e.withDisplayName(o),(s&&r.show||i)&&e.addSimpleSlice("showSeries",new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.showSeries),{selector:s}),value:c.show}).build(),(function(e){return e.withDisabled(i&&!s).withCustomDisplayName("Visual_Show_Data_Labels")}));var t,a=n.labelPosition||n.position;a&&(t=r.positionObject||void 0,e.addSimpleSlice("position",new _.DropdownBuilder({descriptor:__assign(__assign({},a),{selector:s}),value:null!==(a=c.position)&&void 0!==a?a:0<t.length?t[0]:"Auto",filterValues:t}).build(),(function(e){return e.withCustomDisplayName("Visual_Position")}))),n.overflow&&e.addSimpleSlice("overflow",new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.overflow),{selector:s}),value:c.overflow}).build(),(function(e){return e.withDisabled(c&&c.position===w.donutLabelPosition.outside)})),n.labelOrientation&&e.addSimpleSlice("labelOrientation",new _.DropdownBuilder({descriptor:__assign(__assign({},n.labelOrientation),{selector:s}),value:c.labelOrientation}).build(),(function(e){return e.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!s)})),n.labelStyle&&e.addSimpleSlice("labelContents",new _.DropdownBuilder({descriptor:__assign(__assign({},n.labelStyle),{selector:s}),value:c.labelStyle}).build(),(function(e){return e.withCustomDisplayName("Visual_LabelContents")})),n.labelDensity&&r.labelDensity&&((t=r.dataLabelsSettings)&&e.addSimpleSlice("labelDensity",_.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},n.labelDensity),{selector:s}),value:t.labelDensity,localize:function(e){return u.getLocalizedString(e)}}).build(),(function(e){return e.withCustomDescription("Visual_LabelDensity_Description")})))}))}function p(e,t,n,l){void 0===n&&(n="Role_DisplayName_Values"),void 0===l&&(l=!1);var s,u,c=e.options,p=e.featureSwitches,d=e.dataLabelsProps,a=e.cardBuilder,m=e.omitGroupDisplayNames,g=e.selector,y=e.displayDisabledSlices,h=c.dataLabelsSettings,b=c.style||w.visualStyles.create();c.labelStyle&&(s=S(h.labelStyle)),c.funnelLabelStyle&&(u=v(h.labelStyle)),(t?t:a).addGroup("values",(function(e){if(m||e.withDisplayName(n),l)return e.withDisabled(!0,void 0),e.build();(d.fontFamily||d.fontSize)&&e.addCompositeSlice("font","Font",(function(){var e,t=new _.FontControlBuilder;return c.fontFamily&&d.fontFamily&&t.withFontFamily({descriptor:__assign(__assign({},d.fontFamily),{selector:g}),value:h.fontProperties.family||w.DEFAULT_FONT_FAMILY}),c.fontSize&&d.fontSize&&(e={descriptor:__assign(__assign({},d.fontSize),{selector:g}),value:h.fontProperties.size.pt},c.fontSizeRange&&(e.options={minValue:{type:0,value:h.minFontSize},maxValue:{type:1,value:h.maxFontSize}}),t.withFontSizeProperties(e)),p.enableBIU&&(c.bold&&d.bold&&t.withBold({descriptor:__assign(__assign({},d.bold),{selector:g}),value:h.bold}),c.italic&&d.italic&&t.withItalic({descriptor:__assign(__assign({},d.italic),{selector:g}),value:h.italic}),c.underline&&d.underline&&t.withUnderline({descriptor:__assign(__assign({},d.underline),{selector:g}),value:h.underline})),t.build()})),d.color&&e.addSimpleSlice("color",(function(){var e={value:h.fontProperties.color||w.ColorHelper.getThemeColor(b,f.DefaultLabelColorName)};return new _.ColorPickerBuilder({descriptor:__assign(__assign({},d.color),{selector:g,instanceKind:null!=p&&p.expressionBasedFormatting&&!c.selector?3:1}),value:e}).build()})),d.background&&e.addSimpleSlice("background",new _.DropdownBuilder({descriptor:__assign(__assign({},d.background),{selector:g}),value:h.enableBackgroundWithAuto}).build(),(function(e){return e.withDisabled(h&&h.position===w.donutLabelPosition.outside)}));var t=d.labelDisplayUnits||d.displayUnits;c.displayUnits&&void 0!==c.dataLabelsSettings.displayUnits&&t&&e.addSimpleSlice("displayUnits",new _.DropdownBuilder({descriptor:__assign(__assign({},t),{selector:g}),value:h.displayUnits}).build());var a,i,o=d.labelPrecision||d.precision;(c.precision&&s&&P.hasFlag(s,D.flagLabelStyleData)||c.precision&&u&&P.hasFlag(u,w.funnelLabelStyle.flagLabelStyleData)||c.precision&&!s&&o)&&(a=h.precision,e.addSimpleSlice("precision",(function(){return new _.NumUpDownBuilder({descriptor:__assign(__assign({},o),{selector:g}),value:a===f.defaultLabelPrecision?null:a,options:{minValue:{type:0,value:0},maxValue:{type:1,value:f.MaxLabelPrecision}}}).build()}))),(c.percentagePrecision&&s&&P.hasFlag(s,D.flagLabelStylePercent)||c.percentagePrecision&&u&&P.hasFlag(u,w.funnelLabelStyle.flagLabelStylePercentOfFirst)||P.hasFlag(u,w.funnelLabelStyle.flagLabelStylePercentOfPrevious)||c.percentagePrecision&&!s&&d.percentagePrecision)&&(i=h.percentagePrecision,e.addSimpleSlice("percentagePrecision",(function(){return new _.NumUpDownBuilder({descriptor:__assign(__assign({},d.percentagePrecision),{selector:g}),value:i===f.defaultPercentageLabelPrecision?null:i,options:{minValue:{type:0,value:0},maxValue:{type:1,value:f.MaxLabelPrecision}}}).build()}),(function(e){return e.withCustomDisplayName("Visual_PercentagePrecision")}))),c.wordWrap&&d.wordWrap&&e.addSimpleSlice("wordWrap",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},d.wordWrap),{selector:g}),value:h.wordWrap}).build()}),(function(e){return e.withCustomDisplayName("TextWrap")})),c.preserveWhitespace&&d.preserveWhitespace&&e.addSimpleSlice("preserveWhitespace",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},d.preserveWhitespace),{selector:g}),value:h.preserveWhitespace}).build()}));var r=y&&!!y.labelOverflow;(c.labelOverflow&&d.labelOverflow||r)&&e.addSimpleSlice("labelOverflow",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},d.labelOverflow),{selector:g}),value:r?void 0:h.labelOverflow}).build()}),(function(e){return e.withDisabled(l||r).withCustomDescription("Visual_DataLabel_OverflowDescription")})),c.showPositiveAndNegative&&d.showPositiveAndNegative&&e.addSimpleSlice("showPositiveAndNegative",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},d.showPositiveAndNegative),{selector:g}),value:h.showPositiveAndNegative}).build()}))}))}function d(e,t){function a(e){return o.getLocalizedString(e)}var i=e.options,o=e.hostServices,r=e.dataLabelsProps,n=e.cardBuilder,l=e.selector,n=t?t:n;null!=i.enableBackground&&n.addGroup("background",(function(e){e.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.enableBackground),{selector:l}),value:i.enableBackground}).build()})).addSimpleSlice("backgroundColor",new _.ColorPickerBuilder({descriptor:__assign(__assign({},r.backgroundColor),{selector:l}),value:{value:i.backgroundColor}}).build(),(function(e){return e.withCustomDisplayName("Generic_Color")})).addSimpleSlice("backgroundTransparency",new _.SliderBuilder({descriptor:__assign(__assign({},r.backgroundTransparency),{selector:l}),value:Math.round(100*i.backgroundTransparency),options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:w.visualLocKeys.PercentLocKey},localize:a}).build())}))}function n(e,t,a){void 0===a&&(a="Desktop_FileMenu_Options");var i=e.seriesOptions,o=e.seriesLabelsProps,r=e.omitGroupDisplayNames,n=e.cardBuilder,l=e.selector,s=i.seriesLabelsSettings;(t?t:n).addGroup("options",(function(e){r||e.withDisplayName(a),e.addSimpleSlice("showSeries",new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.show),{selector:l}),value:s.show}).build(),(function(e){return e.withDisabled(t&&!l)})),void 0!==i.seriesMaximumWidth&&e.addSimpleSlice("seriesMaximumWidth",new _.NumUpDownBuilder({descriptor:__assign(__assign({},o.seriesMaximumWidth),{selector:l}),value:i.defaultSeriesWidth?null:i.seriesMaximumWidth,options:{minValue:{type:0,value:f.MinLabelValue},maxValue:{type:1,value:f.MaxLabelValue}}}).build(),(function(e){return e.withDisabled(!!l)})),o.seriesPosition&&null!=i.seriesPosition&&e.addSimpleSlice("position",new _.DropdownBuilder({descriptor:__assign(__assign({},o.seriesPosition),{selector:l}),value:i.seriesPosition}).build(),(function(e){return e.withDisabled(!!l)}))}))}function g(e,t,a){void 0===a&&(a="Role_DisplayName_Values");var i=e.seriesOptions,o=e.featureSwitches,r=e.seriesLabelsProps,n=e.cardBuilder,l=e.omitGroupDisplayNames,s=e.selector,u=i.seriesLabelsSettings,c=i.style||w.visualStyles.create();(t?t:n).addGroup("values",(function(e){l||e.withDisplayName(a),(r.seriesFontFamily||r.seriesFontSize)&&e.addCompositeSlice("font","Font",(function(){var e,t=new _.FontControlBuilder;return i.fontFamily&&r.seriesFontFamily&&t.withFontFamily({descriptor:__assign(__assign({},r.seriesFontFamily),{selector:s}),value:u.fontProperties.family||w.DEFAULT_FONT_FAMILY}),i.fontSize&&r.textSize&&(e={descriptor:__assign(__assign({},r.textSize),{selector:s}),value:u.fontProperties.size.pt},i.fontSizeRange&&(e.options={minValue:{type:0,value:u.minFontSize},maxValue:{type:1,value:u.maxFontSize}}),t.withFontSizeProperties(e),o.enableBIU&&(t.withBold({descriptor:__assign(__assign({},r.bold),{selector:s}),value:u.bold}),t.withItalic({descriptor:__assign(__assign({},r.italic),{selector:s}),value:u.italic}),t.withUnderline({descriptor:__assign(__assign({},r.underline),{selector:s}),value:u.underline}))),t.build()})),r.seriesColor&&e.addSimpleSlice("seriesColor",(function(){var e={value:u.fontProperties.color||w.ColorHelper.getThemeColor(c,f.DefaultLabelColorName)};return new _.ColorPickerBuilder({descriptor:__assign(__assign({},r.seriesColor),{selector:s}),value:e}).build()})),r.seriesWordWrap&&null!=i.seriesWordWrap&&!i.selector&&e.addSimpleSlice("seriesWordWrap",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.seriesWordWrap),{selector:s}),value:i.seriesWordWrap}).build()}))}))}function y(e,t){function a(e){return o.getLocalizedString(e)}var i=e.seriesOptions,o=e.hostServices,r=e.seriesLabelsProps,n=e.cardBuilder,l=e.selector,n=t?t:n;null!=i.enableBackground&&n.addGroup("background",(function(e){e.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.enableBackground),{selector:l}),value:i.enableBackground}).build()})).addSimpleSlice("backgroundColor",new _.ColorPickerBuilder({descriptor:__assign(__assign({},r.backgroundColor),{selector:l}),value:{value:i.backgroundColor}}).build()).addSimpleSlice("backgroundTransparency",_.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},r.backgroundTransparency),{selector:l}),value:Math.round(100*i.backgroundTransparency),localize:a}).build())}))}function h(e,t,a){e.validValues||(e.validValues={}),e.validValues[t]=a}function a(e,t,a){void 0===a&&(a="Desktop_FileMenu_Options");var i=e.isShowCategory,o=e.props,r=e.omitGroupDisplayNames,n=e.cardBuilder,l=e.selector,s=e.style,n=t||n,u=null!==(e=e.dataLabelSettings)&&void 0!==e?e:m(s);n.addGroup("options",(function(e){r||e.withDisplayName(a),l&&e.addSimpleSlice("showSeries",new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.show),{selector:l}),value:i?u.showCategory:u.show}).build())}))}function b(e,t,a){void 0===a&&(a="Role_DisplayName_Values");var i=e.extraLabelConfig,o=e.props,r=e.showValueColor,n=e.omitGroupDisplayNames,l=e.cardBuilder,s=e.selector,u=e.style,c=e.featureSwitches,p=null!==(e=e.dataLabelSettings)&&void 0!==e?e:m(u),l=l;t&&(l=t);t=(new _.FontControlBuilder).withFontFamily({descriptor:__assign(__assign({},o.fontFamily),{selector:s}),value:null!==(t=p.fontProperties.family)&&void 0!==t?t:f.DefaultLabelFontFamily}).withFontSizeProperties({descriptor:__assign(__assign({},o.fontSize),{selector:s}),value:null!==(t=p.fontProperties.size.pt)&&void 0!==t?t:f.DefaultFontSizeInPt});c.enableBIU&&t.withBold({descriptor:__assign(__assign({},o.bold),{selector:s}),value:p.bold}).withItalic({descriptor:__assign(__assign({},o.italic),{selector:s}),value:p.italic}).withUnderline({descriptor:__assign(__assign({},o.underline),{selector:s}),value:p.underline});var d=t.build();l.addGroup("values",(function(e){n||e.withDisplayName(a),e.addCompositeSlice("font","Font",d),r&&e.addSimpleSlice("color",new _.ColorPickerBuilder({descriptor:__assign(__assign({},o.color),{selector:s,instanceKind:i&&i.propertyInstanceKind?i.propertyInstanceKind.value:null}),value:{value:null!==(e=p.categoryLabelColor)&&void 0!==e?e:p.fontProperties.color}}).build())}))}function C(e,t){function a(e){return i.getLocalizedString(e)}var i=e.hostServices,o=e.props,r=e.cardBuilder,n=e.selector,l=e.style,s=null!==(e=e.dataLabelSettings)&&void 0!==e?e:m(l);s&&s.enableBackground&&r.addGroup("background",(function(e){e.withDisplayName("Visual_Background").addTopLevelToggle("show",(function(){return new _.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.enableBackground),{selector:n}),value:s.enableBackground}).build()})).addSimpleSlice("color",new _.ColorPickerBuilder({descriptor:__assign(__assign({},o.backgroundColor),{selector:n}),value:{value:null!==(e=s.backgroundColor)&&void 0!==e?e:w.ColorHelper.getThemeColor(l,f.DefaultLabelBackgroundColorName)}}).build(),(function(e){return e.withCustomDisplayName("Generic_Color")})).addSimpleSlice("transparency",new _.SliderBuilder({descriptor:__assign(__assign({},o.backgroundTransparency),{selector:n}),value:Math.round(null!==(e=100*s.backgroundTransparency)?e:100*f.defaultLabelBackgroundTransparency),options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:w.visualLocKeys.PercentLocKey},localize:a}).build())}))}f.getLabelTailoredText=function(e){return e={label:e.label,maxWidth:e.maxWidth,format:e.format,formatter:e.formatter,fontProperties:e.fontProperties||void 0},f.getLabelFormattedText(e)},f.createColumnFormatterCacheManager=function(){return new w.ColumnFormatterCacheManager},f.getOptionsForLabelFormatter=function(e,t,a,i){return{displayUnitSystemType:x.DisplayUnitSystemType.DataLabels,format:t,precision:i,value:e.displayUnits,value2:a,allowFormatBeautification:!0}},f.getTextSize=function(e,t){return w.DataLabelRenderer.getTextSize(e,t&&t.size?t.size.pt:void 0,t?t.family:void 0)},f.updateLabelSettingsFromLabelsObject=function(e,t,a,i,o){var r,n,l;void 0===i&&(i=w.visualStyles.create()),void 0===o&&(o=!1),e&&(r=w.ColorHelper.create(i),void 0!==e.show&&(t.show=e.show),void 0!==e.showSeries&&(t.show=e.showSeries),void 0!==e.labelDisplayUnits&&(t.displayUnits=e.labelDisplayUnits),void 0!==e.labelPrecision&&(t.precision=0<=e.labelPrecision?e.labelPrecision:f.defaultLabelPrecision),void 0!==e.percentageLabelPrecision&&(t.percentagePrecision=0<=e.percentageLabelPrecision?e.percentageLabelPrecision:f.defaultPercentageLabelPrecision),n=(void 0!==e.bold?e:t).bold,l=(void 0!==e.italic?e:t).italic,i=(void 0!==e.underline?e:t).underline,t.fontProperties={color:r.getColorForPropertyNameWithDefaultColor(e,"color",t.fontProperties.color),size:void 0!==e.fontSize?T.createFromPt(+e.fontSize):t.fontProperties.size,family:void 0!==e.fontFamily?e.fontFamily:t.fontProperties.family,weight:n?L.boldValue:L.normalValue,style:l?L.italicValue:L.normalValue,textDecoration:i?L.underlineValue:L.noneValue},void 0!==e.showAll&&(t.showLabelPerSeries=e.showAll),void 0!==e.labelStyle?t.labelStyle=e.labelStyle:void 0!==e.funnelLabelStyle&&(t.labelStyle=e.funnelLabelStyle),void 0!==e.labelOrientation&&(t.labelOrientation=(a?e:t).labelOrientation),e.labelPosition&&(t.position=e.labelPosition),void 0!==e.labelOverflow&&(t.labelOverflow=e.labelOverflow),a=!1,void 0!==e.enableBackground&&(t.enableBackground=e.enableBackground,a=e.enableBackground),(e.backgroundColor||a)&&(t.backgroundColor=r.getColorForPropertyName(e,"backgroundColor",f.DefaultLabelBackgroundColorName)),null!=e.backgroundTransparency?t.backgroundTransparency=e.backgroundTransparency/100:a&&(t.backgroundTransparency=o?f.defaultComboChartLabelBackgroundOpacity:f.defaultLabelBackgroundTransparency),void 0!==e.preserveWhitespace&&(t.preserveWhitespace=e.preserveWhitespace),void 0!==e.showPositiveAndNegative&&(t.showPositiveAndNegative=e.showPositiveAndNegative),void 0!==e.bold&&(t.bold=e.bold),void 0!==e.italic&&(t.italic=e.italic),void 0!==e.underline&&(t.underline=e.underline))},f.updateSeriesLabelSettingsFromLabelsObject=function(e,t,a,i){var o,r,n;void 0===i&&(i=!1),e&&(o=w.ColorHelper.create(a),void 0!==e.show&&(t.show=e.show),void 0!==e.seriesColor&&(t.seriesColor=o.getColorForPropertyNameWithDefaultColor(e,"seriesColor",e.seriesColor)),r=(void 0!==e.bold?e:t).bold,n=(void 0!==e.italic?e:t).italic,a=(void 0!==e.underline?e:t).underline,t.fontProperties={size:void 0!==e.textSize?T.createFromPt(+e.textSize):t.fontProperties.size,family:void 0!==e.seriesFontFamily?e.seriesFontFamily:t.fontProperties.family,weight:r?L.boldValue:L.normalValue,style:n?L.italicValue:L.normalValue,textDecoration:a?L.underlineValue:L.noneValue},void 0!==e.showAll&&(t.showLabelPerSeries=e.showAll),e.seriesPosition&&(t.seriesPosition=e.seriesPosition),e.seriesWordWrap&&(t.seriesWordWrap=e.seriesWordWrap),e.seriesMaximumWidth&&(t.seriesMaximumWidth=e.seriesMaximumWidth,t.defaultSeriesWidth=null),a=!1,void 0!==e.enableBackground&&(t.enableBackground=e.enableBackground,a=e.enableBackground),(e.backgroundColor||a)&&(t.backgroundColor=o.getColorForPropertyName(e,"backgroundColor",f.DefaultLabelBackgroundColorName)),null!=e.backgroundTransparency?t.backgroundTransparency=e.backgroundTransparency/100:a&&(t.backgroundTransparency=i?f.defaultComboChartLabelBackgroundOpacity:f.defaultLabelBackgroundTransparency),void 0!==e.bold&&(t.bold=e.bold),void 0!==e.italic&&(t.italic=e.italic),void 0!==e.underline&&(t.underline=e.underline))},f.updateLabelSettingsFromLabelsObjectWithLabelDensity=function(e,t,a,i,o){void 0===i&&(i=w.visualStyles.create()),f.updateLabelSettingsFromLabelsObject(e,t,a,i,o=void 0===o?!1:o),e&&void 0!==e.labelDensity&&(t.labelDensity=e.labelDensity)},f.isRtl=r,f.combineStrings=function(e,t){e=e?e.filter((function(e){return null!=e&&0<e.length})):[],t=t||"";for(var a=[];0<e.length;){var i=e.shift();0<a.length&&r(a[a.length-1])&&!r(i)&&(a[a.length-1]=a[a.length-1]+"‎"),a.push(i)}return a.join(t)},f.getDefaultLabelSettings=function(e){var t=e.labelColor,a=e.fontSize,i=e.fontFamily,o=e.textClassName,r=e.style||w.visualStyles.create(),n=!!e.show,l=!!e.preserveWhitespace,s=!!e.noColor,e=r&&!s&&w.ColorHelper.getThemeColor(r,f.DefaultLabelColorName),e=w.FontProperties.inherit(f.DefaultFontProperties,{size:a?T.createFromPt(a):void 0,family:i,color:!s&&(t||e)}),s=w.TextHelper.getFontPropertiesForTextClass(r,o,s),s={show:n,position:0,displayUnits:0,precision:f.defaultLabelPrecision,fontProperties:w.FontProperties.inherit(e,s),bold:!1,italic:!1,underline:!1};return Object.defineProperties(s,{preserveWhitespace:{value:l,writable:!0}}),s},f.getDefaultPointLabelSettings=m,f.getFunnelLabelStyleFlagType=v,f.getLabelStyleFlagType=S,f.getLabelPrecision=function(e,t){if(e!==f.defaultLabelPrecision)return e;if("g"!==t&&"G"!==t){if(t){t=x.NumberFormat.getComponents(t).positive,t=x.NumberFormat.getCustomFormatMetadata(t,!0);if(t.hasDots)return t.optionalPrecision?void 0:t.precision}return 0}},f.drawDefaultLabelsForDataPointChart=function(e,t,a,i,o,r,n){if(o=(o=void 0===o?!1:o)&&!!r,e=(function(e,t,a,i){void 0===a&&(a=!1);void 0===i&&(i=!1);if(0===e.length)return u(t,!0),null;t.select(l.selector).empty()&&t.append("g").classed(l.class,!0);var o=null!=e[0].key,r=null!=e[0].identity,r=o?function(e){return e.key}:r?function(e){return e.identity.getKey()}:void 0,t=a?t.select(l.selector).selectAll(s.selector).data(e,(function(e){return e.data.identity.getKey()})):null!=r?t.select(l.selector).selectAll(s.selector).data(e,r):t.select(l.selector).selectAll(s.selector).data(e),e=t.enter().append("text").classed(s.class,!0);i&&e.style("opacity",0);return t})((new x.DataLabelManager).hideCollidedLabels(i,e,a),t,!1,o),t=e.enter().append("text").classed(s.class,!0),o&&t.style("opacity",0),t=t.merge(e))return o?(t.text((function(e){return e.labeltext})).transition().duration(r).styles(a.style).style("opacity",(function(e){return n?w.ColumnUtil.getFillOpacity(e.selected,!1,n,!1):1})).attrs({x:function(e){return e.labelX},y:function(e){return e.labelY}}),e.exit().transition().duration(r).style("opacity",0).remove()):(t.attrs({x:function(e){return e.labelX},y:function(e){return e.labelY}}).text((function(e){return e.labeltext})).styles(a.style),e.exit().remove()),t},f.cleanDataLabels=u,f.getLabelFormattedText=function(e){var t={text:e.formatter?e.formatter.format(e.label):x.formattingService.formatValue(e.label,e.format),fontFamily:e.fontProperties.family||f.LabelTextProperties.fontFamily,fontSize:V.fromPoint(e.fontProperties.size.pt),fontWeight:f.LabelTextProperties.fontWeight};return x.TextMeasurementService.getTailoredTextOrDefault(t,e.maxWidth||f.maxLabelWidth)},f.getLabelLayoutXYForWaterfall=function(e,t,a,i){return w.CartesianHelper.getLabelLayoutXYForWaterfall(e,t,a,i)},f.enumerateDataLabels=function(e,t,a,i){e.enumeration;var o=e.style||w.visualStyles.create();if(e.dataLabelsSettings){var r,n,l={objectName:i&&i.objectName||"labels",selector:e.selector,properties:{},propertyInstanceKind:{color:null!=t&&t.expressionBasedFormatting&&!e.selector?3:1}};if(e.show&&e.selector?l.properties.showSeries=e.dataLabelsSettings.show:e.show&&(l.properties.show=e.dataLabelsSettings.show),e.labelStyle&&(l.properties.labelStyle=e.dataLabelsSettings.labelStyle,n=f.getLabelStyleFlagType(e.dataLabelsSettings.labelStyle)),e.funnelLabelStyle&&(l.properties.funnelLabelStyle=e.dataLabelsSettings.labelStyle,r=f.getFunnelLabelStyleFlagType(e.dataLabelsSettings.labelStyle)),l.properties.color=e.dataLabelsSettings.fontProperties.color||w.ColorHelper.getThemeColor(o,f.DefaultLabelColorName),e.displayUnits&&(l.properties.labelDisplayUnits=e.dataLabelsSettings.displayUnits),(e.precision&&n&&P.hasFlag(n,D.flagLabelStyleData)||e.precision&&r&&P.hasFlag(r,w.funnelLabelStyle.flagLabelStyleData)||e.precision&&!n)&&(o=e.dataLabelsSettings.precision,l.properties.labelPrecision=o===f.defaultLabelPrecision?null:o,h(l,"labelPrecision",{numberRange:{min:0,max:f.MaxLabelPrecision}})),(e.percentagePrecision&&n&&P.hasFlag(n,D.flagLabelStylePercent)||e.percentagePrecision&&r&&P.hasFlag(r,w.funnelLabelStyle.flagLabelStylePercentOfFirst)||P.hasFlag(r,w.funnelLabelStyle.flagLabelStylePercentOfPrevious)||e.percentagePrecision&&!n)&&(n=e.dataLabelsSettings.percentagePrecision,l.properties.percentageLabelPrecision=n===f.defaultPercentageLabelPrecision?null:n,h(l,"percentageLabelPrecision",{numberRange:{min:0,max:f.MaxLabelPrecision}})),e.labelOrientation&&(l.properties.labelOrientation=e.dataLabelsSettings.labelOrientation),e.position&&(l.properties.labelPosition=e.dataLabelsSettings.position,e.positionObject&&h(l,"labelPosition",e.positionObject)),e.labelOverflow&&(l.properties.labelOverflow=e.dataLabelsSettings.labelOverflow),e.fontSize&&(l.properties.fontSize=e.dataLabelsSettings.fontProperties.size.pt,e.fontSizeRange&&h(l,"fontSize",{numberRange:{min:e.dataLabelsSettings.minFontSize,max:e.dataLabelsSettings.maxFontSize}})),e.fontFamily&&(l.properties.fontFamily=e.dataLabelsSettings.fontProperties.family||w.DEFAULT_FONT_FAMILY),t&&t.enableBIU&&(e.bold&&(l.properties.bold=e.dataLabelsSettings.bold||!1),e.italic&&(l.properties.italic=e.dataLabelsSettings.italic||!1),e.underline&&(l.properties.underline=e.dataLabelsSettings.underline||!1)),!e.labelDensity||(t=e.dataLabelsSettings)&&(l.properties.labelDensity=t.labelDensity),null!=e.enableBackground&&(l.properties.enableBackground=e.enableBackground),e.enableBackground&&(l.properties.backgroundColor=e.backgroundColor,l.properties.backgroundTransparency=Math.round(100*e.backgroundTransparency)),e.preserveWhitespace&&(l.properties.preserveWhitespace=e.dataLabelsSettings.preserveWhitespace),e.showPositiveAndNegative&&(l.properties.showPositiveAndNegative=e.dataLabelsSettings.showPositiveAndNegative),e.showAll&&(l.properties.showAll=!!e.dataLabelsSettings.showLabelPerSeries),a)for(var s in a)l.properties[s]=a[s];return i&&i.propertyInstanceKind&&(l.propertyInstanceKind=i.propertyInstanceKind),e.enumeration.pushInstance(l)}},f.getDefaultDataLabelsProps=function(e){return{color:{objectName:e,propertyName:"color"},displayUnits:{objectName:e,propertyName:"labelDisplayUnits"},fontFamily:{objectName:e,propertyName:"fontFamily"},fontSize:{objectName:e,propertyName:"fontSize"},position:{objectName:e,propertyName:"labelPosition"},percentagePrecision:{objectName:e,propertyName:"percentageLabelPrecision"},precision:{objectName:e,propertyName:"labelPrecision"},show:{objectName:e,propertyName:"show"},labelStyle:{objectName:e,propertyName:"labelStyle"},bold:{objectName:e,propertyName:"bold"},italic:{objectName:e,propertyName:"italic"},underline:{objectName:e,propertyName:"underline"}}},f.addDataLabelsOptionsFormattingGroup=c,f.addDataLabelsValuesFormattingGroup=p,f.addDataLabelsBackgroundFormattingGroup=d,f.getDataLabelsFormattingModel=function(e){var t=e.options,a=e.dataLabelsProps,i=e.cardBuilder,o=e.customDescription,r=e.omitDescription,n=t.dataLabelsSettings;if(n)return r||i.withDescription(o||"Visual_DataPointsLabelsDescription"),a.show&&i.addTopLevelToggle("show",(function(){return new _.ToggleSwitchBuilder({descriptor:a.show,value:n.show}).build()})),(a.position||a.labelPosition||a.labelStyle||a.labelOrientation)&&c(e),p(e),null!=t.enableBackground&&a.enableBackground&&d(e),i.build()},f.createDataLabelsFormattingContainers=function(e,t){var a=e.options,i=e.dataLabelsProps;a.dataLabelsSettings&&((i.position||i.labelStyle||i.labelOrientation)&&c(e,t),p(e,t),null!=a.enableBackground&&i.enableBackground&&d(e,t))},f.addSeriesLabelsOptionsFormattingGroup=n,f.addSeriesLabelsValuesFormattingGroup=g,f.addSeriesLabelsBackgroundFormattingGroup=y,f.getSeriesLabelsFormattingModel=function(e){var t=e.seriesOptions,a=e.seriesLabelsProps,i=e.cardBuilder,o=t.seriesLabelsSettings;if(o)return i.withDescription("Visual_SeriesDescription"),a.show&&i.addTopLevelToggle("show",(function(){return new _.ToggleSwitchBuilder({descriptor:a.show,value:o.show}).build()})),a.seriesPosition&&n(e),g(e),null!=t.enableBackground&&a.enableBackground&&y(e),i.build()},f.createSeriesLabelsFormattingContainers=function(e,t){var a=e.seriesOptions,i=e.seriesLabelsProps;a.seriesLabelsSettings&&(i.seriesPosition&&n(e,t),g(e,t),null!=a.enableBackground&&i.enableBackground&&y(e,t))},f.enumerateSeriesDataLabels=function(e,t,a,i){e.enumeration;var o=e.style||w.visualStyles.create();if(e.seriesLabelsSettings){var r={objectName:i&&i.objectName||"seriesLabels",selector:e.selector,properties:{},propertyInstanceKind:{color:null!=t&&t.expressionBasedFormatting&&!e.selector?3:1}};if(e.show&&(r.properties.show=e.seriesLabelsSettings.show),r.properties.seriesColor=e.seriesLabelsSettings.seriesColor||w.ColorHelper.getThemeColor(o,f.DefaultLabelColorName),null==e.seriesPosition||e.selector||(r.properties[w.lineChartProps.seriesLabels.seriesPosition.propertyName]=e.seriesPosition),e.fontSize&&(r.properties[w.lineChartProps.seriesLabels.textSize.propertyName]=e.seriesLabelsSettings.fontProperties.size.pt,e.fontSizeRange&&(o={numberRange:{min:e.seriesLabelsSettings.minFontSize,max:e.seriesLabelsSettings.maxFontSize}},h(r,w.lineChartProps.seriesLabels.textSize.propertyName,o))),e.fontFamily&&(r.properties[w.lineChartProps.seriesLabels.seriesFontFamily.propertyName]=e.seriesLabelsSettings.fontProperties.family||w.DEFAULT_FONT_FAMILY),t.enableBIU&&(e.bold&&(r.properties.bold=e.seriesLabelsSettings.bold||!1),e.italic&&(r.properties.italic=e.seriesLabelsSettings.italic||!1),e.underline&&(r.properties.underline=e.seriesLabelsSettings.underline||!1)),null!=e.enableBackground&&(r.properties.enableBackground=e.enableBackground),e.enableBackground&&(r.properties.backgroundColor=e.backgroundColor,r.properties.backgroundTransparency=Math.round(100*e.backgroundTransparency)),null==e.seriesWordWrap||e.selector||(r.properties[w.lineChartProps.seriesLabels.seriesWordWrap.propertyName]=e.seriesWordWrap),null==e.seriesMaximumWidth||e.selector||(r.properties[w.lineChartProps.seriesLabels.seriesMaximumWidth.propertyName]=e.defaultSeriesWidth?null:e.seriesMaximumWidth,t={numberRange:{min:f.MinLabelValue,max:f.MaxLabelValue}},h(r,w.lineChartProps.seriesLabels.seriesMaximumWidth.propertyName,t)),e.showAll&&(r.properties.showAll=!!e.seriesLabelsSettings.showLabelPerSeries),a)for(var n in a)r.properties[n]=a[n];return i&&i.propertyInstanceKind&&(r.propertyInstanceKind=i.propertyInstanceKind),e.enumeration.pushInstance(r)}},f.enumerateCategoryLabels=function(e,t,a,i,o,r,n,l){void 0===o&&(o=!1),void 0===n&&(n=w.visualStyles.create());var s=t||f.getDefaultPointLabelSettings(n),u={objectName:l&&l.objectName?l.objectName:"categoryLabels",selector:null,properties:{}};a&&(u.properties.color=s.categoryLabelColor||s.fontProperties.color),u.properties.show=o?s.showCategory:s.show,u.properties.fontSize=t?t.fontProperties.size.pt:f.DefaultFontSizeInPt,u.properties.fontFamily=t?t.fontProperties.family:f.DefaultLabelFontFamily,i.enableBIU&&(u.properties.bold=!!t&&t.bold,u.properties.italic=!!t&&t.italic,u.properties.underline=!!t&&t.underline),u.properties.enableBackground=!!t&&!!t.enableBackground,t&&t.enableBackground&&(u.properties.enableBackground=!0,u.properties.backgroundColor=t.backgroundColor||w.ColorHelper.getThemeColor(n,f.DefaultLabelBackgroundColorName),u.properties.backgroundTransparency=null!=t.backgroundTransparency?Math.round(100*t.backgroundTransparency):Math.round(100*f.defaultLabelBackgroundTransparency)),r&&(u.properties.fontSize=r),l&&l.propertyInstanceKind&&(u.propertyInstanceKind=l.propertyInstanceKind),e.pushInstance(u)},f.getCategoryLabelsCard=function(t){var e,a=t.cardName,i=t.isShowCategory,o=t.props,r=t.revertToDefaultProps,n=t.showBackground,l=t.showValueColor,s=t.style,u=t.featureSwitches,c=null!==(e=t.dataLabelSettings)&&void 0!==e?e:m(s),a=new w.builder.FormattingCardBuilder(new w.builder.FormattingCardUidBuilder("categoryLabels"),a,r,t.localize),r=(new w.builder.FontControlBuilder).withFontFamily({descriptor:o.fontFamily,value:null!==(r=c.fontProperties.family)&&void 0!==r?r:f.DefaultLabelFontFamily}).withFontSizeProperties({descriptor:o.fontSize,value:null!==(r=c.fontProperties.size.pt)&&void 0!==r?r:f.DefaultFontSizeInPt});u.enableBIU&&r.withBold({descriptor:o.bold,value:c.bold}).withItalic({descriptor:o.italic,value:c.italic}).withUnderline({descriptor:o.underline,value:c.underline});var p=r.build();return a.withDescription("Visual_CategoryLabelOptionsDescription").addTopLevelToggle("show",(function(){return new _.ToggleSwitchBuilder({descriptor:o.show,value:i?c.showCategory:c.show}).build()})).addGroup("values",(function(e){n&&e.withDisplayName("Role_DisplayName_Values"),e.addCompositeSlice("font","Font",p),l&&e.addSimpleSlice("color",new w.builder.ColorPickerBuilder({descriptor:o.color,value:{value:null!==(e=c.categoryLabelColor)&&void 0!==e?e:c.fontProperties.color}}).build())})),n&&a.addGroup("background",(function(e){e.withDisplayName("Visual_Background").addTopLevelToggle("show",(function(){return new _.ToggleSwitchBuilder({descriptor:o.enableBackground,value:c.enableBackground}).build()})).addSimpleSlice("color",new w.builder.ColorPickerBuilder({descriptor:o.backgroundColor,value:{value:null!==(e=c.backgroundColor)&&void 0!==e?e:w.ColorHelper.getThemeColor(s,f.DefaultLabelBackgroundColorName)}}).build()).addSimpleSlice("transparency",new w.builder.SliderBuilder({descriptor:o.backgroundTransparency,value:Math.round(null!==(e=100*c.backgroundTransparency)?e:100*f.defaultLabelBackgroundTransparency),options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:w.visualLocKeys.PercentLocKey},localize:t.localize}).build())})),a.build()},f.addCategoryLabelsOptionsFormattingGroup=a,f.addCategoryLabelsValuesFormattingGroup=b,f.addCategoryLabelsBackgroundFormattingGroup=C,f.createCategoryLabelsFormattingContainers=function(e,t){a(e,t),b(e,t),e.showBackground&&C(e)}})(w.DataLabelViewModel||(w.DataLabelViewModel={}))})(powerbi=powerbi||{}),(function(M){var R,d,m;R=M.visuals||(M.visuals={}),d=jsCommon.CssConstants.createClassAndSelector,m=jsCommon.PixelConverter,(function(C){C.DefaultLabelFontSizeInPt=9,C.MapPolylineOpacity=.5,C.LabelDensityBufferFactor=3,C.LabelDensityPadding=6,C.LineStrokeWidth=1,C.startingLabelOffset=8,C.maxLabelOffset=8,C.maxLabelWidth=50,C.hundredPercentFormat="0.00 %;-0.00 %;0.00 %",C.DefaultFontSizeInPt=9,C.DefaultLabelFontFamily=R.Font.Family.regularSecondary.css,C.defaultFontProperties={family:C.DefaultLabelFontFamily,size:R.Units.FontSize.createFromPt(C.DefaultFontSizeInPt),weight:"normal"},C.LabelTextProperties={fontFamily:R.Font.Family.regularSecondary.css,fontSize:m.fromPoint(C.DefaultLabelFontSizeInPt),fontWeight:"normal"},C.horizontalLabelBackgroundPadding=4,C.verticalLabelBackgroundPadding=2,C.horizontalSeriesLabelPadding=5;var x="-0.25em";C.labelGraphicsContextClass=d("labelGraphicsContext"),C.labelBackgroundGraphicsContextClass=d("labelBackgroundGraphicsContext");var s=d("label"),w=d("seriesLabel"),u=d("label-second-line"),o=d("leader-lines"),r=d("line-label");function c(e){var t=0===e.labelOrientation,a=t?e.boundingBox.width:e.boundingBox.width/2,t=e.hasBackground&&t?C.horizontalLabelBackgroundPadding:0;return e.boundingBox.left+a-t}function N(e){var t=0===e.labelOrientation,a=t?e.boundingBox.height/2:e.boundingBox.height,t=e.hasBackground&&!t?C.verticalLabelBackgroundPadding:0;return e.wordBreak&&(a=e.boundingBox.height/2,t=-C.verticalLabelBackgroundPadding),e.boundingBox.top+a-t}function a(e,t,a,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var r={transform:function(e){var t="translate("+c(e)+","+N(e)+")";return 0===e.labelOrientation?t+"rotate(-90)":t},dy:x};(a=void 0===a?!1:a)&&(r.dy=void 0);var n=e.selectAll(s.selector).data(t,L),l=n.enter().append("text").classed(s.class,!0).merge(n);l.interrupt().text((function(e){return e.text})).attrs(r).style("text-anchor",(function(e){return e.textAnchor})).styles((function(e){return R.FontProperties.toSVGStyle(e.fontProperties)})),n.exit().remove(),r={transform:function(e){return"translate("+(e.boundingBox.left+e.boundingBox.width/2)+","+(e=void 0!==(t=e).text?t.boundingBox.height/2:t.boundingBox.height,t.boundingBox.top+e)+")";var t},dy:x},a&&(r.dy=void 0);t=_.filter(i?t:[],(function(e){return!_.isEmpty(e.secondRowText)})),e=e.selectAll(u.selector).data(t,(function(e,t){return e.identity?e.identity.getKeyWithoutHighlight():t.toString()})),t=e.enter().append("text").classed(u.class,!0).merge(e);return t.interrupt().text((function(e){return e.secondRowText})).attrs(r).style("text-anchor",(function(e){return e.textAnchor})).styles((function(e){return R.FontProperties.toSVGStyle(e.fontProperties)})),o&&(l.append("title").text((function(e){return e.tooltip})),t.append("title").text((function(e){return e.tooltip})),l.style("pointer-events",(function(e){return null==e.tooltip?"none":"all"})),t.style("pointer-events",(function(e){return null==e.tooltip?"none":"all"}))),e.exit().remove(),l}function t(e,t,a,i,o,r,n,l){var s={transform:function(e){var t,a=o?C.horizontalSeriesLabelPadding:-C.horizontalSeriesLabelPadding,a="translate("+(t=e.hasBackground?C.horizontalLabelBackgroundPadding:0,e.boundingBox.left+t+a)+","+N(e)+")";return 0===e.labelOrientation?a+"rotate(-90)":a},dy:x},u=e.selectAll(w.selector).data(a,L),c=u.enter().append("text").classed(w.class,!0).merge(u),p=[],d=0;c.interrupt().text((function(e){return r?e.text:V(e.text,e.fontProperties&&e.fontProperties.size?e.fontProperties.size.pt:void 0,e.fontProperties?e.fontProperties.family:void 0,i)})).attrs(s).styles((function(e){return R.FontProperties.toSVGStyle(e.fontProperties)})).styles({"text-anchor":o?"start":"end","white-space":"pre"});e=c.nodes();if(r)for(var s=M.TextMeasurementService.estimateSvgTextHeight(C.LabelTextProperties),m=l+s+(n.height-s-l)/2,g=0,y=e;g<y.length;g++){var h=(S=y[g]).textContent,b=M.TextMeasurementService.getSvgMeasurementProperties(S);S.textContent=null;b=P(S,T(h,b,i,n.height-m,void 0,!0,!0),b,i);a[d].hasBackground&&p.push(b),d++}else for(var f=0,v=e;f<v.length;f++){var S=v[f];a[d].hasBackground&&p.push(D(S)),d++}u.exit().remove();u=_.filter(a,(function(e){return e.hasBackground})),t=t.selectAll("rect");return(t=t.data(u,L)).enter().append("rect").merge(t).attr("transform",(function(e,t){var a=e.boundingBox.left;return o||(a-=p[t]),"translate("+(a+=o?C.horizontalSeriesLabelPadding:-C.horizontalSeriesLabelPadding)+","+(a=0,(e=e).wordBreak||(a=(e.boundingBox.height+2*C.verticalLabelBackgroundPadding)/4),e.boundingBox.top-a)+")"})).attr("rx",4).attr("ry",4).attr("width",(function(e,t){return p[t]+2*C.horizontalLabelBackgroundPadding})).attr("height",(function(e){return void 0===e.text&&void 0===e.secondRowText?0:e.boundingBox.height+2*C.verticalLabelBackgroundPadding})).style("fill",(function(e){return e.backgroundColor})).style("fill-opacity",(function(e){return 1-e.backgroundTransparency})),t.exit().remove(),c}function P(e,t,a,i){for(var o=d3.select(e),r=M.TextMeasurementService.estimateSvgTextHeight(a),n=Math.min(t.length,2),l=0,s=0;s<n;s++){a.text=t[s],2<t.length&&s&&(a.text=t[s].concat("..."));var u=M.TextMeasurementService.getTailoredTextOrDefault(a,i);o.append("tspan").attr("id","wordWrap"+t[s]).attrs({x:0,dy:s?r:x}).text(u);u=M.TextMeasurementService.measureSvgTextWidth(a,u),l=l<u?u:l}return l}function T(e,t,a,i,o,r,n){void 0===o&&(o=0),void 0===r&&(r=!1),void 0===n&&(n=!1);o=M.TextMeasurementService.estimateSvgTextHeight(t)+o,o=Math.max(1,Math.floor(i/o));return jsCommon.WordBreaker.splitByWidth(e,t,M.TextMeasurementService.measureSvgTextWidth,a,o,null,!1,r,n)}function D(e){var t=M.TextMeasurementService.getSvgMeasurementProperties(e),e=e.textContent;return M.TextMeasurementService.measureSvgTextWidth(t,e)}function i(e,t,a,i,o){void 0===i&&(i=!1),void 0===o&&(o=d3.easeCubicInOut);var r={transform:function(e){var t="translate("+c(e)+","+N(e)+")";return 0===e.labelOrientation?t+"rotate(-90)":t},dy:x};i&&(r.dy=void 0);e=e.selectAll(s.selector).data(t,L),t=e.enter().append("text").classed(s.class,!0).style("opacity",0).attrs(r).merge(e);return t.text((function(e){return e.text})).style("text-anchor",(function(e){return e.textAnchor})).styles((function(e){return R.FontProperties.toSVGStyle(e.fontProperties)})).transition().ease(o).duration(a).attrs(r).style("opacity",1),e.exit().transition().duration(a).style("opacity",0).remove(),t}function n(e,t){t=_.filter(t,(function(e){return e.hasBackground})),e=e.selectAll("rect"),t=(e=e.data(t,L)).enter().append("rect").merge(e);return t.attr("x",(function(e){return e.boundingBox.left-C.horizontalLabelBackgroundPadding})).attr("y",(function(e){return e.boundingBox.top-C.verticalLabelBackgroundPadding})).attr("rx",4).attr("ry",4).attr("width",(function(e){return e.boundingBox.width+2*C.horizontalLabelBackgroundPadding})).attr("height",(function(e){return void 0===e.text&&void 0===e.secondRowText?0:e.boundingBox.height+2*C.verticalLabelBackgroundPadding})).style("fill",(function(e){return e.backgroundColor})).style("fill-opacity",(function(e){return 1-e.backgroundTransparency})),e.exit().remove(),t}function l(e,t,a,i,o){void 0===i&&(i=!1),void 0===o&&(o=d3.easeCubicInOut);t=_.filter(t,(function(e){return e.hasBackground})),e=e.selectAll("rect").data(t,L),t=e.enter().append("rect").style("fill-opacity",0).merge(e);return t.transition().ease(o).duration(a).attrs({x:function(e){return e.boundingBox.left-C.horizontalLabelBackgroundPadding},y:function(e){return e.boundingBox.top-C.verticalLabelBackgroundPadding},rx:4,ry:4,width:function(e){return e.boundingBox.width+2*C.horizontalLabelBackgroundPadding},height:function(e){return void 0===e.text&&void 0===e.secondRowText?0:e.boundingBox.height+2*C.verticalLabelBackgroundPadding}}).style("fill",(function(e){return e.backgroundColor})).style("fill-opacity",(function(e){return 1-e.backgroundTransparency})),e.exit().transition().duration(a).style("fill-opacity",0).remove(),t}C.drawDefaultLabels=a,C.drawDefaultSeriesLabels=t,C.seriesWordBreak=P,C.checkWordBreak=T,C.getSeriesLabelWidth=D,C.animateDefaultLabels=i,C.drawLabelBackground=n,C.animateLabelBackground=l,C.drawLabelLeaderLines=function(e,t,a,i){e.select(o.selector).empty()&&e.append("g").classed(o.class,!0),(a=e.select(o.selector).selectAll("polyline").data(t,a)).enter().append("polyline").classed(r.class,!0).merge(a).attr("points",(function(e){return e.leaderLinePoints})).style("stroke",(function(e){return i||(e.fontProperties?e.fontProperties.color:void 0)})).style("stroke-width",C.LineStrokeWidth),a.exit().remove()},C.drawLabelsAndBackgrounds=function(e){var t=a(e.labelContext,e.dataLabels,e.numeric,e.twoRows,e.hasTooltip);return n(e.backgroundContext,e.dataLabels),t},C.drawSeriesLabelsAndBackgrounds=function(e){return t(e.labelContext,e.backgroundContext,e.dataLabels,e.availableWidth,e.position,e.seriesWordWrap,e.plotArea,e.seriesFontSize)},C.animateLabelsAndBackgrounds=function(e){var t=i(e.labelContext,e.dataLabels,e.duration,e.numeric,e.easeType);return l(e.backgroundContext,e.dataLabels,e.duration,e.numeric,e.easeType),t},C.getLabelFormattedText=function(e,t,a){return a?a.format(e):M.formattingService.formatValue(e,t)};var p=(e.prototype.getPrecision=function(e,t){if(!this.noPrecision)return this.units?this.precisionForAxis:e?void 0:t&&t.integer?0:this.precisionForAxis},e);function e(e,t){var a,i;this.noPrecision=!0,0===t.displayUnits&&(i=e.formatter,this.units=i&&i.displayUnit&&i.displayUnit.value,null==t.precision&&(this.noPrecision=!1,(a=i&&i.options)&&a.precision?this.precisionForAxis=e.formatter.options.precision+1:(t=e.axis.tickValues())&&t.length&&(i=t[0],e=1<t.length?t[1]:void 0,t=this.units||1,this.precisionForAxis=R.AxisHelper.calculateAxisPrecision(i,e,10*t,a&&a.format))))}function V(e,t,a,i){var o=C.LabelTextProperties,o={text:e,fontFamily:a||o.fontFamily,fontSize:jsCommon.PixelConverter.fromPoint(t),fontWeight:o.fontWeight};return M.TextMeasurementService.getTailoredTextOrDefault(o,i)}function L(e,t){return e.key||(e.identity?e.identity.getKeyWithoutHighlight():t)}C.UnitsAndPrecision=p,C.getLabelUnitAndPrecisionForAxis=function(e,t){return new p(e,t)},C.createColumnFormatterCacheManager=function(){return new R.ColumnFormatterCacheManager},C.getDisplayUnitValueFromAxisFormatter=function(e,t){return e&&e.displayUnit&&0===t.displayUnits?e.displayUnit.value:null},C.removeDuplicates=function(e){for(var t=[],a={},i=0,o=e;i<o.length;i++){var r,n,l=o[i];null!=l&&(r=1===l.parentType,(n=a[l.text])?(function(t,e,a){return e.some((function(e){return a?R.shapes.Rect.equals(t.parentShape.rect,e.rect):R.shapes.Point.equals(t.parentShape.point,e.point)}))})(l,n,r)||(t.push(l),n.push(l.parentShape)):(t.push(l),a[l.text]=[l.parentShape]))}return t},C.getDataLabelLayoutOptions=function(e){return 10!==e?{maximumOffset:C.maxLabelOffset,startingOffset:C.startingLabelOffset,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:R.CartesianHelper.dataLabelLayoutMaximumOffset,startingOffset:R.CartesianHelper.dataLabelLayoutStartingOffset,offsetIterationDelta:R.CartesianHelper.dataLabelLayoutOffsetIterationDelta,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}},C.getSeriesLabelFormattedText=V,C.getTextSize=function(e,t,a){var i=C.LabelTextProperties,i={text:e,fontFamily:a||i.fontFamily,fontSize:jsCommon.PixelConverter.fromPoint(t),fontWeight:i.fontWeight};return{width:M.TextMeasurementService.measureSvgTextWidth(i),height:M.TextMeasurementService.estimateSvgTextHeight(i)}},C.getNumberOfLabelsToRender=function(e,t,a,i){return null==t||0===t?a:(t/=100,i=Math.ceil(e/i),1==t?i:a+Math.floor(t*(i-a)))}})(R.DataLabelRenderer||(R.DataLabelRenderer={}))})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r;function n(e,t){var a=parseFloat(t);if(e){var i=r[e.graphic.toUpperCase()];if(i&&!isNaN(a)){t=i.statusValues;e.normalizedFiveStateKpiRange&&5===t.length&&(a*=2);a=a+(t.length>>1);return[i.kpiIconClass,t[a]].join(" ").trim()}}}function l(e,t){if(e)return(1===t?[i,o,e]:[i,e]).join(" ")}t=e.visuals||(e.visuals={}),a=t.KpiUtil||(t.KpiUtil={}),i="powervisuals-glyph",o="big-kpi",r={"THREE CIRCLES COLORED":t={kpiIconClass:"circle",statusValues:e=["kpi-red","kpi-yellow","kpi-green"]},"TRAFFIC LIGHT - SINGLE":t,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:e},"ROAD SIGNS":t={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},"THREE SYMBOLS CIRCLED COLORED":t,"TRAFFIC LIGHT":e={kpiIconClass:"traffic-light",statusValues:e},"THREE TRAFFIC LIGHTS RIMMED COLORED":e,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:e={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},"SMILEY FACE":e,THERMOMETER:e,CYLINDER:e,"THREE SIGNS COLORED":e,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":e={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},"GAUGE - ASCENDING":e,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}},a.getClassForKpi=function(e,t,a){return l(n(e,t),a)},a.getKpiImageMetadata=function(e,t,a){if(e=e&&e.kpi){t=n(e,t);if(t)return{caption:t,statusGraphic:e.graphic,class:l(t,a)}}},a.isKpi=function(e){return!(!e||!e.kpi)}})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).DateUtil||(e.DateUtil={})).isEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.getTime()===t.getTime()},e.getDifferenceInDays=function(e,t){return t=Math.abs(e.valueOf()-t.valueOf()),Math.floor(t/864e5)}})(powerbi=powerbi||{}),(function(e){!(function(e){var g;(t=g=g||{})[t.Minimum=0]="Minimum",t[t.Maximum=1]="Maximum",t[t.Neither=2]="Neither";var t=(h.prototype.getSortedDataLabels=function(){for(var e=this.unsortedLabelDataPointGroups,t=[],a=0,i=e.length;a<i;a++){var o,r,n,l,s,u,c,p=e[a],d=h.maxNumberToSortFactor*p.maxNumberOfLabels;_.isEmpty(p.labelDataPoints)||(o=p.labelDataPoints,r=[],n=void 0,c=(u=this.series[a]).data,(n=_.some(c,(function(e){return e&&e.highlight}))?_.filter(c,(function(e){return e&&null!=e.value&&e.highlight})):_.filter(c,(function(e){return e&&null!=e.value}))).length,o.length,l=h.getMinMaxInRange(0,n.length-1,n),s=void 0,d<=(c=this.addFirstLastMaxMin(o,r,l.maxIndex,l.minIndex))||(u=u.isY2?this.y2Scale:this.yScale,s=this.calculateWeights(o,n,l,u),u=Math.max(d-c,0),c+=this.addLocalMinMaxes(s,r,l.maxIndex,l.minIndex,u)),d<=c||(c=Math.max(d-c,0),this.addNonMinMaxes(s,r,c)),t.push({labelDataPoints:r,maxNumberOfLabels:p.maxNumberOfLabels}))}return t},h.prototype.calculateWeights=function(e,t,a,i){for(var o,r=t.length,n=this.findMinMaxesBasedOnSmoothedValues(e,t),l=Math.abs(i(a.maxValue)-i(a.minValue)),s=0,u=n.length;s<u;s++){var c,p=n[s],d=void 0;null!=(d=o?(Math.abs((i(o.value)-i(p.value))/l)+Math.abs(o.index-p.index)/(r-1))/2:d)&&o&&(null!=(c=e[o.index]).weight?c.weight=(c.weight+d)/2:c.weight=d,e[p.index].weight=d),o=p}for(var m=0,g=e;m<g.length;m++){var y=g[m];y.weight<h.minimumWeightToConsiderMinMax&&(y.weight=void 0)}return e},h.prototype.findMinMaxesBasedOnSmoothedValues=function(e,t){for(var a=[],i=this.getWindowSize(t),o=i>>1,r=this.calculateSmoothedValues(t,i),n=0,l=e.length;n<l;n++){var s=this.getMinMaxType(n,r);s!==g.Neither&&(s={index:n,type:s,value:t[n].value},a.push(s))}for(var u=0,c=a.length;u<c;u++){var p=a[u-1],d=a[u],m=a[u+1];p&&m&&(m=h.getMinMaxInRange(Math.max(p.index,d.index-o),Math.min(m.index,d.index+o),t),m=d.type===g.Maximum?m.maxIndex:m.minIndex,d.index=m,d.value=t[m].value)}return a},h.getMinMaxInRange=function(e,t,a){for(var i,o,r,n,l=e,s=a.length;l<=t&&l<s;l++){var u=a[l].value;null!=u&&((void 0===i||u<i)&&(i=u,r=l),(void 0===o||o<u)&&(o=u,n=l))}return{minIndex:r,minValue:i,maxIndex:n,maxValue:o}},h.prototype.getWindowSize=function(e){return 1|e.length/this.viewport.width*h.estimatedLabelWidth},h.prototype.calculateSmoothedValues=function(e,t){for(var a,i=h.getGaussianDistribution(t),o=[],r=0,n=e.length;r<n;r++)1===t?o.push(e[r].value):(a=this.getSmoothedValue(e,r,t,i),o.push(a));return o},h.getGaussianDistribution=function(e){for(var t=[],a=e>>1,i=a,o=a/2,r=0;r<a;r++){var n=+Math.pow(Math.E,(r-i)*(r-i)*-1/(2*o*o));t.push(n)}t.push(1);for(r=a-1;0<=r;r--)t.push(t[r]);return t},h.prototype.getSmoothedValue=function(e,t,a,i){if(null==e[t].value)return e[t].value;for(var a=a>>1,o=t+a,r=0,n=0,l=e.length-1,s=t-a,u=0;s<=o;s++,u++){var c=e[Math.max(0,Math.min(s,l))].value;null!=c&&(r+=c*i[u],n++)}return r/n},h.prototype.addFirstLastMaxMin=function(e,t,a,i){var o=0;if(_.isEmpty(e))return o;t.push(e[0]),o++;var r=e.length-1;return 0!=r&&(t.push(e[r]),o++),0!==a&&a!==r&&(t.push(e[a]),o++),0!==i&&i!==r&&(t.push(e[i]),o++),o},h.prototype.addLocalMinMaxes=function(e,t,a,i,o){for(var r=e.length-1,e=_.filter(e,(function(e,t){return 0!==t&&t!==r&&t!==a&&t!==i&&null!=e.weight})),n=_.sortBy(e,(function(e){return-e.weight})),l=0,s=0,u=Math.min(n.length,o);s<u;s++)t.push(n[s]),l++;return l},h.prototype.addNonMinMaxes=function(e,t,a){for(var i,o=[],r=0,n=e.length;r<n;r++)null==e[r].weight?i?i.count++:i={startingIndex:r,count:1}:i&&0<i.count&&(o.push(i),i=null);for(var l=0;0<o.length&&l<a;){for(var s=0,u=0,c=0,p=o.length;c<p;c++){var d=o[c].count;s<d&&(s=d,u=c)}var m,g,y=o.splice(u,1)[0];1===y.count?t.push(e[y.startingIndex]):(m=(y.count>>1)+y.startingIndex,t.push(e[m]),0<(g=m-y.startingIndex)&&o.push({startingIndex:y.startingIndex,count:g}),0<(y=y.startingIndex+y.count-m-1)&&o.push({startingIndex:m+1,count:y})),l++}},h.prototype.getMinMaxType=function(e,t){var a=t[e];if(null==t[e])return g.Neither;if(t.length<2)return g.Neither;if(null==t[e-1])return t[e+1]>a?g.Minimum:g.Maximum;if(null==t[e+1])return t[e-1]>a?g.Minimum:g.Maximum;var i=t[e-1],e=t[e+1];return null==i&&null==e?g.Neither:null==i?a<e?g.Minimum:g.Maximum:null==e?a<i?g.Minimum:g.Maximum:a<i&&a<e?g.Minimum:i<a&&e<a?g.Maximum:g.Neither},h.estimatedLabelWidth=40,h.minimumWeightToConsiderMinMax=.015,h.maxNumberToSortFactor=2,h);function h(e){this.unsortedLabelDataPointGroups=e.unsortedLabelDataPointGroups,this.series=e.series,this.yScale=e.yScale,this.y2Scale=e.y2Scale,this.viewport=e.viewport}e.MinMaxLabelDataPointSorter=t})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(e){function t(e,t,a,i,o){void 0===t&&(t=!0),void 0===a&&(a=250),void 0===i&&(i=1700),void 0===o&&(o=100),this.callback=e,this.enabled=t,this.distanceFactor=a,this.timeFactor=i,this.sampleTime=o,this.points=[]}e=e.visuals||(e.visuals={}),t.prototype.addPoint=function(e,t){for(var a=this.points,i=Date.now();!(_.isEmpty(a)||i-a[0].timestamp<this.sampleTime);)a.shift();a.push({x:e,y:t,timestamp:i})},t.prototype.hasStarted=function(){return this.started},t.prototype.start=function(){var i,e,t,a,o,r,n,l,s,u,c,p=this;!this.enabled||this.points.length<=1||(this.started&&this.stop(),i=d3.easeCubicOut,o=_.last(this.points),t=_.head(this.points),e=o.x-t.x,a=o.y-t.y,t=e/(o=o.timestamp-t.timestamp),a=a/o,o=window.distanceFactor||this.distanceFactor,r=t*o,n=a*o,l=Math.sqrt(Math.pow(t,2)+Math.pow(a,2))*window.timeFactor||this.timeFactor,u=s=0,this.started=!0,c=d3.timer((function(e){var t,a;p.stopRequested?(p.clearState(),c.stop()):(t=Math.min(1,+e/l),a=i(t),s+=t=a*r-s,u+=a=a*n-u,p.callback&&(0<Math.abs(t)||0<Math.abs(a))&&p.callback(t,a),l<e&&(p.clearState(),c.stop()))})))},t.prototype.stop=function(){this.started&&(this.stopRequested=!0)},t.prototype.clearState=function(){this.started=!1,this.stopRequested=!1},e.Inertia=t})(powerbi=powerbi||{}),(function(e){var i,o,r,n;function a(e,i){e.on("click",(function(e){m(e.data||e,i)})),e.on("keydown.select",(function(e){var t=d3.event,a=t.keyCode;32!==a&&13!==a||(m(e.data||e,i),t.preventDefault(),t.stopPropagation())}),!0)}function t(e){return!!e.data}function l(e){return!!e.data}function s(e,t){e.on("contextmenu",(function(e){d(e.data||e,t)}))}function u(e,t,a){e.on(t.node(),"click",(function(){p((function(e){m(e.data||e,a)}),void 0)})),e.on(t.node(),"keydown.select",(function(){var e=d3.event.keyCode;32!==e&&13!==e||p((function(e){m(e.data||e,a)}),!0)}),!0)}function c(e,t,a){e.on(t.node(),"contextmenu",(function(){p((function(e){d(e.data||e,a)}),void 0)}))}function p(e,t){var a=d3.event,i=a.target,i=d3.select(i).datum();i&&(e(i),t&&(a.preventDefault(),a.stopPropagation()))}function d(e,t){var a=d3.event;n.isCtrlOrMeta(a)||(a.preventDefault(),i.EventBubblingUtil.markAsHandled(a),a=r.getPositionOfLastInputEvent(),t.handleContextMenu(e,a))}function m(e,t){var a=r.getPositionOfLastInputEvent(),i=d3.event;o.markSelectionHandled(i),t.handleSelection(e,jsCommon.SelectionUtility.getMultiSelectMode(i),a)}i=e.visuals||(e.visuals={}),n=jsCommon.BrowserUtils,(e=o=i.VisualEvent||(i.VisualEvent={})).markSelectionHandled=function(e){e.selectionHandled=!0},e.isSelectionHandled=function(e){return!!e.selectionHandled},(r=i.InteractivityUtils||(i.InteractivityUtils={})).getPositionOfLastInputEvent=function(){var e=d3.event;return{x:e.clientX,y:e.clientY}},r.registerClearCatcherShortcut=function(e,t){e.on("keydown.clearCatcher",(function(){var e=d3.event;67===e.keyCode&&e.ctrlKey&&e.shiftKey&&(t.handleClearSelection(),e.preventDefault(),e.stopPropagation())}))},r.registerStandardInteractivityHandlers=function(e,t){a(e,t),s(e,t)},r.registerStandardSelectionHandler=a,r.isSelectableDataPointContainer=t,r.registerDataPointNavigationHandler=function(e,i,o){e.on("keydown.dataPoint",(function(){var t=d3.event,a=t.keyCode;9!==a&&37!==a&&39!==a&&38!==a&&40!==a||p((function(e){t.preventDefault(),t.stopPropagation();e=e.data||e;i.handleKeyDownEvent(o,e.categoryIndex,e.seriesIndex,a,t.shiftKey)}),void 0)}))},r.isNavigableDataPointContainer=l,r.registerEnterPlotAreaHandler=function(a,i,o){a.on("keydown.enterPlotArea",(function(){var e=d3.event,t=e.keyCode;13===t?(e.preventDefault(),e.stopPropagation(),i.goToFirstElement(o)):27===t&&e.target!==a.node()&&(e.preventDefault(),e.stopPropagation(),e=a.node(),n.focus(e))}))},r.registerStandardContextMenuHandler=s,r.registerGroupInteractivityHandlers=function(e,t,a){u(e,t,a),c(e,t,a)},r.registerGroupSelectionHandler=u,r.registerGroupContextMenuHandler=c,r.tryToSelectD3Target=p,r.appendUseElementForFocus=function(e,t,a){e.selectAll("use").remove(),e.append("use").attr("href","#"+i.CurrentFocusDataPointId+"-"+t+"-"+a).style("pointer-events","none").style("fill","none")},r.handleSelection=m,r.handleClearSelection=function(e,t){var a=d3.event;n.isCtrlOrMeta(a)||o.isSelectionHandled(a)||t&&(null==t||!t(a))||e.handleClearSelection()},r.lassoSelectPoints=function(e,t,a){var i=0;n.isCtrlOrMeta(e)?i=3:e.shiftKey&&(i=1),a.handleMultipleSelection(t,i,!0)},r.lassoSelectPointsWithMode=function(e,t,a){a.handleMultipleSelection(e,t,!0)}})(powerbi=powerbi||{}),(function(a){!(function(t){var l=a.data.DataViewMatrixUtils;t.getInvalidValueWarnings=function(e,t,a,i,o,r){return new n(t,a,i,r,o).getWarningMessages(e)};var n=(e.prototype.getWarningMessages=function(e){this.loadWarningStatus(e);e=[];return this.hasNaN&&!this.supportsNaN&&e.push(new t.NaNNotSupportedWarning),(this.hasNegativeInfinity&&!this.supportsNegativeInfinity||this.hasPositiveInfinity&&!this.supportsPositiveInfinity)&&e.push(new t.InfinityValuesNotSupportedWarning),this.hasOutOfRange&&e.push(new t.ValuesOutOfRangeWarning),e},e.prototype.loadWarningStatus=function(e){this.hasNaN=!1,this.hasNegativeInfinity=!1,this.hasOutOfRange=!1,this.hasPositiveInfinity=!1;for(var t=0,a=e;t<a.length;t++){var i=a[t];this.preferMatrixDV&&i.matrix?this.readMatrix(i):this.readCategorical(i)}},e.prototype.readCategorical=function(e){var t=e&&e.categorical&&e.categorical.values?e.categorical.values:null;if(t)for(var a=this.valueIndicesToIgnore(_.map(t,(function(e){return e.source}))),i=0,o=t.length;i<o;i++)if(!_.includes(a,i)){var r=t[i];if(r.values)for(var n=0,l=r.values;n<l.length;n++){var s=l[n];this.checkValue(s)}}},e.prototype.valueIndicesToIgnore=function(e){var t=this,a=[];if(!_.isEmpty(this.ignoreRoles))for(var i=0;i<e.length;i++){var o=e[i],o=o&&o.roles&&Object.keys(o.roles);!_.isEmpty(o)&&_.every(o,(function(e){return _.includes(t.ignoreRoles,e)}))&&a.push(i)}return a},e.prototype.readMatrix=function(e){var r=this;e.matrix;var n=this.valueIndicesToIgnore(e.matrix.valueSources);a.data.DataViewMatrixUtils.forEachNodeDepthFirst(e.matrix.rows.root,(function(e,t){if(l.isLeafNode(e)){if(!e.values)return 1;for(var a=0,i=Object.keys(e.values);a<i.length;a++){var o=i[a],o=e.values[o];_.includes(n,o.valueSourceIndex)||r.checkValue(o&&o.value)}return 1}return r.hasNaN&&r.hasPositiveInfinity&&r.hasNegativeInfinity&&r.hasOutOfRange?0:1}))},e.prototype.checkValue=function(e){isNaN(e)?this.hasNaN=!0:e===Number.POSITIVE_INFINITY?this.hasPositiveInfinity=!0:e===Number.NEGATIVE_INFINITY?this.hasNegativeInfinity=!0:(e<-1e300||1e300<e)&&(this.hasOutOfRange=!0)},e);function e(e,t,a,i,o){this.supportsNaN=e,this.supportsNegativeInfinity=t,this.supportsPositiveInfinity=a,this.preferMatrixDV=i,this.ignoreRoles=o}})(a.visuals||(a.visuals={}))})(powerbi=powerbi||{}),(function(e){(e=e.visuals||(e.visuals={})).getCoordinates=function(e,t,a){if(void 0===a&&(a=1),t){for(var i,o=d3.event;i=o.sourceEvent;)o=i;var r=e.getBoundingClientRect(),r=[(o.clientX-r.left-e.clientLeft)/a,(o.clientY-r.top-e.clientTop)/a]}else{e=d3.touches(e);e&&0<e.length&&(r=e[0])}return r},e.getElementCenterCoordinates=function(e,t,a){return void 0===a&&(a=1),e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),0===e.width&&0===e.height?[t.width/2/a,t.height/2/a]:[(e.left-t.left+e.width/2)/a,(e.top-t.top+e.height/2)/a]}})(powerbi=powerbi||{}),(function(e){!(function(a){var o=jsCommon.BrowserUtils,r=jsCommon.KeyUtils,t=jsCommon.DOMConstants;a.PlotAreaLassoSelectionLimit=3500,a.extractBoundingRectFromLasso=function(e,t){return(t=void 0===t||t)?{left:e.dataSpace.left.value,top:e.dataSpace.top.value,right:e.dataSpace.right.value,bottom:e.dataSpace.bottom.value}:{left:e.pixelValue.left,top:e.pixelValue.top,right:e.pixelValue.right,bottom:e.pixelValue.bottom}};var e=(i.prototype.init=function(e,t,a,i){this.body=d3.select("body"),this.surfaces=e,this.svg=t,this.hostServices=a,this.featureSwitches=i,this.initDragEvents(),this.behaviors=[],this.forceLasso=!1},i.prototype.setUiScale=function(e){this.uiScale=e},i.prototype.setForceLasso=function(e){this.forceLasso=e;for(var t=0,a=this.surfaces;t<a.length;t++)a[t].classed("pendingLasso",e)},i.prototype.initDragEvents=function(){for(var t=this,a=this,e=0,i=this.surfaces;e<i.length;e++)!(function(e){e.on("mousedown.lasso",(function(){t.startDrag(d3.event)&&(t.body.on("mousemove.lasso",t.lassoMousemoveCallback,!0),t.body.on("mouseup.lasso",t.lassoMouseupCallback,!0),t.body.on("click.lasso",t.lassoClickCallback,!0))}),!0),a.featureSwitches.keyboardShortcutsLassoSelect&&(e.on("keydown.keyboardLasso",(function(){"KeyS"===d3.event.code||"Space"===d3.event.code||r.isArrowKeyboardEventCode(d3.event.code)||d3.event.shiftKey||d3.event.ctrlKey?("Space"===d3.event.code&&(d3.event.preventDefault(),t.isSpaceKeyPressed=!0,t.crosshairSVG&&d3.event.stopPropagation()),o.isCtrlOrMeta(d3.event)||d3.event.altKey||d3.event.shiftKey||"KeyS"!==d3.event.code||(d3.event.stopPropagation(),t.startKeyboardDrag(),t.crosshairSVG&&(t.body.on("keydown.keyboardLasso",(function(){"Space"===d3.event.code&&(t.isSpaceKeyPressed=!0,d3.event.stopPropagation()),t.body.on("keyup.keyboardLasso",t.lassoBodyKeyUpCallback,!0)}),!0),e.on("blur.keyboardLasso",t.lassoKeyBlurCallback,!0))),t.crosshairSVG&&r.isArrowKeyboardEventCode(d3.event.code)&&(d3.event.preventDefault(),d3.event.stopPropagation(),t.keyboardDrag())):t.removeLasso()}),!0),e.on("keyup.keyboardLasso",a.lassoKeyUpCallback,!0))})(i[e])},i.prototype.removeLasso=function(){this.dragRect&&(this.dragRect=void 0),this.dragRectSelection&&(this.dragRectSelection.remove(),this.dragRectSelection=void 0),this.crosshairSVG&&(this.crosshairSVG.remove(),this.crosshairSVG=void 0),this.lassoPointerPosition=void 0,this.initiateKeyboardDrag=!1},i.prototype.startKeyboardDrag=function(){var e=this.lassoPointerPosition=a.getElementCenterCoordinates(d3.event.target,this.svg.node(),this.uiScale);this.crosshairSVG||(this.crosshairSVG=this.svg.append("path").attr("id","lasso-pointer").attr("fill","#000").attr("stroke","#fff").attr("stroke-linecap","square").attr("d","M11.03 1V.5H8.97v8.458h2.06V1Zm.558 8.005h-.5V11.05H19.5V9.005h-7.912Zm-2.676.5v-.5H.5V11.05H8.912V9.505Zm2.117 2.037v-.5H8.971V19.5h2.058v-7.958Z").attr("transform","translate("+(e[0]-10)+","+(e[1]-10)+")"))},i.prototype.keyboardDrag=function(){var e,t=this.lassoPointerPosition;if(this.crosshairSVG&&this.lassoPointerPosition)switch(d3.event.code){case"ArrowRight":this.lassoPointerPosition=[Math.min(this.svg.node().clientWidth,t[0]+5),t[1]];break;case"ArrowLeft":this.lassoPointerPosition=[Math.max(0,t[0]-5),t[1]];break;case"ArrowUp":this.lassoPointerPosition=[t[0],Math.max(0,t[1]-5)];break;case"ArrowDown":this.lassoPointerPosition=[t[0],Math.min(this.svg.node().clientHeight,t[1]+5)]}this.lassoPointerPosition&&(e={x:this.lassoPointerPosition[0],y:this.lassoPointerPosition[1]},this.wasDragged=this.isBeingDragged(e)),this.crosshairSVG&&this.lassoPointerPosition&&this.crosshairSVG.attr("transform","translate("+(this.lassoPointerPosition[0]-10)+","+(this.lassoPointerPosition[1]-10)+")"),this.isSpaceKeyPressed&&(this.dragRectSelection||(this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0)),this.initiateKeyboardDrag||(this.dragStart={x:t[0],y:t[1]},this.initiateKeyboardDrag=!0),this.updateDragRect(this.lassoPointerPosition))},i.prototype.endKeyboardDrag=function(){var e,t;this.wasDragged&&this.dragRect&&(e=this.createMouseEvent(d3.event),t={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height},this.onRectEnd(e,t),this.removeLasso(),this.announceLassoKeyboardEnd(t))},i.prototype.createMouseEvent=function(e){return new MouseEvent("mousemove.keyboardLasso",{ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey})},i.prototype.startDrag=function(e){if(this.wasDragged=!1,this.removeLasso(),!this.forceLasso&&(!this.onRectStart(e)||!o.isCtrlOrMeta(e)&&!e.shiftKey&&(0!==this.hostServices.getViewMode()||this.requireKeyModifier)))return!1;this.requireKeyModifier&&d3.event.stopPropagation();e=a.getCoordinates(this.svg.node(),!0,this.uiScale);return this.dragStart={x:e[0],y:e[1]},this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0),this.updateDragRect(e),!0},i.prototype.endDrag=function(e){var t=a.getCoordinates(this.svg.node(),!0,this.uiScale);this.updateDragRect(t);t={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height};this.wasDragged&&(this.onRectEnd(e,t),this.announceLassoKeyboardEnd(t),e.stopPropagation()),this.removeLasso(),this.setForceLasso(!1),this.dragRect&&(this.dragRect=null)},i.prototype.drag=function(e){e.stopPropagation();var t=a.getCoordinates(this.svg.node(),!0,this.uiScale);this.wasDragged||(e={x:t[0],y:t[1]},this.wasDragged=this.isBeingDragged(e)),this.updateDragRect(t)},i.prototype.updateDragRect=function(e){e=this.dragRect=this.getDragRect(e,this.dragStart);this.renderDragRect(e)},i.prototype.renderDragRect=function(e){this.dragRectSelection&&this.dragRectSelection.attrs({x:e.left,y:e.top,width:e.width,height:e.height})},i.prototype.onRectEnd=function(e,t){for(var a=0,i=this.behaviors;a<i.length;a++){var o=i[a];o.onRectEnd&&o.onRectEnd({event:e,rect:t})}},i.prototype.onRectStart=function(e){for(var t=!0,a=0,i=this.behaviors;a<i.length;a++){var o=i[a];o.onDragStart&&(t=t&&o.onDragStart(e))}return t},i.prototype.getDragRect=function(e,t){var a=e[0]-t.x,i=e[1]-t.y;return{left:Math.min(t.x,e[0]),top:Math.min(t.y,e[1]),width:this.crosshairSVG&&0==a?1:Math.abs(a),height:this.crosshairSVG&&0==i?1:Math.abs(i)}},i.prototype.isBeingDragged=function(e){return this.dragStart&&(3<=Math.abs(e.x-this.dragStart.x)||3<=Math.abs(e.y-this.dragStart.y))},i);function i(e){var t=this;this.requireKeyModifier=e,this.uiScale=1,this.isSpaceKeyPressed=!1,this.initiateKeyboardDrag=!1,this.lassoMousemoveCallback=function(){t.drag(d3.event)},this.lassoMouseupCallback=function(){t.wasDragged&&d3.event.stopPropagation(),t.endDrag(d3.event),t.body.on("mousemove.lasso",null),t.body.on("mouseup.lasso",null)},this.lassoClickCallback=function(){t.wasDragged&&d3.event.stopPropagation(),t.body.on("click.lasso",null)},this.lassoKeyUpCallback=function(){t.crosshairSVG&&"Space"===d3.event.code&&(d3.event.stopPropagation(),t.isSpaceKeyPressed=!1,t.endKeyboardDrag())},this.lassoBodyKeyUpCallback=function(){"Space"===d3.event.code&&(t.body.on("keydown.keyboardLasso",null),t.body.on("keyup.keyboardLasso",null))},this.lassoKeyBlurCallback=function(){t.crosshairSVG&&t.removeLasso(),d3.select(d3.event.currentTarget).on("blur.keyboardLasso",null)},this.announceLassoKeyboardEnd=function(e){t.hostServices.alertScreenReader(t.hostServices.getLocalizedString("LassoRectangleWidth",[Math.round(e.right-e.left)])),t.hostServices.alertScreenReader(t.hostServices.getLocalizedString("LassoRectangleHeight",[Math.round(e.bottom-e.top)]))}}a.PlotAreaLassoManager=e;n.prototype.onRectEnd=function(e){var t=e.event,e=e.rect;e.bottom!==e.top&&e.left!==e.right&&this.selectRegion(t,e)},n.prototype.onRectHover=function(e){var t=e.event,e=e.rect;this.behavior.hoverLassoRegion&&this.behavior.hoverLassoRegion(t,e)},n.prototype.onDragStart=function(e){return e.button===t.MouseButton.Main},n.prototype.selectRegion=function(e,t){this.behavior.lassoSelectRect&&this.behavior.lassoSelectRect(e,t)},e=n;function n(e){this.behavior=e}a.LassoSelectionBehavior=e;l.prototype.onRectEnd=function(e){var t=e.event,e=e.rect;2===t.button?this.unzoomRegion():this.zoomRegion(e)},l.prototype.zoomRegion=function(e){this.hostServices.persistProperties({replace:[{objectName:"categoryAxis",properties:{start:e.left,end:e.right},selector:null},{objectName:"valueAxis",properties:{start:e.bottom,end:e.top},selector:null}]})},l.prototype.unzoomRegion=function(){this.hostServices.persistProperties({remove:[{objectName:"categoryAxis",properties:{start:null,end:null},selector:null},{objectName:"valueAxis",properties:{start:null,end:null},selector:null}]})},e=l;function l(e){this.hostServices=e}a.LassoZoomBehavior=e})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(n){var l,e,r,i;l=n.visuals||(n.visuals={}),r=n.visuals.builder,i=n.data.Selector.normalizeSelector,(e=l.LineStyle||(l.LineStyle={})).readFromStaticObjects=function(e,t,a){return{shadeArea:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.shadeArea,!1),strokeWidth:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.strokeWidth,l.CartesianHelper.defaultLineStrokeWidth),lineJoin:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.strokeLineJoin,l.strokeLineJoin.defaultValue),style:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.lineStyle,l.lineStyle.solid),markerProperties:t?l.MarkerProperties.readFromStaticObjects(e,a):l.MarkerProperties.getDefault(),stepped:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.stepped,!1)}},e.readFromSeriesObjects=function(e,t,a,i,o){var r=n.Prototype.inherit(t),o=l.MarkerProperties.readFromSeries(e,t.markerProperties,a,o,!i);return r.markerProperties=o,e.data.hasSeries()&&i&&(e=e.objects.getSeriesDataObjects(a),null!=(a=n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.strokeWidth))&&(r.strokeWidth=a),null!=(a=n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.strokeLineJoin))&&(r.lineJoin=a),null!=(a=n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.lineStyle))&&(r.style=a),null!=(a=n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.shadeArea))&&(r.shadeArea=a),null!=(e=n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.stepped))&&(r.stepped=e)),r},e.getDefault=function(){return{strokeWidth:l.CartesianHelper.defaultLineStrokeWidth,lineJoin:l.strokeLineJoin.defaultValue,style:l.lineStyle.solid,markerProperties:l.MarkerProperties.getDefault(),shadeArea:!1,stepped:!1}},e.enumerate=function(e){var t=e.style,a={selector:i(e.selector),properties:{shadeArea:t.shadeArea,strokeWidth:t.strokeWidth,strokeLineJoin:t.lineJoin},objectName:l.lineChartProps.lineStyles.lineStyle.objectName};a.properties[l.lineChartProps.lineStyles.lineStyle.propertyName]=t.style,l.MarkerProperties.populateInstance(a,t.markerProperties),a.properties[l.lineChartProps.lineStyles.stepped.propertyName]=t.stepped,null!=(t=e.showSeries)&&(a.properties.showSeries=t),e.enumeration.pushInstance(a)},e.addLineStyleFormattingContainers=function(e,t){var a=e.styleProps,i=e.style,o=e.selector;t.addGroup("shape",(function(e){e.withDisplayName("Visual_Shape"),a.lineStyle&&e.addSimpleSlice("style",new r.DropdownBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.lineStyle),{selector:o}),value:i.style}).build()),a.strokeLineJoin&&e.addSimpleSlice("strokeLineJoin",new r.DropdownBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.strokeLineJoin),{selector:o}),value:i.lineJoin}).build()),a.strokeWidth&&e.addSimpleSlice("strokeWidth",new r.NumUpDownBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.strokeWidth),{selector:o}),value:i.strokeWidth,options:{minValue:{type:0,value:0},maxValue:{type:1,value:12}}}).build()),a.stepped&&e.addSimpleSlice("stepped",new r.ToggleSwitchBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.stepped),{selector:o}),value:i.stepped}).build())}))},e.getStrokeDashArrayFromLineStyle=function(e){switch(e){case l.lineStyle.dashed:return"5, 5";case l.lineStyle.dotted:return"1, 5";default:l.lineStyle.solid;return null}},e.getSrokeDashArrayForLegend=function(e){switch(e){case l.lineStyle.dashed:return"7,5";case l.lineStyle.dotted:return"2.5,3.1";default:l.lineStyle.solid;return null}},e.getStrokeLineCapFromLineStyle=function(e){switch(e){case l.lineStyle.dashed:case l.lineStyle.solid:return null;case l.lineStyle.dotted:return"round";default:return null}}})(powerbi=powerbi||{}),(function(i){!(function(u){(u.ListViewFactory||(u.ListViewFactory={})).createListView=function(e){return new t(e)},u.ListViewLoadMoreDataThreshold=.8;var t=(o.prototype.scrollTo=function(e){this.scrollInner.scrollTop(e)},o.prototype.scrollRowIntoView=function(t,a){var i=this,e=this.options,o=e.rowHeight,r=e.paddingBetween,n=e.paddingOuter,l=Math.min(Math.max(t,0),this._totalRows-1),s=this.scrollTop,u=this.getContainerHeight(),e=this.getRowStartPosition(l,o,r,n),n=this.getTotalRowHeight(l,o,r,n),u=this.getNeededScrollChange(e,n,s,u);this.setFocusCallback=a,0!==u?(this.scrollTo(s+u),this.pendingFocusCallback=function(e){e?i.pendingScrollCallback=function(){return i.scrollRowIntoView(t,a)}:i.setFocusCallback&&i.setFocusCallback()}):this.setFocusCallback&&this.setFocusCallback()},o.prototype.getTotalRowHeight=function(e,t,a,i){return 0===e&&(t+=i),e===this._totalRows&&(t+=i),0<e&&(t+=a),t},o.prototype.getNeededScrollChange=function(e,t,a,i){if(e<a)return Math.floor(e-a);t=e+t,i=a+i;return i<t?Math.floor(t-i):0},o.prototype.onScroll=function(){var t=this;this.scrollTop=this.scrollbarInner.node().scrollTop,void 0===this.scrollTimeoutId&&(this.scrollTimeoutId=window.requestAnimationFrame((function(){var e=t.renderImpl(t.options.rowHeight,t.options.paddingBetween,t.options.paddingOuter);t.scrollTimeoutId=void 0,t.pendingFocusCallback&&(t.pendingFocusCallback(e.loadedMore),t.pendingFocusCallback=void 0)})))},o.prototype.resetCallBacks=function(){this.pendingFocusCallback=void 0,this.pendingScrollCallback=void 0,this.setFocusCallback=void 0},o.prototype.destroy=function(){this.scrollInner&&this.scrollInner.scrollbar("destroy"),this.resetCallBacks(),this.clearRenderingTimeout()},o.prototype.getContainerHeight=function(){if(this.options.getContainerHeight){var e=this.options.getContainerHeight();if(null!=e)return e}return $(this.options.baseContainer.node()).outerHeight()},o.setDefaultOptions=function(e){e.rowHeight=o.valueOrDefault(e.rowHeight,o.defaultRowHeight),e.paddingBetween=o.valueOrDefault(e.paddingBetween,o.defaultPaddingBetween),e.paddingOuter=o.valueOrDefault(e.paddingOuter,o.defaultPaddingOuter)},o.valueOrDefault=function(e,t){return e||0===e?e:t},o.prototype.getRowHeight=function(){return this.options.rowHeight},o.prototype.rowHeight=function(e){return this.options.rowHeight=e,this},o.prototype.paddingBetween=function(e){return this.options.paddingBetween=e,this},o.prototype.paddingOuter=function(e){return this.options.paddingOuter=e,this},o.prototype.data=function(e,t,a,i){return void 0===a&&(a=!1),this._data=e,this.getDatumIndex=t,this.setTotalRows(),a&&($(this.scrollbarInner.node()).scrollTop(0),this.resetCallBacks()),this.render(i),this},o.prototype.viewport=function(e){return this.render(),this},o.prototype.empty=function(){this._data=[],this.resetCallBacks(),this.render()},o.prototype.clearRenderingTimeout=function(){void 0!==this.renderTimeoutId&&(window.clearTimeout(this.renderTimeoutId),this.renderTimeoutId=void 0),void 0!==this.scrollTimeoutId&&(window.cancelAnimationFrame(this.scrollTimeoutId),this.scrollTimeoutId=void 0)},o.prototype.render=function(a){return __awaiter(this,void 0,i.Promise,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return this.clearRenderingTimeout(),[4,this.delay()];case 1:return e.sent(),[4,this.getRowHeightInternal()];case 2:return t=e.sent(),this.renderImpl(t.rowHeight,t.paddingBetween,t.paddingOuter),a&&a(),this.pendingScrollCallback&&(this.pendingScrollCallback(),this.pendingScrollCallback=void 0),this.renderTimeoutId=void 0,[2]}}))}))},o.prototype.delay=function(){var t=this;return new i.Promise(function(e){t.renderTimeoutId=setTimeout(e)})},o.prototype.canScrollTop=function(){return 0!==this.scrollTop},o.prototype.getScroll=function(){return Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this.self.getTotalHeight(this.self.options.rowHeight,this.self.options.paddingBetween,this.self.options.paddingOuter)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleHeight",{get:function(){return this.self.getContainerHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.self.scrollTop},enumerable:!1,configurable:!0}),new e(this);function e(e){this.self=e}},o.prototype.getTotalHeight=function(e,t,a){t=o.valueOrDefault(t,o.defaultPaddingBetween),a=o.valueOrDefault(a,o.defaultPaddingOuter);return this.options.scrollEnabled?Math.max(0,this._totalRows*e+(this._totalRows-1)*t+2*a):this.getContainerHeight()},o.prototype.renderImpl=function(e,t,a){a=this.getTotalHeight(e,t,a);this.scrollContainer.style("height",a+"px").attr("height",a);a={listView:this,loadMoreData:!0,rowHeight:this.options.rowHeight||o.defaultRowHeight,paddingBetween:this.options.paddingBetween||o.defaultPaddingBetween,paddingOuter:this.options.paddingOuter||o.defaultPaddingOuter,scrollTop:this.scrollTop,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer};return this.scrollToFrame(a)},o.prototype.stopTouchPropagation=function(){var e=d3.event;this.options.isReadMode()&&("touchstart"===e.type&&e.touches&&1===e.touches.length&&e.stopPropagation(),"touchmove"===e.type&&e.stopPropagation())},o.prototype.defaultScrollToFrame=function(e){var t,a=e.loadMoreData,i=e.rowHeight,o=e.paddingBetween,r=e.paddingOuter,n=e.scrollTop,l=e.totalRows,e=e.visibleGroupContainer;i=o||r?!this._totalRows||!this.options.rowHeight||i<1?(t=u.SVGUtil.translateWithPixels(s=0,0),1):(s=this.getRowIndex(n,i,o,r,!1),t=u.SVGUtil.translateWithPixels(0,0<s?this.getRowStartPosition(s,i,o,r):0),this.getRowIndex(n+this.getContainerHeight(),i,o,r,!0)-s+1):(s=0===n?0:Math.floor(n/i),t=u.SVGUtil.translateWithPixels(0,s*i),this.getVisibleRowsWithoutPadding()),e.styles({transform:function(e){return t},"-webkit-transform":t});var e=Math.max(0,Math.min(s,l-i+1)),s=e+i;return this.currentScrollPosition={startIndex:e,endIndex:s},this.performScrollToFrame(e,s,l,i,a)},o.prototype.getFirstVisibleRow=function(){if(!_.isEmpty(this.visibleData))return this.visibleData[0]},o.prototype.reachedLastRowContent=function(){if(0<this._totalRows){var e=this.options,t=e.rowHeight,a=e.paddingBetween,i=e.paddingOuter,e=this._totalRows-1;return this.getRowStartPosition(e,t,a,i)+(0==e?i:a)<this.scrollTop+this.getContainerHeight()}return!1},o.prototype.performScrollToFrame=function(e,t,a,i,o){var r=this.options,n=this.visibleGroupContainer;this.visibleData=this._data.slice(e,Math.min(t,a));var l=!1,e=n.selectAll(".row").data(this.visibleData,this.getDatumIndex);return e.exit().remove(),e.enter().append("div").classed("row",!0).attr("role","none").call((function(e){return r.enter(e)})).merge(e).order(),n.selectAll(".row:not(.transitioning)").call((function(e){return r.update(e)})),o&&(r.customLoadMoreCheck?r.customLoadMoreCheck():(t=t,i!==(a=a)&&t>=a*u.ListViewLoadMoreDataThreshold))&&(l=r.loadMoreData()),r.afterScroll&&r.afterScroll(),this.setFocusCallback&&this.setFocusCallback(),{loadedMore:l}},o.prototype.getCurrentPosition=function(){return this.currentScrollPosition},o.prototype.setTotalRows=function(){var e=this._data;this._totalRows=e?e.length:0},o.prototype.getVisibleRowsWithoutPadding=function(){var e=this.options,t=e.rowHeight,a=e.scrollEnabled,e=this.getContainerHeight();if(!t||t<1)return 1;t=e/t;return a?Math.min(Math.ceil(t)+1,this._totalRows)||1:Math.min(Math.floor(t),this._totalRows)||1},o.prototype.getRowIndex=function(e,t,a,i,o){var r=Math.min(e<t+i?0:Math.floor((e-t-i)/(t+a))+1,this._totalRows-1);return r=this.getRowStartPosition(r,t,a,i)===e?o?Math.max(r-1,0):r:r},o.prototype.getRowStartPosition=function(e,t,a,i){return e*t+Math.max(0,e-1)*a+(0<e?i:0)},o.prototype.getRowHeightInternal=function(){var t=this.factory.defer(),a=this,e=a.options;if(this.cancelMeasurePass&&this.cancelMeasurePass(),!(this._data&&this._data.length&&e))return a.rowHeight(o.defaultRowHeight),a.paddingBetween(o.defaultPaddingBetween),a.paddingOuter(o.defaultPaddingOuter),t.resolve({rowHeight:e.rowHeight,paddingBetween:e.paddingBetween,paddingOuter:e.paddingOuter}),t.promise;if(e&&e.doNotRenderToCalculateRowHeight)return t.resolve({rowHeight:e.rowHeight,paddingBetween:e.paddingBetween,paddingOuter:e.paddingOuter}),t.promise;e={listView:this,loadMoreData:!1,rowHeight:this.options.rowHeight||o.defaultRowHeight,paddingBetween:o.defaultPaddingBetween,paddingOuter:o.defaultPaddingOuter,scrollTop:this.scrollbarInner.node().scrollTop,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer};this.scrollToFrame(e);var i=window.requestAnimationFrame((function(){var e=a.visibleGroupContainer.selectAll(".row").filter((function(){return""!==this.textContent}));(e=e.empty()?a.visibleGroupContainer.select(".row"):e).empty()||(e=e.node(),e=Math.ceil(Math.max($(e).outerHeight(!0),$(e).children().first().outerHeight(!0))),a.rowHeight(e),t.resolve({rowHeight:e,paddingBetween:o.defaultPaddingBetween,paddingOuter:o.defaultPaddingOuter})),a.cancelMeasurePass=void 0}));return this.cancelMeasurePass=function(){window.cancelAnimationFrame(i),t.reject()},t.promise},o.defaultRowHeight=1,o.defaultPaddingBetween=0,o.defaultPaddingOuter=0,o);function o(e){var t=this;this._data=[],this.scrollTop=0,this.factory=i.createJQueryPromiseFactory(),e=this.options=$.extend(!0,{},e),!this.options.paddingBetween&&!this.options.paddingOuter||this.options.doNotRenderToCalculateRowHeight,this.scrollbarInner=e.baseContainer.append("div").classed("scrollbar-inner",!0).attr("role","none").on("scroll",(function(){return t.onScroll()})),this.scrollContainer=this.scrollbarInner.append("div").classed("scrollRegion",!0).attr("role","none").on("touchstart",(function(){return t.stopTouchPropagation()})).on("touchmove",(function(){return t.stopTouchPropagation()})).style("overflow-y","hidden"),this.visibleGroupContainer=this.scrollContainer.append("div").classed("visibleGroup",!0).attr("role","none"),this.scrollInner=$(this.scrollbarInner.node()),this.scrollInner.scrollbar({ignoreOverlay:!1,ignoreMobile:!1,onDestroy:function(){return t.scrollbarInner.on("scroll",null)}}),$(e.baseContainer.node()).find(".scroll-element").attr("drag-resize-disabled","true"),$(e.baseContainer.node()).find(".scroll-wrapper").attr("role","none"),this.scrollToFrame=this.options.scrollToFrame||this.defaultScrollToFrame,o.setDefaultOptions(e)}})(i.visuals||(i.visuals={}))})(powerbi=powerbi||{}),(function(m){!(function(n){var l;!(function(T){T.createPushPin=function(e,t,a,i){var o={draggable:!1};return o.icon=t,new Microsoft.Maps.Pushpin(e,o)},T.renderAfterResize=function(e){!e||(e=e._v8Map&&e._v8Map._sizeHelper)&&_.isFunction(e.pollSize)&&e.pollSize()},T.mapTypeIdFromTheme=function(e){return e=Microsoft.Maps.MapTypeId[e]},T.Settings={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S"},T.StreetsideModeManagerInterval=16;var a=(e.prototype.ensureMap=function(e){return m.ensureMap(this.promiseFactory,this.loader,this.mapControlUrl,e)},e.prototype.createMapControl=function(e,t){return new Microsoft.Maps.Map(e,t)},e.prototype.loadAzureMapScripts=function(){return m.loadAzureMapScripts(this.promiseFactory,this.loader)},e.prototype.createAzureMapControl=function(e,t){return new atlas.Map(e,{subscriptionKey:"xfefTl4ZST_fZb9l-IT5EpZqJGKpqQOsHTXeyoi3zeQ",language:t,view:"Auto",disableTelemetry:!0})},e.prototype.isAzureMapSupported=function(){return atlas.isSupported(!1)},e);function e(e,t,a){this.promiseFactory=e,this.loader=t,this.mapControlUrl=a}function i(e,t){return e<-90||90<e||t<-180||180<t}T.MapControlFactory=a,T.createDefaultMapControlFactory=function(e,t){return new a(e,t,"https://www.bing.com/api/maps/mapcontrol")},T.setCreateDefaultMapControlFactory=function(e){T.createDefaultMapControlFactory=e},T.latLongIsInvalid=function(e,t){return e?i(e.latitude,e.longitude):t},T.isLatLongInvalid=i,T.normalizeLongitude=function(e){for(;e<-180;)e+=360;for(;180<e;)e-=360;return e},T.MinAllowedLatitude=-85.05112878,T.MaxAllowedLatitude=85.05112878,T.MinAllowedLongitude=-180,T.MaxAllowedLongitude=180,T.TileSize=256,T.MaxLevelOfDetail=23,T.MinLevelOfDetail=1,T.DefaultLevelOfDetail=11,T.WorkerErrorName="___error___",T.DefaultFillOpacity=.5,T.LeaderLineColorName="foregroundDark",T.CategoryTypes={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},T.MapLassoButtonClass="mapLassoButton",T.MapLassoButtonHighContrastClass="mapLassoButtonHighContrast",T.MapLassoButtonSelector="."+T.MapLassoButtonClass,T.MapLassoButtonId="MapLassoButton",T.NavBarContainerClass="NavBar_Container",T.NavBarSelector="."+T.NavBarContainerClass,T.NavBarButtonClass="NavBar_Button",T.NavButtonIconClass="NavButton_Icon",T.RectangleSelectKey="Rectangle_Select",T.PlotAreaClass="plot-area",T.PlotAreaSelector="."+T.PlotAreaClass,T.ZoomInButtonClass="NavBar_zoomIn",T.ZoomOutButtonClass="NavBar_zoomOut",T.ZoomButtonSelector="."+T.ZoomInButtonClass+", ."+T.ZoomOutButtonClass,T.NavBarButtonDisplayedSelector=T.MapLassoButtonSelector+", ."+T.ZoomInButtonClass+", #"+T.ZoomOutButtonClass;var c,t;function d(e,t,a){return Math.min(Math.max(e,t),a)}function D(){return o(T.DefaultLevelOfDetail)}function o(e){return 23===e?2147483648:Math.floor(e)===e?256<<e:256*Math.pow(2,e)}function V(e,a,t){for(var i=t&&t.xAdjust,o=t&&t.unconstrained,r=new Float64Array(e.length),n=function(e,t){e+=.5,t+=.5,e*=a,t*=a,e+=.5,t+=.5,i&&(e+=i*a),r[l]=e,r[l+1]=t},l=0;l<e.length;l+=2){var s=e[l],u=e[l+1];o||(s=d(s,T.MinAllowedLatitude,T.MaxAllowedLatitude),u=d(u,T.MinAllowedLongitude,T.MaxAllowedLongitude)),c.fromLatLong(s,u,n)}return r}function r(e,t,a,i){i=V(new Float64Array([e,t]),o(a),i);return{x:i[0],y:i[1]}}function n(e,t,a){return c.toLatLong((e-.5)/a-.5,(t-.5)/a-.5)}function l(e,t,a){a=n(e,t,o(a));return new Microsoft.Maps.Location(a.latitude,a.longitude)}function s(e,t){return r(e.latitude,e.longitude,t)}function u(e){for(var t={latitude:-90,longitude:180},a={latitude:90,longitude:-180},i=0;i<e.length;i+=2)t.latitude=Math.max(e[i],t.latitude),t.longitude=Math.min(e[i+1],t.longitude),a.latitude=Math.min(e[i],a.latitude),a.longitude=Math.max(e[i+1],a.longitude);return t.longitude=d(t.longitude,-180,180),a.longitude=d(a.longitude,-180,180),{top:t.latitude,bottom:a.latitude,left:t.longitude,right:a.longitude}}function p(e,t,a){a=new Microsoft.Maps.Point(t,a),a=e.tryPixelToLocation(a,Microsoft.Maps.PixelReference.page);e.setView({center:a})}T.clip=d,T.getAbsoluteMapSize=D,T.getMapSize=o,(t=c=T.Mercator||(T.Mercator={})).fromLatLong=function(e,t,a){if(t/=360,e=Math.sin(e*Math.PI/180),e=-Math.log((1+e)/(1-e))/(4*Math.PI),!a)return{x:t,y:e};a(t,e)},t.toLatLong=function(e,t,a){if(t=Math.exp(4*-t*Math.PI),t=180*Math.asin((t-1)/(t+1))/Math.PI,e*=360,!a)return{latitude:t,longitude:e};a(t,e)},T.latLongToPixelXYArray=V,T.latLongToPixelXY=r,T.latLongToAbsoluteXY=function(e,t,a){return r(e,t,T.DefaultLevelOfDetail,a)},T.latLongFromPixelXY=n,T.latLongFromAbsoluteXY=function(e,t){return n(e,t,T.getMapSize(T.DefaultLevelOfDetail))},T.pixelXYToLocation=l,T.locationToPixelXY=s,T.locationRectToRectXY=function(e,t){var a=s(e.getNorthwest(),t),t=s(e.getSoutheast(),t);return new m.visuals.Rect(a.x,a.y,t.x-a.x,t.y-a.y)},T.absoluteXYToLocation=function(e,t){return l(e,t,T.DefaultLevelOfDetail)},T.getLocationBoundingRect=u,T.getLocationBoundaries=function(e){return e=u(e),Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(e.top,e.left),new Microsoft.Maps.Location(e.bottom,e.right))},T.parseEncodedSpatialValueArray=function(e){for(var t=[],a=0,i=0,o=0,r=4294967296;a<e.length;){for(var n=0,l=0;;){if(a>=e.length)return null;var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".indexOf(e.charAt(a++));if(-1===s)return null;var u=(31&s)*Math.pow(2,l),n=(u/r|n/r)*r+((u%r|n%r)>>>0);if(l+=5,s<32)break}var c=Math.floor((Math.sqrt(8*n+5)-1)/2);n-=c*(c+1)/2;var p=Math.floor(n),c=c-p;o+=p=p>>1^-(1&p);c=1e-5*(i+=c=c>>1^-(1&c));t.push(d(1e-5*o,-90,90)),t.push(c)}return new Float64Array(t)},T.expandLocationRect=function(e,t){return t&&(e?(t.west<e.west&&(e.west=t.west),t.east>e.east&&(e.east=t.east),t.south<e.south&&(e.south=t.south),t.north>e.north&&(e.north=t.north)):e=__assign({},t)),e},T.calcShapeData=function(e){if(!_.isEmpty(e)){for(var t=!1,a=0,i=e;a<i.length;a++){var o=i[a];o.nativeBing&&!o.geographic&&(o.geographic=T.parseEncodedSpatialValueArray(o.nativeBing),o.geographic&&(t=!0))}if(t){for(var r,n=[],l=0,s=e;l<s.length;l++){var u=s[l];(N=u.geographic)&&(f=T.getLocationBoundaries(N),u.adjustedBounds={west:f.getWest(),north:f.getNorth(),east:f.getEast(),south:f.getSouth()},u.absoluteBounds=T.locationRectToRectXY(f,T.DefaultLevelOfDetail),n.push({location:u,bounds:f,xAdjust:0}))}for(var c=-1,p=0;p<n.length;++p){var d=(w=n[p]).bounds.width*w.bounds.height;(-1===c||r<d)&&(c=p,r=d)}for(var m=D(),g=n[c].bounds.getWest(),y=n[c].bounds.getEast(),h=0,b=n;h<b.length;h++){var f,v=(f=(w=b[h]).bounds).getWest(),S=f.getEast();S<g&&v+360-y<g-S&&(w.xAdjust=1),y<v&&g-(S-360)<v-y&&(w.xAdjust=-1),w.xAdjust&&(S=360*w.xAdjust,(v=w.location.adjustedBounds).west+=S,v.east+=S,w.location.absoluteBounds.left+=w.xAdjust*m)}for(var C=0,x=n;C<x.length;C++){var w,N,P=(w=x[C]).location;(N=P.geographic)&&(P.absolute||(P.absolute=V(N,m,{xAdjust:w.xAdjust})))}}}},(T.CurrentLocation||(T.CurrentLocation={})).createPushpin=function(e){return T.createPushPin(e,'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="#FF5F00" cx="12" cy="12" r="6"></circle><circle fill="none" stroke="#FF5F00" stroke-width="2" cx="12" cy="12" r="10"></circle></svg>',24,24)},T.moveMap=p,T.moveMapDelta=function(e,t,a){var i=e.tryLocationToPixel(e.getCenter(),Microsoft.Maps.PixelReference.page);p(e,i.x-t,i.y-a)}})(l=n.MapUtil||(n.MapUtil={}));var e=(t.prototype.reCalc=function(e,t,a){var i,o,r=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];this._baseRect||(i=l.locationToPixelXY(this._locationRect.getNorthwest(),11),o=l.locationToPixelXY(this._locationRect.getSoutheast(),11),this._baseRect=new n.Rect(i.x,i.y,o.x-i.x,o.y-i.y));r=e.tryLocationToPixel(r),t=r[0].x+t/2,a=r[0].y+a/2,e=e.getZoom()-11,e=Math.pow(2,e),e=this._baseRect.width*e,r=r[1].y-r[0].y;this._currentRect=new n.Rect(t,a,e,r)},Object.defineProperty(t.prototype,"scale",{get:function(){return this._baseRect?this._currentRect.width/this._baseRect.width:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){var e=this._baseRect,t=this._currentRect,a=new n.Transform;return a.translate(t.left,t.top),a.scale(t.width/e.width,t.height/e.height),a.translate(-e.left,-e.top),a},enumerable:!1,configurable:!0}),t.prototype.transformToString=function(e){e=e.matrix;return"matrix("+e.m00+" "+e.m10+" "+e.m01+" "+e.m11+" "+e.m02+" "+e.m12+")"},t);function t(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}n.MapPolygonInfo=e})(m.visuals||(m.visuals={}))})(powerbi=powerbi||{}),(function(c){!(function(l){var r,t=jsCommon.BrowserUtils,s=c.visuals.builder,n=jsCommon.Color;function a(){return{lineDashType:l.lineStyle.solid,showMarker:!1,shape:l.markerShape.defaultValue,size:u.defaultSize,color:void 0}}(r=l.MarkerProperties||(l.MarkerProperties={})).markerShapeSizeMax=10,r.readFromStaticObjects=function(e,t){return _.isEmpty(e)?a():(t=l.ColorHelper.create(t),{lineDashType:l.lineStyle.solid,showMarker:c.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.showMarker,!1),shape:c.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.markerShape,l.markerShape.defaultValue),size:c.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.markerSize,u.defaultSize),color:t.getColorForProperty(e,l.lineChartProps.lineStyles.markerColor,void 0)})},r.readFromSeries=function(e,t,a,i,o){var r=c.Prototype.inherit(t);if(r.key="seriesMarker"+a,!e.data.hasSeries()||o)return r.color=t.color||e.colors.createBySeries(a,void 0,l.ForegroundColorName),r;var n=e.objects.getSeriesDataObjects(a);return null!=(o=c.DataViewObjects.getValue(n,l.lineChartProps.lineStyles.showMarker))&&(r.showMarker=o),null!=(o=c.DataViewObjects.getValue(n,l.lineChartProps.lineStyles.markerShape))&&(r.shape=o),null!=(o=c.DataViewObjects.getValue(n,l.lineChartProps.lineStyles.markerSize))&&(r.size=+o),null!=(n=l.ColorHelper.create(i).getColorForProperty(n,l.lineChartProps.lineStyles.markerColor,void 0))?r.color=n:t.color||(r.color=e.colors.createBySeries(a,void 0,l.ForegroundColorName)),r},r.getDefault=a,r.populateInstance=function(e,t){e.properties[l.lineChartProps.lineStyles.showMarker.propertyName]=t.showMarker,t.showMarker&&(e.properties[l.lineChartProps.lineStyles.markerShape.propertyName]=t.shape,e.properties[l.lineChartProps.lineStyles.markerSize.propertyName]=t.size,e.properties[l.lineChartProps.lineStyles.markerColor.propertyName]=t.color)},r.addMarkersFormattingContainers=function(e,t){var a=e.styleProps,i=e.style,o=e.selector;a&&t.addGroup("markers",(function(e){e.withDisplayName("Visual_Shape"),a.showMarker&&(e.addSimpleSlice("showMarker",new s.ToggleSwitchBuilder({descriptor:__assign(__assign({},a.showMarker),{selector:o}),value:i.markerProperties.showMarker}).build(),(function(e){return e.withDisabled(!o)})),a.markerShape&&e.addSimpleSlice("markerShape",new s.DropdownBuilder({descriptor:__assign(__assign({},a.markerShape),{selector:o}),value:i.markerProperties.shape}).build(),(function(e){return e.withCustomDisplayName("Type").withDisabled(!i.markerProperties.showMarker)})),a.markerSize&&e.addSimpleSlice("markerSize",new s.NumUpDownBuilder({descriptor:__assign(__assign({},a.markerSize),{selector:o}),value:i.markerProperties.size,options:{minValue:{type:0,value:0},maxValue:{type:1,value:r.markerShapeSizeMax}}}).build(),(function(e){return e.withCustomDisplayName("Visual_BubbleSize").withDisabled(!i.markerProperties.showMarker)})),a.markerColor&&e.addSimpleSlice("markerColor",new s.ColorPickerBuilder({descriptor:__assign(__assign({},a.markerColor),{selector:o}),value:{value:i.markerProperties.color}}).build(),(function(e){return e.withCustomDisplayName("Generic_Color").withDisabled(!i.markerProperties.showMarker)})))}))},r.addScatterChartMarkersFormattingContainers=function(e,t,a){var i=e.styleProps,o=e.style,r=e.selector,n=e.hasSize;i&&t.addGroup("shape",(function(e){e.withDisplayName("Visual_Shape"),i.markerShape&&e.addSimpleSlice("markerShape",new s.DropdownBuilder({descriptor:__assign(__assign({},i.markerShape),{selector:r}),value:o.markerShape}).build(),(function(e){return e.withCustomDisplayName("Type")})),a.fillPointStyle?e.addSimpleSlice("fillStyle",new s.DropdownBuilder({descriptor:__assign(__assign({},i.fillPointStyle),{selector:r}),value:o.fillPointStyle}).build(),(function(e){return e.withCustomDisplayName("Style").withDisabled(n||!!r).withCustomDescription(n||r?"Visual_Scatter_Size_FormatOption_DisabledReason_FillPoint":void 0)})):e.addSimpleSlice("showFill",new s.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.fillPointShow),{selector:r}),value:o.fillPointShow}).build(),(function(e){return e.withCustomDisplayName("Visual_FillPoint").withDisabled(n||!!r).withCustomDescription(n||r?"Visual_Scatter_Size_FormatOption_DisabledReason_FillPoint":void 0)})),i.colorBorder&&e.addSimpleSlice("colorBorder",new s.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.colorBorder),{selector:null}),value:o.colorBorder}).build(),(function(e){return e.withCustomDisplayName("Visual_ColorBorder").withDisabled(!n).withCustomDescription(n?void 0:"Visual_Scatter_Size_FormatOption_DisabledReason")})),i.markerSize&&e.addSimpleSlice("markerSize",new s.NumUpDownBuilder({descriptor:__assign(__assign({},i.markerSize),{selector:r}),value:o.markerSize,options:{minValue:{type:0,value:-30},maxValue:{type:1,value:100}}}).build(),(function(e){return e.withCustomDisplayName("Visual_BubbleSize").withDisabled(!!r)}))}))};var u,e=(i.prototype.ensureMarkers=function(e,t){var a=this,i=this.modifyMarkersIfNeeded(t,this.shouldCycleKeyModifier),o=e.selectAll("marker").data(i.filter((function(e){return e.showMarker})),(function(e){return a.getMarkerId(e)})),t=o.enter().append("marker").merge(o);t.append("path").classed("markerPaths",!0),t.attrs({id:function(e){return a.getMarkerId(e)},markerUnits:"strokeWidth",orient:0,refX:0,refY:0,viewBox:"-6 -6 12 12"}).transition().duration(1).attrs({markerHeight:function(e){return e.size},markerWidth:function(e){return e.size}}),o.exit().remove();i=e.selectAll(".markerPaths").data(i.filter((function(e){return e.showMarker})),(function(e){return a.getMarkerId(e)}));i.attr("d",(function(e){return u.getPath(e.shape)})).style("stroke-width",(function(e){return u.getStrokeWidth(e.shape)})).style("stroke-opacity",(function(e){return null!=e.transparency?n.convertTransparencyToOpacity(e.transparency):1})).style("stroke",(function(e){return e.color})).style("fill",(function(e){return e.color})).style("opacity",(function(e){return null!=e.transparency?n.convertTransparencyToOpacity(e.transparency):null})),i.exit().remove()},i.prototype.renderMarkers=function(e){var a=this;e.attr("marker-start",(function(e,t){return a.getMarkerKey(e.lineStyle.markerProperties)})).attr("marker-mid",(function(e,t){return a.getMarkerKey(e.lineStyle.markerProperties)})).attr("marker-end",(function(e,t){return a.getMarkerKey(e.lineStyle.markerProperties)}))},i.prototype.renderUncertaintyMarkers=function(e){var t=this;e.attr("marker-start",(function(e){return t.getMarkerKey(e.seriesData.uncertainty.markers)})).attr("marker-mid",(function(e){return t.getMarkerKey(e.seriesData.uncertainty.markers)})).attr("marker-end",(function(e){return t.getMarkerKey(e.seriesData.uncertainty.markers)}))},i.prototype.shouldDisableAnimations=function(){return this.shouldCycleKeyModifier},i.prototype.getMarkerId=function(e){return e.key+"-"+this.uniqueIdentifier+(e.modifier||"")},i.prototype.getMarkerKey=function(e){return e.showMarker?"url('"+(t.isSafari()||t.isIOSWebView()?window.location.href:"")+"#"+e.key+"-"+this.uniqueIdentifier+this.markerKeyModifier+"')":null},i.prototype.modifyMarkersIfNeeded=function(e,t){if(t){t=[];return this.cycleMarkerKeyModifier(),(t=this.modifyMarkerProperties(e,"a")).push.apply(t,this.modifyMarkerProperties(e,"b")||[]),t}return e},i.prototype.cycleMarkerKeyModifier=function(){"a"===this.markerKeyModifier?this.markerKeyModifier="b":this.markerKeyModifier="a"},i.prototype.modifyMarkerProperties=function(e,t){return _.map(e,(function(e){e=c.Prototype.inherit(e);return e.modifier=t,e}))},i.sizeRatio=10/12,i);function i(){this.markerKeyModifier="",this.shouldCycleKeyModifier=jsCommon.BrowserUtils.isInternetExplorerOrEdge(),this.uniqueIdentifier=_.uniqueId()}l.MarkerRenderer=e,(function(e){e.defaultSize=5;e.getPath=function(e){switch(e){case l.markerShape.circle:return"M 0 0 m -5 0 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0";case l.markerShape.square:return"M 0 0 m -5 -5 l 10 0 l 0 10 l -10 0 z";case l.markerShape.diamond:return"M 0 0 m -5 0 l 5 -5 l 5 5 l -5 5 z";case l.markerShape.triangle:return"M 0 0 m -5 5 l 5 -10 l 5 10 z";case l.markerShape.x:return"M 0 0 m -5 -5 l 10 10 m -10 0 l 10 -10";case l.markerShape.shortDash:return"M 0 0 l 5 0";case l.markerShape.longDash:return"M 0 0 m -5 0 l 10 0";case l.markerShape.plus:return"M 0 0 m -5 0 l 10 0 m -5 -5 l 0 10";case l.markerShape.lowerErrorBar:return"M 0 0 m 0 -5 l 0 10 m -5 0 l 10 0";case l.markerShape.upperErrorBar:return"M 0 0 m 0 5 l 0 -10 m -5 0 l 10 0";case l.markerShape.none:return}},e.getStrokeWidth=function(e){switch(e){case l.markerShape.circle:case l.markerShape.square:case l.markerShape.diamond:case l.markerShape.triangle:case l.markerShape.none:return 0;case l.markerShape.x:case l.markerShape.plus:case l.markerShape.lowerErrorBar:case l.markerShape.upperErrorBar:return 1;case l.markerShape.shortDash:case l.markerShape.longDash:return 2}},e.resolveMarkerShape=function(e,t,a){return t=t===l.legendMarkerRendering.markerOnly?e&&e.showMarker?e.shape:a:t===l.legendMarkerRendering.markerCircleDefault?e&&e.showMarker?e.shape:l.markerShape.circle:t===l.legendMarkerRendering.lineAndMarker?e&&e.showMarker?e.shape:l.markerShape.none:t===l.legendMarkerRendering.lineOnly?l.markerShape.none:l.markerShape.circle},e.resolveMarkerColor=function(e,t,a,i){if(!e)return t;if(a===l.legendMarkerRendering.markerOnly){if(i)return t;if(!1===e.showMarker)return t}return e.color||t},e.getPathWithRadius=function(e,t){switch(e){case l.markerShape.circle:return"M 0 0 m "+-t+" 0 a "+t+" "+t+" 0 1 0 "+2*t+" 0 a "+t+" "+t+" 0 1 0 "+-2*t+" 0";case l.markerShape.square:return"M 0 0 m "+-t+" "+-t+" l "+2*t+" 0 l 0 "+2*t+" l "+-2*t+" 0 z";case l.markerShape.diamond:return"M 0 0 m "+-t+" 0 l "+t+" "+-t+" l "+t+" "+t+" l "+-t+" "+t+" z";case l.markerShape.triangle:return"M 0 0 m "+-t+" "+t+" l "+t+" "+-2*t+" l "+t+" "+2*t+" z";case l.markerShape.x:return"M 0 0 m "+-t+" "+-t+" l "+2*t+" "+2*t+" m "+2*-t+" 0 l "+2*t+" "+2*-t;case l.markerShape.shortDash:return"M 0 0 l "+t+" 0";case l.markerShape.longDash:return"M 0 0 m "+-t+" 0 l "+2*t+" 0";case l.markerShape.plus:return"M 0 0 m "+-t+" 0 l "+2*t+" 0 m "+-t+" "+-t+" l 0 "+2*t;case l.markerShape.lowerErrorBar:return"M 0 0 m 0 "+-t+" l 0 "+2*t+" m "+-t+" 0 l "+2*t+" 0";case l.markerShape.upperErrorBar:return"M 0 0 m 0 "+t+" l 0 "+2*-t+" l "+-t+" 0 l "+2*t+" 0";case l.markerShape.none:return null}}})(u=l.Markers||(l.Markers={}))})(c.visuals||(c.visuals={}))})(powerbi=powerbi||{}),(function(e){var c;((c=e.visuals||(e.visuals={})).NavigationUtils||(c.NavigationUtils={})).getNextFromFlattenedViewModel=function(e,t,a,i,o){var r,n,l,s=t,u=a;switch(o){case c.DataDirection.PreviousCategory:case c.DataDirection.NextCategory:if(i===c.DataPointNavigationStrategy.SeriesOnly)break;n=o===c.DataDirection.PreviousCategory?-1:1,s=(r=_.filter(e,(function(e){return e.seriesIndex===a})))[l=(l=(l=n+_.findIndex(r,(function(e){return e.categoryIndex===t})))>=r.length?0:l)<0?r.length-1:l].categoryIndex;break;case c.DataDirection.NextSeries:case c.DataDirection.PreviousSeries:if(i===c.DataPointNavigationStrategy.CategoryOnly)break;s=(l=[e[l=(l=(l=(n=o===c.DataDirection.PreviousSeries?-1:1)+_.findIndex(e,(function(e){return e.categoryIndex===t&&e.seriesIndex===a})))>=e.length?0:l)<0?e.length-1:l].categoryIndex,e[l].seriesIndex])[0],u=l[1]}return{categoryIndex:s,seriesIndex:u}}})(powerbi=powerbi||{}),(function(L){var M,R,r;function m(e,a){return _.filter(e,(function(e){var t=e.value;return 0!==e.axis||_.isUndefined(t)||!a||a.dateTime===t instanceof Date||a.numeric===_.isNumber(t)}))}function D(e,t,a,i){e=m(e,s(t).axisType),a=o(e,t,a);return i?l(e):n(a)}function o(e,a,i){return _.filter(e,(function(e){var t;return R.isHorizontal(e,a)?0<=(t=(e.isY2&&(null===(t=a.y2)||void 0===t?void 0:t.scale)||a.y1.scale)(e.value))&&t<=i.height:0<=(t=a.x.scale(e.value))&&t<=i.width}))}function g(e,t,a){e===R.xAxisRefLineObjectName&&a&&(a.dateTime?t.propertyTypes[R.ReferenceLineProps.value]={dateTime:!0}:a.numeric&&(t.propertyTypes[R.ReferenceLineProps.value]={numeric:!0}))}function n(e){return _.filter(e,(function(e){return e.show&&(_.isNumber(e.value)||e.value instanceof Date)}))}function l(e){return _.filter(e,(function(e){return e.shadeRegionProperties.shadeRegion!==M.referenceLineShadeRegion.none}))}function s(e){return e.x.isCategoryAxis?e.x:e.y1}M=L.visuals||(L.visuals={}),r=jsCommon.CssConstants.createClassAndSelector,(R=M.ReferenceLineHelper||(M.ReferenceLineHelper={})).xAxisRefLineObjectName="xAxisReferenceLine",R.y1AxisRefLineObjectName="y1AxisReferenceLine",R.enumerateObjectInstances=function(e,t,a,i,o,r,n){if(!o){t=m(t,r);if(_.isEmpty(t))return g(i,d={selector:{id:"0"},properties:{show:!1,lineColor:{solid:{color:a}},transparency:50,style:M.lineStyle.dashed,position:M.referenceLinePosition.front,dataLabelShow:!1},objectName:i,propertyTypes:{}},r),void e.pushInstance(d);for(var l=0,s=t;l<s.length;l++){var u,c=s[l],p=c.dataLabelProperties&&c.dataLabelProperties.show,d={selector:c.selector,properties:{show:c.show,displayName:c.displayName,value:c.value,lineColor:c.color,transparency:c.transparency,style:c.style,position:c.position},objectName:c.type,propertyTypes:{},propertyInstanceKind:{}};n&&n.xAxisRefLineImprovements&&(d.propertyInstanceKind[R.ReferenceLineProps.value]=3,u=c.shadeRegionProperties,d.properties[R.ReferenceLineProps.shadeRegion]=u.shadeRegion,c.shadeRegionProperties.shadeRegion!==M.referenceLineShadeRegion.none&&(d.properties[R.ReferenceLineProps.shadeColor]=u.shadeColor,d.properties[R.ReferenceLineProps.shadeTransparency]=u.shadeTransparency)),(d.properties[R.ReferenceLineProps.dataLabelShow]=p)&&(c=c.dataLabelProperties,d.properties[R.ReferenceLineProps.dataLabelColor]=c.color,d.properties[R.ReferenceLineProps.dataLabelText]=c.text,d.properties[R.ReferenceLineProps.dataLabelHorizontalPosition]=c.horizontalPosition,d.properties[R.ReferenceLineProps.dataLabelVerticalPosition]=c.verticalPosition,d.properties[R.ReferenceLineProps.dataLabelDisplayUnits]=c.displayUnits,d.properties[R.ReferenceLineProps.dataLabelDecimalPoints]=c.decimalPoints),i===R.xAxisRefLineObjectName&&g(i,d,r),e.pushInstance(d)}}},R.getValidReferenceLines=m,R.filterOutOfBoundReferenceLines=o,R.render=function(u){var c=u.axes.x.scale,p=u.axes.y1.scale,d=u.axes.y2&&u.axes.y2.scale;function e(e){if(e.show&&!_.isUndefined(e.value)){var t=e.isY2?d:p,a=R.isHorizontal(e,u.axes),i=u.viewport,o=e.value,r=d3.select(this);r.attr("x1",a?0:c(o)),r.attr("y1",a?t(o):0),r.attr("x2",a?i.width:c(o)),r.attr("y2",a?t(o):i.height);var n={fill:"none"};n.stroke=e.color.solid.color;i=e.transparency;switch(n["stroke-opacity"]=(100-i)/100,e.style){case M.lineStyle.dotted:n["stroke-dasharray"]="1, 5",n["stroke-linecap"]="round";break;case M.lineStyle.solid:n["stroke-dasharray"]=null,n["stroke-linecap"]=null;break;default:M.lineStyle.dashed;n["stroke-dasharray"]="5, 5",n["stroke-linecap"]=null}r.styles(n)}}var t=D(u.referenceLines,u.axes,u.viewport,!1),a=u.graphicContext,i=r("reference-line-front"),o=_.filter(t,(function(e){return e.position===M.referenceLinePosition.front}));(o=a.selectAll(i.selector).data(o)).enter().append("line").classed(i.class,!0).merge(o).each(e),o.exit().remove(),o=r("reference-line-back"),t=_.filter(t,(function(e){return e.position!==M.referenceLinePosition.front})),(t=a.selectAll(o.selector).data(t)).enter().insert("line",":first-child").classed(o.class,!0).merge(t).each(e),t.exit().remove(),o=r("shade-region-ref-line"),t=D(u.referenceLines,u.axes,u.viewport,!0),(t=a.selectAll(o.selector).data(t)).enter().append("rect").classed(o.class,!0).merge(t).each((function(e){var t,a,i,o,r,n,l,s=e.shadeRegionProperties;s.shadeRegion!==M.referenceLineShadeRegion.none&&e.show&&!_.isUndefined(e.value)&&(t=u.viewport,r=e.value,a=d3.select(this),o=e.isY2?d:p,i=R.isHorizontal(e,u.axes),l=Math.max(c(r),0),n=Math.min(o(r),t.height),e=s.shadeRegion===M.referenceLineShadeRegion.before?0:l,o=s.shadeRegion===M.referenceLineShadeRegion.before?n:0,r=(100-s.shadeTransparency)/100,n=s.shadeRegion===M.referenceLineShadeRegion.before?t.height-n:n,l=s.shadeRegion===M.referenceLineShadeRegion.before?l:t.width-l,a.attr("height",i?n:t.height),a.attr("width",i?t.width:l),a.attr("fill",s.shadeColor.solid.color),a.attr("fill-opacity",r),a.attr(i?"y":"x",i?o:e),a.style("pointer-events","none"))})),t.exit().remove()},R.getShownReferenceLines=n,R.getShownShadeRegions=l,R.getCategoryAxis=s,R.readDataView=function(e,t,a,i,o,r,n,l){if(!e)return[];var s,u=[],c=M.ColorHelper.create(o);for(s in e){var p=e[s],d=void 0;if(a===R.xAxisRefLineObjectName&&10!==n)d=L.DataViewObject.getValue(p,R.ReferenceLineProps.value);else if(d=L.DataViewObject.getValue(p,R.ReferenceLineProps.value,0),_.isNull(d))continue;r.utcDates&&d instanceof Date&&L.isDateWithEpochValue(d)&&(V=d.epochTimeStamp,d=L.PBIFormattingDate.fromTimeValue(V));var m=L.DataViewObject.getValue(p,R.ReferenceLineProps.show,!1),g=L.DataViewObject.getValue(p,R.ReferenceLineProps.displayName,void 0),y={solid:{color:c.getColorForPropertyNameWithDefaultColor(p,R.ReferenceLineProps.lineColor,t)}},h=L.DataViewObject.getValue(p,R.ReferenceLineProps.transparency,50),b=L.DataViewObject.getValue(p,R.ReferenceLineProps.style,M.lineStyle.dashed),f=L.DataViewObject.getValue(p,R.ReferenceLineProps.position,M.referenceLinePosition.front),v=L.DataViewObject.getValue(p,R.ReferenceLineProps.shadeRegion,M.referenceLineShadeRegion.none),S={solid:{color:c.getColorForPropertyNameWithDefaultColor(p,R.ReferenceLineProps.shadeColor,t)}},C=L.DataViewObject.getValue(p,R.ReferenceLineProps.shadeTransparency,40),x=L.DataViewObject.getValue(p,R.ReferenceLineProps.dataLabelShow,!1),w={solid:{color:c.getColorForPropertyNameWithDefaultColor(p,R.ReferenceLineProps.dataLabelColor,t)}},N=L.DataViewObject.getValue(p,R.ReferenceLineProps.dataLabelText,M.labelText.value),P=L.DataViewObject.getValue(p,R.ReferenceLineProps.dataLabelHorizontalPosition,M.referenceLineDataLabelHorizontalPosition.left),T=L.DataViewObject.getValue(p,R.ReferenceLineProps.dataLabelVerticalPosition,M.referenceLineDataLabelVerticalPosition.above),D=L.DataViewObject.getValue(p,R.ReferenceLineProps.dataLabelDecimalPoints,void 0),V=D<0?void 0:D,D=L.DataViewObject.getValue(p,R.ReferenceLineProps.dataLabelDisplayUnits,0),p={id:s,metadata:l&&l.queryName};u.push({type:a,selector:p,show:m,displayName:g,value:d,color:y,transparency:h,style:b,position:f,shadeRegionProperties:{shadeRegion:v,shadeColor:S,shadeTransparency:C},dataLabelProperties:{show:x,color:w,text:N,horizontalPosition:P,verticalPosition:T,decimalPoints:V,displayUnits:D},axis:i,isY2:l&&l.roles&&l.roles.Y2})}return u},R.createLabelDataPoint=function(e){if(_.isEmpty(e.referenceLines))return[];for(var t=[],a=e.axes,i=e.viewport,o=a.x.scale,r=a.y1.scale,n=a.y2&&a.y2.scale,l=0,s=D(e.referenceLines,e.axes,e.viewport,!1);l<s.length;l++){var u=s[l];if(u.show&&u.dataLabelProperties.show&&!_.isUndefined(u.value)){var c=u.dataLabelProperties,p=R.isHorizontal(u,a),d=void 0,m=u.value;m instanceof Date?d=M.valueFormatter.createDefaultFormatter(M.valueFormatter.DefaultDateFormat,!0):null!=(d=P=(p?a.y1:a.x).formatter).options&&((T=L.Prototype.inherit(P.options)).precision=c.decimalPoints,T.value=c.displayUnits,d=M.valueFormatter.create(T));var g="";switch(c.text){case M.labelText.name:g=u.displayName;break;case M.labelText.nameAndValue:var y=e.hostServices.getLocalizedString("NamePattern_Colon"),g=jsCommon.StringExtensions.format(y,u.displayName,M.DataLabelRenderer.getLabelFormattedText(d.format(m)));break;default:M.labelText.value;g=M.DataLabelRenderer.getLabelFormattedText(d.format(m))}var h=M.DataLabelViewModel.getDefaultLabelSettings({style:e.style,textClassName:"smallDataLabel"}).fontProperties,b=M.FontProperties.toTextProperties(h,g),f=L.TextMeasurementService.measureSvgTextWidth(b),v=L.TextMeasurementService.estimateSvgTextHeight(b),S=void 0,C=void 0,x=u.isY2?n:r,w=p?0:o(m),N=p?x(m):0,P=p?i.width:o(m),T=p?x(m):i.height,x=[1],x=p?(S=c.horizontalPosition===M.referenceLineDataLabelHorizontalPosition.left?w+5:P-f/2-5,C=N,c.verticalPosition===M.referenceLineDataLabelVerticalPosition.above?[1]:[2]):(S=w,C=c.verticalPosition===M.referenceLineDataLabelVerticalPosition.above?N+v/2+5:T-v/2-5,c.horizontalPosition===M.referenceLineDataLabelHorizontalPosition.left?[4]:[8]),v=L.TextMeasurementService.measureSvgTextWidth(b),b=L.TextMeasurementService.estimateSvgTextHeight(b,!0);t.push({isPreferred:!0,text:g,textSize:{width:v,height:b},outsideFill:c.color.solid.color,insideFill:null,parentShape:{point:{x:S,y:C},radius:0,validPositions:x},parentType:0,fontProperties:h,identity:null,secondRowText:null,key:JSON.stringify({type:u.type,id:u.selector.id})})}}return t},R.gatherDomainExtents=function(e,t,a,i,o){if(e=m(e,o),!_.isEmpty(e))for(var r=0,n=e;r<n.length;r++){var l,s=n[r];s.show&&(l=s.value,_.isUndefined(l)||0===s.axis&&o&&o.dateTime!==l instanceof Date&&o.numeric!==_.isNumber(l)||(0===s.axis?t:s.isY2?i:a).push(l))}}})(powerbi=powerbi||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).ReferenceLineHelper||(e.ReferenceLineHelper={})).ReferenceLineProps||(e.ReferenceLineProps={})).show="show",e.lineColor="lineColor",e.transparency="transparency",e.displayName="displayName",e.value="value",e.style="style",e.position="position",e.shadeRegion="shadeRegion",e.shadeColor="shadeColor",e.shadeTransparency="shadeTransparency",e.dataLabelShow="dataLabelShow",e.dataLabelColor="dataLabelColor",e.dataLabelText="dataLabelText",e.dataLabelDecimalPoints="dataLabelDecimalPoints",e.dataLabelHorizontalPosition="dataLabelHorizontalPosition",e.dataLabelVerticalPosition="dataLabelVerticalPosition",e.dataLabelDisplayUnits="dataLabelDisplayUnits"})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ReferenceLineHelper||(e.ReferenceLineHelper={})).isHorizontal=function(e,t){return 0!==e.axis&&!t.y1.isCategoryAxis}})(powerbi=powerbi||{}),(function(e){!(function(r){var n=jsCommon.TextSizeDefaults;r.ResponsiveCartesianFontBreakpoints={size:[{breakpoint:240,maxSizePt:9},{breakpoint:320,maxSizePt:12},{breakpoint:460,maxSizePt:16},{breakpoint:540,maxSizePt:24}]};var e=(t.prototype.adjustFontSize=function(e,t){e=this.resolveMaxFontSizePtForViewport(e);return e>=t.size.pt?t:this.copyWithNewFontSize(t,e)},t.prototype.getFontSizeSeriesLabelWarning=function(e,t){var a=this.getFontSizeLabelWarning(e.dataLabelsSettings,t.dataLabelsSettings);if(a)return a;if(e.series&&t.series){e.series.length,t.series.length;for(var i=e.series,o=t.series,r=0;r<i.length;r++)if(a=this.getFontSizeLabelWarning(i[r].labelSettings,o[r].labelSettings))return a}},t.prototype.getFontSizeLabelWarning=function(e,t){if(e&&t){var a=e.fontProperties.size,i=t.fontProperties.size;if(!_.isEqual(a,i))return{selector:null,warnings:[new r.DataLabelsFontSizeWarning]};e.labelOverflow,t.labelOverflow}},t.prototype.resolveMaxFontSizePtForViewport=function(e){if(this.lastViewportSeen===e)return this.lastResolvedFontSizePt;for(var t=n.TextSizeMax,a=0,i=r.ResponsiveCartesianFontBreakpoints.size;a<i.length;a++){var o=i[a];if(e.height<o.breakpoint||e.width<o.breakpoint){t=o.maxSizePt;break}}return this.lastViewportSeen=e,this.lastResolvedFontSizePt=t},t.prototype.copyWithNewFontSize=function(e,t){t=r.Units.FontSize.createFromPt(t);return r.FontProperties.inherit(e,{size:t})},t);function t(){this.lastViewportSeen=void 0,this.lastResolvedFontSizePt=void 0}r.ResponsiveCartesianFontHelper=e})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(s){var u=s.visuals.builder,a=s.visuals.cartesianChartProps,c=s.visuals.columnChartProps;s.ribbonChartUtilsModuleFactory=function(){var D=s.visuals.CategoryLevelUtils,n=s.visuals.ColorHelper,V=s.visuals.columnRoleNames,L=s.visuals.converterHelper,l=s.DataViewObjects,M=s.visuals.valueFormatter;function R(t){for(var e=0,a=t.heightMatrix[t.categoryIndex],a=_.sortBy(a,(function(e){e=e.height||0;return t.isPositive||0===e?e:-e})),i=t.gapWidth&&0<a.length?t.gapWidth:0,o=0,r=a.length;o<r;o++){var n=a[o],l=n.dataToChange;t.hasHighlights&&(s=n.dataToChangeHighlight,t.isPositive?s.position=e+s.value:s.position=e);var s=n.height;t.isPositive?(e+=s,l.position=e,e+=l.value&&0!==l.value?i:0,l.rank=a.length-o):(l.position=e,e+=s,e-=i,l.rank=t.startRank+o+1),t.hasHighlights&&(n.dataToChangeHighlight.rank=l.rank)}}return{getRibbonOptionsFromDataviewObjects:function(e,t){return a=t,o=!(i=!0),r=0,t=30,(e=e)&&e.objects&&(e=e.objects,i=l.getValue(e,a.ribbonChart.colorBands,!0),o=l.getValue(e,a.dataPoint.showBorder,!1),r=l.getValue(e,a.series.seriesGapRatio,0),t=l.getValue(e,a.ribbonChart.bandsTransparency,30)),{seriesGapRatio:r,colorBands:i,bandsTransparency:t,showBorder:o};var a,i,o,r},enumerateRibbonChart:function(e,t,a){e=e,a=a,(t=t)&&a&&e.pushInstance({objectName:"ribbonChart",selector:null,properties:{seriesGapRatio:t.ribbonOptions.seriesGapRatio,colorBands:t.ribbonOptions.colorBands,bandsTransparency:t.ribbonOptions.bandsTransparency,showBorder:t.ribbonOptions.showBorder},validValues:{seriesGapRatio:{numberRange:{min:0,max:20}},bandsTransparency:{numberRange:{min:0,max:100}}}})},getRibbonChartCard:function(e){if(e){var i=e.localize,t=e.categoryAxisData,o=e.ribbonChartData,r=e.data,n=e.colorOptions;if(o&&r){var l={colorBands:c.ribbonChart.colorBands,bandsTransparency:c.ribbonChart.bandsTransparency,showBorder:c.dataPoint.showBorder,seriesGapRatio:c.series.seriesGapRatio,preferredCategoryWidth:a.categoryAxis.preferredCategoryWidth},e=new u.FormattingCardBuilder(new u.FormattingCardUidBuilder("ribbonChart"),"RibbonChart",__assign({fill:c.dataPoint.fill,showAllDataPoints:c.dataPoint.showAllDataPoints},l),i);return e.withDescription("RibbonChart_Description").addGroup("colors",(function(e){e.withDisplayName("Visual_Colors");var t,a=r.series.length;r.hasDynamicSeries||1<a||!r.categoryMetadata?(t={groupBuilder:e,dataPoints:r.series,seriesColorProps:c.dataPoint,localize:i},s.colorEnumerationHelperModuleFactory().appendSeriesColorSlicesToGroup(t)):(t=__assign(__assign({},n),{groupBuilder:e}),s.colorEnumerationHelperModuleFactory().appendCategoryColorSlicesToGroup(t)),l.colorBands&&e.addSimpleSlice("colorBands",new u.ToggleSwitchBuilder({descriptor:l.colorBands,value:o.ribbonOptions.colorBands}).build(),(function(e){return e.withCustomDisplayName("Visual_Ribbons_ConnectorColor")})),l.bandsTransparency&&e.addSimpleSlice("bandsTransparency",u.SliderBuilder.getTransparencySliderBuilder({descriptor:l.bandsTransparency,value:o.ribbonOptions.bandsTransparency,localize:i}).build(),(function(e){return e.withCustomDisplayName("Visual_Ribbons_ConnectorTransparency")})),l.showBorder&&e.addSimpleSlice("showBorder",(function(){return new u.ToggleSwitchBuilder({descriptor:l.showBorder,value:o.ribbonOptions.showBorder}).build()}))})).build(),(l.seriesGapRatio||l.preferredCategoryWidth)&&e.addGroup("spacing",(function(e){e.withDisplayName("RibbonChart_SeriesGapWidth"),l.seriesGapRatio&&e.addSimpleSlice("seriesGapRatio",new u.SliderBuilder({descriptor:l.seriesGapRatio,value:o.ribbonOptions.seriesGapRatio,options:{minValue:{type:0,value:0},maxValue:{type:1,value:50},unitSymbol:"Numeric_Pixel"},localize:i}).build()),l.preferredCategoryWidth&&e.addSimpleSlice("preferredCategoryWidth",new u.NumUpDownBuilder({descriptor:l.preferredCategoryWidth,value:t.preferredCategoryWidth,options:{minValue:{type:0,value:20},maxValue:{type:1,value:180},unitSymbol:"Numeric_Pixel"}}).build())})),e.build()}}},createRibbonChartDataPoints:function(e){for(var t=[],a=[],i=0,o=e.categoryCount;i<o;i++)t[i]=[],a[i]=[];for(var r=0,n=0,o=e.columnSeries.length;n<o;n++)for(var l=0,s=(y=e.columnSeries[n].data).length;l<s;l++){var u=y[l],c={seriesIndex:n,height:u.value,dataToChange:u,dataToChangeHighlight:e.hasHighlights?y[l+1]:void 0},i=u.categoryIndex;(0<=c.height?t:a)[i].push(c),e.hasHighlights&&l++,u.valueAbsolute>r&&(r=u.valueAbsolute)}for(var p=r*e.ribbonOptions.seriesGapRatio/100,i=0;i<e.categoryCount;i++){var d=t[i].length;R({isPositive:!0,heightMatrix:t,categoryIndex:i,hasHighlights:e.hasHighlights,startRank:d,gapWidth:p}),R({isPositive:!1,heightMatrix:a,categoryIndex:i,hasHighlights:e.hasHighlights,startRank:d,gapWidth:p})}e.ribbonChartDataPoints=[];for(var m=0,g=e.columnSeries;m<g.length;m++)for(var y,h=(y=g[m]).data,i=0,b=(h=e.hasHighlights?_.filter(h,(function(e){return e.highlight})):h).length;i<b-1;i++){var f,v,S,C,x,w,N,P=h[i],T=h[i+1];P.value&&T.value&&P.categoryIndex===T.categoryIndex-1&&(f=[],v=e.reader.columns.getValueMetadataColumn(V.y,y.index),w=C=void 0,x=D.getCategoryLevels(e.dataView.categorical.categories,P.categoryIndex,e.formatStringProp),S=D.getCategoryLevels(e.dataView.categorical.categories,T.categoryIndex,e.formatStringProp),N=D.concatenateCategoryLevels(x),x=D.concatenateCategoryLevels(S),S=N.value,N=x.value,w=e.hasDynamicSeries?(C=S+" "+y.displayName+" "+v.displayName,N+" "+y.displayName+" "+v.displayName):(C=S+" "+y.displayName,N+" "+y.displayName),f.push({displayName:C,value:L.formatFromMetadataColumn(P.value,v,e.formatStringProp,!1)}),f.push({displayName:w,value:L.formatFromMetadataColumn(T.value,v,e.formatStringProp,!1)}),x=T.value-P.value,C=L.formatFromMetadataColumn(x,v,e.formatStringProp,!1),w=M.getLocalizedString("Percentage"),x=x/P.value,w=M.format(x,w),f.push({displayName:v.displayName+" "+e.hostServices.getLocalizedString("Change"),value:C+" ("+w+")"}),f.push({displayName:S+" "+y.displayName+" "+e.hostServices.getLocalizedString("RibbonChart_TooltipRank"),value:""+P.rank}),f.push({displayName:N+" "+y.displayName+" "+e.hostServices.getLocalizedString("RibbonChart_TooltipRank"),value:""+T.rank}),0!=(N=T.rank-P.rank)&&(N=0<N?"▼"+N:"▲"+-N,f.push({displayName:e.hostServices.getLocalizedString("RibbonChart_TooltipRank")+" "+e.hostServices.getLocalizedString("Change"),value:N})),e.ribbonChartDataPoints.push({d1:P,d2:T,tooltipInfo:f}))}return e.ribbonChartDataPoints},getRibbonChartAreaLayout:function(e,t,a){for(var i=[],o=0,r=t.length;o<r;o++){var n,l,s,u,c,p,d=t[o],m=d.d1,g=d.d2,y=e.shapeLayout,h=y.x(m),b=y.y(m),f=y.width(m),v=y.height(m);0!==f?(n=y.x(g),l=y.y(g),s=y.width(g),u=y.height(g),g=y=p=c=void 0,g=a?(c={x:h+f,y:b},p={x:h+f,y:b+v},y={x:n,y:l},{x:n,y:l+u}):(c={x:h,y:b},p={x:h+f,y:b},y={x:n,y:l+u},{x:n+s,y:l+u}),m={bottomLeft:c,topLeft:p,bottomRight:y,topRight:g,tooltipInfo:d.tooltipInfo,color:m.color},i.push(m)):o--}return i},drawRibbonChartAreaSmooth:function(e){return t=(o=e).style,a=o.graphicsContext.select(o.ribbonChartGroupSelector.selector),i=o.interactivityService&&o.interactivityService.hasSelection(),r=(a=a.empty()?o.graphicsContext.append("g").classed(o.ribbonChartGroupSelector.class,!0):a).selectAll(o.ribbonChartAreaSelector.selector).data(o.layout),e=r.enter().append("path").classed(o.ribbonChartAreaSelector.class,!0).merge(r),a=o.bandsTransparency,a=i?a/100:(100-a)/100,o.colorBands&&!t.isHighContrast?(e.style("fill",(function(e){return e.color})).style("fill-opacity",a),o.showBorder?e.style("stroke",(function(e){return e.color})).style("stroke-width",1):e.style("stroke-width",0)):(e.style("fill",n.getThemeColor(t,"backgroundNeutral")).style("fill-opacity",a),o.showBorder||t.isHighContrast?e.style("stroke",n.getThemeColor(t,"foregroundNeutralSecondaryAlt")).style("stroke-width",1):e.style("stroke-width",0)),e.attr("d",(function(e){var t=d3.interpolateNumber(e.bottomLeft.x,e.bottomRight.x),a=d3.interpolateNumber(e.bottomLeft.y,e.bottomRight.y),i="M"+e.bottomLeft.x+","+e.bottomLeft.y;return o.isColumn?i+="C"+t(.7)+","+e.bottomLeft.y+" "+t(1-.7)+","+e.bottomRight.y+" "+e.bottomRight.x+","+e.bottomRight.y:i+="C"+e.bottomLeft.x+","+a(.7)+" "+e.bottomRight.x+","+a(1-.7)+" "+e.bottomRight.x+","+e.bottomRight.y,i+="L"+e.topRight.x+","+e.topRight.y,t=d3.interpolateNumber(e.topRight.x,e.topLeft.x),a=d3.interpolateNumber(e.topRight.y,e.topLeft.y),o.isColumn?i+="C"+t(.7)+","+e.topRight.y+" "+t(1-.7)+","+e.topLeft.y+" "+e.topLeft.x+","+e.topLeft.y:i+="C"+e.topRight.x+","+a(.7)+" "+e.topLeft.x+","+a(1-.7)+" "+e.topLeft.x+","+e.topLeft.y,i+="L"+e.bottomLeft.x+","+e.bottomLeft.y+"Z"})),r.exit().remove(),e;var o,t,a,i,r}}}})(powerbi=powerbi||{}),(function(o){!(function(i){var e;function a(e){this.dataPointObjectName="dataPoint",this.hostServices=e.hostServices,this.selectedIds=[]}e=i.utility||(i.utility={}),a.prototype.select=function(e,t){void 0===t&&(t=!1);var a=$.Deferred();return this.hostServices.shouldRetainSelection()?this.sendSelectionToHost([e]):(this.selectInternal(e,t),this.sendSelectionToHost(this.selectedIds)),a.resolve(this.selectedIds),a},a.prototype.showContextMenu=function(e,t){var a=$.Deferred();return t=t||i.InteractivityUtils.getPositionOfLastInputEvent(),this.sendContextMenuToHost(e,t),a.resolve(),a},a.prototype.hasSelection=function(){return 0<this.selectedIds.length},a.prototype.clear=function(){var e=$.Deferred();return this.selectedIds=[],this.sendSelectionToHost([]),e.resolve(),e},a.prototype.getSelectionIds=function(){return this.selectedIds},a.prototype.sendSelectionToHost=function(e){var t=this.dataPointObjectName,a={visualObjects:_.chain(e).filter((function(e){return e.hasIdentity()})).map((function(e){return{objectName:t,selectorsByColumn:e.getSelectorsByColumn()}})).value(),selectors:void 0},i=!1;(i=!_.isEmpty(e)?e[0].getSelector()&&!e[0].getSelectorsByColumn():i)&&(a.selectors=_.chain(e).filter((function(e){return e.hasIdentity()})).map((function(e){return e.getSelector()})).value()),this.hostServices.onSelect(a)},a.prototype.sendContextMenuToHost=function(e,t){e=this.getSelectorsByColumn([e]);_.isEmpty(e)||this.hostServices.onContextMenu({data:e,position:t})},a.prototype.getSelectorsByColumn=function(e){return _(e).filter((function(e){return e.hasIdentity})).map((function(e){return e.getSelectorsByColumn()})).compact().value()},a.prototype.selectInternal=function(t,e){a.containsSelection(this.selectedIds,t)?this.selectedIds=e?this.selectedIds.filter((function(e){return!o.data.Selector.equals(e.getSelector(),t.getSelector())})):1<this.selectedIds.length?[t]:[]:e?this.selectedIds.push(t):this.selectedIds=[t]},a.containsSelection=function(e,t){return e.some((function(e){return o.data.Selector.equals(e.getSelector(),t.getSelector())}))},e.SelectionManager=a})(o.visuals||(o.visuals={}))})(powerbi=powerbi||{}),(function(e){var t;e=e.visuals||(e.visuals={}),(t=e.shapeUtil||(e.shapeUtil={})).MinBubbleMultiplier=1,t.MaxBubbleMultiplier=3,t.getBubbleSizeMultiplier=function(e){return null!=e?t.MinBubbleMultiplier+e/100*t.MaxBubbleMultiplier:t.MinBubbleMultiplier},t.invertBubbleSizeMultiplier=function(e){return Math.round((e-t.MinBubbleMultiplier)/t.MaxBubbleMultiplier*100)}})(powerbi=powerbi||{}),(function(e){!(function(e){e.SlicerResponsiveBreakpoints={rangeSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:28,width:1/0},{height:63,width:162}],hideHeaderHeightNoSlider:48,hideHeaderHeightSlider:88},horizontalSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:15,width:1/0}],hideHeaderHeight:48,fontSize:[{breakpoint:360,applyWidth:!0,applyHeight:!1,maxFontSizePt:9},{breakpoint:540,applyWidth:!0,applyHeight:!1,maxFontSizePt:16}]},slicerHeader:{fontSize:[{breakpoint:140,applyWidth:!0,applyHeight:!0,maxFontSizePt:9},{breakpoint:220,applyWidth:!0,applyHeight:!0,maxFontSizePt:16},{breakpoint:320,applyWidth:!0,applyHeight:!1,maxFontSizePt:24},{breakpoint:460,applyWidth:!0,applyHeight:!1,maxFontSizePt:32}]}};var t=(d.fixWidgetPosition=function(e,t,a,i,o){var r,n,l,s,u,c,p;void 0===a&&(a=null),void 0===i&&(i=!1),void 0===o&&(o=null),e&&t&&(p=u=s=c=l="",r=d.getScale(t),n=t.get(0),t=e.offsetParent(),t=d.getScale(t),i&&e.css({transform:"scale("+r+")"}),n=n.getBoundingClientRect(),p=1==(1&(o=null==o?d.getWidgetPosition(n):o))?(l=(n.top+n.height)/t,"top"):(s=(window.innerHeight-n.top)/t,l="auto","bottom"),p=2==(2&o)?(u=n.left/t,d.isWidgetPositionExceedsBoundaries(e,r,u)&&(u=window.innerWidth-e.innerWidth()*r),"left "+p):(c=(window.innerWidth-n.left-n.width)/t,u="auto",d.isWidgetPositionExceedsBoundaries(e,r,c)&&(c=window.innerWidth-e.innerWidth()*r),"right "+p),p={left:u,top:l,right:c,bottom:s,"transform-origin":p},a&&("auto"!==p.top?p.top+=a.top*r:p.bottom+=a.top*r,"auto"!==p.left?p.left+=a.left*r:p.right+=a.left*r),e.css(p))},d.getScale=function(e){if(!e)return 1;var t=e.outerWidth();return 0===t?1:e.get(0).getBoundingClientRect().width/t},d.isWidgetPositionExceedsBoundaries=function(e,t,a){return e.innerWidth()*t+a>window.innerWidth},d.getWidgetPosition=function(e){var t=3,a=window.innerHeight,i=window.innerWidth;return a-e.top<a/2&&(t&=-2,t|=0),i-e.left<i/2&&(t&=-3,t|=4),t},d);function d(){}e.SlicerHelper=t,(e.SlicerViewModelAdapterUtils||(e.SlicerViewModelAdapterUtils={})).resolveMaxFontSizePtForViewport=function(e,t){for(var a=jsCommon.TextSizeDefaults.TextSizeMax,i=0,o=t;i<o.length;i++){var r=o[i],n=e.width<r.breakpoint&&r.applyWidth,l=e.height<r.breakpoint&&r.applyHeight;if(n||l){a=r.maxFontSizePt;break}}return a}})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(powerbi||(powerbi={})).responsiveVisualUtilModuleFactory=function(){var a=(e.prototype.updateVisibility=function(e){e.showIcon?(this.hideVisual(),e.viewport,this.renderResponsiveIcon(e.viewport)):(this.removeResponsiveIcon(),this.showVisual())},e.prototype.renderResponsiveIcon=function(e){this.responsiveIcon||(this.responsiveIcon=InJs.DomFactory.div().addClass(this.iconClassName).appendTo(this.visualElement)),this.responsiveIcon.css({width:e.width,height:e.height})},e.prototype.removeResponsiveIcon=function(){this.responsiveIcon&&(this.responsiveIcon.remove(),this.responsiveIcon=void 0)},e.prototype.hideVisual=function(){this.isVisualVisible&&(this.visualElement.children().hide(),this.isVisualVisible=!1)},e.prototype.showVisual=function(){this.isVisualVisible||(this.visualElement.children().show(),this.isVisualVisible=!0)},e);function e(e,t){this.visualElement=e,this.iconClassName=t,this.isVisualVisible=!0}return{visibilityHelper:function(e,t){return new a(e,t)}}},(function(e){(e=(e=e.visuals||(e.visuals={})).tooltipUtils||(e.tooltipUtils={})).tooltipUpdate=function(e,a){0!==a.length&&(e.nodes().length===a.length||(e.size(),a.length),(e=e.selectAll("title").data((function(e,t){return[a[t]]}))).enter().append("title").merge(e).text((function(e){return e})),e.exit().remove())},e.formatTooltipInfo=function(e){return _.reduce(e,(function(e,t,a){var i=t.value;return null==i&&(i=t.kpiValue&&t.kpiValue.value),0<a?e+" "+t.displayName+" "+i+".":t.displayName+" "+i+"."}),"")}})(powerbi=powerbi||{}),(function(d){var e;(e=(e=d.visuals||(d.visuals={})).TextUtil||(e.TextUtil={})).removeBreakingSpaces=function(e){return e.toString().replace(new RegExp(" ","g"),"&nbsp")},e.removeEllipses=function(e){return e.replace(/…/g,"")},e.replaceSpaceWithNBSP=function(e){if(null!=e)return e.replace(/ /g," ")},e.replaceNewlineAndSpaceWithNBSP=function(e){if(null!=e)return e.replace(/\n| /g," ")},e.wordBreak=function(e,t,a,i,o,r){void 0===i&&(i=0),void 0===o&&(o=!1),void 0===r&&(r=!1);var n=d.TextMeasurementService.getSvgMeasurementProperties(e),l=d.TextMeasurementService.estimateSvgTextHeight(n)+i,i=Math.max(1,Math.floor(a/l)),s=d3.select(e),a=e.textContent;e.textContent=null;for(var u=jsCommon.WordBreaker.splitByWidth(a,n,d.TextMeasurementService.measureSvgTextWidth,t,i,null,!1,o,r),c=0,p=u.length;c<p;c++)n.text=u[c],s.append("tspan").attr("x",0).attr("dy",0===c?0:l).text(d.TextMeasurementService.getTailoredTextOrDefault(n,t))}})(powerbi=powerbi||{}),(function(e){var t;e=(e=e.visuals||(e.visuals={})).TextboxUtil||(e.TextboxUtil={}),t=!0,e.getLoadQuillResources=function(){return t},e.setLoadQuillResources=function(e){t=e}})(powerbi=powerbi||{}),(function(e){var a;function o(e){var t=e.children;if(!t)return!1;e=t.length;if(0===e)return!1;for(var a=e-1;0<=a;a--)if(t[a].data.identity.hasIdentity())return!0;return!1}e=(e=e.visuals||(e.visuals={})).TreemapUtils||(e.TreemapUtils={}),a=jsCommon.CssConstants,e.classes={node:"treemapNode",highlight:"treemapNodeHighlight",major:"majorLabel",minor:"minorLabel"},e.DefaultStrokeColorName="foregroundLight",e.getFill=function(e,t){return 1<e.depth&&!e.data.identity.hasIdentity()&&!t||o(e)?a.noneValue:e.data.color},e.hasChildrenWithIdentity=o,e.getFillOpacity=function(e,t,a,i){return a?t&&i?e.data.selected?null:0..toString():i?null:.4.toString():!t||e.data.selected||1<e.depth&&e.parent.data.selected||o(e)?null:.4.toString()}})(powerbi=powerbi||{}),(function(C){var e,n;e=C.visuals||(C.visuals={}),n=C.data.DataRoleHelper,(function(g){var y=C.data.SQExprBuilder;g.DefaultNullStrategy=C.NullStrategy.asZero;var h="dataPoint",b="fillRule";function t(e){if(e&&e.values&&e.values.grouped){e=e.values.grouped();return n.getMeasureIndexOfRole(e,"Gradient")}return-1}function a(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:g.DefaultNullStrategy,nullColor:null}}function e(){return S()}function i(e){return e?o(e):a()}function f(e){return C.data.DataViewObjectDefinitions.getValue(e,{objectName:h,propertyName:b},null)}function o(e){var t,a,i,o,r,n,l,s,u,c=g.DefaultNullStrategy,p=void 0!==e.linearGradient3,d=e.linearGradient2,e=e.linearGradient3;d?(r=d.max.color.value,n=d.min.color.value,(l=d.max.value)&&(a=l.value),(s=d.min.value)&&(o=s.value),u=d.nullColoringStrategy):e&&(r=e.max.color.value,t=e.mid.color.value,n=e.min.color.value,(l=e.max.value)&&(a=l.value),(l=e.mid.value)&&(i=l.value),(s=e.min.value)&&(o=s.value),u=e.nullColoringStrategy),u&&(c=u.strategy.value,(u=u.color)&&(m=u.value));var m={diverging:p,minColor:v(n),midColor:v(t),maxColor:v(r),nullStrategy:c,nullColor:v(m)};return null!=o&&(m.minValue=o),null!=i&&(m.midValue=i),null!=a&&(m.maxValue=a),m}function r(e){var t,a,i,o,r,n,l,s=g.DefaultNullStrategy,u=void 0!==e.linearGradient3,c=null==e?void 0:e.linearGradient2,e=null==e?void 0:e.linearGradient3;c?(a=null===(t=c.max)||void 0===t?void 0:t.color,i=null===(l=c.min)||void 0===l?void 0:l.color,r=null===(p=c.max)||void 0===p?void 0:p.value,l=null===(t=c.min)||void 0===t?void 0:t.value,s=null===(p=c.nullColoringStrategy)||void 0===p?void 0:p.strategy,p=null===(t=c.nullColoringStrategy)||void 0===t?void 0:t.color):e&&(a=null===(t=e.max)||void 0===t?void 0:t.color,o=null===(n=e.mid)||void 0===n?void 0:n.color,i=null===(t=e.min)||void 0===t?void 0:t.color,r=null===(n=e.max)||void 0===n?void 0:n.value,n=null===(t=e.mid)||void 0===t?void 0:t.value,l=null===(t=e.min)||void 0===t?void 0:t.value,s=null===(t=e.nullColoringStrategy)||void 0===t?void 0:t.strategy,p=null===(e=e.nullColoringStrategy)||void 0===e?void 0:e.color);var p={diverging:u,minColor:v(i),midColor:v(o),maxColor:v(a),nullStrategy:s,nullColor:v(p)};return null!=l&&(p.minValue=l),null!=n&&(p.midValue=n),null!=r&&(p.maxValue=r),p}function v(e){if(jsCommon.Color.isHexString(e))return e}function S(e){var t=i(e),a={linearGradient2:{min:{color:y.color(t.minColor,"minColor")},max:{color:y.color(t.maxColor,"maxColor")},nullColoringStrategy:{strategy:y.text(t.nullStrategy)}}},e=a.linearGradient2;return null!=t.minValue&&(e.min.value=y.double(t.minValue)),null!=t.maxValue&&(e.max.value=y.double(t.maxValue)),t.nullStrategy===C.NullStrategy.specificColor&&(e.nullColoringStrategy.color=y.color(t.nullColor,"nullColor")),a}g.getFillRuleDescriptor=function(e){if(e)for(var t in e){var a,i=e[t];for(a in i.properties){var o=i.properties[a];if(o.type&&o.type[b])return o.rule}}},g.getGradientMeasureIndex=t,g.getGradientValueColumn=function(e){if(null==e)return null;var t=g.getGradientMeasureIndex(e);return-1===t?null:e.values[t]},g.hasGradientRole=function(e){return 0<=t(e)},g.hasGradientRoleInMatrix=function(e){return 0<=_.findIndex(e.valueSources,(function(e){return n.hasRole(e,"Gradient")}))},g.getDefaultGradientSettings=a,g.getDefaultFillRuleDefinition=e,g.updateFillRule=function(e,t,a){var i,o,r,n,l,s,u,c,p,d,m=C.data.DataViewObjectDefinitions.ensure(a,h,null),g=f(a);if(g)switch($.isNumeric(t)&&(i=void 0!==t?y.double(+t):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],e)&&(o=y.color(t&&t.value,e)),e){case"minColor":d=o,(p=g).linearGradient2?p.linearGradient2.min.color=d:p.linearGradient3&&(p.linearGradient3.min.color=d);break;case"midColor":p=o,(d=g).linearGradient3&&(d.linearGradient3.mid.color=p);break;case"maxColor":c=o,(u=g).linearGradient2?u.linearGradient2.max.color=c:u.linearGradient3&&(u.linearGradient3.max.color=c);break;case"nullColor":u=o,(c=g).linearGradient2?c.linearGradient2.nullColoringStrategy.color=u:c.linearGradient3&&(c.linearGradient3.nullColoringStrategy.color=u);break;case"minValue":s=i,(l=g).linearGradient2?l.linearGradient2.min.value=s:l.linearGradient3&&(l.linearGradient3.min.value=s);break;case"midValue":l=i,(s=g).linearGradient3&&(s.linearGradient3.mid.value=l);break;case"maxValue":n=i,(r=g).linearGradient2?r.linearGradient2.max.value=n:r.linearGradient3&&(r.linearGradient3.max.value=n);break;case"nullStrategy":r=t,(n=g).linearGradient2?n.linearGradient2.nullColoringStrategy.strategy=r:n.linearGradient3&&(n.linearGradient3.nullColoringStrategy.strategy=r);break;case"diverging":g=t?{linearGradient3:_.assign({mid:{color:y.color(null,"midColor")}},g.linearGradient2)}:{linearGradient2:g.linearGradient3},m.properties[b]=g;break;case"revertToDefault":g=S(),m.properties[b]=g}},g.getGradientSettings=i,g.getGradientSettingsFillRule=function(e){return e?r(e):a()},g.getFillRule=f,g.getGradientSettingsFromRule=o,g.getGradientSettingsFromFillRule=r,g.getGradientBarColors=function(e,t){var a=[];return a.push(e.minColor||t.minColor.value),e.diverging&&a.push(e.midColor||t.midColor.value),a.push(e.maxColor||t.maxColor.value),a.join(",")},g.getLinearGradient2FillRuleDefinition=S,g.getLinearGradient3FillRuleDefinition=function(e){var t=i(e),a={linearGradient3:{min:{color:y.color(t.minColor,"minColor")},max:{color:y.color(t.maxColor,"maxColor")},mid:{color:y.color(t.midColor,"midColor")},nullColoringStrategy:{strategy:y.text(t.nullStrategy)}}},e=a.linearGradient3;return null!=t.minValue&&(e.min.value=y.double(t.minValue)),null!=t.midValue&&(e.mid.value=y.double(t.midValue)),null!=t.maxValue&&(e.max.value=y.double(t.maxValue)),t.nullStrategy===C.NullStrategy.specificColor&&(e.nullColoringStrategy.color=y.color(t.nullColor,"nullColor")),a}})(e.GradientUtils||(e.GradientUtils={}))})(powerbi=powerbi||{}),(function(V){!(function(N){var g,e,s=jsCommon.CssConstants,y=jsCommon.Color,t=s.createClassAndSelector,P=jsCommon.WordBreaker;function m(e,t){t=(0===t?g.RowHeader:g.RowFooter).selector;return e.find(""+g.HeaderCell.selector+t)}N.GridLayoutSubheaderMaxLines=3,(e=g=N.GridLayoutSelectors||(N.GridLayoutSelectors={})).Grid=t("small-multiples-grid"),e.Cell=t("small-multiples-grid-cell"),e.CellContent=t("small-multiples-grid-cell-content"),e.SubHeader=t("small-multiples-grid-cell-subheader"),e.HeaderCell=t("small-multiples-grid-header-cell"),e.Row=t("small-multiples-grid-row"),e.Footer=t("small-multiples-grid-footer"),e.Body=t("small-multiples-grid-body"),e.GridLineSelector=t("small-multiples-grid-line"),e.VerticalGridLineSelector=t("vertical"),e.HorizontalGridLineSelector=t("horizontal"),e.HorizontalGridLineWrapperSelector=t("horizontal-wrapper"),e.HorizontalGridLineWrapperBottomSelector=t("horizontal-wrapper-bottom"),e.HorizontalOuterGridLineSelector=t("horizontal-outer"),e.GridRowWrapperSelector=t("small-multiples-grid-row-wrapper"),e.RowHeader=t("row-header"),e.RowFooter=t("row-footer"),e.RowOrderableElements=[e.RowHeader,e.Cell,e.RowFooter];var h=(T.prototype.update=function(e){var t,a=e.gridLineSettings,i=e.cellPadding;this.featureSwitches.cartesianMultiplesGridFormatting&&(t=a&&a.settings.width,i.right,i.bottom,o=void 0,o=t&&T.hasVerticalGridLines(a)?2*i.left+a.settings.width:this.featureSwitches.cartesianMultiplesGridPadding?2*i.left:i.left,r=void 0,r=t&&T.hasHorizontalGridLines(a)?2*i.top+a.settings.width:this.featureSwitches.cartesianMultiplesGridPadding?2*i.top:i.top,i=__assign(__assign({},i),{left:o,top:r}));var a=this.getUpdatedHeaderMargins(e.headerMargins),o=__assign(__assign({},e.viewport),{width:Math.floor(e.viewport.width),height:Math.floor(e.viewport.height)}),r=Math.ceil(e.subheaderHeight);this.settings=__assign(__assign({},e),{cellPadding:i,headerMargins:a,subheaderHeight:r,viewport:o})},T.prototype.updateHeaderMargins=function(e){var t=this.settings,e=this.getUpdatedHeaderMargins(e);this.settings=__assign(__assign({},t),{headerMargins:e})},T.prototype.getScrollPosition=function(){return this.renderer.getScrollPosition()},T.prototype.render=function(a,i,o,r){return __awaiter(this,void 0,V.Promise,(function(){var t;return __generator(this,(function(e){return t=this.calculateGridRenderSettings(a),[2,this.renderer.render(t,this.settings.shouldResetScrollPosition,i,o,r)]}))}))},T.prototype.scrollTo=function(e){this.renderer.scrollTo(e)},T.prototype.getRowHeight=function(e){return this.renderer.getRowHeight(e)},T.prototype.getUpdatedHeaderMargins=function(e){return __assign(__assign({},e),{left:Math.ceil(e.left),right:Math.ceil(e.right),bottom:Math.ceil(e.bottom),top:Math.ceil(e.top)})},T.prototype.calculateGridRenderSettings=function(e){var t=e.axesOverflow,a=e.plotAreaViewport,i=e.seriesPreferedWidth,o=!isNaN(i)&&null!=i?i:0,r={height:a.height+t.bottom+t.top,width:a.width+t.left+t.right+o},n=this.settings,l=n.getCellBackgroundColor,s=n.backgroundTransparency,u=n.cellCount,c=n.cellPadding,p=n.columnCount,d=n.getAllCells,m=n.gridLineSettings,g=n.headerMargins,y=n.outerPadding,h=n.renderCell,b=n.renderCellSubheader,f=n.renderHeader,v=n.rowCount,S=n.scrollPadding,e=n.subheaderHeight,i=n.subheaderLineHeight,a=n.subheaderPosition,t=n.subheaderShow,o=n.viewport,n=n.manageTabIndexOnRowHeaderFooter,g=g,S={subheaderHeight:e,subheaderLineHeight:i,subheaderPosition:a,subheaderShow:t,headerWidth:g.left,footerWidth:g.right,cell:{width:r.width,getCellBackgroundColor:l,backgroundTransparency:s,renderCell:h,renderCellSubheader:b},height:r.height,scale:this.settings.viewport.scale,columnCount:p,cellPadding:c,outerPadding:y,scrollPadding:S,gridLineSettings:m},p=this.calculateVerticalGridLines(m,g,c,y,r.width,p);return{viewport:o,footerHeight:g.bottom,rowCount:v,row:S,totalCellCount:u,renderHeader:f,verticalGridLines:p,gridLineSettings:m,getAllCells:d,manageTabIndexOnRowHeaderFooter:n}},T.prototype.destroy=function(){this.renderer.destroy()},T.prototype.clearRenderingTimeout=function(){this.renderer.clearRenderingTimeout()},T.typeHasVerticalGridLines=function(e){return e===N.gridLineType.all||e===N.gridLineType.inner||e===N.gridLineType.innerVertical},T.hasVerticalGridLines=function(e){if(null==e)return!1;e=e.type;return T.typeHasVerticalGridLines(e)},T.typeHasHorizontalGridLines=function(e){return e===N.gridLineType.all||e===N.gridLineType.inner||e===N.gridLineType.innerHorizontal},T.hasHorizontalGridLines=function(e){if(null==e)return!1;e=e.type;return T.typeHasHorizontalGridLines(e)},T.typeHasOuterGridLines=function(e){return e===N.gridLineType.all},T.hasOuterGridLines=function(e){if(null==e)return!1;e=e.type;return T.typeHasOuterGridLines(e)},T.prototype.calculateCellDimensions=function(e,t,a){var i=0,o=this.hasScroll(),r=this.settings,n=r.viewport,l=r.headerMargins,s=r.cellPadding,u=r.columnCount,c=r.rowCount,p=r.outerPadding,d=r.scrollPadding,m=r.subheaderHeight,g=r.subheaderShow;_.isInteger(l.left)&&_.isInteger(l.right)&&_.isInteger(l.top)&&_.isInteger(l.bottom),_.isInteger(n.width)&&_.isInteger(n.height),this.featureSwitches.cartesianMultiplesGridFormatting&&(y=this.settings.gridLineSettings)&&T.hasOuterGridLines(y)&&(i+=2*y.settings.width);var y,r=n.width-l.left-l.right-i-s.left*(u-1)-(p.left+p.right);i=o?(y=D.getBottomInnerPadding(!0,s.top,y),p.top+y+i/2):p.top+p.bottom+i;var i=n.height-l.top-l.bottom-s.top*(c-1)-i,r=D.adjustWidthForScrollbar(r,o,d),h=Math.floor(r/u),i=Math.floor(i/c),c=null==t?void 0:t.titleWrap;if(g){var b=m,f=null==t?void 0:t.subheaders;if(c&&f){for(var v=N.FontProperties.toTextProperties(t.subheaderFontProperties),S=1,C=0,x=f;C<x.length;C++){var w=x[C],w=P.splitByWidth(w,v,V.TextMeasurementService.measureSvgTextWidth,h,N.GridLayoutSubheaderMaxLines,null,!0);if((S=Math.max(S,w.length))===N.GridLayoutSubheaderMaxLines)break}b=Math.ceil(S*t.subheaderLineHeight+t.subheaderMargin.top+t.subheaderMargin.bottom)}i-=b}i-=e.top+e.bottom,h-=e.left+e.right,_.isInteger(h),_.isInteger(i);m=0,f=0;a&&null!=a.layerSeriesData.defaultSeriesWidth&&(t=100*a.layerSeriesData.defaultSeriesWidth/h,m=Math.min(Math.max(1,t),50),a.layerSeriesData.seriesMaximumWidth=m),a&&a.showSeriesLabels&&(m=a.layerSeriesData.seriesMaximumWidth/100,h-=f=Math.ceil(m*h));f={plotAreaViewport:{width:Math.max(h,0),height:Math.max(i,0)},headerMargins:l,axesOverflow:e,seriesPreferedWidth:f};return c&&(f.maxSubheaderHeight=b),f},T.prototype.calculateVerticalGridLines=function(e,t,a,i,o,r){if(!this.featureSwitches.cartesianMultiplesGridFormatting||!T.hasVerticalGridLines(e))return[];var n=T.hasVerticalGridLines(e),l=T.hasOuterGridLines(e),s=e.settings,u=s.width+"px "+s.style+" "+s.color,c=s.width/2,e=l?0:void 0,p=[];if(l&&p.push({key:"outer-vertical-"+e++,position:{left:t.left+"px"},size:{},style:{vertical:u}}),n){var d=u?r-1:void 0;if(d){a.right;for(var n=o+a.left/2-c,c=l?s.width:0,m=t.left+i.left+n+c,g=a.left+o+a.right,y=0;y<d;y++)p.push({key:"inner-vertical-"+y,position:{left:m+"px"},size:{},style:{vertical:u}}),m+=g}}return l&&(i=t.left+o*r+a.left*(r-1)+s.width+i.left+i.right,p.push({key:"outer-vertical-"+e++,position:{left:i+"px"},size:{},style:{vertical:u}})),p},T.prototype.hasScroll=function(){if(this.settings.cellCount/this.settings.columnCount>this.settings.rowCount)return!0},T);function T(e,t,a,i,o,r){this.featureSwitches=t,this.renderer=new D(e,t,a,i,o,r)}N.GridLayout=h;var r="GridRenderingContext",D=(n.prototype.getScrollPosition=function(){return this.listView&&this.listView.getCurrentPosition()},n.prototype.render=function(i,o,r,n,l){return __awaiter(this,void 0,V.Promise,(function(){var t,a;return __generator(this,(function(e){switch(e.label){case 0:return this.settings=i,this.dataToBind=r,this.pointSourceKey=n,this.isInitialized||this.initialize(l),this.renderingContext={},t=i.viewport,this.$grid.css(((a={})[s.widthProperty]=t.width,a[s.heightProperty]=t.height,a)),this.updateFooter(),[4,this.updateRows(o)];case 1:return e.sent(),this.updateGridlines(),[2]}}))}))},n.prototype.destroy=function(){this.isInitialized&&(this.listView.destroy(),this.$grid.empty(),this.$grid.remove(),this.isInitialized=!1)},n.prototype.scrollTo=function(e){this.listView.scrollTo(e)},n.prototype.clearRenderingTimeout=function(){this.listView&&this.listView.clearRenderingTimeout()},n.prototype.bindInteractivity=function(e){var t={gridContainer:d3.select(this.$container.get(0)),cells:this.$container.find(g.Body.selector+" "+g.Cell.selector),columnCount:this.settings.row.columnCount,viewportRowCount:this.settings.rowCount,cellCount:this.settings.totalCellCount,listView:this.listView,visualInstanceId:e,$rows:this.getRowsFromBodyOrFooter(this.settings.manageTabIndexOnRowHeaderFooter),manageTabIndexOnRowHeaderFooter:this.settings.manageTabIndexOnRowHeaderFooter},e={pointSourceKey:this.pointSourceKey,useSelectableDataPointForHasSelection:!0};this.interactivityService.bind(this.dataToBind,this.behavior,t,e)},n.prototype.showFooter=function(e){this.$gridFooter.css("display",e?"":"none")},n.prototype.updateFooter=function(){var t=this,e=this.settings.footerHeight;if(!e)return this.showFooter(!1),this.$gridFooter.css("display","none"),void this.$gridFooter.empty();this.showFooter(!0);var a=this.settings.row;this.$gridFooter.css(s.heightProperty,e),this.$gridFooter.css(s.widthProperty,n.adjustWidthForScrollbar(this.settings.viewport.width,this.hasScroll(),a.scrollPadding));var i={columnCount:a.columnCount,footerWidth:a.footerWidth,headerWidth:a.headerWidth,subheaderHeight:0,subheaderLineHeight:0,subheaderPosition:a.subheaderPosition,subheaderShow:!1,height:e,scale:this.settings.viewport.scale,cellPadding:{top:0,bottom:0,left:a.cellPadding.left,right:a.cellPadding.right},outerPadding:{top:0,bottom:0,left:a.outerPadding.left,right:a.outerPadding.right},scrollPadding:a.scrollPadding,cell:{width:a.cell.width,getCellBackgroundColor:function(e){},renderCell:function(e){e.position=2,e.useManagedTabIndex=t.useManagedTabIndex(),t.settings.renderHeader(e)},renderCellSubheader:_.noop},gridLineSettings:void 0},e=this.$gridFooter.find(g.GridRowWrapperSelector.selector);0===e.length&&(e=this.buildElement(this.$gridFooter,g.GridRowWrapperSelector.class)),this.renderRow(e,i,0,(function(){}),a.columnCount,{startIndex:0,endIndex:a.columnCount})},n.prototype.updateGridlines=function(){this.featureSwitches.cartesianMultiplesGridFormatting&&this.updateGridLines(d3.select(this.$gridBody[0]),this.settings.verticalGridLines,g.VerticalGridLineSelector)},n.prototype.getTotalOccupiedRowCount=function(){return Math.ceil(this.settings.totalCellCount/this.settings.row.columnCount)},n.prototype.hasScroll=function(){return this.scrollEnabled&&(!this.settings||this.getTotalOccupiedRowCount()>this.settings.rowCount)},n.adjustWidthForScrollbar=function(e,t,a){return e-n.getTotalScrollWidth(t,a)},n.getTotalScrollWidth=function(e,t){return e?8+t:0},n.getBottomInnerPadding=function(e,t,a){if(e){e=t,t=0;return e-=t=h.hasHorizontalGridLines(a)?a.settings.width:t,Math.round(e/2)}return 0},n.prototype.getTotalOuterPixels=function(){var e=this.settings.row,t=e.gridLineSettings,e=e.outerPadding.top;return h.hasOuterGridLines(t)&&(e+=t.settings.width),e},n.prototype.getRowHeightWithoutPadding=function(e){var t=e;return 1===this.getTotalRowCount()&&(t+=e),this.getRowHeight(0)-t},n.prototype.updateRows=function(e){var t=this.getContainerHeight(),a=this.buildListViewData(),i={width:this.settings.viewport.width,height:t},t=this.getTotalOuterPixels();return this.listView.viewport(i).rowHeight(this.getRowHeightWithoutPadding(t)).paddingBetween(this.settings.row.cellPadding.top).paddingOuter(t).data(a,(function(e){return JSON.stringify(e)}),e),this.$gridBody.css("flex-basis",i.height),this.$gridBody.attr("aria-rowcount",this.getTotalRowCount()),this.$gridBody.attr("aria-colcount",this.settings.row.columnCount),this.listView.render()},n.prototype.updateGridLines=function(e,t,a){t=e.selectAll(g.GridLineSelector.selector+"."+a.class).data(t,(function(e){return e.key}));t.enter().append("div").classed(g.GridLineSelector.class,!0).classed(a.class,!0).merge(t).style("top",(function(e){return e.position.top})).style("right",(function(e){return e.position.right})).style("bottom",(function(e){return e.position.bottom})).style("left",(function(e){return e.position.left})).style("width",(function(e){return e.size.width})).style("border-left",(function(e){return e.style.vertical})).style("border-top",(function(e){return e.style.horizontal})),t.exit().remove()},n.prototype.buildRow=function(e,t,a,i,o){var r=(function(e,t,a,i){var o=e.subheaderShow&&1!==e.subheaderPosition,r=b(a,i,e),n=r.height,l=r.topPadding,s=r.bottomPadding,u=n-l-s,c={},p={},d={},m={},g={},a={},i={},r={},t=(function(e,t){var a=e.cell,i=e.columnCount,o=e.cellPadding,r=e.outerPadding,n=e.headerWidth,n=void 0===n?0:n,e=e.footerWidth,e=void 0===e?0:e,e=a.width*i+o.left*(i-1)+r.left+r.right+n+e;h.hasOuterGridLines(t)&&(e+=2*t.settings.width);return e})(e,t);c.width=t+"px",p.width=t+"px",d.width=t+"px",c.height=n+"px",p.height=u+"px",d.height=l+"px",m.height=s+"px",g["flex-direction"]=o?"column-reverse":"column",a.width=e.cell.width+"px",e.subheaderShow?(i["line-height"]=e.subheaderLineHeight+"px",i.height=e.subheaderHeight+"px",i.width=e.cell.width+"px",e=o?e.subheaderHeight:0,r["padding-top"]=e+"px"):r["padding-top"]="0px";return r.height=u+"px",{rowWrapperStyling:c,rowStyling:p,gridLineWrapperStyling:d,gridLineWrapperBottomStyling:m,cellStyling:g,cellContentStyling:a,subheaderStyling:i,rowHeaderCellStyling:r}})(t,this.settings.gridLineSettings,o,this.getTotalRowCount()),n=r.rowWrapperStyling,l=r.rowStyling,s=r.gridLineWrapperStyling,u=r.gridLineWrapperBottomStyling,c=r.cellStyling,p=r.cellContentStyling,d=r.subheaderStyling,r=r.rowHeaderCellStyling;e.css(n);n=e.find(g.HorizontalGridLineWrapperSelector.selector);(n=0===n.length?this.buildElement(e,g.HorizontalGridLineWrapperSelector.class):n).css(s);s=e.find(g.Row.selector);(s=0===s.length?this.buildElement(e,g.Row.class):s).css(l),s.attr("role","row"),s.attr("aria-rowindex",o+1);l=e.find(g.HorizontalGridLineWrapperBottomSelector.selector);(l=0===l.length?this.buildElement(e,g.HorizontalGridLineWrapperBottomSelector.class):l).css(u),this.renderTopGridline(o,t,d3.select(n[0])),this.renderRowInnerGridline(o,t,d3.select(n[0])),this.buildHeaderCell(s,0,r,t),this.buildCells(s,t,a,i,c,p,d),this.buildHeaderCell(s,1,r,t),this.renderBottomGridline(o,t,d3.select(l[0])),this.orderRowContent(d3.select(s[0]))},n.prototype.buildCells=function(e,t,a,i,o,r,n){for(var l=e.find(g.Cell.selector),s=0;s<t.columnCount;s++){var u=a+s,c=l.eq(s);0===c.length&&(c=this.buildElement(e,g.Cell.class)),o=__assign(__assign({},o),{"padding-left":"","padding-right":"","margin-left":"","margin-right":"","background-color":""}),c.attr("role","gridcell"),c.attr("aria-colindex",s+1);var p=0===s,d=s===t.columnCount-1;o["padding-left"]=p?t.outerPadding.left+"px":t.cellPadding.left+"px",d&&(o["padding-right"]=t.outerPadding.right+"px");var m=0;this.featureSwitches.cartesianMultiplesGridFormatting&&h.hasOuterGridLines(this.settings.gridLineSettings)&&(m=this.settings.gridLineSettings.settings.width),p&&(o["margin-left"]=m+"px"),d&&(o["margin-right"]=m+"px");d=c.find(g.CellContent.selector),m=c.find(g.SubHeader.selector);i<=u?(d.remove(),m.remove(),this.featureSwitches.cartesianMultiplesGridFormatting&&(o["background-color"]="")):((d=0===d.length?this.buildElement(c,g.CellContent.class):d).css(r),u=t.cell.getCellBackgroundColor(u),this.featureSwitches.cartesianMultiplesGridFormatting&&u?(u=y.parseColorString(u),u=y.setOpacity(u,(100-t.cell.backgroundTransparency)/100),o["background-color"]=y.rgbString(u)):o["background-color"]="",t.subheaderShow?(m=0===m.length?this.buildElement(c,g.SubHeader.class):m).css(n):m.remove()),c.css(o)}l.slice(t.columnCount).remove()},n.prototype.buildHeaderCell=function(e,t,a,i){var o,i=0===t?(o=i.headerWidth,g.RowHeader.class):(o=i.footerWidth,g.RowFooter.class),t=m(e,t);o<=0?t.remove():(0===t.length&&(t=this.buildElement(e,g.HeaderCell.class)).addClass(i),t.css(a),t.css("width",o+"px"))},n.prototype.orderRowContent=function(e){e=e.selectAll(_.map(g.RowOrderableElements,(function(e){return e.selector})).join(", ")).nodes();e.sort((function(e,t){for(var a=0,i=0;i<g.RowOrderableElements.length;i++)a+=Number(d3.select(e).classed(g.RowOrderableElements[i].class))*i,a-=Number(d3.select(t).classed(g.RowOrderableElements[i].class))*i;return a})),d3.selectAll(e).order()},n.prototype.renderRowGridline=function(e,t,a,i,o,r){var n,l;this.featureSwitches.cartesianMultiplesGridFormatting&&(n=[],e&&(e=(l=o.gridLineSettings.settings).width+"px "+l.style+" "+l.color,l=h.hasOuterGridLines(o.gridLineSettings)?l.width:0,l={top:t+"px",left:o.headerWidth+l+"px"},o={width:o.cell.width*o.columnCount+o.cellPadding.left*(o.columnCount-1)+o.outerPadding.left+o.outerPadding.right+"px"},n.push({key:a,position:l,size:o,style:{horizontal:e}})),this.updateGridLines(r,n,i))},n.prototype.renderRowInnerGridline=function(e,t,a){var i=t.gridLineSettings,o=0<e&&h.hasHorizontalGridLines(i),i=o?Math.round((t.cellPadding.top-i.settings.width)/2):0;this.renderRowGridline(o,i,"inner-horizontal-"+(e-1),g.HorizontalGridLineSelector,t,a)},n.prototype.renderTopGridline=function(e,t,a){var i=t.gridLineSettings,i=0===e&&h.hasOuterGridLines(i);this.renderRowGridline(i,0,"outer-horizontal-0",g.HorizontalOuterGridLineSelector,t,a)},n.prototype.renderBottomGridline=function(e,t,a){var i=t.gridLineSettings,e=e===this.getTotalRowCount()-1&&h.hasOuterGridLines(i),i=t.outerPadding.bottom;this.renderRowGridline(e,i,"outer-horizontal-1",g.HorizontalOuterGridLineSelector,t,a)},n.prototype.renderRow=function(e,t,a,i,o,r){var n=Math.floor(a/t.columnCount);this.buildRow(e,t,a,o,n);var l={width:t.cell.width,height:t.height,scale:t.scale};0<t.headerWidth&&this.renderHeaderCell(m(e,0),n,0,l.height,t.headerWidth,t.scale,i);for(var s=e.find(g.Cell.selector),u=0;u<t.columnCount;u++){var c,p,d=a+u;o<=d||(c={element:(p=s.eq(u)).find(g.CellContent.selector),index:d,viewport:l,scrollPosition:r},this.behavior&&(c.styleSubheader=N.GridLayoutBehavior.styleSubheader,c.bindDataToGridCell=N.GridLayoutBehavior.bindDataToGridCell),t.cell.renderCell(c),t.subheaderShow&&(p=p.find(g.SubHeader.selector),t.cell.renderCellSubheader({element:p,index:d,viewport:{width:t.cell.width,height:t.subheaderHeight,scale:t.scale},scrollPosition:r})))}0<t.footerWidth&&this.renderHeaderCell(m(e,1),n,1,l.height,t.footerWidth,t.scale,i)},n.prototype.renderHeaderCell=function(e,t,a,i,o,r,n){n({index:t,viewport:{width:o,height:i,scale:r},position:a,element:e,scrollPosition:this.listView.getCurrentPosition(),useManagedTabIndex:this.useManagedTabIndex()})},n.prototype.renderListViewRow=function(e){e.each((function(e,t){$(this).addClass(g.GridRowWrapperSelector.class)}))},n.prototype.updateListViewRow=function(e){var i=this,o=this.renderingContext;e.each((function(e,t){var a=$(this);a.data(r)!==o&&(a.data(r,o),i.renderRow($(this),i.settings.row,e.cellIndex,i.settings.renderHeader,i.settings.totalCellCount,i.getScrollPosition()))}))},n.prototype.initialize=function(e){this.isInitialized=!0,this.$grid=this.buildElement(this.$container,g.Grid.class),this.$gridBody=this.buildGridBody(),this.$gridFooter=this.buildElement(this.$grid,g.Footer.class),this.$gridFooter.attr("role","grid");e=this.buildListViewOptions(e);this.listView=N.ListViewFactory.createListView(e)},n.prototype.getRowHeight=function(e,t){return void 0===t&&(t=this.settings.row),b(e,this.getTotalRowCount(),t).height},n.prototype.getContainerHeight=function(){var e=this.settings;if(0===e.rowCount)return 0;for(var t=0,a=0;a<e.rowCount;a++)t+=b(a,this.getTotalRowCount(),e.row).height;var i=this.hasScroll(),o=this.settings.row.cellPadding.top,r=this.settings.gridLineSettings;return t+=n.getBottomInnerPadding(i,o,r)},n.prototype.checkLoadMore=function(){return this.listView.reachedLastRowContent()},n.prototype.buildListViewOptions=function(e){var t=this,a=this.getTotalOuterPixels(),a={loadMoreData:function(){return t.loadMoreHandler()},customLoadMoreCheck:function(){return t.checkLoadMore()},viewport:this.settings.viewport,baseContainer:d3.select(this.$gridBody.get(0)),scrollEnabled:this.scrollEnabled,isReadMode:function(){return!0},enter:function(e){t.renderListViewRow(e)},update:function(e){t.updateListViewRow(e)},rowHeight:this.getRowHeightWithoutPadding(a),paddingBetween:this.settings.row.cellPadding.top,paddingOuter:a,doNotRenderToCalculateRowHeight:!0,getContainerHeight:function(){return t.getContainerHeight()}};return this.behavior&&(a.afterScroll=function(){return t.bindInteractivity(e)}),a},n.prototype.buildListViewData=function(){for(var e=0,t=this.settings.row.columnCount,a=[],i=this.getTotalRowCount(),o=0;o<i;o++)a.push({index:o,cellIndex:e,columnCount:t}),e+=this.settings.row.columnCount;return a},n.prototype.getTotalRowCount=function(){var e=this.settings.row.columnCount,e=Math.ceil(this.settings.totalCellCount/e);return Math.max(e,this.settings.rowCount)},n.prototype.buildElement=function(e,t){return $(document.createElement("div")).addClass(t).appendTo(e)},n.prototype.buildGridBody=function(){var e=this.buildElement(this.$grid,g.Body.class);return e.attr("role","grid"),e},n.prototype.getRowsFromBodyOrFooter=function(e){e=(e?g.Body:g.Footer).selector;return this.$container.find(e+" "+g.Row.selector)},n.prototype.useManagedTabIndex=function(){return this.featureSwitches.cartesianMultiplesAccessibility},n);function n(e,t,a,i,o,r){var n=this;this.$container=e,this.featureSwitches=t,this.loadMoreHandler=a,this.scrollEnabled=i,this.interactivityService=o,this.isInitialized=!1,o&&t.cartesianMultiplesAccessibility&&(r=new N.GridLayoutBehaviorFactory(r,function(){return n.settings.getAllCells()}),this.behavior=r.create())}function b(e,t,a){var i=0,o=0;return 0===e&&(o+=a.outerPadding.top,h.hasOuterGridLines(a.gridLineSettings)&&(o+=a.gridLineSettings.settings.width)),e===t-1&&(i+=a.outerPadding.bottom,h.hasOuterGridLines(a.gridLineSettings)&&(i+=a.gridLineSettings.settings.width)),0<e&&(o+=a.cellPadding.top),{height:a.height+(a.subheaderShow?a.subheaderHeight:0)+i+o,topPadding:o,bottomPadding:i}}})(V.visuals||(V.visuals={}))})(powerbi=powerbi||{}),(function(m){!(function(c){var p=jsCommon.BrowserUtils,e=jsCommon.CssConstants.createClassAndSelector,o=jsCommon.DOMConstants;c.managedTabIndexElement=e("managed-tab-index-element");var d=[34,33,36,35,32],e=(t.prototype.create=function(){return new a(this.boundDataKey,this.getAllCells)},t);function t(e,t){this.boundDataKey=e,this.getAllCells=t}c.GridLayoutBehaviorFactory=e;var a=(s.prototype.bindEvents=function(e,a,t){this.$cells=e.cells,this.columnCount=e.columnCount,this.viewportRowCount=e.viewportRowCount,this.cellCount=e.cellCount,this.listView=e.listView,this.cellCount=e.cellCount,this.visualInstanceId=e.visualInstanceId,this.$rows=e.$rows,this.manageTabIndexOnRowHeaderFooter=e.manageTabIndexOnRowHeaderFooter;var i,o=this,r=this.boundDataKey,n=!1,l=-1;this.$cells.each((function(){var e=$(this),t=e.data(r);t&&(n=n||o.checkUpdateEntryMappingImmediate(e,t,o),e=t.getIndex(),n||l<0&&(l=e),t=t.getDataPoint(),o.bindKeyNavigation(this,e,t,a),o.bindSubheaderSelection(this,t,a),o.bindClickEvents(this,e))})),n||(i=0<=l,this.checkUpdateEntryMappingDelayed(i,l)),e.gridContainer.on("click.selection",(function(){c.InteractivityUtils.handleClearSelection(a,s.isValidClickTarget)}))},s.prototype.renderSelection=function(e){var a=this.boundDataKey;this.$cells.each((function(){var e=$(this),t=e.data(a);t&&s.styleSubheader(e,t,a)}))},s.bindDataToGridCell=function(e,t,a){t&&e.data(a,t)},s.styleSubheader=function(e,t,a){e.css("font-weight",t.isSelected()?"700":"")},s.isValidClickTarget=function(e){var t=e.target;return!_.some(["scroll-bar","scroll-element_outer","scroll-element_track"],(function(e){return t.classList.contains(e)}))},s.prototype.bindSubheaderSelection=function(e,t,a){d3.select(e).select(c.GridLayoutSelectors.SubHeader.selector).on("click",(function(){return c.InteractivityUtils.handleSelection(t,a)}))},s.prototype.bindKeyNavigation=function(e,n,l,s){var u=this;d3.select(e).select(c.managedTabIndexElement.selector).on("keydown",(function(){var t=d3.event,e=d3.select(t.target),a=t.keyCode;if(e.classed(c.managedTabIndexElement.class)){var i=function(e){t.preventDefault(),t.stopPropagation(),e()};switch(a){case 39:n!==u.getLastCellIndexInRow(n)?t.shiftKey?i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(n+1,l,s)]}))}))})):i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(n+1,!1)]}))}))})):i((function(){}));break;case 37:n!==u.getFirstCellIndexInRow(n)?t.shiftKey?i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(n-1,l,s)]}))}))})):i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(n-1,!1)]}))}))})):i((function(){}));break;case 40:var o=n+u.columnCount;o<u.cellCount?t.shiftKey?i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(o,l,s)]}))}))})):i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(o,!1)]}))}))})):i((function(){}));break;case 38:var r=n-u.columnCount;0<=r?t.shiftKey?i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(r,l,s)]}))}))})):i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(r,!1)]}))}))})):i((function(){}));break;case 36:p.isCtrlOrMeta(t)?i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(0,!1)]}))}))})):i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(this.getFirstCellIndexInRow(n),!1)]}))}))}));break;case 35:p.isCtrlOrMeta(t)?i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(this.cellCount-1,!1)]}))}))})):i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(this.getLastCellIndexInRow(n),!1)]}))}))}));break;case 32:i((function(){return u.handleCellSelection(l,s)}));break;case 65:p.isCtrlOrMeta(t)&&(s.handleClearSelection(),i((function(){return u.handleSelectAll(s)})));break;case 33:i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(Math.max(n-this.getCellsPerPage(),0),!1)]}))}))}));break;case 34:i((function(){return __awaiter(u,void 0,m.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(n+this.getCellsPerPage(),!0)]}))}))}))}}else 0<=_.indexOf(d,a)&&(t.preventDefault(),t.stopPropagation())}))},s.prototype.checkUpdateEntryMappingImmediate=function(e,t,a){var i=t.getDataPoint().identity,o=a.entryCellKeyMapping,r=void 0===o,o=o&&c.SelectionId.isEqual(i,a.entryCellKeyMapping.key);if(r||o){t={cell:e,index:t.getIndex(),key:i,selectableDataPoint:t.getDataPoint()};return a.setEntryCellKeyMapping(t),!0}return!1},s.prototype.checkUpdateEntryMappingDelayed=function(e,t){e?this.setEntryCellKeyMapping(this.getCellKeyMapping(t)):this.setEntryCellKeyMapping(void 0)},s.prototype.focusCellAtIndex=function(t,e){var a=this,i=this.factory.defer(),o=this.getRowIndexFromCellIndex(t),r=e;return this.pendingFocusCall?i.resolve(1):(this.pendingFocusCall=!0,this.focusCallback=function(){var e=r?Math.min(t,a.cellCount-1):t,e=a.getCellKeyMapping(e);e&&(a.setEntryCellKeyMapping(e),a.pendingFocusCall=!1,p.focus(a.getManagedElementFromCell(e.cell).get(0),{preventScroll:!0})),a.pendingFocusCall=!1,i.resolve(0)},this.listView.scrollRowIntoView(o,this.focusCallback)),i.promise},s.prototype.setEntryCellKeyMapping=function(e){var t,a=this.entryCellKeyMapping;a&&a.cell&&((t=this.getManagedElementFromCell(a.cell)).removeAttr("tabindex"),t.removeAttr("focusable"),t.attr(o.skipChildrenFocusAttribute,"true")),e&&((t=this.getManagedElementFromCell(e.cell)).attr("tabindex",0),t.attr("focusable","true"),t.attr("aria-labelledby",this.visualInstanceId+"-"+e.index),t.removeAttr(o.skipChildrenFocusAttribute),this.updateFocusAttributesForRowHeaders(e.index)),this.entryCellKeyMapping=e},s.prototype.getCellKeyMapping=function(i){var o,r=this.boundDataKey;return this.$cells.each((function(){var e=$(this),t=e.data(r);if(t){var a=t.getIndex();if(a===i)return!(o={cell:e,key:t.getDataPoint().identity,index:a,selectableDataPoint:t.getDataPoint()})}})),o},s.prototype.getRowIndexFromCellIndex=function(e){return Math.floor(e/this.columnCount)},s.prototype.getColumnIndexFromCellIndex=function(e){return e%this.columnCount},s.prototype.getCellsPerPage=function(){return this.columnCount*this.viewportRowCount},s.prototype.getFirstCellIndexInRow=function(e){return this.getRowIndexFromCellIndex(e)*this.columnCount},s.prototype.getLastCellIndexInRow=function(e){return Math.min(this.cellCount-1,this.getFirstCellIndexInRow(e)+this.columnCount-1)},s.prototype.getManagedElementFromCell=function(e){return e.find(c.managedTabIndexElement.selector).first()},s.prototype.getManagedElementFromRows=function(e,t){return e.find(t+" "+c.managedTabIndexElement.selector)},s.prototype.handleCellSelection=function(e,t){c.InteractivityUtils.handleSelection(e,t)},s.prototype.handleSelectAll=function(e){var t=this.getAllCells();_.isEmpty(t)||e.handleMultipleSelection(t.map((function(e){return e.getDataPoint()})),1)},s.prototype.appendCellToSelection=function(e,t){t.handleMultipleSelection([e],1)},s.prototype.triggerFocusAndSelection=function(a,i,o){return __awaiter(this,void 0,m.Promise,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.focusCellAtIndex(a,!1)];case 1:return 1!==e.sent()&&(t=this.getCellKeyMapping(a),t=t?t.selectableDataPoint:void 0,i.selected&&t&&this.appendCellToSelection(t,o)),[2]}}))}))},s.prototype.updateFocusAttributesForRowHeaders=function(e){var a,i=this;this.manageTabIndexOnRowHeaderFooter?(a=this.getRowIndexFromCellIndex(e),this.$rows.each((function(){var e=$(this),t=i.getManagedElementFromRows(e,c.GridLayoutSelectors.HeaderCell.selector);e.attr("aria-rowindex")===(a+1).toString()?t.attr("tabindex",0).attr("focusable","true").addClass(c.SetFocusRingClassName).removeAttr(o.skipChildrenFocusAttribute):t.removeAttr("tabindex").removeAttr("focusable").removeClass(c.SetFocusRingClassName).attr(o.skipChildrenFocusAttribute,"true")}))):(a=this.getColumnIndexFromCellIndex(e),i.getManagedElementFromRows(this.$rows,"").each((function(e){var t=$(this);e===a?t.attr("tabindex",0).attr("focusable","true").addClass(c.SetFocusRingClassName).removeAttr(o.skipChildrenFocusAttribute):t.removeAttr("tabindex").removeAttr("focusable").removeClass(c.SetFocusRingClassName).attr(o.skipChildrenFocusAttribute,"true")})))},s.prototype.bindClickEvents=function(e,t){var a=this;d3.select(e).select(c.GridLayoutSelectors.CellContent.selector).on("click",(function(){var e=a.getCellKeyMapping(t);e&&a.setEntryCellKeyMapping(e)}))},s);function s(e,t){this.boundDataKey=e,this.getAllCells=t,this.pendingFocusCall=!1,this.factory=m.createJQueryPromiseFactory()}c.GridLayoutBehavior=a})(m.visuals||(m.visuals={}))})(powerbi=powerbi||{}),(function(s){var e,h,t,n;function r(e){e.visited=!0}function l(e){delete e.visited}function u(e){return n.isLeaf(e)?e.categoryIndex:n.isNonLeaf(e)?e.maxCategoryIndex:void 0}function b(e){if(e.parent){e=e.parent;if(!_.isEmpty(e.children))return _.last(e.children);e=b(e);return e&&_.last(e.children)}}function f(e,t,a){for(var i,o=0,r=e.values.length,n=t;n<r;n++){var l=(function(e,t,a){e=e.identity;t=e[t];a=s.data.ScopeIdentityExtractor.getSubset(t.expr,a);return s.data.createDataViewScopeIdentity(a)})(e,n,a);if(i&&!s.DataViewScopeIdentity.equals(i,l))break;i=i||l,o++}return o}function v(e,t,a,i){for(var o,r=a,n=a+i;r<n;r++){var l={categoryIndex:r,kind:h.Leaf,parent:e,previous:o};(o=void 0===o?b(l):o)&&((o.next=l).previous=o),e.children.push(o=l)}}e=s.visuals||(s.visuals={}),(t=h=e.HierarchyNodeType||(e.HierarchyNodeType={}))[t.Leaf=0]="Leaf",t[t.NonLeaf=1]="NonLeaf",(n=e.HierarchyNodeHelpers||(e.HierarchyNodeHelpers={})).isLeaf=function(e){return n.isKind(e,h.Leaf)},n.isNonLeaf=function(e){return n.isKind(e,h.NonLeaf)},n.isKind=function(e,t){return e&&e.kind===t},n.getNodeAtCategoryIndexForDepth=function(e,t,a){if(0===a)return e;n.isNonLeaf(e);for(var i=e,o=1;o<=a;o++){var r=i.children;_.isEmpty(r);r=_.head(r),i=n.getNodeAtCategoryIndex(r,t)}return i},n.getNodeAtCategoryIndex=function(e,t){e.visited;var a=u(e);if(a===t)return e;if(a<t){var i=e.next;r(e);var o=n.getNodeAtCategoryIndex(i,t);return l(e),o}if((i=e.previous)&&u(i)>=t){r(e);o=n.getNodeAtCategoryIndex(i,t);return l(e),o}return e},n.getLastLevelNode=b,(n.Builder||(n.Builder={})).build=function(e){for(var t=_.head(e).values.length,a={categorySpan:t,children:[],kind:h.NonLeaf,maxCategoryIndex:t,parent:null},i=0;i<t;)i+=(function e(t,a,i,o,r){r=r||[];var n=a[i];var l=r[i];var s;{var u;l||(n.source.identityExprs,u=n.source.identityExprs,(l=r[i]=0<i?r[i-1].slice():[]).push.apply(l,u||[]))}var c=f(n,o,l);var p={categorySpan:c,children:[],kind:h.NonLeaf,maxCategoryIndex:null,parent:t};void 0===s&&(s=b(p));s&&((p.previous=s).next=p);var d=i+1;if(d>=a.length-1)v(p,a[d],o,c);else for(var m=0;m<c;){var g=m+o;m+=e(p,a,d,g,r)}var y=_.last(p.children);switch(y.kind){case h.Leaf:p.maxCategoryIndex=y.categoryIndex;break;case h.NonLeaf:p.maxCategoryIndex=y.maxCategoryIndex}t.children.push(p);return c})(a,e,0,i);return a}})(powerbi=powerbi||{}),(function(e){var n;function t(){return{solid:{color:"#FFF"}}}function a(){return 50}function i(){return!1}function l(e){e&&e.children(".background-image").remove()}n=e.visuals||(e.visuals={}),(e=n.visualBackgroundHelper||(n.visualBackgroundHelper={})).getDefaultColor=t,e.getDefaultTransparency=a,e.getDefaultShow=i,e.getDefaultValues=function(){return{color:t(),transparency:50,show:!1}},e.enumeratePlot=function(e,t){var a=t&&t.transparency,t={selector:null,properties:{transparency:a=null==a?50:a,image:t&&t.image},objectName:"plotArea"};e.pushInstance(t)},e.getBackgroundCard=function(t,a){var i=n.columnChartProps.plotArea,o=null!==(e=t&&t.transparency)&&void 0!==e?e:50,e=new n.builder.FormattingCardBuilder(new n.builder.FormattingCardUidBuilder("plotBackground"),"Visual_Plot_Background",[i.image,i.transparency],a);return e.addGroup(void 0,(function(e){e.addSimpleSlice("image",new n.builder.ImageUploadBuilder({descriptor:i.image,value:t&&t.image}).build()).addSimpleSlice("transparency",new n.builder.SliderBuilder({descriptor:i.transparency,value:o,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:n.visualLocKeys.PercentLocKey},localize:a}).build(),(function(e){return e.withDisabled(!(t&&t.image&&(null!==(e=t.image)&&void 0!==e&&e.name||null!==(e=t.image)&&void 0!==e&&e.url)))}))})),e.build()},e.renderBackgroundImage=function(e,t,a){var i=(o=e&&e.image)&&o.url,o=o&&o.scaling,e=e&&e.transparency;if(i){var r=t.children(".background-image");switch(0===r.length&&(t.prepend('<div class="background-image"></div>'),(r=t.children(".background-image")).css("position","absolute")),r.css({width:a.width,height:a.height,"margin-left":a.left,"margin-top":a.top}),r.css({"background-image":"url("+i+")","background-repeat":"no-repeat",opacity:(100-e)/100}),o){case n.imageScalingType.normal:r.css({"background-size":"","background-position":"50% 50%"});break;case n.imageScalingType.fit:r.css({"background-size":"100% 100%","background-position":""});break;case n.imageScalingType.fill:r.css({"background-size":"100%","background-position":"50% 50%"});break;default:r.css({"background-size":"","background-position":"50% 50%"})}}else l(t)},e.removeBackgroundImage=l})(powerbi=powerbi||{}),(function(e){var t,a;function l(){}t=e.visuals||(e.visuals={}),a=e.data.Selector,l.prototype.pushInstance=function(e,t){void 0===t&&(t=!0);var a=(a=this.instances)||(this.instances=[]),i=this.containerIdx;if(null!=i&&(e.containerIdx=i),t)for(var o=0,r=a;o<r.length;o++){var n=r[o];if(this.canMerge(n,e))return this.extend(n,e,"properties"),this.extend(n,e,"validValues"),this}return a.push(e),this},l.prototype.pushContainer=function(e){e=(this.containers||(this.containers=[])).push(e);return this.containerIdx=e-1,this},l.prototype.popContainer=function(){return this.containerIdx=void 0,this},l.prototype.complete=function(){if(this.instances){var e={instances:this.instances},t=this.containers;return t&&(e.containers=t),e}},l.prototype.canMerge=function(e,t){return e.objectName===t.objectName&&e.containerIdx===t.containerIdx&&a.equals(e.selector,t.selector)},l.prototype.extend=function(e,t,a){var i=t[a];if(i){var o,r=(r=e[a])||(e[a]={});for(o in i)r[o]||(r[o]=i[o])}},l.merge=function(e,t){var a=l.normalize(e),t=l.normalize(t);if(!a||!t)return a||t;for(var i=a.containers?a.containers.length:0,o=0,r=t.instances;o<r.length;o++){var n=r[o];a.instances.push(n),null!=n.containerIdx&&(n.containerIdx+=i)}t=t.containers;return _.isEmpty(t)||(a.containers?Array.prototype.push.apply(a.containers,t):a.containers=t),a},l.normalize=function(e){return _.isArray(e)?{instances:e}:e},l.getContainerForInstance=function(e,t){return e.containers,e.containers.length,t.containerIdx,e.containers[t.containerIdx]},t.ObjectEnumerationBuilder=l})(powerbi=powerbi||{}),(function(e){var a,t;a=e.visuals||(e.visuals={}),(t=a.VisualBorderUtil||(a.VisualBorderUtil={})).DefaultColor="#000",t.DefaultShow=!1,t.DefaultRadius=0,t.getBorderCss=function(e,t){return(a.outline.showTop(e)?t:0)+"px "+(a.outline.showRight(e)?t:0)+"px "+(a.outline.showBottom(e)?t:0)+"px "+(a.outline.showLeft(e)?t:0)+"px"},t.getDefaultValues=function(){return{color:{solid:{color:t.DefaultColor}},show:t.DefaultShow,radius:t.DefaultRadius}}})(powerbi=powerbi||{}),(function(e){function t(e){this.matrix=e||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}function a(e,t){return{m00:1,m01:0,m02:e,m10:0,m11:1,m12:t}}function i(e,t){return{m00:e,m01:0,m02:0,m10:0,m11:t,m12:0}}function o(e){var t=e,e=Math.sin(t),t=Math.cos(t);return{m00:t,m01:-e,m02:0,m10:e,m11:t,m12:0}}function r(e){var t=1/(e.m00*e.m11-e.m01*e.m10);return{m00:e.m11*t,m01:-e.m01*t,m02:(e.m01*e.m12-e.m02*e.m11)*t,m10:-e.m10*t,m11:e.m00*t,m12:-(e.m00*e.m12-e.m10*e.m02)*t}}function n(e,t){return{m00:e.m00*t.m00+e.m01*t.m10,m01:e.m00*t.m01+e.m01*t.m11,m02:e.m00*t.m02+e.m01*t.m12+e.m02,m10:e.m10*t.m00+e.m11*t.m10,m11:e.m10*t.m01+e.m11*t.m11,m12:e.m10*t.m02+e.m11*t.m12+e.m12}}e=e.visuals||(e.visuals={}),t.prototype.applyToPoint=function(e){if(!e)return e;var t=this.matrix;return{x:t.m00*e.x+t.m01*e.y+t.m02,y:t.m10*e.x+t.m11*e.y+t.m12}},t.prototype.applyToRect=function(e){if(!e)return e;var t=e.left,a=e.top,i=this.matrix,o=1!==i.m00||1!==i.m11,r=0!==i.m01||0!==i.m10;if(!r&&!o)return{left:t+i.m02,top:a+i.m12,width:e.width,height:e.height};var n,l,s,u,c,p,d,m=e.left+e.width,o=e.top+e.height;return d=r?(u=i.m00*t+i.m01*a+i.m02,c=i.m10*t+i.m11*a+i.m12,l=i.m00*t+i.m01*o+i.m02,e=i.m10*t+i.m11*o+i.m12,s=i.m00*m+i.m01*a+i.m02,r=i.m10*m+i.m11*a+i.m12,p=i.m00*m+i.m01*o+i.m02,d=i.m10*m+i.m11*o+i.m12,n=Math.min(u,l,s,p),l=Math.max(u,l,s,p),s=Math.min(c,e,r,d),Math.max(c,e,r,d)):(u=i.m00*t+i.m02,c=i.m11*a+i.m12,p=i.m00*m+i.m02,d=i.m11*o+i.m12,n=Math.min(u,p),l=Math.max(u,p),s=Math.min(c,d),Math.max(c,d)),{left:n,top:s,width:l-n,height:d-s}},t.prototype.translate=function(e,t){0===e&&0===t||(t=a(e,t),this.matrix=n(this.matrix,t),this._inverse=null)},t.prototype.scale=function(e,t){1===e&&1===t||(t=i(e,t),this.matrix=n(this.matrix,t),this._inverse=null)},t.prototype.rotate=function(e){0!==e&&(e=o(e),this.matrix=n(this.matrix,e),this._inverse=null)},t.prototype.add=function(e){e&&(this.matrix=n(this.matrix,e.matrix),this._inverse=null)},t.prototype.getInverse=function(){return this._inverse||(this._inverse=new t(r(this.matrix))),this._inverse},e.Transform=t,e.createTranslateMatrix=a,e.createScaleMatrix=i,e.createRotationMatrix=o,e.createInverseMatrix=r})(powerbi=powerbi||{}),(function(N){var P,t,a;P=N.visuals||(N.visuals={}),t=jsCommon.Color,a=N.data.DataRoleHelper,(function(n){var l,e;(e=l=n.PropertyNames||(n.PropertyNames={})).show="show",e.displayName="displayName",e.lineColor="lineColor",e.transparency="transparency",e.style="style",e.combineSeries="combineSeries",e.useHighlightValues="useHighlightValues",n.trendObjectName="trend";var S="foregroundDark";n.defaults={lineStyle:P.lineStyle.dashed,transparency:0,combineSeries:!0,useHighlightValues:!0};var r=jsCommon.CssConstants.createClassAndSelector("trend-line"),s=jsCommon.CssConstants.createClassAndSelector("trend-line-layer");function C(e,t,a,i,o){var r=N.DataViewObjects.getObject(e,n.trendObjectName,{}),e=P.ColorHelper.create(o),r={show:N.DataViewObject.getValue(r,l.show,!1),displayName:N.DataViewObject.getValue(r,l.displayName),lineColor:{solid:{color:e.getColorForPropertyName(r,l.lineColor,S)}},transparency:N.DataViewObject.getValue(r,l.transparency,n.defaults.transparency),style:N.DataViewObject.getValue(r,l.style,n.defaults.lineStyle),combineSeries:N.DataViewObject.getValue(r,l.combineSeries,n.defaults.combineSeries),useHighlightValues:N.DataViewObject.getValue(r,l.useHighlightValues,n.defaults.useHighlightValues)},a=N.DataViewObjects.getValue(a,P.lineChartProps.dataPoint.fill);a&&(r.lineColor=a);a=N.DataViewObjects.getFillColor(t,{objectName:"dataPoint",propertyName:"defaultColor"});return i||(a=a||N.DataViewObjects.getFillColor(t,{objectName:"dataPoint",propertyName:"fill"})),{trendlineProperties:r,colorHelper:e=P.ColorHelper.create(o,{objectName:"dataPoint",propertyName:"fill"},a),defaultColor:a}}function x(e){return{solid:{color:P.ColorHelper.getThemeColor(e,S)}}}function w(e){e=t.parseColorString(e),e=t.darken(e,20);return t.rgbString(e)}n.enumerateObjectInstances=function(e,t,a){_.isEmpty(t)?e.pushInstance({selector:null,properties:{show:!1,lineColor:x(a),transparency:n.defaults.transparency,style:n.defaults.lineStyle,combineSeries:n.defaults.combineSeries},objectName:n.trendObjectName}):(a=t[0],(t={}).show=a.show,t.displayName=a.displayName,a.combineSeries&&(t.lineColor=a.lineColor),t.transparency=a.transparency,t.style=a.style,t.combineSeries=a.combineSeries,t.useHighlightValues=a.useHighlightValues,e.pushInstance({selector:null,properties:t,objectName:n.trendObjectName}))},n.isDataViewForRegression=function(e){return a.hasRoleInDataView(e,"regression.X")},n.readDataView=function(e,t,a,i){return(e&&e.matrix?function(e,t,a,i){if(e&&e.matrix){var o=e.matrix,r=o.rows&&o.rows.root&&o.rows.root.children;if(!_.isEmpty(r)){for(var n=t.metadata.objects,e=C(e.metadata.objects,n,r[0].children[0].objects,a,i),l=e.trendlineProperties,s=e.colorHelper,u=e.defaultColor,c=t.matrix&&t.matrix.rows&&t.matrix.rows.root.children,p=[],d=0;d<r.length;d++){for(var m=[],g=0,y=r[d].children;g<y.length;g++){var h=y[g],b=P.AxisHelper.normalizeNonFiniteNumber(h.value),h=P.AxisHelper.normalizeNonFiniteNumber(h.values[0].value);null!=b&&null!=h&&m.push({x:b,y:h})}var f,v=void 0;v=l.combineSeries?l.lineColor||x(i):2===t.matrix.rows.levels.length?(f=c[d],{solid:{color:w(s.getColorForSeriesValue(f.objects,f.childIdentityFields,f.value,S))}}):(f=N.DataViewObjects.getFillColor(n,{objectName:"dataPoint",propertyName:"defaultCategoryColor"}),{solid:{color:w(P.ColorHelper.create(i,{objectName:"dataPoint",propertyName:"fill"},u||f).getColorForMeasure(null,"",S))}}),p.push({points:m,show:l.show,displayName:l.displayName,lineColor:v,transparency:l.transparency,style:l.style,combineSeries:l.combineSeries,useHighlightValues:l.useHighlightValues,y2Axis:a})}return p}}}:function(e,t,a,i){if(e&&e.categorical){var o=e.categorical;if(!_.isEmpty(o.categories)&&!_.isEmpty(o.values)){var r=o.categories[0].values,n=o.values.grouped();if(r&&n){for(var o=C(e.metadata.objects,t.metadata.objects,o.values[0].source.objects,a,i),l=o.trendlineProperties,s=o.colorHelper,u=[],c=0;c<n.length;c++){for(var p=n[c],d=[],m=0;m<r.length;m++){var g=P.AxisHelper.normalizeNonFiniteNumber(r[m]),y=p.values[0],h=void 0,h=l.useHighlightValues&&y.highlights?y.highlights:y.values,h=P.AxisHelper.normalizeNonFiniteNumber(h[m]);null!=g&&null!=h&&d.push({x:g,y:h})}var b,f=void 0;f=l.combineSeries?l.lineColor||x(i):{solid:{color:w(t.categorical.values.source?(b=t.categorical.values.grouped(),s.getColorForSeriesValue(b[c].objects,t.categorical.values.identityFields,p.name,S)):(b=t.categorical.values[c],s.getColorForMeasure(b.source.objects,p.name,S)))}},u.push({points:d,show:l.show,displayName:l.displayName,lineColor:f,transparency:l.transparency,style:l.style,combineSeries:l.combineSeries,useHighlightValues:l.useHighlightValues,y2Axis:a})}return u}}}})(e,t,a,i)},n.darkenTrendLineColor=w,n.render=function(e,t,i,a){var o=t.select(s.selector);(o=o.empty()?t.append("svg").classed(s.class,!0):o).attrs({height:a.height,width:a.width}),o=o.selectAll(r.selector).data(e||[]),(e=o.enter().append("path").classed(r.class,!0).merge(o)).attr("d",(function(e){var t=i.x.scale,a=(e.y2Axis&&i.y2?i.y2:i.y1).scale;return d3.line().x((function(e){return t(e.x)})).y((function(e){return a(e.y)}))(_.filter(e.points,(function(e){return null!=e.x&&null!=e.y})))})),e.each((function(e){var t=d3.select(this),a={};a.stroke=e.lineColor.solid.color,null!=e.transparency&&(a["stroke-opacity"]=(100-e.transparency)/100),e.style===P.lineStyle.dashed?a["stroke-dasharray"]="5, 5":e.style===P.lineStyle.dotted?(a["stroke-dasharray"]="1, 5",a["stroke-linecap"]="round"):e.style===P.lineStyle.solid&&(a["stroke-dasharray"]=null,a["stroke-linecap"]=null),t.styles(a)})),o.exit().remove()}})(P.TrendLineHelper||(P.TrendLineHelper={}))})(powerbi=powerbi||{}),(function(_){!(function(x){var w=(e.DefaultLineStyle=x.lineStyle.solid,e.DefaultErrorBarEndStyle=x.errorBarEndStyle.cap,e.DefaultWidth=1,e.DefaultBarTransparency=0,e.DefaultBorderTransparency=0,e.DefaultStrokeLineJoin=x.strokeLineJoin.miter,e.DefaultTransparency=80,e.DefaultMarkerShape=x.markerShape.circle,e.DefaultMarkerSize=3,e.DefaultMarkerTransparency=20,e.DefaultTooltipFormat=x.errorFormat.absolute,e.MarkerKeyBase="uncertainty",e);function e(){}x.UncertaintyDefaults=w,x.ErrorObjectProps=x.builder.getPropertyIdentifiers({error:x.StandardObjectDescriptors.error}).error;var t=(s.convertErrorMetadata=function(e,t,a,i,o){var r,n,l=_.DataViewObjects.getObject(e,"error"),s=_.DataViewObject.getValue(l,"barShow",!0),u=_.DataViewObject.getValue(l,"barEndStyle",w.DefaultErrorBarEndStyle),c=_.DataViewObject.getFillColorByPropertyName(l,"barColor",t.colorPalette.foregroundNeutralSecondary.value),p=_.DataViewObject.getValue(l,"barWidth",w.DefaultWidth),d=_.DataViewObject.getValue(l,"barTransparency",w.DefaultBarTransparency),m=_.DataViewObject.getFillColorByPropertyName(l,"barBorderColor",t.colorPalette.background.value),g=_.DataViewObject.getValue(l,"barBorderSize",w.DefaultWidth),y=_.DataViewObject.getValue(l,"barBorderTransparency",w.DefaultBorderTransparency);o&&o.hideLines||(r={show:_.DataViewObject.getValue(l,"lineShow",!1),lineStyle:_.DataViewObject.getValue(l,"lineLineStyle",w.DefaultLineStyle),strokeLineJoin:_.DataViewObject.getValue(l,"lineStrokeLineJoin",w.DefaultStrokeLineJoin),matchSeriesColor:_.DataViewObject.getValue(l,"lineMatchSeriesColor",!0),width:_.DataViewObject.getValue(l,"lineWidth",w.DefaultWidth),transparency:_.DataViewObject.getValue(l,"lineTransparency",w.DefaultTransparency),color:a}).matchSeriesColor||(r.color=_.DataViewObject.getFillColorByPropertyName(l,"lineColor",t.colorPalette.foregroundNeutralSecondary.value)),o&&o.hideAreas||(n={show:_.DataViewObject.getValue(l,"shadeShow",!1),matchSeriesColor:_.DataViewObject.getValue(l,"shadeMatchSeriesColor",!0),transparency:_.DataViewObject.getValue(l,"shadeTransparency",w.DefaultTransparency),color:a}).matchSeriesColor||(n.color=_.DataViewObject.getFillColorByPropertyName(l,"shadeColor",t.colorPalette.foregroundNeutralSecondary.value));var h=!0;null!=(null==o?void 0:o.markerMatchSeriesColor)&&(h=o.markerMatchSeriesColor);var b=_.DataViewObject.getValue(l,"markerShow",!1),f=_.DataViewObject.getValue(l,"markerShape",w.DefaultMarkerShape),v=_.DataViewObject.getValue(l,"markerSize",w.DefaultMarkerSize),S=_.DataViewObject.getValue(l,"markerMatchSeriesColor",h),C=_.DataViewObject.getValue(l,"markerTransparency",w.DefaultMarkerTransparency),e=a;S||(e=_.DataViewObject.getFillColorByPropertyName(l,"markerColor",t.colorPalette.foregroundNeutralSecondary.value));h=_.DataViewObject.getValue(l,"tooltipShow",!0),a=_.DataViewObject.getValue(l,"tooltipFormat",w.DefaultTooltipFormat),t=_.DataViewObject.getValue(l,"enabled",!1),l=t&&(s||b||(null==r?void 0:r.show)||(null==n?void 0:n.show)),l={hasUncertainty:t,bar:{show:s,endStyle:u,borderColor:m,borderTransparency:y,borderWidth:g,color:c,transparency:d,width:p,strokeLineJoin:x.strokeLineJoin.miter},markers:{color:e,lineDashType:x.lineStyle.solid,key:w.MarkerKeyBase+i,matchSeriesColor:S,shape:f,showMarker:b,size:v,transparency:C},tooltips:{format:a,show:h},renderUncertainty:l};return r&&(l.line=r),n&&(l.area=n),o&&o.valueAxisHorizontal&&(l.bar.isHorizontal=o.valueAxisHorizontal),l},s.convertDataPoint=function(e,t){if(null!=e){var a=e.isRelative?t:0,i={},t=x.AxisHelper.normalizeNonFiniteNumber(e.lowerBound);null!=t&&(i.lower=t+a);e=x.AxisHelper.normalizeNonFiniteNumber(e.upperBound);return null!=e&&(i.upper=e+a),i}},s.convertCategoricalDataPoint=function(e,t,a,i,o){o=e.getErrorValues(t,a,o);return this.convertDataPoint(o,i)},s.setTooltipItems=function(e,t,a,i,o,r){var n,l;null!=t&&null!=e&&null!=o&&a.tooltips.show&&(n=null!=e.lower,l=null!=e.upper,(r=s.getTooltipItems(e,t,a,i,o,r)).length,n&&(e.lowerTooltip=r.shift()),l&&(e.upperTooltip=r.shift()))},s.getTooltipItems=function(e,t,a,i,o,r){if(null!=t&&null!=e&&null!=o&&a.tooltips.show){var n=e.lower,l=e.upper,s=a.tooltips.format;switch(s){case x.errorFormat.relativeNumeric:null!=n&&(n-=t),null!=l&&(l-=t);break;case x.errorFormat.relativePercentage:null!=n&&(n=(n-t)/t),null!=l&&(l=(l-t)/t);break;case x.errorFormat.absolute:}var u=function(e){return s===x.errorFormat.relativePercentage?e===-1/0||e===1/0?o.getLocalizedString("ManageDatasets_NextRefresh_NA"):x.valueFormatter.format(e,o.getLocalizedString("Percentage")):i(e)},c=[];return null!=n&&(e={displayName:o.getLocalizedString("Visual_Error_Tooltip_Lower"),value:u(n)},r||(e.markerShape=x.markerShape.lowerErrorBar,e.color=a.bar.color),c.push(e)),null!=l&&(u={displayName:o.getLocalizedString("Visual_Error_Tooltip_Upper"),value:u(l)},r||(u.markerShape=x.markerShape.upperErrorBar,u.color=a.bar.color),c.push(u)),c}},s.errorBarSymbol=function(y,h,b){return{draw:function(e,t){var a,i,o,r,n,l,s,u,c,p,d,m,g;null!=y.uncertainty&&(a=null!=y.uncertainty.upper,i=null!=y.uncertainty.lower,(a||i)&&(o=b(y.uncertainty.upper)-b(y.value),r=b(y.uncertainty.lower)-b(y.value),m=t/2,n=.5*(h.width+h.borderWidth),l=!!h.isHorizontal,u=b.range()[0]<b.range()[1],(l&&!u||!l&&u)&&(r=(c=[o,r])[0],o=c[1],i=(p=[a,i])[0],a=p[1]),s=o-n,d=o+n,g=r-n,t=r+n,h.endStyle===x.errorBarEndStyle.cap?l?(a?(e.moveTo(s,n),e.lineTo(s,m),e.lineTo(d,m),e.lineTo(d,-m),e.lineTo(s,-m),e.lineTo(s,-n)):(e.moveTo(0,n),e.lineTo(0,-n)),i?(e.lineTo(t,-n),e.lineTo(t,-m),e.lineTo(g,-m),e.lineTo(g,m),e.lineTo(t,m),e.lineTo(t,n)):(e.lineTo(0,-n),e.lineTo(0,n))):(a?(e.moveTo(n,d),e.lineTo(m,d),e.lineTo(m,s),e.lineTo(-m,s),e.lineTo(-m,d),e.lineTo(-n,d)):(e.moveTo(n,0),e.lineTo(-n,0)),i?(e.lineTo(-n,g),e.lineTo(-m,g),e.lineTo(-m,t),e.lineTo(m,t),e.lineTo(m,g),e.lineTo(n,g)):(e.lineTo(-n,0),e.lineTo(n,0))):h.endStyle===x.errorBarEndStyle.dot?(u=2*n,c=o+Math.sqrt(3*Math.pow(u,2))/2,p=r-Math.sqrt(3*Math.pow(u,2))/2,d=.6*u,l?(m=o-Math.sqrt(3*Math.pow(u,2))/2,g=r+Math.sqrt(3*Math.pow(u,2))/2,a?(e.moveTo(o+u,0),e.arcTo(o+u,u,o,u,u),e.quadraticCurveTo(o-d,u,m,n),e.lineTo(m,n)):e.moveTo(0,n),i?(e.lineTo(g,n),e.quadraticCurveTo(r+d,u,r,u),e.arcTo(r-u,u,r-u,0,u),e.arcTo(r-u,-u,r,-u,u),e.quadraticCurveTo(r+d,-u,g,-n),e.lineTo(g,-n)):(e.lineTo(0,n),e.lineTo(0,-n)),a?(e.lineTo(m,-n),e.quadraticCurveTo(o-d,-u,o,-u),e.arcTo(o+u,-u,o+u,0,u)):e.lineTo(0,n)):(a?(e.moveTo(0,o-u),e.arcTo(u,o-u,u,o,u),e.quadraticCurveTo(u,o+d,n,c),e.lineTo(n,c)):e.moveTo(n,0),i?(e.lineTo(n,p),e.quadraticCurveTo(u,r-d,u,r),e.arcTo(u,r+u,0,r+u,u),e.arcTo(-u,r+u,-u,r,u),e.quadraticCurveTo(-u,r-d,-n,p),e.lineTo(-n,p)):(e.lineTo(n,0),e.lineTo(-n,0)),a?(e.lineTo(-n,c),e.quadraticCurveTo(-u,o+d,-u,o),e.arcTo(-u,o-u,0,o-u,u)):e.lineTo(-n,0))):l?(a?(e.moveTo(s,n),e.lineTo(s,-n)):(e.moveTo(0,n),e.lineTo(0,-n)),i?(e.lineTo(t,-n),e.lineTo(t,n)):(e.lineTo(0,-n),e.lineTo(0,n))):(a?(e.moveTo(n,s),e.lineTo(-n,s)):(e.moveTo(n,0),e.lineTo(-n,0)),i?(e.lineTo(-n,t),e.lineTo(n,t)):(e.lineTo(-n,0),e.lineTo(n,0))),e.closePath()))}}},s.getFormattingContainer=function(t,e){var a=t.uncertainty,i=x.ErrorObjectProps,o=t.measureSelector,r=t.localize,n={minValue:{type:0,value:1},maxValue:{type:1,value:10},unitSymbol:x.visualLocKeys.PixelUnitSymbol},l=__assign(__assign({},n),{minValue:{type:0,value:0}}),s=t.uncertaintyOptions,u=s&&s.hideLines,s=s&&s.hideAreas;e.addGroup("options",(function(e){e.withDisplayName("Desktop_FileMenu_Options").addSimpleSlice("errorRangeEnabled",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.enabled),{selector:o}),value:a.hasUncertainty}).build()})).addSimpleSlice("errorRange",(function(){return new x.builder.ErrorRangeBuilder({descriptor:__assign(__assign({},i.errorRange),{selector:t.dataPointSelector,instanceKind:2}),validators:{field:{kind:1,type:{numeric:!0}}},value:void 0}).build()}),(function(e){e.withSuppressDisplayName(!0)}))})),e.addGroup("bar",(function(e){e.withDisplayName("Visual_Bar").addTopLevelToggle("barShow",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.barShow),{selector:o}),value:a.bar.show}).build()})).addSimpleSlice("barEndStyle",(function(){return new x.builder.DropdownBuilder({descriptor:__assign(__assign({},i.barEndStyle),{selector:o}),value:a.bar.endStyle}).build()})).addSimpleSlice("barColor",(function(){return new x.builder.ColorPickerBuilder({descriptor:__assign(__assign({},i.barColor),{selector:o}),value:{value:a.bar.color}}).build()})).addSimpleSlice("barWidth",(function(){return new x.builder.NumUpDownBuilder({descriptor:__assign(__assign({},i.barWidth),{selector:o}),value:a.bar.width,options:n}).build()})).addSimpleSlice("barTransparency",x.builder.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},i.barTransparency),{selector:o}),value:a.bar.transparency,localize:r}).build()).addSimpleSlice("barBorderColor",(function(){return new x.builder.ColorPickerBuilder({descriptor:__assign(__assign({},i.barBorderColor),{selector:o}),value:{value:a.bar.borderColor}}).build()})).addSimpleSlice("barBorderSize",(function(){return new x.builder.NumUpDownBuilder({descriptor:__assign(__assign({},i.barBorderSize),{selector:o}),value:a.bar.borderWidth,options:l}).build()})).addSimpleSlice("barBorderTransparency",x.builder.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},i.barBorderTransparency),{selector:o}),value:a.bar.borderTransparency,localize:r}).build()),a.hasUncertainty||e.withDisabled(!0,void 0)})),u||e.addGroup("line",(function(e){e.withDisplayName("Visual_BasicShape_Line").addTopLevelToggle("lineShow",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.lineShow),{selector:o}),value:a.line.show}).build()})).addSimpleSlice("lineStyle",(function(){return new x.builder.DropdownBuilder({descriptor:__assign(__assign({},i.lineLineStyle),{selector:o}),value:a.line.lineStyle}).build()})).addSimpleSlice("lineStrokeLineJoin",(function(){return new x.builder.DropdownBuilder({descriptor:__assign(__assign({},i.lineStrokeLineJoin),{selector:o}),value:a.line.strokeLineJoin}).build()})).addSimpleSlice("lineMatchSeriesColor",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.lineMatchSeriesColor),{selector:o}),value:a.line.matchSeriesColor}).build()})).addSimpleSlice("lineColor",(function(){return new x.builder.ColorPickerBuilder({descriptor:__assign(__assign({},i.lineColor),{selector:o}),value:{value:a.line.color}}).build()}),(function(e){return e.withDisabled(a.line.matchSeriesColor)})).addSimpleSlice("lineWidth",(function(){return new x.builder.NumUpDownBuilder({descriptor:__assign(__assign({},i.lineWidth),{selector:o}),value:a.line.width,options:n}).build()})).addSimpleSlice("lineTransparency",x.builder.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},i.lineTransparency),{selector:o}),value:a.line.transparency,localize:r}).build()),a.hasUncertainty||e.withDisabled(!0,void 0)})),s||e.addGroup("area",(function(e){e.withDisplayName("Visual_Shapes_ShadeArea").addTopLevelToggle("shadeShow",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.shadeShow),{selector:o}),value:a.area.show}).build()})).addSimpleSlice("shadeMatchSeriesColor",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.shadeMatchSeriesColor),{selector:o}),value:a.area.matchSeriesColor}).build()})).addSimpleSlice("shadeColor",(function(){return new x.builder.ColorPickerBuilder({descriptor:__assign(__assign({},i.shadeColor),{selector:o}),value:{value:a.area.color}}).build()}),(function(e){return e.withDisabled(a.area.matchSeriesColor)})).addSimpleSlice("shadeTransparency",x.builder.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},i.shadeTransparency),{selector:o}),value:a.area.transparency,localize:r}).build()),a.hasUncertainty||e.withDisabled(!0,void 0)})),e.addGroup("markers",(function(e){e.withDisplayName("Visual_Markers").addTopLevelToggle("markerShow",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.markerShow),{selector:o}),value:a.markers.showMarker}).build()})).addSimpleSlice("markerShape",new x.builder.DropdownBuilder({descriptor:__assign(__assign({},i.markerShape),{selector:o}),value:a.markers.shape}).build()).addSimpleSlice("markerSize",new x.builder.NumUpDownBuilder({descriptor:__assign(__assign({},i.markerSize),{selector:o}),value:a.markers.size,options:{minValue:{type:0,value:1},maxValue:{type:1,value:x.MarkerProperties.markerShapeSizeMax}}}).build()).addSimpleSlice("markerMatchSeriesColor",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.markerMatchSeriesColor),{selector:o}),value:a.markers.matchSeriesColor}).build()})).addSimpleSlice("markerColor",new x.builder.ColorPickerBuilder({descriptor:__assign(__assign({},i.markerColor),{selector:o}),value:{value:a.markers.color}}).build(),(function(e){return e.withDisabled(a.markers.matchSeriesColor)})).addSimpleSlice("markerTransparency",x.builder.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},i.markerTransparency),{selector:o}),value:a.markers.transparency,localize:r}).build()),a.hasUncertainty||e.withDisabled(!0,void 0)})),e.addGroup("tooltip",(function(e){e.withDisplayName("Tooltip").addTopLevelToggle("tooltipShow",(function(){return new x.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},i.tooltipShow),{selector:o}),value:a.tooltips.show}).build()})).addSimpleSlice("tooltipFormat",(function(){return new x.builder.DropdownBuilder({descriptor:__assign(__assign({},i.tooltipFormat),{selector:o}),value:a.tooltips.format}).build()})),a.hasUncertainty||e.withDisabled(!0,void 0)}))},s);function s(){}x.UncertaintyHelper=t})(_.visuals||(_.visuals={}))})(powerbi=powerbi||{}),(function(e){var n=e.data.DataViewObjectDefinitions,m=e.data.DataViewObjectDescriptors,l=e.data.DataViewWildcard,g=e.data.Selector;(e=e.VisualObjectRepetition||(e.VisualObjectRepetition={})).equals=function(e,t){return(e=e||null)===(t=t||null)||!e==!t&&(void 0===e.altStaticSelector==(void 0===t.altStaticSelector)&&(g.equals(e.selector,t.selector)&&!!e.allowOverrideSubtotalMatching==!!t.allowOverrideSubtotalMatching&&g.equals(e.altStaticSelector,t.altStaticSelector)&&_.isEqual(e.objects,t.objects)))},e.getMetadata=function(e,t){if(_.isEmpty(e))return[];for(var a=[],i=0,o=e;i<o.length;i++){var r,n=o[i];for(r in n.objects){var l=n.objects[r]&&n.objects[r].formattingProperties;if(!_.isEmpty(l))for(var s=0,u=l;s<u.length;s++){var c={objectName:r,propertyName:u[s]},p=m.findPropertyById(t,c),d=void 0;n.allowOverrideSubtotalMatching&&(g.isWildcardSelector(n.selector),d=!0),p&&a.push({selector:n.selector,allowOverrideSubtotalMatching:d,altStaticSelector:n.altStaticSelector,propertyId:c,propertyDescriptor:p,containerName:n.containerName})}}}return a},e.metadataEquals=function(e,t){return e===t||null==e&&null==t||!e==!t&&(void 0===e.altStaticSelector==(void 0===t.altStaticSelector)&&(!!e.allowOverrideSubtotalMatching==!!t.allowOverrideSubtotalMatching&&(e.containerName===t.containerName&&_.isEqual(e.propertyDescriptor,t.propertyDescriptor)&&_.isEqual(e.propertyId,t.propertyId)&&g.equals(e.selector,t.selector))))},e.getDefinition=function(e,t){if(!t.allowOverrideSubtotalMatching)return n.getValue(e,t.propertyId,t.selector);g.isWildcardSelector(t.selector);for(var a=0,i=[l.create(1),l.create(2),l.create(0)];a<i.length;a++){var o={data:[i[a]],metadata:t.selector.metadata,id:t.selector.id},r=n.getValue(e,t.propertyId,o);if(r)return t.selector=o,r}}})(powerbi=powerbi||{}),(function(e){var t,s,n;t=e.visuals||(e.visuals={}),s=e.visuals.builder,n=e.VisualObjectRepetition,(t.ConditionalFormatting||(t.ConditionalFormatting={})).getFormattingCard=function(e,t,a,i,o){if(a=n.getMetadata(e,a),!_.isEmpty(a)){var l=[],r=_.groupBy(a,(function(e){return e.containerName})),t=new s.FormattingCardBuilder(new s.FormattingCardUidBuilder("conditionalFormatting"),i,l,t);return t.withDescription(o).withAliasName("FieldWell_ConditionalFormatting"),t.addGroup("options",(function(e){e.withDisplayName("Apply_Settings_To").withCollapsible(!1).addContainer("series",(function(e){e.withDisplayName("Series"),Object.keys(r).forEach((function(t){var a=r[t];e.addContainerItem(t.replace(" ",""),t,(function(e){var o,r,n;o=a,r=t,n=l,e.addGroup("cellElements",(function(e){for(var t=0,a=o;t<a.length;t++){var i=a[t];e.addSimpleSlice(i.propertyId.propertyName,new s.ConditionalFormattingControlBuilder({descriptor:__assign(__assign({},i.propertyId),{selector:i.selector}),displayName:r,value:i}).build()),_.some(n,i.propertyId)||n.push(i.propertyId)}}))}))}))}))})),t.build()}}})(powerbi=powerbi||{}),(function(d){var o,l,m=d.visuals.FontProperties,s=d.visuals.shapes;(e=o=d.RectOrientation||(d.RectOrientation={}))[e.None=0]="None",e[e.VerticalBottomTop=1]="VerticalBottomTop",e[e.VerticalTopBottom=2]="VerticalTopBottom",e[e.HorizontalLeftRight=3]="HorizontalLeftRight",e[e.HorizontalRightLeft=4]="HorizontalRightLeft",(e=l=d.OutsidePlacement||(d.OutsidePlacement={}))[e.Allowed=0]="Allowed",e[e.Disallowed=1]="Disallowed",e[e.Partial=2]="Partial";var e=(Object.defineProperty(p.prototype,"defaultSettings",{get:function(){return this.defaultDataLabelSettings},enumerable:!1,configurable:!0}),p.prototype.hideCollidedLabels=function(e,t,a,i){void 0===i&&(i=!1);var o=new g(e,t,a),r=[],n={x:0,y:0};i&&(n.x=e.width/2,n.y=e.height/2);for(var l,s,u=0,c=t.length;u<c;u++)a.filter(t[u])&&((l=this.getLabelInfo(t[u])).anchorPoint={x:a.labelLayout.x(t[u])+n.x,y:a.labelLayout.y(t[u])+n.y},s=this.calculateContentPosition(l,l.contentPosition,t[u].size,l.anchorMargin),p.isValid(s)&&!this.hasCollisions(o,l,s,e)&&(t[u].labelX=s.left-n.x,t[u].labelY=s.top-n.y,o.add(l,s),r.push(t[u])));return r},p.prototype.getLabelInfo=function(e){var t=this.defaultDataLabelSettings;return e.anchorMargin=(void 0!==e.anchorMargin?e:t).anchorMargin,e.anchorRectOrientation=(void 0!==e.anchorRectOrientation?e:t).anchorRectOrientation,e.contentPosition=(void 0!==e.contentPosition?e:t).contentPosition,e.maximumMovingDistance=(void 0!==e.maximumMovingDistance?e:t).maximumMovingDistance,e.minimumMovingDistance=(void 0!==e.minimumMovingDistance?e:t).minimumMovingDistance,e.outsidePlacement=(void 0!==e.outsidePlacement?e:t).outsidePlacement,e.validContentPositions=(void 0!==e.validContentPositions?e:t).validContentPositions,e.opacity=(void 0!==e.opacity?e:t).opacity,e.maximumMovingDistance+=e.anchorMargin,e},p.prototype.calculateContentPositionFromPoint=function(e,t,a,i){var o={x:0,y:0};if(e){if(void 0!==e.x&&isFinite(e.x))switch(o.x=e.x,t){case 1:case 8:case 64:o.x-=a.width/2;break;case 4:case 32:case 256:o.x+=a.width/2}if(void 0!==e.y&&isFinite(e.y))switch(o.y=e.y,t){case 8:case 16:case 32:o.y-=a.height/2;break;case 4:case 1:case 2:o.y-=a.height}if(void 0!==i&&isFinite(i))switch(t){case 1:o.x-=i,o.y-=i;break;case 8:o.x-=i;break;case 64:o.x-=i,o.y+=i;break;case 2:o.y-=i;break;case 16:break;case 128:o.y+=i;break;case 4:o.x+=i,o.y-=i;break;case 32:o.x+=i;break;case 256:o.x+=i,o.y+=i}}return{left:o.x,top:o.y,width:a.width,height:a.height}},p.prototype.calculateContentPositionFromRect=function(e,t,a,i,o){switch(a){case 512:return this.handleInsideCenterPosition(t,i,e,o);case 2048:return this.handleInsideEndPosition(t,i,e,o);case 1024:return this.handleInsideBasePosition(t,i,e,o);case 8192:return this.handleOutsideEndPosition(t,i,e,o);case 4096:return this.handleOutsideBasePosition(t,i,e,o)}return{left:0,top:0,width:-1,height:-1}},p.prototype.handleInsideCenterPosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:case o.VerticalTopBottom:return r.middleVertical(t,a,i);case o.HorizontalLeftRight:case o.HorizontalRightLeft:default:return r.middleHorizontal(t,a,i)}},p.prototype.handleInsideEndPosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.topInside(t,a,i);case o.VerticalTopBottom:return r.bottomInside(t,a,i);case o.HorizontalRightLeft:return r.leftInside(t,a,i);default:o.HorizontalLeftRight;return r.rightInside(t,a,i)}},p.prototype.handleInsideBasePosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.bottomInside(t,a,i);case o.VerticalTopBottom:return r.topInside(t,a,i);case o.HorizontalRightLeft:return r.rightInside(t,a,i);default:o.HorizontalLeftRight;return r.leftInside(t,a,i)}},p.prototype.handleOutsideEndPosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.topOutside(t,a,i);case o.VerticalTopBottom:return r.bottomOutside(t,a,i);case o.HorizontalRightLeft:return r.leftOutside(t,a,i);default:o.HorizontalLeftRight;return r.rightOutside(t,a,i)}},p.prototype.handleOutsideBasePosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.bottomOutside(t,a,i);case o.VerticalTopBottom:return r.topOutside(t,a,i);case o.HorizontalRightLeft:return r.rightOutside(t,a,i);default:o.HorizontalLeftRight;return r.leftOutside(t,a,i)}},p.prototype.calculateContentPosition=function(e,t,a,i){return 2048!==t&&512!==t&&1024!==t&&4096!==t&&8192!==t?this.calculateContentPositionFromPoint(e.anchorPoint,t,a,i):this.calculateContentPositionFromRect(e.anchorRect,e.anchorRectOrientation,t,a,i)},p.prototype.hasCollisions=function(e,t,a,i){var o=s.Rect;if(e.hasConflict(a))return!0;var r={left:0,top:a.height/2,width:i.width,height:i.height},r=o.inflate(r,{left:p.InflateAmount,top:0,right:p.InflateAmount,bottom:0});if(r=o.intersect(r,a),o.isEmpty(r))return!0;var n=d.Double.lessWithPrecision;switch(t.outsidePlacement){case l.Disallowed:return n(r.width,a.width)||n(r.height,a.height/2);case l.Partial:return n(r.width,a.width/2)||n(r.height,a.height/4)}return!1},p.isValid=function(e){return!s.Rect.isEmpty(e)&&0<e.width&&0<e.height},p.DefaultAnchorMargin=0,p.DefaultMaximumMovingDistance=12,p.DefaultMinimumMovingDistance=3,p.InflateAmount=5,p);function p(){this.movingStep=3,this.hideOverlapped=!0,this.defaultDataLabelSettings={anchorMargin:p.DefaultAnchorMargin,anchorRectOrientation:o.None,contentPosition:128,outsidePlacement:l.Disallowed,maximumMovingDistance:p.DefaultMaximumMovingDistance,minimumMovingDistance:p.DefaultMinimumMovingDistance,validContentPositions:128,opacity:1}}d.DataLabelManager=e;var r,g=(y.prototype.add=function(e,t){for(var a=this.getGridIndexRect(t),i=this.grid,o=a.left;o<a.right;o++)for(var r=a.top;r<a.bottom;r++)i[o][r].push({element:e,rect:t})},y.prototype.hasConflict=function(e){for(var t=this.getGridIndexRect(e),a=this.grid,i=s.Rect.isIntersecting,o=t.left;o<t.right;o++)for(var r=t.top;r<t.bottom;r++)for(var n=0,l=a[o][r];n<l.length;n++)if(i(l[n].rect,e))return!0;return!1},y.prototype.getGridRowColCount=function(e,t,a,i){return Math.min(Math.max(Math.ceil(t/e),a),i)},y.prototype.getGridIndexRect=function(e){function t(e,t,a){return Math.min(Math.max(e,t),a)}return{left:t(Math.floor(e.left/this.cellSize.width),0,this.colCount),top:t(Math.floor(e.top/this.cellSize.height),0,this.rowCount),right:t(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.colCount),bottom:t(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},y.ARRANGEGRID_MIN_COUNT=1,y.ARRANGEGRID_MAX_COUNT=100,y);function y(e,t,a){this.grid=[],0!==e.width&&0!==e.height||(this.cellSize=e,this.rowCount=this.colCount=0);var i=m.toTextProperties(d.visuals.DataLabelViewModel.DefaultFontProperties),o=i.fontSize;this.cellSize={width:0,height:0};for(var r=0,n=t.length;r<n;r++){var l=t[r];l.labeltext=a.labelText(l);var s=d.Prototype.inherit(i);s.text=l.labeltext,s.fontSize=l.data?l.data.labelFontSize:l.labelFontSize||o,l.size={width:d.TextMeasurementService.measureSvgTextWidth(s),height:d.TextMeasurementService.estimateSvgTextHeight(s)};s=2*l.size.width,l=2*l.size.height;s>this.cellSize.width&&(this.cellSize.width=s),l>this.cellSize.height&&(this.cellSize.height=l)}0===this.cellSize.width&&(this.cellSize.width=e.width),0===this.cellSize.height&&(this.cellSize.height=e.height),this.colCount=this.getGridRowColCount(this.cellSize.width,e.width,y.ARRANGEGRID_MIN_COUNT,y.ARRANGEGRID_MAX_COUNT),this.rowCount=this.getGridRowColCount(this.cellSize.height,e.height,y.ARRANGEGRID_MIN_COUNT,y.ARRANGEGRID_MAX_COUNT),this.cellSize.width=e.width/this.colCount,this.cellSize.height=e.height/this.rowCount;for(var u=this.grid,c=0;c<this.colCount;c++){u[c]=[];for(var p=0;p<this.rowCount;p++)u[c][p]=[]}}d.DataLabelArrangeGrid=g,(e=r=r||{}).topInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+a,width:e.width,height:e.height}},e.bottomInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height-e.height-a,width:e.width,height:e.height}},e.rightInside=function(e,t,a){return{left:t.left+t.width-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftInside=function(e,t,a){return{left:t.left+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.topOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top-e.height-a,width:e.width,height:e.height}},e.bottomOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height+a,width:e.width,height:e.height}},e.rightOutside=function(e,t,a){return{left:t.left+t.width+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftOutside=function(e,t,a){return{left:t.left-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleHorizontal=function(e,t,a){return{left:t.left+t.width/2-e.width/2+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleVertical=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height/2-e.height/2+a,width:e.width,height:e.height}}})(powerbi=powerbi||{}),(function(l){var g=l.visuals.FontProperties,N=l.visuals.DataLabelViewModel,i=l.visuals.shapes.Rect,s=l.visuals.shapes,P=(y.prototype.add=function(e){l.Double.greaterOrEqualWithPrecision(e.left,0)&&l.Double.lessOrEqualWithPrecision(e.left+e.width,this.viewport.width)&&l.Double.greaterOrEqualWithPrecision(e.top,0)&&l.Double.lessOrEqualWithPrecision(e.top+e.height,this.viewport.height);for(var t=this.getContainingGridSubsection(e),a=t.xMin;a<t.xMax;a++)for(var i=t.yMin;i<t.yMax;i++)this.grid[a][i].push(e)},y.prototype.addCheckSeries=function(e){for(var t=this.getContainingGridSubsection(e),a=t.xMin;a<t.xMax;a++)for(var i=t.yMin;i<t.yMax;i++)this.grid[a][i].push(e)},y.prototype.hasConflict=function(e){return!this.isWithinGridViewport(e)||this.hasCollision(e)},y.prototype.tryPositionInViewport=function(e){if(this.isCloseToGridViewport(e))return(e=!this.isWithinGridViewport(e)?this.tryMoveInsideViewport(e):e)&&!this.hasCollision(e)?e:void 0},y.prototype.trySeriesLabelPositionInViewport=function(e){if(this.isCloseToGridViewport(e))return(e=!this.isWithinGridViewport(e)?this.trySeriesLabelMoveInsideViewport(e):e)&&!this.hasCollision(e)?e:void 0},y.prototype.hasCollision=function(e){for(var t=this.getContainingGridSubsection(e),a=this.grid,i=s.Rect.isIntersecting,o=t.xMin;o<t.xMax;o++)for(var r=t.yMin;r<t.yMax;r++)for(var n=0,l=a[o][r];n<l.length;n++)if(i(l[n],e))return!0;return!1},y.prototype.isWithinGridViewport=function(e){return 0<=e.left&&0<=e.top&&e.left+e.width<=this.viewport.width&&e.top+e.height<=this.viewport.height},y.prototype.isCloseToGridViewport=function(e){return e.left+e.width>=0-e.width&&e.top+e.height>=-e.height&&e.left<=this.viewport.width+e.width&&e.top<=this.viewport.height+e.height},y.prototype.tryMoveInsideViewport=function(e){var t=i.clone(e),a=this.viewport;if(!(e.width>a.width||e.height>a.height))return e.left<0?t.left=0:e.left+e.width>a.width&&(t.left-=e.left+e.width-a.width),e.top<0?t.top=0:e.top+e.height>a.height&&(t.top-=e.top+e.height-a.height),t},y.prototype.trySeriesLabelMoveInsideViewport=function(e){var t=i.clone(e),a=this.viewport;if(!(e.height>a.height))return e.left<0&&(t.left=0),e.top<0?t.top=0:e.top+e.height>a.height&&(t.top-=e.top+e.height-a.height),t},y.prototype.getContainingGridSubsection=function(e){return{xMin:y.bound(Math.floor(e.left/this.cellSize.width),0,this.columnCount),xMax:y.bound(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.columnCount),yMin:y.bound(Math.floor(e.top/this.cellSize.height),0,this.rowCount),yMax:y.bound(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},y.getCellCount=function(e,t,a,i){return y.bound(Math.ceil(t/e),a,i)},y.bound=function(e,t,a){return Math.max(Math.min(e,a),t)},y.cellSizeMultiplier=2,y);function y(e,t){this.viewport=t;for(var a=0,i=0,o=0,r=e;o<r.length;o++)for(var n=0,l=r[o].labelDataPoints;n<l.length;n++){var s=l[n].labelSize;s.width>a&&(a=s.width),s.height>i&&(i=s.height)}0===a&&(a=t.width),0===i&&(i=t.height);e=this.cellSize={width:a*y.cellSizeMultiplier,height:i*y.cellSizeMultiplier};this.columnCount=y.getCellCount(e.width,t.width,1,100),this.rowCount=y.getCellCount(e.height,t.height,1,100);for(var u=[],c=0,p=this.columnCount;c<p;c++){u[c]=[];for(var d=0,m=this.rowCount;d<m;d++)u[c][d]=[]}this.grid=u}l.LabelArrangeGrid=P;var h,e,u,d,o,t=(b.prototype.layout=function(e,t){for(var a=[],i=0,o=e;i<o.length;i++){for(var r=o[i],n=_.map(r.labelDataPoints,(function(e){return{labelDataPoint:e}})),l=r.labelOrientation,s=0,u=n;s<u.length;s++){var c=u[s],p=c.labelDataPoint;c.hasBeenRendered=!1;var d=p.textSize.width,m=p.textSize.height;0===l&&(d=p.textSize.height,m=p.textSize.width),p.wordBreak&&(m+=p.fontProperties.size.px),p.hasBackground?c.labelSize={width:d+2*N.horizontalLabelBackgroundPadding,height:m+2*N.verticalLabelBackgroundPadding}:c.labelSize={width:d,height:m}}a.push({labelDataPoints:n,maxNumberOfLabels:r.maxNumberOfLabels,labelOrientation:r.labelOrientation})}for(var g=[],y=new P(a,t),h=1<a.length,b=0,f=a;b<f.length;b++){for(var v=f[b],S=v.maxNumberOfLabels,n=_.clone(v.labelDataPoints),C=[],l=v.labelOrientation,x=n.length-1,w=S;0<=x&&0<w;x--)(p=n[x].labelDataPoint).isPreferred&&(C.unshift(n.splice(x,1)[0]),w--);0<C.length&&(S-=(v=this.positionDataLabels(C,t,y,S,l,h)).length,g=g.concat(v)),0<n.length&&(S=this.positionDataLabels(n,t,y,S,l,h),g=g.concat(S))}return _.filter(g,(function(e){return e.isVisible}))},b.prototype.positionDataLabels=function(e,t,a,i,o,r){for(var n=[],l=this.offsetIterationDelta,s=this.startingOffset,u=0,c=0;s<=this.maximumOffset&&c<i;){for(var p=this.allowLeaderLines&&s>this.startingOffset,d=0,m=e;d<m.length;d++){var g=m[d],y=g.labelDataPoint;if(!g.hasBeenRendered){var h=void 0;if((h=1===y.parentType?this.tryPositionForRectPositions(g,a,s,u,o,r):this.tryPositionForPointPositions(g,a,s,p,o))&&(n.push(h),c++),!(c<i))break}}s+=l,u+=l}return n},b.prototype.tryPositionForRectPositions=function(r,n,l,s,u,c){for(var p=this,d=r.labelDataPoint,e=function(e,t){var a=!!(7&e),i=!!(224&e),o=h.canFitWithinParent(r,p.horizontalPadding,p.verticalPadding);if(!a&&!i||o){t=b.tryPositionRect(n,e,r,l,s,t);return!t||a&&!h.isLabelWithinParent(t,d,p.horizontalPadding,p.verticalPadding)||i&&!h.isValidLabelOverflowing(t,d,c)?void 0:(n.add(t),r.hasBeenRendered=!0,{boundingBox:t,text:d.text,tooltip:d.tooltip,isVisible:!0,identity:d.identity,key:d.key,fontProperties:g.inherit(d.fontProperties,{color:a||i?d.insideFill:d.outsideFill}),selected:!1,hasBackground:!!d.hasBackground,labelOrientation:u,backgroundColor:d.backgroundColor,backgroundTransparency:d.backgroundTransparency})}},t=0,a=d.parentShape.validPositions;t<a.length;t++)if(i=e(a[t],!1))return i;if(this.attemptToMoveLabelsIntoViewport)for(var i,o=0,m=d.parentShape.validPositions;o<m.length;o++)if(i=e(m[o],!0))return i;return null},b.tryPositionRect=function(e,t,a,i,o,r){var n=i,l=_.includes([1,32],t),i=h.getLabelRect(a,t,n=l?o:n),o=a.labelDataPoint;if(l&&0!==o.parentShape.orientation){if(!e.hasConflict(i))return i;if(i=h.getLabelRect(a,t,-n),!e.hasConflict(i))return i}else{if(!e.hasConflict(i))return i;if(r)return e.tryPositionInViewport(i)}return null},b.prototype.tryPositionForPointPositions=function(i,o,r,n,l){for(var e,s=i.labelDataPoint,t=function(e,t,a){a=b.tryPositionPoint(o,e,i,r,a);if(a)return 512===e?o.addCheckSeries(a):o.add(a),i.hasBeenRendered=!0,{boundingBox:a,text:s.text,tooltip:s.tooltip,isVisible:!0,isInsideParent:256===e,identity:s.identity,key:s.key,fontProperties:g.inherit(s.fontProperties,{color:256===e?s.insideFill:s.outsideFill}),selected:!1,leaderLinePoints:n?d.getLabelLeaderLineEndingPoint(a,e,t):null,hasBackground:!!s.hasBackground,labelOrientation:l,backgroundColor:s.backgroundColor,backgroundTransparency:s.backgroundTransparency,wordBreak:s.wordBreak}},a=s.parentShape,u=a.validPositions,c=0,p=u;c<p.length;c++)if(e=t(p[c],a,!1))return e;if(this.attemptToMoveLabelsIntoViewport&&!_.isEmpty(u)&&(e=t(u[0],a,!0)))return e;return null},b.tryPositionPoint=function(e,t,a,i,o){i=d.getLabelRect(a.labelSize,a.labelDataPoint.parentShape,t,i);return e.hasConflict(i)?o?512===t?e.trySeriesLabelPositionInViewport(i):e.tryPositionInViewport(i):null:i},b.defaultOffsetIterationDelta=2,b.defaultHorizontalPadding=2,b.defaultVerticalPadding=2,b);function b(e){this.startingOffset=e.startingOffset,this.maximumOffset=e.maximumOffset,null!=e.offsetIterationDelta?(e.offsetIterationDelta,this.offsetIterationDelta=e.offsetIterationDelta):this.offsetIterationDelta=b.defaultOffsetIterationDelta,null!=e.horizontalPadding?this.horizontalPadding=e.horizontalPadding:this.horizontalPadding=b.defaultHorizontalPadding,null!=e.verticalPadding?this.verticalPadding=e.verticalPadding:this.verticalPadding=b.defaultVerticalPadding,this.allowLeaderLines=!!e.allowLeaderLines,this.attemptToMoveLabelsIntoViewport=!!e.attemptToMoveLabelsIntoViewport}function c(e,t){var a=t.width*t.height,i=e.width*e.height,o=Math.max(a,i);if(0===o)return 0;i=Math.min(a,i),o=0!==i?i:o,e=s.Rect.intersect(t,e);return e.width*e.height/o}l.LabelLayout=t,e=h=l.DataLabelRectPositioner||(l.DataLabelRectPositioner={}),(t=u=e.LabelOverflowingConsts||(e.LabelOverflowingConsts={})).equalityPrecision=.09,t.minIntersectionRatio=.2,e.isLabelWithinParent=function(e,t,a,i){return t=t.parentShape.rect,i=s.Rect.inflate(e,{left:a,right:a,top:i,bottom:i}),s.Rect.containsPoint(t,{x:i.left,y:i.top})&&s.Rect.containsPoint(t,{x:i.left+i.width,y:i.top+i.height})},e.isValidLabelOverflowing=function(e,t,a){var i=t.parentShape.rect;if(!s.Rect.isIntersecting(e,i))return!1;var o=s.Rect.intersect(e,i),r=u.equalityPrecision,n=l.Double.equalWithPrecision(o.top,e.top,r)&&l.Double.equalWithPrecision(o.height,e.height,r),o=l.Double.equalWithPrecision(o.left,e.left,r)&&l.Double.equalWithPrecision(o.width,e.width,r),r=_.includes([1,2],t.parentShape.orientation);return!(!o&&!n||a&&(r&&!n||!r&&!o))&&(!(!o||!n)||(t=c(e,i)>=u.minIntersectionRatio,a=!1,r=u.parentToLabelOverflowRatioThreshold,n?a=0===i.width||i.width/e.width>r:o&&(a=0===i.height||i.height/e.height>r),t&&a))},e.maximalIntersectionRatio=c,e.topInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+a,width:e.width,height:e.height}},e.bottomInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height-a-e.height,width:e.width,height:e.height}},e.rightInside=function(e,t,a){return{left:t.left+t.width-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftInside=function(e,t,a){return{left:t.left+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.topOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top-e.height-a,width:e.width,height:e.height}},e.bottomOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height+a,width:e.width,height:e.height}},e.rightOutside=function(e,t,a){return{left:t.left+t.width+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftOutside=function(e,t,a){return{left:t.left-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleHorizontal=function(e,t,a){return{left:t.left+t.width/2-e.width/2+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleVertical=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height/2-e.height/2+a,width:e.width,height:e.height}},(o=d=l.DataLabelPointPositioner||(l.DataLabelPointPositioner={})).cos45=Math.cos(45),o.sin45=Math.sin(45),o.above=function(e,t,a){return{left:t.x-e.width/2,top:t.y-a-e.height,width:e.width,height:e.height}},o.below=function(e,t,a){return{left:t.x-e.width/2,top:t.y+a,width:e.width,height:e.height}},o.left=function(e,t,a){return{left:t.x-a-e.width,top:t.y-e.height/2,width:e.width,height:e.height}},o.right=function(e,t,a){return{left:t.x+a,top:t.y-e.height/2,width:e.width,height:e.height}},o.belowLeft=function(e,t,a){return{left:t.x-o.sin45*a-e.width,top:t.y+o.cos45*a,width:e.width,height:e.height}},o.belowRight=function(e,t,a){return{left:t.x+o.sin45*a,top:t.y+o.cos45*a,width:e.width,height:e.height}},o.aboveLeft=function(e,t,a){return{left:t.x-o.sin45*a-e.width,top:t.y-o.cos45*a-e.height,width:e.width,height:e.height}},o.aboveRight=function(e,t,a){return{left:t.x+o.sin45*a,top:t.y-o.cos45*a-e.height,width:e.width,height:e.height}},o.center=function(e,t){return{left:t.x-e.width/2,top:t.y-e.height/2,width:e.width,height:e.height}},o.seriesLeft=function(e,t){return{left:t.x,top:t.y-e.height/2,width:e.width,height:e.height}},o.getLabelLeaderLineEndingPoint=function(e,t,a){var i=e.left,o=e.top;switch(t){case 1:i+=e.width/2,o+=e.height;break;case 2:i+=e.width/2;break;case 4:i+=e.width,o+=2*e.height/3;break;case 8:o+=2*e.height/3;break;case 32:i+=e.width,o+=e.height/2;break;case 16:o+=e.height/2;break;case 128:i+=e.width,o+=e.height;break;case 64:o+=e.height}return[[a.point.x,a.point.y],[i,o]]}})(powerbi=powerbi||{}),(function(e){var o;(o=e.DataLabelRectPositioner||(e.DataLabelRectPositioner={})).getLabelRect=function(e,t,a){var i=e.labelDataPoint.parentShape;if(null!=i)switch(t){case 1:case 32:switch(i.orientation){case 1:case 2:return o.middleVertical(e.labelSize,i.rect,a);case 3:case 4:return o.middleHorizontal(e.labelSize,i.rect,a)}case 2:case 64:switch(i.orientation){case 1:return o.bottomInside(e.labelSize,i.rect,a);case 2:return o.topInside(e.labelSize,i.rect,a);case 3:return o.leftInside(e.labelSize,i.rect,a);case 4:return o.rightInside(e.labelSize,i.rect,a)}case 4:case 128:switch(i.orientation){case 1:return o.topInside(e.labelSize,i.rect,a);case 2:return o.bottomInside(e.labelSize,i.rect,a);case 3:return o.rightInside(e.labelSize,i.rect,a);case 4:return o.leftInside(e.labelSize,i.rect,a)}case 8:switch(i.orientation){case 1:return o.bottomOutside(e.labelSize,i.rect,a);case 2:return o.topOutside(e.labelSize,i.rect,a);case 3:return o.leftOutside(e.labelSize,i.rect,a);case 4:return o.rightOutside(e.labelSize,i.rect,a)}case 16:switch(i.orientation){case 1:return o.topOutside(e.labelSize,i.rect,a);case 2:return o.bottomOutside(e.labelSize,i.rect,a);case 3:return o.rightOutside(e.labelSize,i.rect,a);case 4:return o.leftOutside(e.labelSize,i.rect,a)}}return null},o.canFitWithinParent=function(e,t,a){var i=e.labelDataPoint;return e.labelSize.width+2*t<i.parentShape.rect.width||e.labelSize.height+2*a<i.parentShape.rect.height}})(powerbi=powerbi||{}),(function(e){var t,o;((t=e.DataLabelRectPositioner||(e.DataLabelRectPositioner={})).LabelOverflowingConsts||(t.LabelOverflowingConsts={})).parentToLabelOverflowRatioThreshold=.02,(o=e.DataLabelPointPositioner||(e.DataLabelPointPositioner={})).getLabelRect=function(e,t,a,i){switch(a){case 1:return o.above(e,t.point,t.radius+i);case 2:return o.below(e,t.point,t.radius+i);case 4:return o.left(e,t.point,t.radius+i);case 8:return o.right(e,t.point,t.radius+i);case 32:return o.belowLeft(e,t.point,t.radius+i);case 16:return o.belowRight(e,t.point,t.radius+i);case 128:return o.aboveLeft(e,t.point,t.radius+i);case 64:return o.aboveRight(e,t.point,t.radius+i);case 256:return o.center(e,t.point);case 512:return o.seriesLeft(e,t.point)}return null}})(powerbi=powerbi||{}),(function(v){var S=v.visuals.DataLabelViewModel,e=(t.prototype.layout=function(e,t,a,i){var o=_.map(e,(function(e){return{labelDataPoint:e}}));if(i||void 0===this.labels){for(var i={labelDataPoints:o,maxNumberOfLabels:o.length},r=0,n=o;r<n.length;r++){var l=n[r],s=l.labelDataPoint;l.labelSize={width:s.textSize.width+2*S.horizontalLabelBackgroundPadding,height:s.textSize.height+2*S.verticalLabelBackgroundPadding}}for(var u=new v.LabelArrangeGrid([i],t),c=[],p=[],d=0,m=e;d<m.length;d++){var g=(s=m[d]).parentShape.polygon;p.push(g),g.pixelBoundingRect=a.applyToRect(g.absoluteBoundingRect())}for(var y=new C(p,t),h=0,b=e;h<b.length;h++){var s=b[h],f=this.getLabelByPolygonPositions(s,a,u,y);null!=f&&c.push(f)}this.labels=c}else this.updateLabelOffsets(a);return _.filter(this.labels,(function(e){return e.isVisible}))},t.prototype.getLabelPolygon=function(e,t,a,i){e={width:e.textSize.width,height:e.textSize.height};return this.getLabelBoundingBox(e,t,a,i)},t.prototype.getLabelBoundingBox=function(e,t,a,i){switch(t){case 1:return v.DataLabelPointPositioner.above(e,a,i);case 2:return v.DataLabelPointPositioner.below(e,a,i);case 4:return v.DataLabelPointPositioner.left(e,a,i);case 8:return v.DataLabelPointPositioner.right(e,a,i);case 128:return v.DataLabelPointPositioner.aboveLeft(e,a,i);case 64:return v.DataLabelPointPositioner.aboveRight(e,a,i);case 32:return v.DataLabelPointPositioner.belowLeft(e,a,i);case 16:return v.DataLabelPointPositioner.belowRight(e,a,i);case 256:return v.DataLabelPointPositioner.center(e,a)}return null},t.prototype.getLabelByPolygonPositions=function(e,t,a,i){for(var o=0,r=t.getInverse(),n=0;n<2;n++){1===n&&(o=5);for(var l=0,s=e.parentShape.validPositions;l<s.length;l++){var u=s[l],c=this.tryPositionForPolygonPosition(u,e,t,o,r);if((256!==u||0===n)&&c){var p=t.applyToRect(c);return f={text:e.text,secondRowText:e.secondRowText,boundingBox:p,isVisible:!0,fontProperties:{color:e.insideFill},identity:null,selected:!1,hasBackground:!0,textAnchor:"middle",originalPixelOffset:o,isPlacedInsidePolygon:!0,absoluteBoundingBoxCenter:{x:c.left+c.width/2,y:c.top+c.height/2}}}}}for(var d=6;d<=60;){for(var m=0,g=e.parentShape.validPositions;m<g.length;m++)if(256!==(u=g[m])){var y=e.parentShape.polygon,h=t.applyToPoint(y.absoluteCentroid()),b=this.tryPlaceLabelOutsidePolygon(a,u,e,d,h,i,r);if(b){var p=t.applyToRect(b),f={text:e.text,secondRowText:e.secondRowText,boundingBox:p,isVisible:!0,fontProperties:{color:e.insideFill},identity:null,selected:!1,hasBackground:!0,isPlacedInsidePolygon:!1,textAnchor:"middle",originalPixelOffset:d,originalPosition:u,originalAbsoluteCentroid:y.absoluteCentroid(),absoluteBoundingBoxCenter:{x:b.left+b.width/2,y:b.top+b.height/2}},h=this.calculateStemSource(t,r,y,p,u,h);return f.leaderLinePoints=this.setLeaderLinePoints(h,this.calculateStemDestination(p,u)),f.absoluteStemSource=r.applyToPoint(h),a.add(p),f}}d+=10}return null},t.prototype.setLeaderLinePoints=function(e,t){return[[e.x,e.y],[t.x,t.y]]},t.prototype.calculateStemSource=function(e,t,a,i,o,r){i=a.lineIntersectionPoint(a.absoluteCentroid(),t.applyToPoint({x:i.left+i.width/2,y:i.top+i.height/2}));if(null==i)return r;var n=e.applyToPoint(i);switch(o){case 1:n.y+=5;break;case 2:n.y-=5;break;case 4:n.x+=5;break;case 8:n.x-=5;break;case 128:n.x+=5/v.DataLabelPointPositioner.cos45,n.y+=5/v.DataLabelPointPositioner.sin45;break;case 64:n.x-=5/v.DataLabelPointPositioner.cos45,n.y+=5/v.DataLabelPointPositioner.sin45;break;case 32:n.x+=5/v.DataLabelPointPositioner.cos45,n.y-=5/v.DataLabelPointPositioner.sin45;break;case 16:n.x-=5/v.DataLabelPointPositioner.cos45,n.y-=5/v.DataLabelPointPositioner.sin45}return n},t.prototype.calculateStemDestination=function(e,t){var a,i;switch(t){case 1:a=e.left+e.width/2,i=e.top+e.height;break;case 2:a=e.left+e.width/2,i=e.top;break;case 4:a=e.left+e.width,i=e.top+e.height/2;break;case 8:a=e.left,i=e.top+e.height/2;break;case 128:a=e.left+e.width,i=e.top+e.height;break;case 64:a=e.left,i=e.top+e.height;break;case 32:a=e.left+e.width,i=e.top;break;case 16:a=e.left,i=e.top}return{x:a,y:i}},t.prototype.tryPositionForPolygonPosition=function(e,t,a,i,o){var r=t.parentShape.polygon,a=a.applyToPoint(r.absoluteCentroid()),i=this.getLabelPolygon(t,e,a,i),i=this.getAbsoluteRectangle(o,i);return r.contains(i)?i:null},t.prototype.tryPlaceLabelOutsidePolygon=function(e,t,a,i,o,r,n){i=this.getLabelPolygon(a,t,o,i);if(!e.hasConflict(i)){n=this.getAbsoluteRectangle(n,i);if(!r.hasConflict(n,i))return n}return null},t.prototype.updateLabelOffsets=function(e){for(var t=0,a=this.labels;t<a.length;t++){var i,o,r=a[t];r.isVisible&&(r.isPlacedInsidePolygon?(i=e.applyToPoint(r.absoluteBoundingBoxCenter),o=r.boundingBox.left+r.boundingBox.width/2-i.x,i=r.boundingBox.top+r.boundingBox.height/2-i.y,r.boundingBox.top-=i,r.boundingBox.left-=o):(i=e.applyToPoint(r.absoluteStemSource),o=e.applyToPoint(r.originalAbsoluteCentroid),r.boundingBox=this.getLabelBoundingBox({width:r.boundingBox.width,height:r.boundingBox.height},r.originalPosition,o,r.originalPixelOffset),void 0!==r.leaderLinePoints&&(r.leaderLinePoints=this.setLeaderLinePoints(i,this.calculateStemDestination(r.boundingBox,r.originalPosition)))))}},t.prototype.getAbsoluteRectangle=function(e,t){return e.applyToRect(t)},t);function t(){}v.FilledMapLabelLayout=e;var C=(h.prototype.hasConflict=function(e,t){for(var a=this.getContainingGridSubsection(t),i=this.grid,o=a.xMin;o<a.xMax;o++)for(var r=a.yMin;r<a.yMax;r++)for(var n=0,l=i[o][r];n<l.length;n++)if(l[n].conflicts(e))return!0;return!1},h.prototype.add=function(e){for(var t=this.getContainingGridSubsection(e.pixelBoundingRect),a=t.xMin;a<t.xMax;a++)for(var i=t.yMin;i<t.yMax;i++)this.grid[a][i].push(e)},h.prototype.getContainingGridSubsection=function(e){return{xMin:h.bound(Math.floor(e.left/this.cellSize.width),0,this.columnCount),xMax:h.bound(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.columnCount),yMin:h.bound(Math.floor(e.top/this.cellSize.height),0,this.rowCount),yMax:h.bound(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},h.getCellCount=function(e,t,a,i){return h.bound(Math.ceil(t/e),a,i)},h.bound=function(e,t,a){return Math.max(Math.min(e,a),t)},h.cellSizeMultiplier=2,h);function h(e,t){for(var a=0,i=0,o=0,r=e;o<r.length;o++){var n=(y=r[o]).pixelBoundingRect;n.width>a&&(a=n.width),n.height>i&&(i=n.height)}0===a&&(a=t.width),0===i&&(i=t.height);var l=this.cellSize={width:a*h.cellSizeMultiplier,height:i*h.cellSizeMultiplier};this.columnCount=h.getCellCount(l.width,t.width,1,100),this.rowCount=h.getCellCount(l.height,t.height,1,100);for(var s=[],u=0,c=this.columnCount;u<c;u++){s[u]=[];for(var p=0,d=this.rowCount;p<d;p++)s[u][p]=[]}this.grid=s;for(var m=0,g=e;m<g.length;m++){var y=g[m];this.add(y)}}v.LabelPolygonArrangeGrid=C})(powerbi=powerbi||{}),(function(e){var o;o=e.visuals||(e.visuals={}),(e=o.FormattingStrategies||(o.FormattingStrategies={})).defaultFormatter=function(i){return function(e,t,a){return o.converterHelper.formatFromMetadataColumn(e,t,i,!0,a)}},e.fallbackBasedOnType=function(i){return function(e,t,a){return o.converterHelper.formatFromMetadataColumn(e,t,i,!1,a)}}})(powerbi=powerbi||{}),(function(e){var a,t,i,o,r;function n(){this.instanceId=void 0}a=e.visuals||(e.visuals={}),t=e.data.DataViewTransform,i={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},o={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"},n.initialize=function(){a.valueFormatter.setLocaleOptions(n.createLocaleOptions()),e.visuals.ToolTipComponent.localizationOptions=n.createTooltipLocaleOptions(),t.setLocalizationOptions(n.createDataViewTransformLocalizationOptions())},n.createLocaleOptions=function(){return{null:o.NullValue,true:o.BooleanTrue,false:o.BooleanFalse,NaN:o.NaNValue,infinity:o.InfinityValue,negativeInfinity:o.NegativeInfinityValue,beautify:function(e){return n.beautify(e)},describe:function(e){return n.describeUnit(e)},restatementComma:o.Restatement_Comma,restatementCompoundAnd:o.Restatement_CompoundAnd,restatementCompoundOr:o.Restatement_CompoundOr}},n.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:o.Tooltip_HighlightedValueDisplayName}},n.createDataViewTransformLocalizationOptions=function(){return{quarterPrefix:o.Visual_Quarter_Abbreviated}},n.prototype.getLocalizedString=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return o[e]},n.prototype.alertScreenReader=function(e){},n.prototype.alertWithDebounce=function(e,t){},n.prototype.requestFocus=function(){},n.prototype.onDragStart=function(){},n.prototype.getVisualLinkProperties=function(){},n.prototype.canSelect=function(){return!1},n.prototype.onSelecting=function(e){e.action=0},n.prototype.onSelect=function(){},n.prototype.onSwitchFocusModeState=function(){},n.prototype.canExpandCollapse=function(e){return!1},n.prototype.setNodeExpansionState=function(e){},n.prototype.setLevelExpansionState=function(e){},n.prototype.onContextMenu=function(){},n.prototype.loadMoreData=function(){},n.prototype.loadWindow=function(e){},n.prototype.setShouldDeferData=function(){},n.prototype.fetchMoreData=function(e){return!0},n.prototype.persistProperties=function(e){},n.prototype.onCustomSort=function(e){},n.prototype.getViewMode=function(){return 0},n.prototype.getEditMode=function(){return 0},n.prototype.setWarnings=function(e){},n.prototype.setToolbar=function(e){},n.prototype.shouldRetainSelection=function(){return!1},n.prototype.geocoder=function(){return a.services.createGeocoder()},n.prototype.geolocation=function(){},n.prototype.promiseFactory=function(){return e.createJQueryPromiseFactory()},n.prototype.visualCapabilitiesChanged=function(){},n.prototype.ignoreDefaultFilter=function(){},n.prototype.getIdentityDisplayNames=function(e){},n.prototype.setIdentityDisplayNames=function(e){},n.prototype.setFilterExpressionMetadata=function(e){},n.prototype.getFilterExpressionMetadata=function(){},n.prototype.dropdown=function(){},n.prototype.tooltips=function(){},n.prototype.telemetry=function(){},n.prototype.authenticationService=function(){},n.prototype.localStorageService=function(){},n.prototype.eventService=function(){},n.prototype.licenseManagerService=function(){},n.prototype.decompositionService=function(){},n.prototype.locale=function(){return navigator.language},n.prototype.allowInteractions=function(){return!0},n.prototype.loader=function(){return e.createModuleLoader(this.promiseFactory(),void 0,null)},n.prototype.getUIComponentFactory=function(){return null},n.prototype.applyJsonFilter=function(e,t,a,i){return!0},n.prototype.applyIdentityFilter=function(e,t,a,i){return!0},n.prototype.launchUrl=function(e){},n.prototype.refreshHostData=function(){},n.prototype.sendSelectionIdsToHost=function(e){},n.prototype.getJSONFilter=function(e,t){return this.promiseFactory().reject()},n.prototype.onHyperlinkClick=function(e,t){},n.prototype.visualTimeSynchronization=function(){},n.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},n.prototype.dataMultiSelectMode=function(){return 0},n.prototype.networkAvailability=function(){},n.prototype.downloadService=function(){},n.prototype.setAriaMetadata=function(e){},n.prototype.artifactService=function(){},n.prototype.getSectionsMetadata$=function(){},n.prototype.getBookmarksMetadata$=function(){},n.prototype.onNotifyLicense=function(e){},n.prototype.onClearLicenseNotification=function(){},n.prototype.onNotifyFeatureBlocked=function(e){},n.prototype.getSubSelectionService=function(){},n.beautify=function(e){var t=i[e];return t?(a.valueFormatter.beautifyTrace(t),o[t]||e):e},n.describeUnit=function(e){var t=-1===e?"Auto":e.toString(),a=o["DisplayUnitSystem_E"+t+"_Title"],t=e<=0?"{0}":o["DisplayUnitSystem_E"+t+"_LabelFormat"];if(a||t)return{title:a,format:t}},r=n,a.DefaultVisualHostServices=r,a.defaultVisualHostServices=new r})(powerbi=powerbi||{}),(function(b){!(function(i){function l(e){if(_.isEmpty(e))return!1;for(var t=0,a=e.length;t<a;t++)if(e[t].selected)return!0;return!1}i.createInteractivityService=function(e,t,a){return new r(e,t,a)},i.appendClearCatcher=function(e,t){var a=e.select((t=void 0===t?"rect":t)+".clearCatcher");return a=a.empty()?e.append(t).classed("clearCatcher",!0).attr("width","100%").attr("height","100%"):a},i.isCategoryColumnSelected=function(e,t,a){return null!=t.objects&&t.objects[a]&&b.DataViewObjects.getValue(t.objects[a],e)},i.dataHasSelection=l;var s=(e.prototype.render=function(){this.behavior.renderSelection(this.hasSelection())},e);function e(e,t,a,i,o){this.dataPoints=e,this.behavior=t,this.key=a,this.hasSelection=i,this.matchPartialIdentities=o}i.SelectableDataPointSource=s;var o=(t.prototype.findNonHightlightDataPoint=function(e){for(var t=0,a=this.getSelectablePointSources();t<a.length;t++){var i=(function(e,t){return _.find(e,(function(e){return!e.identity.highlight&&t.identity.includes(e.identity,!0)}))})(a[t].dataPoints,e);if(i)return i}},t.prototype.applySelectionStateToDataPoints=function(e){this.updateSelectableDataPointsBySelectedIds(e)},t.prototype.syncSelectionState=function(e){var t=this;this.getSelectablePointSources(e).forEach((function(e){t.updateSelectableDataPointsBySelectedIds(e.dataPoints,e.matchPartialIdentities)}))},t.prototype.clearDataPointSelection=function(){this.applyToAllSelectableDataPoints((function(e){return e.selected=!1}))},t.prototype.render=function(){this.getSelectablePointSources().forEach((function(e){e.render()}))},t.prototype.bind=function(e,t,a,i){var o,r=this,n=!1;i&&(i.isAxis||i.isLabels||i.isLegend||i.useSelectableDataPointForHasSelection)?o=function(){return!!e&&l(e)}:(o=function(){return 0<r.selectionStateManager.getSelectionSize()},n=!0),this.isHierarchicalAxis=i&&i.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[a]=new s(e,t,a,o,n)},t.prototype.hasSelectionForSource=function(e){return l(null===(e=this.pointSources[e])||void 0===e?void 0:e.dataPoints)},t.prototype.applyToAllSelectableDataPoints=function(o){this.getSelectablePointSources().forEach((function(e){if(e.dataPoints)for(var t=0,a=e.dataPoints;t<a.length;t++){var i=a[t];o(i)}}))},t.prototype.updateSelectableDataPointsBySelectedIds=function(e,t){void 0===t&&(t=!1),_.isEmpty(e)||this.selectionStateManager.updateDatapointAgainstSelectedIds(e,t,this.isHierarchicalAxis)},t.prototype.getSelectablePointSources=function(e){var t=this;if(e){e=this.pointSources[e];return e?[e]:[]}return _.map(Object.keys(this.pointSources),(function(e){return t.pointSources[e]}))},t);function t(e){this.selectionStateManager=e,this.pointSources={}}i.FederatedDataPointManager=o;var u,c,a,r=(n.prototype.bind=function(e,t,a,i){i&&i.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(e),this.isHierarchicalAxis=i&&i.isHierarchicalAxis;var o=i?i.pointSourceKey:"";this.dataPointManager.bind(e,t,o,i),i&&i.navigationOptions&&((i.isAxis?this.categoryAxisNavigationManager:this.dataPointNavigationManager).update(t,i.navigationOptions,o),i.navigationOptions.focusElement&&t.renderFocus(i.navigationOptions.focusElement)),o=i&&i.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:o}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:o},t.bindEvents(a,this,o),this.syncSelectionState(i&&i.pointSourceKey)},n.prototype.clearSelection=function(){this.clearSelectionInternal(),this.renderAll()},n.prototype.clearSelectionInternal=function(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()},n.prototype.applySelectionStateToData=function(e){return this.dataPointManager.applySelectionStateToDataPoints(e),this.hasSelection()},n.prototype.hasSelection=function(){return 0<this.selectionStateManager.getSelectionSize()},n.prototype.hasSelectionForSource=function(e){return this.dataPointManager.hasSelectionForSource(e)},n.getVisualObjects=function(e){return _.map(e,(function(e){return{objectName:n.dataPointObjectName,selectorsByColumn:e.getSelectorsByColumn()}}))},n.prototype.handleSelection=function(t,a,i){var o,r=this;t&&(t.specificIdentity?o=t.specificIdentity.getSelectorsByColumn():(!t.identity&&t.lazyIdentity&&(t.identity=t.lazyIdentity()),t.identity&&(o=t.identity.getSelectorsByColumn())),1===this.hostService.dataMultiSelectMode()&&0===a&&(a=3),this.runInTransaction((function(){t.identity&&r.select(t,a);var e={visualObjects:t.specificIdentity?[{objectName:n.dataPointObjectName,selectorsByColumn:o}]:n.getVisualObjects(r.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:3===a,isShiftKey:1===a,isLassoSelect:!1,position:i};return _.isEmpty(o)||r.hostService.onSelecting(e),e}),a,!1,!t.identity))},n.prototype.handleMultipleSelection=function(t,a,i,o){var r=this;this.runInTransaction((function(){r.selectMultiple(t,a);var e={visualObjects:n.getVisualObjects(r.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!i||3===a,isShiftKey:1===a,isLassoSelect:i,position:o};return r.hostService.onSelecting(e),e}),a,i,!1)},n.prototype.runInTransaction=function(e,t,a,i){var o,r=!1;this.selectionStateManager.beginTransaction();try{var n=e();0!==n.action&&n.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),r=!0,o=n.selectionLimitInfo,this.syncSelectionState())}catch(e){this.selectionStateManager.rollback()}finally{r&&(i?this.handleClearSelection():(this.sendSelectionToHost(t,a,o),this.renderAll()))}},n.prototype.handleContextMenu=function(e,t){this.sendContextMenuToHost(e,t)},n.prototype.handleClearSelection=function(){0===this.hostService.dataMultiSelectMode()&&(this.clearSelection(),this.sendSelectionToHost(0,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))},n.prototype.restoreSelection=function(e){return this.clearSelection(),this.selectionStateManager.restoreSelection(e,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()},n.prototype.renderAll=function(){this.dataPointManager.render()},n.prototype.clearSelectionState=function(){this.selectionStateManager.clearSelectionState()},n.prototype.selectMultiple=function(e,t){0!==t&&2!==t||this.clearSelectionState();for(var a=0,i=e;a<i.length;a++){var o=i[a],r=o.identity;r.highlight||(1===t||0===t?this.addId(r):3===t?o.selected?this.removeId(r):this.addId(r):2===t&&o.selected&&this.addId(r))}},n.prototype.updateSelectionState=function(e,t,a,i){i||this.clearSelectionInternal(),e.selected?i&&3===t&&this.removeId(a):(this.addId(a),i&&(a.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))},n.prototype.select=function(e,t){var a=(e=e.identity&&e.identity.highlight?this.dataPointManager.findNonHightlightDataPoint(e):e).identity;if(a){var i=this.getSelectionIds(),o=this.hostService.canSelect(n.createSelectEventArgs(i,t));switch(t){case 0:!e.selected||1<i.length||1===i.length&&!i[0].equals(a)?(this.clearSelectionInternal(),this.addId(a)):e.selected?this.removeId(a):this.addId(a);break;case 3:case 1:this.updateSelectionState(e,t,a,o)}}},n.prototype.removeId=function(e){this.selectionStateManager.removeId(e)},n.prototype.addId=function(e){this.selectionStateManager.addId(e,this.isHierarchicalAxis)},n.prototype.getSelectionIds=function(){return this.selectionStateManager.getSelectionIds()},n.prototype.sendContextMenuToHost=function(e,t){var a,i=this.hostService;if(i.onContextMenu){e.specificIdentity?a=e.specificIdentity:e.identity&&(a=e.identity);for(var e=this.selectionStateManager.isIdSelected(a),o=[],r=0,n=!a||e?this.getSelectionIds():[a];r<n.length;r++){var l=n[r].getSelectorsByColumn();_.isEmpty(l)||o.push(l)}_.isEmpty(o)||i.onContextMenu({data:o,position:t})}},n.prototype.sendSelectionToHost=function(e,t,a){var i=this.hostService;i.onSelect&&(a=n.createSelectEventArgs(this.getSelectionIds(),e,t,a),i.onSelect(a))},n.createSelectEventArgs=function(e,t,a,i){var o=!1;_.isEmpty(e)||(o=e[0].getSelector()&&!e[0].getSelectorsByColumn());e=_.chain(e).filter((function(e){return e.hasIdentity()})),i={visualObjects:e.map((function(e){return{objectName:n.dataPointObjectName,selectorsByColumn:e.getSelectorsByColumn()}})).value(),selectionMode:t,isLassoSelect:a,selectionLimitInfo:i};return o&&(i.selectors=e.map((function(e){return e.getSelector()})).value()),i},n.prototype.takeSelectionStateFromDataPoints=function(e){this.clearSelectionState();for(var t=0,a=e;t<a.length;t++){var i=a[t];i.selected&&this.addId(i.identity)}},n.prototype.syncSelectionState=function(e){this.dataPointManager.syncSelectionState(e)},n.prototype.removeSelectionIdsWithOnlyMeasures=function(){this.filterSelection((function(e){return e.hasIdentity()}))},n.prototype.removeSelectionIdsExceptOnlyMeasures=function(){this.filterSelection((function(e){return!e.hasIdentity()}))},n.prototype.filterSelection=function(e){this.selectionStateManager.filterSelection(e)},n.dataPointObjectName="dataPoint",n);function n(e,t,a){this.hostService=e,this.dataPointNavigationManager=new y,this.categoryAxisNavigationManager=new y,t.dataPointLassoSelect&&a?this.selectionStateManager=new m:this.selectionStateManager=new p,this.dataPointManager=new o(this.selectionStateManager)}i.InteractivityService=r,(a=u=i.DataPointNavigationStrategy||(i.DataPointNavigationStrategy={}))[a.CategoryFirst=0]="CategoryFirst",a[a.SeriesFirst=1]="SeriesFirst",a[a.CategoryOnly=2]="CategoryOnly",a[a.SeriesOnly=3]="SeriesOnly",(a=c=i.DataDirection||(i.DataDirection={}))[a.NextCategory=0]="NextCategory",a[a.PreviousCategory=1]="PreviousCategory",a[a.NextSeries=2]="NextSeries",a[a.PreviousSeries=3]="PreviousSeries";var p=(d.prototype.clearSelectionState=function(){this.selectedIds=[]},d.prototype.beginTransaction=function(){this.previousSelectedIds,this.previousSelectedIds=_.clone(this.selectedIds)},d.prototype.commit=function(){this.previousSelectedIds,this.previousSelectedIds=void 0},d.prototype.rollback=function(){this.previousSelectedIds,this.selectedIds=this.previousSelectedIds,this.previousSelectedIds=void 0},d.prototype.isIdSelected=function(t){return 1<_.size(this.selectedIds)&&_.some(this.selectedIds,(function(e){return e.equals(t)}))},d.prototype.restoreSelection=function(e,t){this.selectedIds=_.map(e,(function(e){return i.SelectionId.fromSelectorsByColumn(e)}))},d.prototype.amendDecomposedSelection=function(e){},d.prototype.addId=function(e){this.selectedIds.push(e)},d.prototype.removeId=function(e){for(var t=this.selectedIds,a=t.length-1;-1<a;a--){var i=t[a];e.includes(i)&&t.splice(a,1)}},d.prototype.getSelectionIds=function(){return this.selectedIds},d.prototype.filterSelection=function(e){this.selectedIds=_.filter(this.selectedIds,e)},d.prototype.getSelectionSize=function(){return this.selectedIds.length},d.prototype.updateDatapointAgainstSelectedIds=function(e,a,t){for(var i=this,o=0,r=e;o<r.length;o++)!(function(t){t.selected=i.selectedIds.some((function(e){return e.includes(t.identity,!0,a)}))})(r[o])},d);function d(){this.selectedIds=[]}i.LegacySelectionStateManager=p;var m=(g.prototype.beginTransaction=function(){this.previousSelectedIds,this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize},g.prototype.commit=function(){this.previousSelectedIds,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},g.prototype.rollback=function(){this.previousSelectedIds,this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},g.prototype.isIdSelected=function(e){var t=this.selectedIds[null==e?void 0:e.getKeyWithoutHighlight()];return 1<this.selectionIdSize&&t&&t.equals(e)},g.prototype.clearSelectionState=function(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0},g.prototype.restoreSelection=function(e,t){var a=this;_.forEach(e,(function(e){e=i.SelectionId.fromSelectorsByColumn(e);a.addId(e,t)}))},g.prototype.addId=function(e,t){this.addDecomposedId(e,!t),this.selectedIds[e.getKeyWithoutHighlight()]=e,this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1},g.prototype.addDecomposedId=function(t,e){e=t.getDecomposedKeys(e);if(e)for(var a=0,i=e;a<i.length;a++){var o=i[a],r=this.decomposedSelectedIds[o];_.isArray(r)?_.some(r,(function(e){return e.equals(t)}))||r.push(t):this.decomposedSelectedIds[o]=[t]}},g.prototype.amendDecomposedSelection=function(e){this.decomposedSelectedIds={};for(var t=0,a=_.values(this.selectedIds);t<a.length;t++){var i=a[t];this.addDecomposedId(i,e)}},g.prototype.removeId=function(i){var e=i.getKeyWithoutHighlight(),t=this.selectedIds[e];t&&t.equals(i)&&delete this.selectedIds[e],this.selectionIdSize--;function a(e){for(var t=e.length-1;-1<t;t--){var a=e[t];if(i.equals(a)){e.splice(t,1);break}}}e=i.getDecomposedKeys();if(e)for(var o=0,r=e;o<r.length;o++){var n=r[o],l=this.decomposedSelectedIds[n];a(l),_.isEmpty(l)&&delete this.decomposedSelectedIds[n]}e=this.decomposedSelectedIds[b.data.Selector.AllEncompasingKey];e&&e.length&&(a(e),_.isEmpty(e)&&delete this.decomposedSelectedIds[b.data.Selector.AllEncompasingKey])},g.prototype.getSelectionSize=function(){return this.selectionIdSize},g.prototype.getSelectionIds=function(){return _.values(this.selectedIds)},g.prototype.filterSelection=function(a){this.selectedIds=_.pickBy(this.selectedIds,a);var i={};_.forEach(this.decomposedSelectedIds,(function(e,t){e=_.filter(e,a);e&&!_.isEmpty(e)&&(i[t]=e)})),this.decomposedSelectedIds=i},g.prototype.updateDatapointAgainstSelectedIds=function(e,t,a){if(_.isEmpty(this.selectedIds)&&_.isEmpty(this.decomposedSelectedIds))for(var i=0,o=e;i<o.length;i++)(r=o[i]).selected=!1;else for(var r,n=0,l=e;n<l.length;n++)(r=l[n]).selected=this.checkDatapointAgainstSelectedIds(r,t,a)},g.prototype.checkDatapointAgainstSelectedIds=function(e,t,a){var i;if(!_.isEmpty(this.selectedIds)){var o=null===(i=e.identity)||void 0===i?void 0:i.getKeyWithoutHighlight();if(o)if((c=this.selectedIds[o])&&c.includes(e.identity,!0,t))return!0}if(!_.isEmpty(this.decomposedSelectedIds)){a=null===(i=e.identity)||void 0===i?void 0:i.getDecomposedKeys(!a);if(a)for(var r=0,n=a;r<n.length;r++){var o=n[r],l=this.decomposedSelectedIds[o];if(l)for(var s=0,u=l;s<u.length;s++)if((c=u[s])&&c.includes(e.identity,!0,t))return!0}a=this.decomposedSelectedIds[b.data.Selector.AllEncompasingKey];if(!_.isEmpty(a))for(var c,p=0,d=a;p<d.length;p++)if((c=d[p])&&c.includes(e.identity,!0,t))return!0}return!1},g);function g(){this.clearSelectionState()}i.SelectionStateManager=m;var y=(h.prototype.update=function(e,t,a){this.behaviors[a]=e,this.navigationStrategy=t.navigationStrategy,this.helpers[a]=t.helper,this.disabled=t.disabled},h.prototype.goToFirstElement=function(e){var t;this.disabled||(t=this.helpers[e].getFirstElement().element)&&this.behaviors[e].renderFocus(t)},h.prototype.isEmpty=function(e){return!this.behaviors[e]||_.isEmpty(this.helpers[e])},h.prototype.handleKeyDownEvent=function(e,t,a,i,o){if(!this.disabled){var r,n=this.helpers[e];switch(i){case 9:var l=this.navigationStrategy;l===u.CategoryFirst||l===u.SeriesOnly?r=n.getNextDataPoint(t,a,o?c.PreviousSeries:c.NextSeries):l!==u.SeriesFirst&&l!==u.CategoryOnly||(r=n.getNextDataPoint(t,a,o?c.PreviousCategory:c.NextCategory));break;case 37:r=n.getNextDataPoint(t,a,c.PreviousCategory);break;case 39:r=n.getNextDataPoint(t,a,c.NextCategory);break;case 38:r=n.getNextDataPoint(t,a,c.NextSeries);break;case 40:r=n.getNextDataPoint(t,a,c.PreviousSeries)}this.behaviors[e].renderFocus(r.element)}},h);function h(){this.behaviors={},this.helpers={}}i.DataPointNavigationManager=y})(b.visuals||(b.visuals={}))})(powerbi=powerbi||{}),(function(e){var n,l;e=e.visuals||(e.visuals={}),e=(n=e.services||(e.services={})).GeocodeQueueManager||(n.GeocodeQueueManager={}),l={},e.ensureQueue=function(e,t,a,i){var o=e.toString()+t+(a||"");3===e&&i&&(o+=i);var r=l[o];return r||(r=3===e?new n.BatchGeocodeQueue(t,a,i):new n.GeocodeQueue(t,a),l[o]=r),r},e.reset=function(){for(var e in l)l[e].reset();l={}}})(powerbi=powerbi||{}),(function(e){var t,a,i;function o(){return a=a||t.createGeocodingCache(i.MaxCacheSize,i.MaxCacheSizeOverflow,i.MaxPersistedSpace,i.MaxAge,t.GeocodingCacheVersion)}e=e.visuals||(e.visuals={}),t=e.services||(e.services={}),i=e.MapUtil.Settings,(e=t.GeocodeCacheManager||(t.GeocodeCacheManager={})).getCoordinates=function(e){if(e)return o().getCoordinates(e)},e.registerCoordinates=function(e,t){if(e)return o().registerCoordinates(e,t)},e.reset=function(e){a=e},e.clear=function(){o().clear()}})(powerbi=powerbi||{}),(function(e){var t,a,i;e=e.visuals||(e.visuals={}),t=e.services||(e.services={}),i=e.MapUtil.CategoryTypes,(e=t.CategoryToBingEntity||(t.CategoryToBingEntity={})).reset=function(){a=void 0},e.find=function(e){return a||((a={})[i.Continent.toLowerCase()]=t.BingEntities.Continent,a[i.CountryRegion.toLowerCase()]=t.BingEntities.Sovereign,a[i.StateOrProvince.toLowerCase()]=t.BingEntities.AdminDivision1,a[i.County.toLowerCase()]=t.BingEntities.AdminDivision2,a[i.City.toLowerCase()]=t.BingEntities.PopulatedPlace,a[i.PostalCode.toLowerCase()]=t.BingEntities.Postcode,a[i.Address.toLowerCase()]=t.BingEntities.Address),e&&a[e.toLowerCase()]||""}})(powerbi=powerbi||{}),(function(e){var t,a,i;e=e.visuals||(e.visuals={}),t=e.services||(e.services={}),i=e.MapUtil.CategoryTypes,(e=t.CategoryToBingEntityGeodata||(t.CategoryToBingEntityGeodata={})).reset=function(){a=void 0},e.find=function(e){return a||((a={})[i.CountryRegion.toLowerCase()]=t.BingEntities.CountryRegion,a[i.StateOrProvince.toLowerCase()]=t.BingEntities.AdminDivision1,a[i.County.toLowerCase()]=t.BingEntities.AdminDivision2,a[i.City.toLowerCase()]=t.BingEntities.PopulatedPlace,a[i.PostalCode.toLowerCase()]=t.BingEntities.Postcode1),e&&a[e.toLowerCase()]||""}})(powerbi=powerbi||{}),(function(x){var w;(function(l){var e=jsCommon.BrowserUtils,t=w.MapUtil.CategoryTypes,s=x.JQueryPromiseState,i=w.MapUtil.Settings,a=jsCommon.Trace,p=jsCommon.UrlUtils;function d(){return (function(e){switch(e.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return e;default:return null}})(e.getLanguage())}function o(e,t){return _.some(e,(function(e){return e===t}))}function u(e,t,a){e&&(t instanceof l.GeocodeQuery?e.logGeocodeImmediate(t,a):t instanceof l.GeocodeBoundaryQuery&&e.logGeocodeBoundaryImmediate(t,a))}function m(e,t,a,i,o){e&&(t instanceof l.GeocodeQuery?e.logGeocodeResult(t,a,i,o):t instanceof l.GeocodeBoundaryQuery&&e.logGeocodeBoundaryResult(t,a,i,o))}function g(e){a.information("georequest",void 0,e)}l.createGeocoder=function(){return new y},l.getCultureName=d,l.isNotUpHierarchyMatchCode=function(e){return!o(e,"UpHierarchy")},l.isNotAmbiguousMatchCode=function(e){return!o(e,"Ambiguous")};var r=(n.prototype.geocodeQueueType=function(){return this.useBatchGeocoding()?3:0},n.prototype.geocode=function(e,t){var a=x.createJQueryPromiseFactory().defer();return this.geocodeCore(this.geocodeQueueType(),new l.GeocodeQuery(this.bingGeocodingUrl(),e,t&&t.credentials),t).pipe((function(e){return a.resolve(e)}),(function(e){return a.reject(e)})),a.promise},n.prototype.geocodeBoundary=function(e,t,a,i,o,r){return void 0===a&&(a=""),void 0===i&&(i=2),void 0===o&&(o=3),this.geocodeCore(1,new l.GeocodeBoundaryQuery(this.bingSpatialDataUrl(),e,t,a,i,o,r&&r.entityType,r&&r.credentials),r)},n.prototype.geocodePoint=function(e,t,a,i){return this.geocodeCore(2,new l.GeocodePointQuery(this.bingGeocodingUrl(),e,t,a,i&&i.credentials),i)},n.prototype.tryGeocodeImmediate=function(e){if(!this.bypassGeocodingCache()){var t=new l.GeocodeQuery(this.bingGeocodingUrl(),e),e=l.GeocodeCacheManager.getCoordinates(t.getKey());return u(this.bingGeocodingLogger(),t,e),e}},n.prototype.tryGeocodeBoundaryImmediate=function(e,t,a,i,o,r){if(void 0===o&&(o=3),!this.bypassGeocodingCache()){o=new l.GeocodeBoundaryQuery(this.bingSpatialDataUrl(),e,t,a,i,o,r),r=l.GeocodeCacheManager.getCoordinates(o.getKey());return u(this.bingGeocodingLogger(),o,r),r}},n.prototype.geocodeCore=function(e,t,a){var i,o,r,n=$.Deferred();return t.validate()?(o=!(i=a&&null!=a.bypassCache?a.bypassCache:this.bypassGeocodingCache())&&l.GeocodeCacheManager.getCoordinates(t.getKey()))?(u(this.bingGeocodingLogger(),t,o),n.resolve(o)):(o=a&&a.timeout,e=l.GeocodeQueueManager.ensureQueue(e,1===e?this.bingSpatialDataUrl():this.bingGeocodingUrl(),a&&a.credentials,3===e&&t.getCulture?t.getCulture():void 0),r={timeout:o,geocoder:this,query:t,deferred:n,logger:this.bingGeocodingLogger(),bypassCache:i},e.enqueue(r),o&&a.timeout.finally((function(){r.deferred.state()===s[s.pending]&&r.deferred.reject()}))):n.reject(),n},n);function n(e,t){this.useBatchGeocoding=e,this.bypassGeocodingCache=t}l.BingMapsGeocoder=r,l.DefaultSpatialDataUrl="https://platform.bing.com/geo/spatial/v1/public/Geodata",l.DefaultGeocodingUrl="https://dev.virtualearth.net/REST/v1/Locations";var c,y=(__extends(h,c=r),h.prototype.bingSpatialDataUrl=function(){return l.DefaultSpatialDataUrl},h.prototype.bingGeocodingUrl=function(){return l.DefaultGeocodingUrl},h.prototype.bingGeocodingLogger=function(){return this.logger},h);function h(e,t,a){t=c.call(this,e=void 0===e?function(){return!1}:e,t=void 0===t?function(){return!1}:t)||this;return t.logger=a,t}l.DefaultGeocoder=y,l.safeCharacters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";var b=(f.setBingAjaxCall=function(e){f.BingAjaxCall=e},f.BingAjaxCall=$.ajax,f);function f(){}l.BingAjaxCaller=b,l.CategoryTypeArray=[t.Address,t.City,t.Continent,t.CountryRegion,t.County,t.Longitude,t.Latitude,t.Place,t.PostalCode,t.StateOrProvince],l.isCategoryType=function(e){return-1<l.CategoryTypeArray.indexOf(e)},l.BingEntities={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},l.GeocodingCacheVersion="4",l.EntityFieldFromComponentKey={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},l.ComponentKeyFromEntityField={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"},l.userRegionOfCulture=function(e){switch(e=e.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}return 1<(e=e.split("-",2)).length?e[1]:""};var v=30;l.getGeocodeBatchSize=function(){return v},l.setGeocodeBatchSize=function(e){v=e};S.prototype.reset=function(){var e=this.dequeueTimeout;e&&(this.dequeueTimeout=void 0,clearTimeout(e));for(var t=0,a=this.entries.concat(this.activeEntries);t<a.length;t++){var i=a[t];this.cancel(i)}this.entries=[],this.activeEntries=[]},S.prototype.enqueue=function(e){var t=this,a={item:e};this.entries.push(a),e.deferred.always((function(){t.cancel(a)})),this.inDequeue||this.entries.length<v||this.activeBatches>=i.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())},S.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<i.MaxBingRequest;){for(var e=[];0!==this.entries.length&&e.length<v;){var t,a=this.entries.shift();a.isCompleted||((t=!a.item.bypassCache&&l.GeocodeCacheManager.getCoordinates(a.item.query.getKey()))?(u(a.item.logger,a.item.query,t),this.complete(a,{coordinates:t},!0)):e.push(a))}e.length&&this.makeRequest(e)}}finally{this.inDequeue=!1}},S.prototype.scheduleDequeue=function(){var e=this;this.dequeueTimeout||0===this.entries.length||(this.dequeueTimeout=setTimeout((function(){e.dequeueTimeout=void 0,e.dequeue()})))},S.prototype.cancel=function(e){var t,a=e.batch;!a||(t=a.request)&&--a.uncancelledCount<=0&&(a.request=null,t.abort()),this.complete(e,{error:new Error("cancelled")})},S.prototype.complete=function(e,t,a){e.isCompleted||(e.isCompleted=!0,e.item.deferred.state()===s[s.pending]&&(!t||t.error?e.item.deferred.reject(t&&t.error||new Error("cancelled")):(e.item.bypassCache||!t.coordinates||a||l.GeocodeCacheManager.registerCoordinates(e.item.query.getKey(),t.coordinates),e.item.deferred.resolve(t.coordinates)))),this.scheduleDequeue()},S.prototype.makeRequest=function(r){var n=this;if(!_.isEmpty(r)){var l={type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({GeocodeEntities:_.map(r,(function(e){return e.item.query.getEntity()}))})},e=p.splitUrlAndQuery(this.baseUrl);"/"!==e.baseUrl[e.baseUrl.length-1]&&(e.baseUrl+="/"),e.baseUrl+="multigeocode",e.queryParameters||(e.queryParameters={});var t=this.culture||d();t&&(e.queryParameters.culture=t),e.queryParameters.output="json",e.queryParameters.key=this.credentials;for(var s=p.setQueryParameters(e.baseUrl,e.queryParameters),a={uncancelledCount:r.length,request:b.BingAjaxCall(s,l)},i=0,o=r;i<o.length;i++){var u=o[i];u.batch=a,this.activeEntries.push(u)}++this.activeBatches;e=a.request;e.always((function(){--n.activeBatches;for(var e=0,t=r;e<t.length;e++){var a=t[e];_.pull(n.activeEntries,a)}}));var c=_.head(r).item.bypassCache;e.pipe((function(e){c&&g({url:s,request:l.data,response:JSON.stringify(e)});for(var o=e.resourceSets,t=0;t<r.length;++t)!(function(e){var t=r[e];t.batch=null;var a,i=t.item,e=o&&o.length>e&&{resourceSets:[o[e]]};if(i.geocoder&&i.query.shouldDoFullGeocoding&&i.query.shouldDoFullGeocoding(e))i.geocoder.geocodeCore(0,i.query,{bypassCache:!0,timeout:i.timeout}).then((function(e){a={coordinates:e}}),(function(e){a={error:e}})).done((function(){n.complete(t,a)}));else{if(e)try{a=i.query.getResult(e)}catch(e){a={error:e}}else a={error:new Error("no data")};m(i.logger,i.query,e,a,!0),n.complete(t,a)}})(t)}),(function(e){c&&g({url:s,request:l.data,error:JSON.stringify(e)});for(var t=0,a=r;t<a.length;t++){var i=a[t];i.batch=null;var o={error:new Error(e&&e.statusText||"cancelled")};m(i.item.logger,i.item.query,void 0,o,!0),n.complete(i,o)}}))}},t=S;function S(e,t,a){this.baseUrl=e,this.credentials=t,this.culture=a,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.inDequeue=!1}l.BatchGeocodeQueue=t;C.prototype.reset=function(){var e=this.dequeueTimeout;e&&(this.dequeueTimeout=void 0,clearTimeout(e));for(var t=0,a=this.entries.concat(this.activeEntries);t<a.length;t++){var i=a[t];this.cancel(i)}this.entries=[],this.activeEntries=[]},C.prototype.enqueue=function(e){var t=this,a={item:e};this.entries.push(a),e.deferred.always((function(){t.cancel(a)})),this.dequeue()},C.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<i.MaxBingRequest;){var e=this.entries.shift();e.isCompleted||this.makeRequest(e)}}finally{this.inDequeue=!1}},C.prototype.scheduleDequeue=function(){var e=this;this.dequeueTimeout||0===this.entries.length||(this.dequeueTimeout=setTimeout((function(){e.dequeueTimeout=void 0,e.dequeue()})))},C.prototype.cancel=function(e){var t;e.jsonp||(t=e.request)&&(e.request=null,t.abort()),this.complete(e,{error:new Error("cancelled")})},C.prototype.complete=function(e,t,a){e.isCompleted||(e.isCompleted=!0,e.item.deferred.state()===s[s.pending]&&(!t||t.error?e.item.deferred.reject(t&&t.error||new Error("cancelled")):(e.item.bypassCache||!t.coordinates||a||l.GeocodeCacheManager.registerCoordinates(e.item.query.getKey(),t.coordinates),e.item.deferred.resolve(t.coordinates)))),this.scheduleDequeue()},C.prototype.makeRequest=function(a){var i=this,e=!a.item.bypassCache&&l.GeocodeCacheManager.getCoordinates(a.item.query.getKey());if(e)return u(a.item.logger,a.item.query,e),void this.complete(a,{coordinates:e},!0);a.jsonp=!0;var o=a.item.query.getUrl(this.baseUrl);o?(this.activeEntries.push(a),a.request=b.BingAjaxCall(o,{type:"GET",dataType:"jsonp",jsonp:"jsonp"}),a.request.always((function(){_.pull(i.activeEntries,a)})),a.request.pipe((function(e){var t;a.item.bypassCache&&g({url:o,response:JSON.stringify(e)}),a.request=null;try{t=a.item.query.getResult(e)}catch(e){t={error:e}}m(a.item.logger,a.item.query,e,t,!1),i.complete(a,t)}),(function(e){a.item.bypassCache&&g({url:o,error:JSON.stringify(e)}),a.request=null;e={error:new Error(e&&e.statusText||"cancelled")};m(a.item.logger,a.item.query,void 0,e,!1),i.complete(a,e)}))):this.complete(a,{error:new Error("Unsupported query.")})},t=C;function C(e,t){this.baseUrl=e,this.credentials=t,this.entries=[],this.activeEntries=[],this.inDequeue=!1}l.GeocodeQueue=t,l.clearGeocodingCache=function(){l.GeocodeCacheManager.clear()},l.resetStaticGeocoderState=function(e){l.GeocodeCacheManager.reset(e),l.GeocodeQueueManager.reset(),l.CategoryToBingEntity.reset(),l.CategoryToBingEntityGeodata.reset()}})((w=x.visuals||(x.visuals={})).services||(w.services={}))})(powerbi=powerbi||{}),(function(e){var h;(function(s){var o=h.MapUtil.CategoryTypes,r=h.MapUtil.Settings,n=jsCommon.UrlUtils,a=((u={})[s.DefaultGeocodingUrl]="G",u[s.DefaultSpatialDataUrl]="S",u),i={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},e=(t.prototype.getKey=function(){return this.key},t);function t(e,t){this.location=e,t&&(t=a[t]||t,this.key=(t+";"+_.map(this.location.components,(function(e){return(e.query||"")+"/"+(e.category||"")})).join("&")).toLowerCase(),e.culture&&(this.key+="&c="+e.culture))}s.GeocodeQueryBase=e;var l,u=(__extends(c,l=e),c.prototype.getCulture=function(){return this.location.culture},c.prototype.getBingEntity=function(){return s.CategoryToBingEntity.find(_.last(this.location.components).category)},c.prototype.validate=function(){return null!=this.getEntity()},c.prototype.getEntity=function(){var e=this.getGeocodingParameters();if(_.some(e,(function(e){return!e.key}))){var t=_.chain(e).map((function(e){return e.value})).filter((function(e){return e})).reverse().value().join(", ");return t?{Query:t}:void 0}for(var t={Address:{}},a=t.Address,i=0,o=e;i<o.length;i++){var r=o[i],n=r.value;if(!n||!(n=n.trim()))return;n=r.key;"adminDistrict"===n&&a.AdminDistrict?a.AdminDistrict=r.value+", "+a.AdminDistrict:a[s.EntityFieldFromComponentKey[n]]=r.value}return t},c.prototype.getUrl=function(e){var t={key:this.credentials||r.BingKey},a=this.getEntity();if(a){var i=a.Address;if(i)for(var o in i)t[s.ComponentKeyFromEntityField[o]]=i[o];else t.q=a.Query;a=this.location.culture||s.getCultureName();return a&&(t.c=a),t.maxRes="10",n.setQueryParameters(e,t,!0)}},c.prototype.getGeocodingParameters=function(){var e=this.location.components;return 2<=e.length&&e[0].category===o.Continent&&e[1].category===o.CountryRegion&&(e=_.tail(e)),_.map(e,(function(e){var t=s.CategoryToBingEntity.find(e.category),e=e.query;return{key:t&&i[t]||"",value:e=t===s.BingEntities.Sovereign&&e?c.Iso3166Substitutions[e]||e:e}}))},c.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),(function(e){return!e.key}))},c.prototype.getResult=function(e){var t=this,a=this.isGeneralQuery(),i=p(e,(function(e){return t.locationQuality(e,a)}));if(i){e=i.point.coordinates;return{coordinates:{latitude:e&&e[0],longitude:e&&e[1],entityType:i.entityType}}}return{error:new Error("Geocode result is empty.")}},c.prototype.shouldDoFullGeocoding=function(e){var t=e.resourceSets&&e.resourceSets[0]&&e.resourceSets[0].resources&&e.resourceSets[0].resources[0];if(!t)return!1;if(s.isNotAmbiguousMatchCode(t.matchCodes))return!1;e=this.getBingEntity().toLowerCase(),t=t.entityType&&t.entityType.toLowerCase();return"admindivision1"===e&&"admindivision2"===t||"admindivision2"===e&&"admindivision1"===t},c.prototype.locationQuality=function(e,t){if(!t&&e.matchCodes&&!s.isNotUpHierarchyMatchCode(e.matchCodes))return-1;var a,i=0;return 1===this.location.components.length&&this.location.components[0].category===o.CountryRegion&&(!(a=e.address&&e.address.countryRegionIso2)||2===(t=this.location.components[0].query.toLowerCase()).length&&t===a.toLowerCase()&&(i+=2)),e.entityType&&e.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(i+=1),i},c.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},c);function c(e,t,a){e=l.call(this,t,e)||this;return e.credentials=a,e}function p(e,t){e=e&&!_.isEmpty(e.resourceSets)&&e.resourceSets[0].resources;if(Array.isArray(e)){e=_.chain(e).map((function(e){return{location:e,value:t(e)}})).filter((function(e){return 0<=e.value})).maxBy((function(e){return e.value})).value();return e&&e.location}}s.GeocodeQuery=u;var d,u=(__extends(m,d=e),m.prototype.validate=function(){return!0},m.prototype.getUrl=function(e){this.entities.every((function(t){return!!_.findKey(s.BingEntities,(function(e){return e===t}))}));var t=n.splitUrlAndQuery(e),e=_.endsWith(t.baseUrl,"/")?t.baseUrl:t.baseUrl+"/";e+=[this.latitude,this.longitude].join();t={key:this.credentials||r.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(t.includeEntityTypes=this.entities.join()),n.setQueryParameters(e,t,!0)},m.prototype.getResult=function(e){var t=this,a=p(e,(function(e){return-1===t.entities.indexOf(e.entityType)?0:1}));if(a){var i=a.point.coordinates,e=a.address||{},a=a.name;return{coordinates:{latitude:i[0],longitude:i[1],addressLine:e.addressLine,locality:e.locality,neighborhood:e.neighborhood,adminDistrict:e.adminDistrict,adminDistrict2:e.adminDistrict2,formattedAddress:e.formattedAddress,postalCode:e.postalCode,countryRegionIso2:e.countryRegionIso2,countryRegion:e.countryRegion,landmark:e.landmark,name:a}}}return{coordinates:null}},m);function m(e,t,a,i,o){var r=d.call(this,{components:[{query:[t,a].join(),category:"Point"}]})||this;return r.credentials=o,r.latitude=t,r.longitude=a,r.entities=i,r}s.GeocodePointQuery=u;var g,e=(__extends(y,g=e),y.prototype.getBingEntity=function(){return s.CategoryToBingEntityGeodata.find(_.last(this.location.components).category)},y.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},y.prototype.getUrl=function(e){var t=this.entityType||this.getBingEntity();if(!t)return null;var a=jsCommon.UrlUtils.splitUrlAndQuery(e),i=a.baseUrl,o=a.queryParameters,e=(o=o||{}).c||o.culture,a=e||"",e=e&&s.userRegionOfCulture(e)||"";o.key=this.credentials||r.BingKey,o.$format="json";e=[this.latitude,this.longitude,this.levelOfDetail,"'"+t+"'",1,0,"'"+a+"'","'"+e+"'"];return o.SpatialFilter="GetBoundary("+e.join(", ")+")",delete o.c,delete o.culture,n.setQueryParameters(i,o,!0)},y.prototype.getResult=function(e){if(e&&e.d&&Array.isArray(e.d.results)&&0<e.d.results.length){var t=e.d.results[0].Primitives;if(t&&0<t.length){var a={latitude:this.latitude,longitude:this.longitude,locations:[]};t.sort((function(e,t){return e.Shape.length<t.Shape.length?1:e.Shape.length>t.Shape.length?-1:0}));for(var i=Math.min(t.length,this.maxGeoData),o=0;o<i;o++)for(var r=t[o].Shape.split(","),n=1;n<r.length;n++)a.locations.push({nativeBing:r[n]});return{coordinates:a}}}return{error:new Error("Geocode result is empty.")}},y);function y(e,t,a,i,o,r,n,l){e=g.call(this,{components:[{query:[t,a,o,r=void 0===r?3:r].join(",")+(n!==s.CategoryToBingEntityGeodata.find(i)?","+n:""),category:i}]},e)||this;return e.credentials=l,e.latitude=t,e.longitude=a,e.levelOfDetail=o,e.maxGeoData=r,e.entityType=n,e}s.GeocodeBoundaryQuery=e})((h=e.visuals||(e.visuals={})).services||(h.services={}))})(powerbi=powerbi||{}),(function(n){var e;(function(e){e.createGeocodingCache=function(e,t,a,i,o){return new r(e,t,n.ensureCache("G",o,a,i))};var r=(a.prototype.clear=function(){n.clearCache("G"),this.geocodeCache={},this.geocodeCacheCount=0},a.prototype.getCoordinates=function(e){var t=this.geocodeCache[e];if(t)return++t.hitCount,t.coordinate;t=this.localStorageCache.getData(e);return t?(this.registerInMemory(e,t),t):void 0},a.prototype.registerCoordinates=function(e,t){this.registerInMemory(e,t),this.registerInStorage(e,t)},a.prototype.registerInMemory=function(e,t){var a=this.geocodeCache,i=this.maxCacheSize,o=i+this.maxCacheSizeOverflow;if(this.geocodeCacheCount>=o){var r=Object.keys(a),n=r.length;if(r.sort((function(e,t){e=a[e],t=a[t],e=e?e.hitCount:0;return(t?t.hitCount:0)-e})),n<2*o)for(var l=i-1;l<n;l++)a[r[l]]=void 0;else{for(var s={},l=i-1;0<l--;)s[r[l]]=a[r[l]];a=this.geocodeCache=s}this.geocodeCacheCount=i}a[e]={coordinate:t,hitCount:1},++this.geocodeCacheCount},a.getCoordinateToCache=function(e){var t=e.locations;if(!t||!a.hasRuntimeBoundaryData(t))return e;t={latitude:e.latitude,longitude:e.longitude,locations:_.map(t,(function(e){return{nativeBing:e.nativeBing}}))};return e.entityType&&(t.entityType=e.entityType),t},a.hasRuntimeBoundaryData=function(e){for(var t,a=0,i=e;a<i.length;a++)for(t in i[a])if("nativeBing"!==t)return!0;return!1},a.prototype.registerInStorage=function(e,t){this.localStorageCache.setData(e,a.getCoordinateToCache(t))},a);function a(e,t,a){this.localStorageCache=a,this.geocodeCache={},this.geocodeCacheCount=0,this.maxCacheSize=e,this.maxCacheSizeOverflow=t,this.localStorageCache=a}})((e=n.visuals||(n.visuals={})).services||(e.services={}))})(powerbi=powerbi||{}),(function(e){var n=jsCommon.BrowserUtils;e.tooltipEventsRegistratorModuleFactory=function(){var t=".tooltip",a=(e.prototype.showTooltip=function(e,t,a,i,o,r){var n;this.canDisplayTooltip(e,r)&&(this.visualElement&&this.visualElement.removeEventListener("contextmenu",this.preventContextMenuHandler,!0),r=d3.event,this.visualElement=$(r.target).parent().get(0),e&&this.visualElement&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&this.visualElement.addEventListener("contextmenu",this.preventContextMenuHandler,!0),this.touchOriginTooltipShowing=e,(r=this.makeTooltipEventArgs(e))&&((i||e||this.forceRefreshData)&&(this.forceRefreshData=!1,null==(n=t(r)))?o&&this.visualHostTooltipService.hide({isTouchEvent:e,immediately:!1}):(o=(t=a(r))&&t.map((function(e){return __assign(__assign({},e.getSelectorsByColumn()),{exclude:e.exclude})})),a=t&&t.map((function(e){return null==e?void 0:e.role})),"touch"===(t=d3.event).pointerType&&(t.tooltip=!0),this.visualHostTooltipService.show({coordinates:r.coordinates,isTouchEvent:e,dataItems:n,identities:o,roles:a}),e&&!this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&this.startTouchHideTooltipTimeout())))},e.prototype.hideTooltip=function(e,t){"pointerleave"===t&&e||"mouseout"===t&&this.ignoreMouseoutEvent||(this.touchOriginTooltipShowing=!1,clearTimeout(this.handleTouchTooltipHideId),this.visualHostTooltipService.hide({isTouchEvent:e,immediately:"pointerdown"===t}))},e.prototype.getCoordinates=function(e){for(var t,a=d3.event;t=a.sourceEvent;)a=t;var i,o=e.getBoundingClientRect(),r=a.clientX,n=a.clientY;return null!=r&&null!=n||((i=d3.event).type,r=(i=i.target.getBoundingClientRect()).left+i.width/2,n=i.top+i.height/2),[r-o.left-e.clientLeft,n-o.top-e.clientTop]},e.prototype.makeTooltipEventArgs=function(e){var t=this.getCoordinates(this.rootNode),a=e?document.elementFromPoint(t[0],t[1]):d3.event.target;return{data:d3.select(a).datum(),coordinates:t,elementCoordinates:this.getCoordinates(a),context:a,isTouchEvent:e}},e.prototype.startTouchHideTooltipTimeout=function(){var e=this;this.handleTouchTooltipHideId&&clearTimeout(this.handleTouchTooltipHideId),this.handleTouchTooltipHideId=setTimeout((function(){e.hideTooltip(!0,"timeout")}),this.handleTouchTooltipHideDelay)},e.prototype.startIgnoreMouseEventsTimeout=function(){var e=this;this.ignoreMouseEventsTimeoutId&&clearTimeout(this.ignoreMouseEventsTimeoutId),this.ignoreMouseEventsTimeoutId=setTimeout((function(){e.visualElement&&e.visualElement.removeEventListener("contextmenu",e.preventContextMenuHandler,!0),e.ignoreMouseEventsTimeoutId=void 0,e.forceRefreshData=!0}),this.handleTouchDelay)},e.prototype.canDisplayTooltip=function(e,t){return!(!e&&("pointerdown"===t||this.touchOriginTooltipShowing||void 0!==this.ignoreMouseEventsTimeoutId))},e);function e(e,t){var a=this;this.handleTouchDelay=t,this.handleTouchTooltipHideDelay=2e3,this.preventContextMenuHandler=function(e){e.preventDefault(),e.stopPropagation(),a.visualElement&&a.visualElement.removeEventListener("contextmenu",a.preventContextMenuHandler,!0)},this.ignoreMouseoutEvent=!1,this.forceRefreshData=!1,this.visualHostTooltipService=e,this.rootNode=this.visualHostTooltipService.container()}var i=(o.prototype.unregisterEvents=function(e){e.on(t,null)},o.prototype.registerEvents=function(e,t,a,i){this.registerTooltipEvents(e,t,a,i)},o.prototype.hasPointerTypeTouch=function(e){return"touch"===e.pointerType},o.prototype.onPointerEnd=function(){var e;this.tooltipServiceDelegate.startIgnoreMouseEventsTimeout(),this.visualHostTooltipService.visible()&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled()?this.tooltipServiceDelegate.ignoreMouseoutEvent=!0:(e=d3.event,this.tooltipServiceDelegate.hideTooltip(this.hasPointerTypeTouch(e),e.type))},o.prototype.registerTooltipEvents=function(e,t,a,i){var o,r=this;e.on("pointerover.tooltip",(function(){var e=d3.event;r.hasPointerTypeTouch(e)||r.tooltipServiceDelegate.showTooltip(r.hasPointerTypeTouch(e),t,a,!0,!1,e.type)})),e.on("keydown.tooltip",(function(){var e=d3.event;n.isCtrlOrMeta(e)&&72===e.keyCode&&(e.target===o&&r.visualHostTooltipService.visible()?r.tooltipServiceDelegate.hideTooltip(!1,e.type):r.tooltipServiceDelegate.showTooltip(r.hasPointerTypeTouch(e),t,a,!0,!1,e.type),o=e.target,e.preventDefault())})),e.on("pointerleave.tooltip",(function(){var e=d3.event;r.tooltipServiceDelegate.hideTooltip(r.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&r.hasPointerTypeTouch(e),e.type)})),e.on("mouseout.tooltip",(function(){var e=d3.event;r.tooltipServiceDelegate.hideTooltip(r.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&r.hasPointerTypeTouch(e),e.type)})),e.on("pointermove.tooltip",(function(){var e=d3.event;r.tooltipServiceDelegate.ignoreMouseoutEvent=!1,!r.visualHostTooltipService.visible()&&r.hasPointerTypeTouch(e)||r.tooltipServiceDelegate.showTooltip(r.hasPointerTypeTouch(e),t,a,i,!0,e.type)})),e.on("pointerdown.tooltip",(function(){var e=d3.event;r.tooltipServiceDelegate.showTooltip(r.hasPointerTypeTouch(e),t,a,!0,!r.visualHostTooltipService.isTouchScreenOptimizedEnabled(),e.type)})),e.on("pointerup.tooltip",(function(){return r.onPointerEnd()})),e.on("pointercancel.tooltip",(function(){return r.onPointerEnd()}))},o);function o(e,t){this.tooltipServiceDelegate=e,this.visualHostTooltipService=t}return{create:function(e){var t=new a(e.visualHostTooltipService,e.handleTouchDelay);return new i(t,e.visualHostTooltipService)}}}})(powerbi=powerbi||{}),(function(i){!(function(e){e.createTooltipService=function(e){return e=e.tooltips(),new t(e)};var t=(a.prototype.addTooltip=function(e,t,a,i){this.visualHostTooltipService.enabled()&&this.tooltipEventsRegistrator.registerEvents(e,t,a,i)},a.prototype.removeTooltips=function(e){this.tooltipEventsRegistrator.unregisterEvents(e)},a.prototype.hide=function(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})},a.prototype.visible=function(){return this.visualHostTooltipService&&this.visualHostTooltipService.visible()},a.prototype.isTouchScreenOptimizedEnabled=function(){return this.visualHostTooltipService.isTouchScreenOptimizedEnabled()},a);function a(e,t){void 0===t&&(t=1e3),this.visualHostTooltipService=e,this.tooltipEventsRegistrator=i.tooltipEventsRegistratorModuleFactory().create({visualHostTooltipService:this.visualHostTooltipService,handleTouchDelay:t})}e.TooltipService=t})(i.visuals||(i.visuals={}))})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).CardUtil||(e.CardUtil={})).DefaultStyle={card:{maxFontSize:200},label:{textSize:12,fontFamily:e.DataLabelViewModel.StandardFontFamily,colorName:"foregroundNeutralTertiary",paddingTop:8},value:{textSize:27,colorName:"foreground",fontFamily:e.Font.Family.regularSecondary.css}}})(powerbi=powerbi||{}),(function(r){!(function(e){var t,i;function a(e){this.$select=e}function o(e){this.isOpened=!1,e.container,this.settings=e,this.init(),this.applyStyles(),this.setValue(this.settings.selectedValue)}e=e.controls||(e.controls={}),t=r.visuals.SlicerHelper,a.prototype.execute=function(e){if(this.$select.selectmenu("instance"))return this.$select.selectmenu(e)},i=a,o.prototype.destroy=function(){this.selectMenu.execute("destroy")},o.prototype.update=function(e){_.extend(this.settings,e),o.populateOptions(this.$select,this.settings.options),null!=this.settings.selectedValue&&this.setValue(this.settings.selectedValue),this.refresh(),this.applyStyles(),this.applyState()},o.prototype.disableOption=function(e){for(var t=this.$select.find("option"),a=0;a<t.length;a++){var i=t[a];i.getAttribute("value")===e&&i.setAttribute("disabled","true")}this.refresh()},o.prototype.enableOption=function(e){for(var t=this.$select.find("option"),a=0;a<t.length;a++){var i=t[a];i.getAttribute("value")===e&&i.setAttribute("disabled","false")}this.refresh()},o.prototype.close=function(){this.selectMenu.execute("close")},o.prototype.setValue=function(e){this.$select.val(e)},o.prototype.init=function(){var e,a=this;this.$select=InJs.DomFactory.select(),this.$select.attr("drag-resize-disabled","true").appendTo(this.settings.container),o.populateOptions(this.$select,this.settings.options),this.$select.selectmenu({open:function(){a.isOpened=!0,t.fixWidgetPosition(a.menuWidget,a.widget,{left:-0,top:0},!0)},select:function(e){e.stopPropagation()},width:"auto",close:function(e){a.isOpened=!1,27===e.keyCode&&(e.stopPropagation(),e.preventDefault())}}),this.selectMenu=new i(this.$select),this.settings.onChange&&this.$select.on("selectmenuchange",(function(e,t){t=t.item.value;a.settings.onChange(t)})),this.applyState(),this.widget=this.selectMenu.execute("widget"),this.settings.title&&this.widget.attr("title",this.settings.title).attr("aria-label",this.settings.title),this.widget.attr("role","combobox").removeAttr("aria-autocomplete"),this.widget.on("keydown",(function(e){40!==e.keyCode&&38!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode||(a.isOpened||a.selectMenu.execute("open"),e.stopPropagation()),e.preventDefault()})),this.menuWidget=null===(e=this.selectMenu.execute("menuWidget"))||void 0===e?void 0:e.parent(),null!==(e=this.menuWidget)&&void 0!==e&&e.addClass(this.settings.className+" themeableElement highContrastBorder")},o.prototype.applyState=function(){this.settings.disabled?this.selectMenu.execute("disable"):this.selectMenu.execute("enable")},o.prototype.applyStyles=function(){this.settings.css&&this.widget.css(this.settings.css)},o.prototype.refresh=function(){this.selectMenu.execute("refresh"),this.updateAria()},o.prototype.updateAria=function(){var a=this;setTimeout((function(){var e;a.settings.title?a.widget.removeAttr("aria-labelledby"):(t=a.widget.attr("id"),e=a.widget.attr("aria-labelledby").replace(t,"").trim(),a.widget.attr("aria-labelledby",e+" "+t));var t=a.widget.attr("aria-owns");null!=t&&(a.widget.attr("aria-controls",t),a.widget.removeAttr("aria-owns")),a.widget.attr("aria-haspopup")&&a.widget.attr("aria-haspopup","listbox"),a.widget.removeAttr("title"),a.widget.find(".ui-selectmenu-icon").attr("aria-hidden","true"),a.updateMenuItemAria()}))},o.prototype.updateMenuItemAria=function(){var o=this;this.menuWidget.find(".ui-menu-item").each((function(e,t){t=$(t);t.attr("role","none");var a=t.find(".ui-menu-item-wrapper");t.hasClass("ui-state-disabled")&&(a.attr("aria-disabled","true"),t.removeAttr("aria-disabled"));var i=o.menuWidget.find(".ui-menu").attr("aria-activedescendant");a.attr("aria-selected",(function(){return a.attr("id")===i?"true":"false"}))}))},o.populateOptions=function(e,t){e.find("option").remove();for(var a=0,i=t;a<i.length;a++){var o=i[a];$("<option ></option>").attr("value",o.value).text(o.text).appendTo(e)}},e.SelectMenu=o})(r.visuals||(r.visuals={}))})(powerbi=powerbi||{}),(function(c){!(function(l){var s=jsCommon.StringExtensions.encodeHtml;l.PivotTableAttributeDelimiter='"';var a=(u.prototype.getValue=function(a,i,e,t,o,r){void 0===i&&(i=!1);var n=this.getterFunction(a,this,this.defaultValue,o);if(o&&null==n&&(n=this.getValue(a,i)),void 0===(n=e&&!e(a,this,o)&&!_.isNil(t)?t:n)&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach((function(e,t){t=r&&r[t];n=e.getValue(a,i,void 0,void 0,t)}))),!i&&"string"==typeof n)switch(this.usage){case"attribute":n=n.replace(u.AttributeDelimiter,l.PivotTableAttributeDelimiter+l.PivotTableAttributeDelimiter);break;case"unsafeTextContent":n=s(n);break;case"codeOnly":case"safeTextContent":break;default:this.usage}return n},u.prototype.setInstanceProperty=function(e,t,a,i,o){o=this.getValue(t,!0,a,i,o);return e&&e.properties&&(e.properties[this.propertyName]=o),o},u.prototype.setInstanceValidValues=function(e,t){e.validValues||(e.validValues={}),e.validValues[this.propertyName]=t},u.AttributeDelimiter=new RegExp(l.PivotTableAttributeDelimiter,"g"),u);function u(e,t,a,i,o,r){this.objectName=e,this.propertyName=t,this.defaultValue=a,this.usage=i,this.fallbackProperties=r,this.getterFunction=o||c.DataViewObjects.getValue}l.TablixProperty=a;var i="foregroundNeutralLight",r="foregroundNeutralSecondary";l.DefaultColumnsOutline=l.outline.bottomOnly,l.DefaultColumnsOutlineStyle=4,l.DefaultGridOutline=l.outline.none,l.DefaultGridOutlineStyle=0,l.DefaultRowsOutline=l.outline.rightOnly,l.DefaultRowsOutlineStyle=2,l.DefaultTotalOutline=l.outline.topOnly,l.DefaultTotalOutlineStyle=1,l.DefaultValuesOutline=l.outline.none,l.DefaultValuesOutlineStyle=0;var e=(n.ObjectGeneral="general",n.ObjectGrid="grid",n.ObjectColumnHeaders="columnHeaders",n.ObjectRowHeaders="rowHeaders",n.ObjectValues="values",n.ObjectTotal="total",n.ObjectColumnTotal="columnTotal",n.ObjectRowTotal="rowTotal",n.ObjectSubTotals="subTotals",n.ObjectColumnFormatting="columnFormatting",n.ObjectColumnWidth="columnWidth",n.ObjectSparklines="sparklines",n.ObjectAccessibility="accessibility",n.PropColumnFormatString=new a(n.ObjectGeneral,"formatString",void 0,"codeOnly"),n.PropGeneralTableTotals=new a(n.ObjectGeneral,"totals",!0,"codeOnly"),n.PropGeneralMatrixRowSubtotals=new a(n.ObjectGeneral,"rowSubtotals",!0,"codeOnly"),n.PropGeneralMatrixColumnSubtotals=new a(n.ObjectGeneral,"columnSubtotals",!0,"codeOnly"),n.PropGeneralAutoSizeColumns=new a(n.ObjectGeneral,"autoSizeColumnWidth",!0,"attribute"),n.PropGeneralTextSize=new a(n.ObjectGeneral,"textSize",8,"attribute"),n.PropGridPivotTableTextSize=new a(n.ObjectGrid,"textSize",8,"attribute"),n.PropGridVertical=new a(n.ObjectGrid,"gridVertical",!1,"codeOnly"),n.PropGridVerticalWeight=new a(n.ObjectGrid,"gridVerticalWeight",1,"attribute"),n.PropGridHorizontalTable=new a(n.ObjectGrid,"gridHorizontal",!0,"codeOnly"),n.PropGridHorizontalMatrix=new a(n.ObjectGrid,"gridHorizontal",!1,"codeOnly"),n.PropGridHorizontalWeight=new a(n.ObjectGrid,"gridHorizontalWeight",1,"attribute"),n.PropGridRowPadding=new a(n.ObjectGrid,"rowPadding",0,"attribute"),n.PropGridOutlineStyle=new a(n.ObjectGrid,"outlineStyle",void 0,"codeOnly"),n.PropGridOutline=new a(n.ObjectGrid,"outline",void 0,"codeOnly"),n.PropGridOutlineWeight=new a(n.ObjectGrid,"outlineWeight",1,"attribute"),n.PropGridImageHeight=new a(n.ObjectGrid,"imageHeight",75,"attribute"),n.PropColumnsFontFamily=new a(n.ObjectColumnHeaders,"fontFamily",l.Font.Family.regular.css,"attribute"),n.PropColumnsOutline=new a(n.ObjectColumnHeaders,"outline",l.outline.bottomOnly,"codeOnly"),n.PropColumnsOutlineStyle=new a(n.ObjectColumnHeaders,"outlineStyle",void 0,"codeOnly"),n.PropColumnsNewVisualOutline=new a(n.ObjectColumnHeaders,"outline",void 0,"codeOnly"),n.PropColumnsAlignment=new a(n.ObjectColumnHeaders,"alignment",l.textAlignment.auto,"codeOnly"),n.PropColumnsAlignmentTitle=new a(n.ObjectColumnHeaders,"titleAlignment",l.textAlignment.auto,"codeOnly",null,[n.PropColumnsAlignment]),n.PropColumnPivotTableAutoSizeColumns=new a(n.ObjectColumnHeaders,"autoSizeColumnWidth",!0,"codeOnly"),n.PropColumnsWordWrap=new a(n.ObjectColumnHeaders,"wordWrap",!1,"codeOnly"),n.PropColumnsOutlineWeight=new a(n.ObjectColumnHeaders,"outlineWeight",void 0,"attribute"),n.PropColumnsUrlIcon=new a(n.ObjectColumnHeaders,"urlIcon",!1,"codeOnly"),n.PropColumnsFontSize=new a(n.ObjectColumnHeaders,"fontSize",void 0,"attribute",void 0,[n.PropGridPivotTableTextSize]),n.PropColumnsBold=new a(n.ObjectColumnHeaders,"bold",!1,"codeOnly"),n.PropColumnsItalic=new a(n.ObjectColumnHeaders,"italic",!1,"codeOnly"),n.PropColumnsUnderline=new a(n.ObjectColumnHeaders,"underline",!1,"codeOnly"),n.PropRowsSteppedLayout=new a(n.ObjectRowHeaders,"stepped",!0,"codeOnly"),n.PropRowsSteppedLayoutIndentation=new a(n.ObjectRowHeaders,"steppedLayoutIndentation",10,"attribute"),n.PropRowsFontFamily=new a(n.ObjectRowHeaders,"fontFamily",l.Font.Family.regular.css,"attribute"),n.PropRowsOutline=new a(n.ObjectRowHeaders,"outline",l.outline.rightOnly,"codeOnly"),n.PropRowsPivotTableOutline=new a(n.ObjectRowHeaders,"outline",void 0,"codeOnly"),n.PropRowsOutlineStyle=new a(n.ObjectRowHeaders,"outlineStyle",void 0,"codeOnly"),n.PropRowsAlignment=new a(n.ObjectRowHeaders,"alignment",l.textAlignment.auto,"codeOnly"),n.PropRowsWordWrap=new a(n.ObjectRowHeaders,"wordWrap",!1,"codeOnly"),n.PropRowsOutlineWeight=new a(n.ObjectRowHeaders,"outlineWeight",void 0,"attribute"),n.PropRowsUrlIcon=new a(n.ObjectRowHeaders,"urlIcon",!1,"codeOnly"),n.PropRowsFontSize=new a(n.ObjectRowHeaders,"fontSize",void 0,"attribute",void 0,[n.PropGridPivotTableTextSize]),n.PropRowsShowExpandCollapseButtons=new a(n.ObjectRowHeaders,"showExpandCollapseButtons",!1,"codeOnly"),n.PropRowsExpandCollapseButtonsSize=new a(n.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,"attribute",void 0,[n.PropRowsFontSize]),n.PropRowsBold=new a(n.ObjectRowHeaders,"bold",!1,"codeOnly"),n.PropRowsItalic=new a(n.ObjectRowHeaders,"italic",!1,"codeOnly"),n.PropRowsUnderline=new a(n.ObjectRowHeaders,"underline",!1,"codeOnly"),n.PropValuesFontFamily=new a(n.ObjectValues,"fontFamily",l.Font.Family.regular.css,"attribute"),n.PropValuesBandedRowHeaders=new a(n.ObjectValues,"bandedRowHeaders",!0,"codeOnly"),n.PropValuesOutline=new a(n.ObjectValues,"outline",l.outline.none,"codeOnly"),n.PropValuesOutlineStyle=new a(n.ObjectValues,"outlineStyle",void 0,"codeOnly"),n.PropValuesNewVisualOutline=new a(n.ObjectValues,"outline",void 0,"codeOnly"),n.PropValuesUrlIcon=new a(n.ObjectValues,"urlIcon",!1,"codeOnly"),n.PropValuesWordWrap=new a(n.ObjectValues,"wordWrap",!1,"codeOnly"),n.PropValuesOutlineWeight=new a(n.ObjectValues,"outlineWeight",void 0,"attribute"),n.PropValuesOnRow=new a(n.ObjectValues,"valuesOnRow",!1,"attribute"),n.PropValuesFontSize=new a(n.ObjectValues,"fontSize",void 0,"attribute",void 0,[n.PropGridPivotTableTextSize]),n.PropValuesIcon=new a(n.ObjectValues,"icon",void 0,"attribute"),n.PropValuesWebURL=new a(n.ObjectValues,"webURL",void 0,"attribute"),n.PropValuesBold=new a(n.ObjectValues,"bold",!1,"codeOnly"),n.PropValuesItalic=new a(n.ObjectValues,"italic",!1,"codeOnly"),n.PropValuesUnderline=new a(n.ObjectValues,"underline",!1,"codeOnly"),n.PropTotalTableExTotals=new a(n.ObjectTotal,"totals",!0,"codeOnly"),n.PropTotalTableExTotalLabel=new a(n.ObjectTotal,"label",null,"safeTextContent"),n.PropTotalOutline=new a(n.ObjectTotal,"outline",l.outline.topOnly,"codeOnly"),n.PropTotalTableExOutline=new a(n.ObjectTotal,"outline",void 0,"codeOnly"),n.PropTotalOutlineStyle=new a(n.ObjectTotal,"outlineStyle",void 0,"codeOnly"),n.PropTotalOutlineWeight=new a(n.ObjectTotal,"outlineWeight",void 0,"attribute"),n.PropTotalFontFamily=new a(n.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[n.PropValuesFontFamily]),n.PropTotalFontSize=new a(n.ObjectTotal,"fontSize",void 0,"attribute",void 0,[n.PropValuesFontSize]),n.PropTotalBold=new a(n.ObjectTotal,"bold",!0,"codeOnly"),n.PropTotalItalic=new a(n.ObjectTotal,"italic",!1,"codeOnly"),n.PropTotalUnderline=new a(n.ObjectTotal,"underline",!1,"codeOnly"),n.PropSubTotalsPivotTableRowSubtotals=new a(n.ObjectSubTotals,"rowSubtotals",!0,"codeOnly"),n.PropSubTotalsPivotTableRowSubtotalsLabel=new a(n.ObjectSubTotals,"rowSubtotalsLabel",null,"safeTextContent"),n.PropSubTotalsPivotTableRowSubtotalsPerLevel=new a(n.ObjectSubTotals,"perRowLevel",!1,"codeOnly"),n.PropSubTotalsPivotTableColumnSubtotals=new a(n.ObjectSubTotals,"columnSubtotals",!0,"codeOnly"),n.PropSubTotalsPivotTableColumnSubtotalsLabel=new a(n.ObjectSubTotals,"columnSubtotalsLabel",null,"safeTextContent"),n.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new a(n.ObjectSubTotals,"perColumnLevel",!1,"codeOnly"),n.PropSubTotalsPivotTableLevelSubtotalEnabled=new a(n.ObjectSubTotals,"levelSubtotalEnabled",!0,"codeOnly"),n.PropSubTotalsPivotTableLevelSubtotalLabel=new a(n.ObjectSubTotals,"levelSubtotalLabel",null,"safeTextContent"),n.PropSubTotalsPivotTableRowSubtotalsPosition=new a(n.ObjectSubTotals,"rowSubtotalsPosition",void 0,"codeOnly",function(e,t,a){a=c.DataViewObjects.getValue(e,t,a);return null!=a?a:n.PropRowsSteppedLayout.getValue(e)?l.rowSubtotalPosition.top:l.rowSubtotalPosition.bottom}),n.PropSubTotalsApplyToHeaders=new a(n.ObjectSubTotals,"applyToHeaders",!1,"codeOnly"),n.PropSubTotalsFontFamily=new a(n.ObjectSubTotals,"fontFamily",void 0,"attribute",void 0,[n.PropValuesFontFamily]),n.PropSubTotalsFontSize=new a(n.ObjectSubTotals,"fontSize",void 0,"attribute",void 0,[n.PropValuesFontSize]),n.PropSubTotalsBold=new a(n.ObjectSubTotals,"bold",!0,"codeOnly"),n.PropSubTotalsItalic=new a(n.ObjectSubTotals,"italic",!1,"codeOnly"),n.PropSubTotalsUnderline=new a(n.ObjectSubTotals,"underline",!1,"codeOnly"),n.PropGrandTotalApplyToHeaders=new a(n.ObjectTotal,"applyToHeaders",!1,"codeOnly"),n.PropGrandTotalFontFamily=new a(n.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[n.PropSubTotalsFontFamily]),n.PropGrandTotalFontSize=new a(n.ObjectTotal,"fontSize",void 0,"attribute",void 0,[n.PropSubTotalsFontSize]),n.PropGrandTotalBold=new a(n.ObjectTotal,"bold",!0,"codeOnly"),n.PropGrandTotalItalic=new a(n.ObjectTotal,"italic",!1,"codeOnly"),n.PropGrandTotalUnderline=new a(n.ObjectTotal,"underline",!1,"codeOnly"),n.PropColumnGrandTotalApplyToHeaders=new a(n.ObjectColumnTotal,"applyToHeaders",!1,"codeOnly"),n.PropColumnGrandTotalFontFamily=new a(n.ObjectColumnTotal,"fontFamily",void 0,"attribute",void 0,[n.PropSubTotalsFontFamily]),n.PropColumnGrandTotalFontSize=new a(n.ObjectColumnTotal,"fontSize",void 0,"attribute",void 0,[n.PropSubTotalsFontSize]),n.PropColumnGrandTotalBold=new a(n.ObjectColumnTotal,"bold",!0,"codeOnly"),n.PropColumnGrandTotalItalic=new a(n.ObjectColumnTotal,"italic",!1,"codeOnly"),n.PropColumnGrandTotalUnderline=new a(n.ObjectColumnTotal,"underline",!1,"codeOnly"),n.PropRowGrandTotalApplyToHeaders=new a(n.ObjectRowTotal,"applyToHeaders",!1,"codeOnly"),n.PropRowGrandTotalFontFamily=new a(n.ObjectRowTotal,"fontFamily",void 0,"attribute",void 0,[n.PropSubTotalsFontFamily]),n.PropRowGrandTotalFontSize=new a(n.ObjectRowTotal,"fontSize",void 0,"attribute",void 0,[n.PropSubTotalsFontSize]),n.PropRowGrandTotalBold=new a(n.ObjectRowTotal,"bold",!0,"codeOnly"),n.PropRowGrandTotalItalic=new a(n.ObjectRowTotal,"italic",!1,"codeOnly"),n.PropRowGrandTotalUnderline=new a(n.ObjectRowTotal,"underline",!1,"codeOnly"),n.PropColumnFormattingDisplayUnits=new a(n.ObjectColumnFormatting,"labelDisplayUnits",1,"codeOnly",c.DataViewObjects.getValue),n.PropColumnFormattingPrecision=new a(n.ObjectColumnFormatting,"labelPrecision",void 0,"codeOnly",c.DataViewObjects.getValue),n.PropColumnFormattingAlignment=new a(n.ObjectColumnFormatting,"alignment",l.textAlignment.auto,"codeOnly"),n.PropColumnFormattingStyleHeader=new a(n.ObjectColumnFormatting,"styleHeader",!1,"codeOnly"),n.PropColumnFormattingStyleValues=new a(n.ObjectColumnFormatting,"styleValues",!0,"codeOnly"),n.PropColumnFormattingStyleSubtotals=new a(n.ObjectColumnFormatting,"styleSubtotals",!0,"codeOnly"),n.PropColumnFormattingDataBars=new a(n.ObjectColumnFormatting,"dataBars",void 0,"codeOnly"),n.PropSparklinesChartType=new a(n.ObjectSparklines,"chartType",l.sparklineChartType.line,"codeOnly"),n.PropSparklinesStrokeWidth=new a(n.ObjectSparklines,"strokeWidth",1,"attribute"),n.PropSparklinesMarkerType=new a(n.ObjectSparklines,"markers",l.sparklineMarkerType.isolated,"codeOnly"),n.PropSparklinesMarkerSize=new a(n.ObjectSparklines,"markerSize",3,"attribute"),n.PropSparklinesMarkerShape=new a(n.ObjectSparklines,"markerShape",l.markerShape.circle,"codeOnly"),n.PropColumnFormattingStyleTotal=new a(n.ObjectColumnFormatting,"styleTotal",!1,"codeOnly"),n.PropColumnWidthValue=new a(n.ObjectColumnWidth,"value",void 0,"attribute"),n.PropAltTextValue=new a(n.ObjectAccessibility,"altTextColumns",void 0,"attribute"),n.ProprowWithReferenceText=new a(n.ObjectAccessibility,"rowWithReferenceText",void 0,"attribute"),n);function n(e){var o=this;this.colorHelper=l.ColorHelper.create(e);function t(e,t,a,i){return o.colorHelper.getColorForProperty(e,t,a,i)}this.PropGridVerticalColor=new a(n.ObjectGrid,"gridVerticalColor",i,"attribute",t),this.PropGridHorizontalColor=new a(n.ObjectGrid,"gridHorizontalColor",i,"attribute",t),this.PropGridOutlineColor=new a(n.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt","attribute",t),this.PropRowsOutlineColor=new a(n.ObjectRowHeaders,"outlineColor",void 0,"attribute",t),this.PropColumnsOutlineColor=new a(n.ObjectColumnHeaders,"outlineColor",void 0,"attribute",t),this.PropValuesOutlineColor=new a(n.ObjectValues,"outlineColor",void 0,"attribute",t),this.PropTotalOutlineColor=new a(n.ObjectTotal,"outlineColor",void 0,"attribute",t),this.PropColumnsFontColor=new a(n.ObjectColumnHeaders,"fontColor",r,"attribute",t),this.PropColumnsBackColor=new a(n.ObjectColumnHeaders,"backColor",void 0,"attribute",t),this.PropRowsFontColor=new a(n.ObjectRowHeaders,"fontColor",r,"attribute",t),this.PropRowsBackColor=new a(n.ObjectRowHeaders,"backColor",void 0,"attribute",t),this.PropRowsExpandCollapseButtonsColor=new a(n.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,"attribute",t),this.PropValuesFontColor=new a(n.ObjectValues,"fontColor",void 0,"attribute",t),this.PropValuesFontColorPrimary=new a(n.ObjectValues,"fontColorPrimary",l.ForegroundColorName,"attribute",t),this.PropValuesFontColorSecondary=new a(n.ObjectValues,"fontColorSecondary",l.ForegroundColorName,"attribute",t),this.PropValuesBackColor=new a(n.ObjectValues,"backColor",void 0,"attribute",t),this.PropValuesBackColorPrimary=new a(n.ObjectValues,"backColorPrimary",void 0,"attribute",t),this.PropValuesBackColorSecondary=new a(n.ObjectValues,"backColorSecondary",void 0,"attribute",t),this.PropTotalFontColor=new a(n.ObjectTotal,"fontColor",l.ForegroundColorName,"attribute",t),this.PropTotalBackColor=new a(n.ObjectTotal,"backColor",void 0,"attribute",t),this.PropSubTotalsFontColor=new a(n.ObjectSubTotals,"fontColor",void 0,"attribute",t),this.PropSubTotalsBackColor=new a(n.ObjectSubTotals,"backColor",void 0,"attribute",t),this.PropGrandTotalFontColor=new a(n.ObjectTotal,"fontColor",void 0,"attribute",t),this.PropGrandTotalBackColor=new a(n.ObjectTotal,"backColor",void 0,"attribute",t),this.PropColumnGrandTotalFontColor=new a(n.ObjectColumnTotal,"fontColor",void 0,"attribute",t),this.PropColumnGrandTotalBackColor=new a(n.ObjectColumnTotal,"backColor",void 0,"attribute",t),this.PropRowGrandTotalFontColor=new a(n.ObjectRowTotal,"fontColor",void 0,"attribute",t),this.PropRowGrandTotalBackColor=new a(n.ObjectRowTotal,"backColor",void 0,"attribute",t),this.PropColumnFormattingFontColor=new a(n.ObjectColumnFormatting,"fontColor",void 0,"attribute",t),this.PropColumnFormattingBackColor=new a(n.ObjectColumnFormatting,"backColor",void 0,"attribute",t),this.PropSparklinesDataColor=new a(n.ObjectSparklines,"dataColor",{solid:{color:l.ColorHelper.getDataColorByIndex(e,0)}},"attribute"),this.PropSparklinesMarkerColor=new a(n.ObjectSparklines,"markerColor",{solid:{color:l.ColorHelper.getDataColorByIndex(e,0)}},"attribute")}l.TablixProperties=e})(c.visuals||(c.visuals={}))})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).PivotTableOptions||(e.PivotTableOptions={})).createDashboardConstructorOptions=function(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"nonInteractive"}}},e.createDefaultConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"}}},e.createMobileConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"}}}})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).TableExOptions||(e.TableExOptions={})).createDashboardConstructorOptions=function(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}},e.createDefaultConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}},e.createMobileConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}})(powerbi=powerbi||{}),(function(e){var l;(function(e){var r,o,t,a=jsCommon.CssConstants.createClassAndSelector;(t=r=r||{})[t.None=0]="None",t[t.DraggingThumb=1]="DraggingThumb",t[t.BackgroundClicked=2]="BackgroundClicked",t[t.InitialPagingDelay=3]="InitialPagingDelay",t[t.Paging=4]="Paging",(t=o=o||{})[t.none=0]="none",t[t.active=1]="active";n.prototype.updateBrushRadius=function(e){this.brushRadius=null!=e?e:n.defaultBrushRadius},n.prototype.updateScrollbarOptions=function(e){this.brushWidth=e.scrollbarWidth,this.updateBrushRadius(e.scrollbarRadius);var t=e.scrollbarClass,e=this.brushContextAdditionalClass;this.brushContextAdditionalClass=t,this.brushGraphicsContext&&e!==t&&this.brushGraphicsContext.classed(e,!1).classed(t,!!t)},n.prototype.init=function(e){this.element=e},n.prototype.remove=function(){this.isInitialized=!1,this.element.selectAll(n.Brush.selector).remove(),this.brush&&(this.brush.on(n.events.start,null).on(n.events.brush,null).on(n.events.end,null),this.brush=void 0,this.brushType=o.none),this.brushGraphicsContext=void 0,this.clearRenderingTimeout()},n.prototype.getExtent=function(){return this.extent?{start:this.extent[0],end:this.extent[1]}:{start:0,end:0}},n.prototype.setExtent=function(e){var t,a,i;null!=e.start||e.end,null==e.start||null==e.end?(a=this.getExtentLength(),null==e.start?e.start=e.end-a:e.end=e.start+a):a=e.end-e.start,a>this.scrollBarLength?this.scrollBarLength:(i=this.getExtent().start,e=n.clampExtent(e,this.scrollBarLength,a),this.scrollingMode!==r.None&&(this.offset=e.start-i,this.previousBrushExtent=e),this.extent=[e.start,e.end],this.brushType===o.active&&null!==(t=null===(t=this.brushGraphicsContext)||void 0===t?void 0:t.node().__brush)&&void 0!==t&&t.selection&&(this.isHorizontal?this.brushGraphicsContext.node().__brush.selection=[[e.start,0],[e.end,this.brushWidth]]:this.brushGraphicsContext.node().__brush.selection=[[0,e.start],[this.brushWidth,e.end]]))},n.prototype.getExtentLength=function(){var e=this.getExtent();return e.end-e.start},n.prototype.setExtentLength=function(e){var t=this.getExtent();t.end=t.start+e,this.setExtent(t)},n.prototype.setScale=function(e,t){this.brushType=t?o.none:o.active,this.brushType===o.active&&(e=e.range(),this.isHorizontal?(this.brush=d3.brushX(),this.brush.extent([[e[0],0],[e[1],this.brushWidth]])):(this.brush=d3.brushY(),this.brush.extent([[0,e[0]],[this.brushWidth,e[1]]])))},n.prototype.setOrientation=function(e){this.isHorizontal=e},n.prototype.render=function(e,t,a){var i=this;this.brushGraphicsContext||(this.brushGraphicsContext=this.element.append("g").classed(n.Brush.class,!0).classed(this.brushContextAdditionalClass,!!this.brushContextAdditionalClass)),this.onRefreshVisualCallback=a;e=this.brushGraphicsContext.attrs({transform:l.SVGUtil.translate(e,t),"drag-resize-disabled":"true"});this.brushType!==o.none&&(e=e.call(this.brush)),this.brushType!==o.active||this.isInitialized||(this.isInitialized=!0,this.brushGraphicsContext.call(this.brush.move,this.extent)),this.brushType!==o.none&&this.brush.on("start",(function(){i.previousBrushExtent=i.getExtent(),i.extent=d3.event.selection,i.handleDrag()})).on("brush",(function(){i.extent=d3.event.selection,i.handleDrag()})).on("end",(function(){i.setExtent(i.previousBrushExtent),i.refreshExtent(),i.previousBrushExtent=null,i.startBrushExtent=null,i.pointerPosition=null,i.scrollingMode=r.None,(i.offset=null)!=i.timeoutId&&(window.clearTimeout(i.timeoutId),i.timeoutId=null)})),e.selectAll(".handle").remove();t={rx:this.brushRadius,ry:this.brushRadius};this.isHorizontal?t.height=this.brushWidth:t.width=this.brushWidth,e.selectAll("rect").attrs(t)},n.prototype.handleDrag=function(){var e=this.previousBrushExtent?this.previousBrushExtent.end-this.previousBrushExtent.start:0,t=this.getExtent(),a=!1;this.scrollingMode===r.None&&(t.start<0&&0===t.end?t.start=0:t.start===this.scrollBarLength&&t.end>this.scrollBarLength&&(t.end=this.scrollBarLength),this.scrollingMode=n.isBackgroundClickExtent(t)?r.BackgroundClicked:r.DraggingThumb,this.startBrushExtent=t),null!=this.offset&&(t.start+=this.offset,t.end+=this.offset);var i,o=this.getExtentLength();switch(t=n.clampExtent(t,this.scrollBarLength,o),this.pointerPosition=this.getPointerPosition(),this.scrollingMode){case r.DraggingThumb:0<e&&e!=t.end-t.start&&(t.end=t.start+e),a=!0;break;case r.BackgroundClicked:n.CenterOnBackgroundClick?(t.start=this.pointerPosition-(i=o/2),t.end=this.pointerPosition+i):(i=t.start>this.previousBrushExtent.start,t=n.stepExtent(this.previousBrushExtent,i),this.scrollingMode=r.InitialPagingDelay,this.setStepTimeout(i,t)),a=!0;break;case r.InitialPagingDelay:case r.Paging:t=this.previousBrushExtent}this.onExtentUpdate?this.onExtentUpdate(t):(a&&this.refreshVisual(),this.setExtent(t),this.refreshExtent(),this.previousBrushExtent=t)},n.prototype.shouldContinueStepping=function(e,t){var a=this.pointerPosition>=t.start&&this.pointerPosition<=t.end;return 0!==t.start&&t.end!==e&&!a},n.prototype.getPointerPosition=function(){var e=this.getExtent();return n.isBackgroundClickExtent(this.startBrushExtent)?e.start<this.startBrushExtent.start?e.start:e.end:(e.end-e.start)/2},n.prototype.refreshExtent=function(){var e=this.getExtent(),t=this.getExtentLength(),a=this.brushGraphicsContext.select(".selection");this.isHorizontal?a.attrs({width:t,x:e.start}):a.attrs({height:t,y:e.start})},n.prototype.refreshVisual=function(){var e=this;this.onRefreshVisualCallback&&(this.clearRenderingTimeout(),this.renderTimeoutHandle=window.requestAnimationFrame((function(){e.renderTimeoutHandle=void 0,e.onRefreshVisualCallback()})))},n.prototype.clearRenderingTimeout=function(){this.renderTimeoutHandle&&(window.cancelAnimationFrame(this.renderTimeoutHandle),this.renderTimeoutHandle=void 0),null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},n.prototype.refreshExtentAndVisual=function(){this.refreshExtent(),this.refreshVisual()},n.prototype.setStepTimeout=function(e,t){var a=this;this.shouldContinueStepping(this.scrollBarLength,t)&&(t=this.scrollingMode===r.InitialPagingDelay?n.InitialPagingDelayMS:n.PagingDelayMS,this.timeoutId=_.delay((function(){a.onPagingTimeoutExpired(e)}),t))},n.isBackgroundClickExtent=function(e){return e.start===e.end},n.stepExtent=function(e,t){var a=e.end-e.start;return e.start=t?e.start+a:e.start-a,e.end=t?e.end+a:e.end-a,e},n.prototype.onPagingTimeoutExpired=function(e){this.scrollingMode!==r.Paging&&(this.scrollingMode=r.Paging);var t=this.getExtent(),a=n.stepExtent(t,e);this.setExtent(a),this.refreshExtentAndVisual(),this.previousBrushExtent=t,this.setStepTimeout(e,a)},n.clampExtent=function(e,t,a){return e.end>t?{start:t-a,end:t}:e.start<0?{start:0,end:a}:e},n.InitialPagingDelayMS=500,n.PagingDelayMS=50,n.defaultBrushRadius=0,n.CenterOnBackgroundClick=!1,n.events={start:"start",brush:"brush",end:"end"},n.Brush=a("brush"),a=n;function n(e){this.brushType=o.none,this.scrollingMode=r.None,this.brushWidth=e.scrollbarWidth,this.brushContextAdditionalClass=e.scrollbarClass,this.onExtentUpdate=e.onExtentUpdate,this.updateBrushRadius(e.scrollbarRadius)}e.SvgScrollbar=a})((l=e.visuals||(e.visuals={})).controls||(l.controls={}))})(powerbi=powerbi||{}),(function(e){var g;function y(e){return g.isForMapping(e)&&e.for?b(e.for.in,3):g.isBindMapping(e)&&e.bind?b(e.bind.to,3):void 0}function h(e){return e&&e.scalarKeyInfo&&e.scalarKeyInfo.hasScalarKey||g.ScalarUtils.typeCanBeScalar(e&&e.type)?2:1}function b(e,t){var a=[];if(!e||e.role===g.cartesianRoleNames.tooltips||_.isEmpty(e.items))return a;for(var i=e.activeItems,o=0,r=e.items;o<r.length;o++){var n,l=r[o];_.some(i)&&!_.includes(i,l.queryName)||(n=0,e.role===g.kpiRoleNames.goal&&(n=6),a.push({selectName:l.queryName,kind:t,roleKind:n}))}return a}function i(e){var t=[],a=e.categorical.categories;return g.isForMapping(a)&&a.for&&a.for.in&&(e=void 0,e=h(_.first(a.for.in.items)),t.push.apply(t,b(a.for.in,e))),t}function o(e){var t=[],a=e.categorical.values;if(a&&a.group){e=a.group;if(t.push.apply(t,b(e.by,1)),e.select)for(var i=0,o=e.select;i<o.length;i++){var r=y(o[i]);_.isEmpty(r)||t.push.apply(t,r)}}if(a&&a.select)for(var n=0,l=a.select;n<l.length;n++){r=y(l[n]);_.isEmpty(r)||t.push.apply(t,r)}return t}g=e.visuals||(e.visuals={}),(e=g.NarrativeSummaryBinding||(g.NarrativeSummaryBinding={})).getBindingsFromRoleMapping=y,e.getSummaryCategoricalBindingsForCategories=i,e.getSummaryCategoricalBindingsForValues=o,e.getSummaryCategoricalBindings=function(e,t){var a=_.first(e.dataViewMappings);return a&&a.categorical&&a.categorical.categories?((e=i(a)).push.apply(e,o(a)),_.isEmpty(e)?{subjectKind:t,error:2,bindings:void 0}:{subjectKind:t,error:void 0,bindings:e}):{subjectKind:t,error:2,bindings:void 0}},e.getScatterChartSummaryMatrixBindings=function(e,t){return e=(function(e){for(var t=[],a=[],i=[],o=0,r=e.rows.select;o<r.length;o++){var n=r[o];if(g.isBindMapping(n)&&n.bind&&n.bind.to){var l=h(_.first(n.bind.to.items));i.push.apply(i,b(n.bind.to,l))}else if(g.isComposite(n)&&n.composite&&n.composite)for(var s=0,u=n.composite;s<u.length;s++){var c=u[s];g.isForMapping(c)&&c.for&&c.for.in&&(l=h(_.first(c.for.in.items)),a.push.apply(a,b(c.for.in,l)))}}if(t.push.apply(t,a),t.push.apply(t,i),(e=e.values)&&e.select)for(var p=0,d=e.select;p<d.length;p++){var m=y(d[p]);_.isEmpty(m)||t.push.apply(t,m)}return t})(e),_.isEmpty(e)?{subjectKind:t,error:2,bindings:void 0}:{subjectKind:t,error:void 0,bindings:e}},e.getGaugeSummaryBindings=function(e){var t=[];if(!e||!e.categorical||!e.categorical.values)return t;var a=e.categorical.values;if(!a||!a.select)return t;for(var i=0,o=a.select;i<o.length;i++){var r,n=o[i];g.isBindMapping(n)&&n.bind&&((r=n.bind.to)&&r.items?t.push.apply(t,(function(e){for(var t=[],a=e.activeItems,i=0,o=e.items;i<o.length;i++){var r=o[i];if(!_.some(a)||_.includes(a,r.queryName)){var n=0;switch(e.role){case"MinValue":n=8;break;case"MaxValue":n=9;break;case"TargetValue":n=6}t.push({selectName:r.queryName,kind:3,roleKind:n})}}return t})(r)):r&&void 0===r.items&&e.metadata&&e.metadata.objects&&e.metadata.objects.axis&&(n=e.metadata.objects.axis,t.push.apply(t,(function(e,t){var a,i=[];if(!e||!t)return i;var o=0,r=0;switch(e.role){case"MinValue":t.min&&(a=t.min.toString(),o=4,r=8);break;case"MaxValue":t.max&&(a=t.max.toString(),o=4,r=9);break;case"TargetValue":t.target&&(a=t.target.toString(),o=4,r=6)}return a&&i.push({selectName:a,kind:o,roleKind:r}),i})(r,n))))}return t}})(powerbi=powerbi||{}),(function(s){var i;function o(e){return e&&!!e.for}function r(e,a){return e.filter((function(e){if(!o(e))return!1;var t=e.for.in.role;return _.some(a,(function(e){return e===t}))}))}function n(e,t){for(var a=0,i=e;a<i.length;a++){var o=i[a],o=s.data.CompiledDataViewMapping.getRoleFromMapping(o).items;if(!_.isEmpty(o))for(var r=0,n=o;r<n.length;r++){var l=n[r];(l.aggregates=l.aggregates||[]).push(t)}}}(i=s.visuals||(s.visuals={})).isBindMapping=function(e){return e&&!!e.bind},i.isForMapping=o,i.isComposite=function(e){return e&&!!e},i.getAggregatesForSmallMultiples=function(e,t){var e=r((a=e.matrix).values.select,t),a=a.rows.values;_.isEmpty(a)||e.push.apply(e,r(a.select,t)),n(e,{min:!0,max:!0})},i.findRoleItems=r,i.getAggregatesForRoleItems=n,i.updateSmallMultiplesRowWindow=function(e){var t,a=e.matrix.rows.select[0].dataReductionAlgorithm;!a.window||(e=(t=e.metadata&&e.metadata.objects)&&t[i.SmallMultiplesUtils.LayoutObjectName])&&(t=e.rowCount||i.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultRowCount,e=e.columnCount||i.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultColumnCount,a.window.count=i.SmallMultiplesUtils.windowCount(t,e))},i.customizeSparklineInfo=function(e,a){e=_.filter(e.metadata.columns,(function(e){var t=null===(t=null===(t=null===(t=e.type)||void 0===t?void 0:t.misc)||void 0===t?void 0:t.sparkline)||void 0===t?void 0:t.groupingType;if(!t)return!1;t=t.temporal||t.dateTime||t.numeric,e=s.DataViewObjects.getValue(e.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return t&&e===i.sparklineChartType.column})),_.forEach(e,(function(t){var e=_.find(a,(function(e){return t.queryName===e.queryName}));e&&(e.sparklineInfo={includeMinGroupingInterval:!0})}))}})(powerbi=powerbi||{}),(function(e){var a;((a=e.visuals||(e.visuals={})).CardPluginMethods||(a.CardPluginMethods={})).getNarrativeSummaryBindings=function(e){var t=[],e=_.first(e.dataViewMappings).table.rows,e=a.NarrativeSummaryBinding.getBindingsFromRoleMapping(e);return _.isEmpty(e)?{subjectKind:5,error:2,bindings:void 0}:(t.push.apply(t,e),{subjectKind:5,error:void 0,bindings:t})}})(powerbi=powerbi||{}),(function(e){var i;i=e.visuals||(e.visuals={}),(e=i.CartesianPluginMethods||(i.CartesianPluginMethods={})).getAdditionalTelemetry=function(e){var t={},a=e&&e.categorical&&_.head(e.categorical.categories);return a&&(t.axisType=i.ScalarUtils.shouldDrawScalar(e.metadata.objects,i.columnChartProps.categoryAxis.axisType,a.source.type,void 0,i.CartesianHelper.hasCategoryHierarchy(e))?"scalar":"categorical"),t},e.getNarrativeSummaryBindings=function(e){return i.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,1)}})(powerbi=powerbi||{}),(function(e){var n;function r(e){var t=e.dataViewMappings[0];return(n.SmallMultiplesUtils.isSmallMultiplesMapping(t)?function(e,t){var a=n.ScalarUtils.mappingSupportsScalarAxis(e,!0),e=[n.columnRoleNames.rows];a||e.push(n.columnRoleNames.category);e.push(n.columnRoleNames.y,n.columnRoleNames.tooltips),null!=t&&t.sortLegend&&e.push(n.columnRoleNames.series);return e}:function(e,t){if(!e||!e.categorical||!e.categorical.categories)return null;var a,i=e.categorical.categories.for.in,o=i.items,r=i.activeItems;i=null!=t&&t.sortLegend?(a=["Category","Series","Y","Tooltips"],["Series"]):(a=["Category","Y","Tooltips"],[]);if(_.isEmpty(o))return null;t=void 0;e.metadata&&(t=e.metadata.objects);e=void 0;if(_.isEmpty(r))e=o[0].type;else if(1===r.length){o=_.find(o,(function(e){return e.queryName===r[0]}));e=o.type}else if(1<r.length)return a;return n.ScalarUtils.canHaveScalarAxis(t,n.lineChartProps.categoryAxis.axisType,e)?i:a})(t,e.featureSwitches)}n=e.visuals||(e.visuals={}),(e=n.ColumnChartPluginMethods||(n.ColumnChartPluginMethods={})).customizeQuery=function(e){var t,a,i,o;(o=e.dataViewMappings[0])&&(o.categorical?(i=(t=e).dataViewMappings[0]).categorical.categories&&(i.categorical.dataVolume=4,n.ScalarUtils.mappingSupportsScalarAxis(i,!1)?(i.categorical.categories.dataReductionAlgorithm={sample:{}},(a=i.categorical.values)&&a.group&&(a.group.dataReductionAlgorithm={top:{}})):n.CartesianHelper.expandCategoryWindow([i]),n.CartesianHelper.requestFilteredToUniqueValue(t.dataViewMappings),i=r(t),n.CartesianHelper.applyHierarchicalSorts(t.dataViewMappings,i)):e.cartesianMultiples&&o.matrix&&(e=(o=e).dataViewMappings[0],n.SmallMultiplesUtils.isSmallMultiplesMapping(e)&&(n.ScalarUtils.mappingSupportsScalarAxis(e,!0)&&(n.SmallMultiplesUtils.setCategoryDataReduction(e,{sample:{}}),o=n.SmallMultiplesUtils.getCategoryMapping(e),n.getAggregatesForRoleItems([o],{min:!0,max:!0})),n.getAggregatesForSmallMultiples(e,[n.columnRoleNames.y]),n.updateSmallMultiplesRowWindow(e))))},e.getSortableRoles=r})(powerbi=powerbi||{}),(function(e){var r;function n(e,t){e&&t&&(e=(t=e.categorical&&e.categorical.values).group&&!_.isEmpty(t.group.select)&&t.group.select[0],_.isEmpty(e.for.in.items)&&(t.group.by.items=void 0))}function l(e){var t,a,i;if(e&&0<e.dataViewMappings.length){var o=e.dataViewMappings[0];if(r.SmallMultiplesUtils.isSmallMultiplesMapping(o))return t=o,a=e.featureSwitches,i=r.ScalarUtils.mappingSupportsScalarAxis(t,!0),t=[r.comboChartRoleNames.rows],i||t.push(r.comboChartRoleNames.category),t.push(r.comboChartRoleNames.y,r.comboChartRoleNames.y2,r.comboChartRoleNames.tooltips),null!=a&&a.sortLegend&&t.push(r.comboChartRoleNames.series),t;if(!r.ScalarUtils.mappingSupportsScalarAxis(o,!1))return null!==(e=e.featureSwitches)&&void 0!==e&&e.sortLegend?["Category","Series","Y","Y2","Tooltips"]:["Category","Y","Y2","Tooltips"]}return null}r=e.visuals||(e.visuals={}),(e=r.ComboChartPluginMethods||(r.ComboChartPluginMethods={})).customizeQuery=function(e){var t,a;_.isEmpty(e.dataViewMappings)||(a=e.dataViewMappings[0],e.cartesianMultiples&&a.matrix?(a=(t=e).dataViewMappings[0],r.SmallMultiplesUtils.isSmallMultiplesMapping(a)&&(r.ScalarUtils.mappingSupportsScalarAxis(a,!0)&&(r.SmallMultiplesUtils.setCategoryDataReduction(a,{sample:{}}),t=r.SmallMultiplesUtils.getCategoryMapping(a),r.getAggregatesForRoleItems([t],{min:!0,max:!0})),r.getAggregatesForSmallMultiples(a,[r.comboChartRoleNames.y,r.comboChartRoleNames.y2]),r.updateSmallMultiplesRowWindow(a))):(function(e){var t=!_.isEmpty(e.dataViewMappings)&&e.dataViewMappings[0],a=1<e.dataViewMappings.length&&e.dataViewMappings[1];n(t,a);var i=r.ScalarUtils.mappingSupportsScalarAxis(t,!1);t&&t.categorical&&(t.categorical.dataVolume=4,i&&(t.categorical.categories.dataReductionAlgorithm={sample:{}},(o=t.categorical.values)&&o.group&&(o.group.dataReductionAlgorithm={top:{}})));{var o;a&&a.categorical&&(a.categorical.dataVolume=4,i&&(a.categorical.categories.dataReductionAlgorithm={sample:{}},(o=a.categorical.values)&&o.group&&(o.group.dataReductionAlgorithm={top:{}})))}i||r.CartesianHelper.expandCategoryWindow(e.dataViewMappings);r.CartesianHelper.requestFilteredToUniqueValue(e.dataViewMappings);i=l(e);r.CartesianHelper.applyHierarchicalSorts(e.dataViewMappings,i)})(e))},e.getSortableRoles=l,e.getNarrativeSummaryBindings=function(e){if(!e||_.isEmpty(e.dataViewMappings))return{subjectKind:1,error:2,bindings:void 0};var t=e.dataViewMappings[0],a=e.dataViewMappings[1];return n(t,a),t&&t.categorical&&t.categorical.categories?((e=r.NarrativeSummaryBinding.getSummaryCategoricalBindingsForCategories(t)).push.apply(e,r.NarrativeSummaryBinding.getSummaryCategoricalBindingsForValues(t)),a&&a.categorical&&a.categorical.categories&&e.push.apply(e,r.NarrativeSummaryBinding.getSummaryCategoricalBindingsForValues(a)),_.isEmpty(e)?{subjectKind:1,error:2,bindings:void 0}:{subjectKind:1,error:void 0,bindings:e}):{subjectKind:1,error:2,bindings:void 0}}})(powerbi=powerbi||{}),(function(i){var e;function t(e){return!!(e&&e.propertyIdentifier&&e.propertyIdentifier.objectName&&e.propertyIdentifier.propertyName)}function c(e,t){var a;return e&&(a=e[t.propertyIdentifier.objectName]),i.DataViewObject.getValue(a,t.propertyIdentifier.propertyName,t.defaultValue)}(e=(e=i.visuals||(i.visuals={})).CustomVisualPluginMethods||(e.CustomVisualPluginMethods={})).customizeQueryForSubtotals=function(e,t){t.matrix&&(function(e,t){e.dataViewMappings;var a=e.dataViewMappings[0];a&&a.matrix&&a.metadata&&(e=a.matrix,(function(e,t,a){var i=e.metadata.objects,o=e.metadata.columns,r=t.rows.for.in.items,n=c(i,a.rowSubtotals),l=c(i,a.rowSubtotalsPerLevel);if(!_.isEmpty(r))for(var s=0,u=r.length;s<u;s++)!(function(e){var t=r[e],e=_.find(o,(function(e){return e.queryName===t.queryName}));if(!e)return;e=c(e.objects,a.levelSubtotalEnabled);t.subtotalType=!n||l&&!e?0:2})(s)})(a,e,t),(function(e,t,a){var i=e.metadata.objects,o=e.metadata.columns,t=t.columns.for.in.items,r=c(i,a.columnSubtotals),n=c(i,a.columnSubtotalsPerLevel);if(!_.isEmpty(t))for(var l=0,s=t;l<s.length;l++)!(function(t){var e=_.find(o,(function(e){return e.queryName===t.queryName}));if(!e)return;e=c(e.objects,a.levelSubtotalEnabled);t.subtotalType=!r||n&&!e?0:2})(s[l])})(a,e,t))})(e,t.matrix)},e.isSubtotalCustomizationCapabilityValid=function(e){return e&&((e=e.matrix)&&t(e.columnSubtotals)&&t(e.columnSubtotalsPerLevel)&&t(e.levelSubtotalEnabled)&&t(e.rowSubtotals)&&t(e.rowSubtotalsPerLevel))},e.getPropertyValue=c})(powerbi=powerbi||{}),(function(a){var r,e,i;r=a.visuals||(a.visuals={}),e=r.DataQueryVisualPluginMethods||(r.DataQueryVisualPluginMethods={}),i=a.data.CompiledDataViewMapping,e.customizeQuery=function(e){var t=_.first(e.dataViewMappings);null!=(e=a.DataViewObjects.getValue(t.metadata.objects,r.dataQueryVisualOverrideDataReductionIdentifier,void 0))&&(0<e&&_.isInteger(e),t.table.rows.dataReductionAlgorithm={top:{count:e}});var o=_.groupBy(_.filter(t.metadata.columns,(function(e){return!(null===(e=null===(e=null==e?void 0:e.objects)||void 0===e?void 0:e.columnOptions)||void 0===e||!e.suppressJoinPredicate)})),(function(e){return e.queryName}));_.isEmpty(o)||i.visitTable(t.table,{visitRole:function(e){if(e.role===r.dataQueryVisualRoles.values)for(var t=0,a=e.items;t<a.length;t++){var i=a[t];o[i.queryName]&&(i.joinPredicate=0)}}})}})(powerbi=powerbi||{}),(function(c){var p,e,a;p=c.visuals||(c.visuals={}),e=p.DecompositionTreePluginMethods||(p.DecompositionTreePluginMethods={}),a=c.visuals.decompositionTreeBarsPerLevel,e.customizeQuery=function(e){var t=e.dataViewMappings[0];t&&t.matrix&&t.metadata&&(function(e,t){var a=e.metadata.columns,i=t.rows.for.in.items;if(!_.isEmpty(i))for(var o=0,r=i.length;o<r;o++)!(function(e){var t=i[e];if(!_.find(a,(function(e){return e.queryName===t.queryName})))return;t.subtotalType=1})(o)}(t,t.matrix),e.scopedAggregates&&(function(e){var t=_.find(e.matrix.values.select,(function(e){return p.isForMapping(e)&&e.for.in.role===p.decompositionTreeRoles.analyze})).for.in.items;if(!_.isEmpty(t)){var a=e.matrix.rows.for.in.items;if(!_.isEmpty(a)){var i=e.metadata.objects;if("levelMaximum"===c.DataViewObjects.getValue(i,{objectName:p.decompositionTreeObjectNames.dataBars,propertyName:p.decompositionTreeObjectPropertyNames.dataBarScalingType},"levelMaximum")){for(var o=0,r=e.metadata.columns;o<r.length;o++){var n=r[o];if(n.discourageAggregationAcrossGroups)return n.queryName}var l=t[0].queryName,s=a.map((function(e){return e.queryName}));e.scopedAggregates=[{min:!0,max:!0,scope:[s[0]],queryName:l}];for(var u=0;u<a.length-1;u++)a[u].aggregates=[{min:!0,max:!0,scope:s.slice(0,u+2),queryName:l}]}}}})(t),(t=(e=t).matrix.rows.dataReductionAlgorithm)&&t.topNPerLevel&&(e=e.metadata.objects,((e=c.DataViewObjects.getValue(e,{objectName:p.decompositionTreeObjectNames.tree,propertyName:p.decompositionTreeObjectPropertyNames.barsPerLevel},a.defaultValue))<a.minValue||e>a.maxValue)&&(e=a.defaultValue),t.topNPerLevel.count=e))}})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).DonutChartPluginMethods||(t.DonutChartPluginMethods={})).getNarrativeSummaryBindings=function(e){return t.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,2)}})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).GaugePluginMethods||(t.GaugePluginMethods={})).getNarrativeSummaryBindings=function(e){return(e=_.first(e.dataViewMappings))&&e.categorical&&e.categorical.values?(e=t.NarrativeSummaryBinding.getGaugeSummaryBindings(e),_.isEmpty(e)?{subjectKind:5,error:2,bindings:void 0}:{subjectKind:5,error:void 0,bindings:e}):{subjectKind:1,error:2,bindings:void 0}}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).HistogramPluginMethods||(e.HistogramPluginMethods={})).getSortableRoles=function(e){return e&&0<e.dataViewMappings.length?["Category"]:null}})(powerbi=powerbi||{}),(function(l){var e;((e=l.visuals||(l.visuals={})).KeyDriversPluginMethods||(e.KeyDriversPluginMethods={})).getAnalysisVisualNarrativeSummaryConfiguration=function(e){return!e||_.isEmpty(e.dataViewMappings)?{keyDriversConfiguration:void 0,error:1}:{keyDriversConfiguration:(function(e){var t=_.first(e),a=t.table,i=t.metadata,o=i.objects,e=_.map(i.columns,(function(e){return e.queryName})),t=a.rows,i=t.select[0],a=t.select[1];i.bind.to.items.length,a.for.in.items.length;var t="keyDrivers",r=_.first(i.bind.to.items).queryName,n=_.map(a.for.in.items,(function(e){return e.queryName})),i=_.filter(e,(function(e){return r!==e&&n.indexOf(e)<0})),a=l.DataViewObjects.getValue(o,{objectName:t,propertyName:"targetValue"},void 0),e=l.DataViewObjects.getValue(o,{objectName:t,propertyName:"selectedNumericAnalysis"},void 0),t=l.DataViewObjects.getValue(o,{objectName:t,propertyName:"numericTargetSelectedKind"},void 0);void 0!==t&&0===t?t="Increase":void 0!==t&&1===t&&(t="Decrease");return{analyzeQueryName:r,explainByQueryNames:n,expandByQueryNames:i,targetValue:a,numericTargetSelectedKind:t,selectedNumericAnalysis:e}})(e.dataViewMappings),error:void 0}}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.KpiPluginMethods||(t.KpiPluginMethods={})).stampHardcodedDefaultObjects=[{objectProperty:t.kpiProps.indicatorFontFamilyProp,defaultValue:e.data.SQExprBuilder.text(t.Font.Family.lightSecondary.family)},{objectProperty:t.kpiProps.goalFontSizeProp,defaultValue:e.data.SQExprBuilder.integer(t.DataLabelViewModel.minLabelFontSize)},{objectProperty:t.kpiProps.goalFontFamilyProp,defaultValue:e.data.SQExprBuilder.text(t.Font.Family.semibold.family)}],a.getNarrativeSummaryBindings=function(e){return t.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,5)}})(powerbi=powerbi||{}),(function(S){var C,e,s,u,c;function p(e,t,a,i){if(e.role===C.LineChartRoles.Category){var o=[C.LineChartRoles.Category];i&&o.unshift(C.LineChartRoles.Rows);for(var r={data:[S.data.DataViewRoleWildcard.fromRoles(o)]},n=e.items,l=0,s=_.size(n);l<s;l++){var u=n[l].scalarKeyInfo;if(u&&u.hasScalarKey){u.scalarKeyMinProperty=C.cartesianChartProps.scalarKey.scalarKeyMin,u.selector=r,t&&d(t,r,l),a&&d(a,r,l);break}}}}function d(e,t,a){s.visitCategoricalCategories(null===(e=null==e?void 0:e.categorical)||void 0===e?void 0:e.categories,{visitRole:function(e){e.items[a].scalarKeyInfo||(e.items[a].scalarKeyInfo={});e=e.items[a].scalarKeyInfo;e.scalarKeyMinProperty=C.cartesianChartProps.scalarKey.scalarKeyMin,e.selector=t}})}function m(e){var t=e.dataViewMappings[0];return(C.SmallMultiplesUtils.isSmallMultiplesMapping(t)?function(e,t){var a=C.ScalarUtils.mappingSupportsScalarAxis(e,!0),e=[C.columnRoleNames.rows];a||e.push(C.columnRoleNames.category);e.push(C.columnRoleNames.y,C.columnRoleNames.tooltips),null!=t&&t.sortLegend&&e.push(C.columnRoleNames.series);return e}:function(e,t){if(!e||!e.categorical||!e.categorical.categories)return null;var a,i=e.categorical.categories.for.in,o=i.items,r=i.activeItems;i=null!=t&&t.sortLegend?(a=["Category","Series","Y","Y2","Tooltips"],["Series"]):(a=["Category","Y","Y2","Tooltips"],[]);if(_.isEmpty(o))return null;t=void 0;e.metadata&&(t=e.metadata.objects);if(u.hasScalarKeys(e)&&C.ScalarUtils.scalarAxisTypeAllowed(t,C.lineChartProps.categoryAxis.axisType))return i;e=void 0;if(_.isEmpty(r))e=o[0].type;else if(1===r.length){o=_.find(o,(function(e){return e.queryName===r[0]}));e=o.type}else if(1<r.length)return a;return C.ScalarUtils.canHaveScalarAxis(t,C.lineChartProps.categoryAxis.axisType,e)?i:a})(t,e.featureSwitches)}C=S.visuals||(S.visuals={}),e=C.LineChartPluginMethods||(C.LineChartPluginMethods={}),s=S.data.CompiledDataViewMapping,u=S.data.ScalarKeyUtils,c=S.visuals.DataReductionConfiguration,e.customizeQuery=function(e){var t,a,i,o,r,n,l=e.dataViewMappings[0];l&&(l.categorical?(r=(t=e).dataViewMappings[0],(n=null==r?void 0:r.categorical)&&n.categories&&(n.dataVolume=4,a=n.categories,(i=_.find(t.dataViewMappings,(function(e){return!(null===(e=e.usage)||void 0===e||!e.anomalyDetection)})))&&(function(e,t){e&&e.dataReductionAlgorithm,t&&t.categorical;e=e.dataReductionAlgorithm.binnedLineSample;e.count,e.warningCount,e.count=c.MaxPotentialIntersectionCount,e.warningCount=c.MaxIntersectionCount,t.categorical.dataReductionAlgorithm={binnedLineSample:{}};t=t.categorical.dataReductionAlgorithm.binnedLineSample;t.count=e.count,t.warningCount=e.warningCount}(n,i),_.some(t.dataViewMappings,(function(e){return C.AnomalyDetectionVisualPlugin.supportedAnomalyMapping(e)}))||_.remove(t.dataViewMappings,(function(e){return e===i}))),n=!1,C.ScalarUtils.scalarAxisTypeAllowed(r.metadata.objects,C.lineChartProps.categoryAxis.axisType)&&(n=u.hasScalarKeys(r),o=_.find(t.dataViewMappings,(function(e){return!(null===(e=e.usage)||void 0===e||!e.forecast)})),s.visitCategoricalCategories(a,{visitRole:function(e){p(e,o,i,!1)}})),n||C.ScalarUtils.mappingSupportsScalarAxis(r,!1)||(_.remove(t.dataViewMappings,(function(e){return e.usage&&(e.usage.forecast||e.usage.anomalyDetection)})),C.LineChartDataReduction.applyWindow(r,!1),n=[r],C.CartesianHelper.expandCategoryWindow(n),r=m(t),C.CartesianHelper.applyHierarchicalSorts(n,r)),C.CartesianHelper.requestFilteredToUniqueValue(t.dataViewMappings))):e.cartesianMultiples&&l.matrix&&(l=(t=e).dataViewMappings[0],C.SmallMultiplesUtils.isSmallMultiplesMapping(l)&&(e=!1,C.ScalarUtils.scalarAxisTypeAllowed(l.metadata.objects,C.lineChartProps.categoryAxis.axisType)&&(e=u.hasScalarKeys(l),s.visitMatrixRows(l.matrix.rows,{visitRole:function(e){p(e,void 0,void 0,!0)}})),t=C.ScalarUtils.mappingSupportsScalarAxis(l,!0),e||t?t&&(t=C.SmallMultiplesUtils.getCategoryMapping(l),C.getAggregatesForRoleItems([t],{min:!0,max:!0})):C.LineChartDataReduction.applyWindow(l,!0),C.getAggregatesForSmallMultiples(l,[C.LineChartRoles.Y,C.LineChartRoles.Y2]),C.updateSmallMultiplesRowWindow(l))))},e.getSortableRoles=m,e.getDataDrivenAlertCapabilities=function(e,t){for(var a,i,o,r,n,l,s,u=[],c=[],p=[],d=[],m=[],g={xIndex:void 0,yIndex:void 0},y=0,h=null==e?void 0:e.selects;y<h.length;y++){var b=h[y];null!=b&&b.roles[C.LineChartRoles.Series]&&u.push(b),null!=b&&b.roles[C.LineChartRoles.Category]&&(c.push(b),m.push(S.ValueType.fromDescriptor(null==b?void 0:b.type))),null!=b&&b.roles[C.LineChartRoles.Y]&&p.push(b),null!=b&&b.roles[C.LineChartRoles.Y2]&&d.push(b)}if(r=c,n=e,s=(l=t)[0],l=C.ScalarUtils.getScalarKeys(null===(t=null==s?void 0:s.categorical)||void 0===t?void 0:t.categories[0]),s=C.ScalarUtils.shouldDrawScalar(null===(t=null==s?void 0:s.metadata)||void 0===t?void 0:t.objects,C.lineChartProps.categoryAxis.axisType,null===(t=r[0])||void 0===t?void 0:t.type,l,C.CartesianHelper.hasCategoryHierarchy(s)),(1===r.length||1<r.length&&s&&(null===(r=null===(r=r[0])||void 0===r?void 0:r.type)||void 0===r?void 0:r.temporal)&&!(null!==(n=null==n?void 0:n.objects)&&void 0!==n&&n.categoryAxis))&&(i=m,s=p,r=d,n=u,i=_.first(i),1===s.length&&0===r.length&&0===n.length&&((null==i?void 0:i.dateTime)||(null==i?void 0:i.numeric)||(null===(n=null==i?void 0:i.temporal)||void 0===n?void 0:n.day)||(null===(o=null==i?void 0:i.temporal)||void 0===o?void 0:o.year))&&!(null!==(o=null==i?void 0:i.temporal)&&void 0!==o&&o.quarter||null!==(i=null==i?void 0:i.temporal)&&void 0!==i&&i.month))&&e&&e.roles&&e.roles.ordering){if(e.roles.ordering[C.LineChartRoles.Category]&&e.roles.activeItems)for(var f=null===(i=_.first(e.roles.activeItems[C.LineChartRoles.Category]))||void 0===i?void 0:i.queryRef,v=0;v<(null===(a=e.selects)||void 0===a?void 0:a.length);v++)(null===(a=e.selects[v])||void 0===a?void 0:a.queryName)===f&&(g.xIndex=v);e.roles.ordering[C.LineChartRoles.Y]&&(g.yIndex=_.first(e.roles.ordering[C.LineChartRoles.Y]))}return g}})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),(e=t.MapPluginMethods||(t.MapPluginMethods={})).customizeQuery=function(e){var t,a,i,o=e.dataViewMappings[0];o.categorical&&(t=void 0,(i=o.categorical.categories).select&&(a=(t=o.categorical.values).group.select[0],_.isEmpty(a.bind.to.items)&&(i.dataReductionAlgorithm=void 0,t.group.dataReductionAlgorithm=void 0,e={},a=_.find(i.select,(function(e){return"X"===e.bind.to.role})),i=_.find(i.select,(function(e){return"Y"===e.bind.to.role})),e.x=a?{role:a.bind.to}:void 0,e.y=i?{role:i.bind.to}:void 0,o.categorical.dataReductionAlgorithm={overlappingPointsSample:e})),!(t&&!_.isEmpty(t.group.by.items))&&o.metadata&&o.metadata.objects&&o.metadata.objects.heatMap&&o.metadata.objects.heatMap.show&&(o.categorical.dataVolume=5))},e.mightRequireMatrixForUnpivot=function(e,t){if(e&&t)for(var a=0,i=t;a<i.length;a++){var o=i[a];if(o.categorical&&o.categorical.categories&&o.categorical.categories.select&&!e.Size&&e.Series)return!0}},e.getNarrativeSummaryBindings=function(e){return t.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,1)}})(powerbi=powerbi||{}),(function(e){var a;a=e.visuals||(e.visuals={}),(e=a.MatrixPluginMethods||(a.MatrixPluginMethods={})).customizeQuery=function(e){var t=e.dataViewMappings[0];t&&t.matrix&&t.metadata&&(e=t.matrix,_.isEmpty(e.columns.for.in.items)||(e.rows.dataReductionAlgorithm.window.count=100),t=t.metadata.objects,e.rows.for.in.subtotalType=a.TablixProperties.PropGeneralMatrixRowSubtotals.getValue(t)?2:0,e.columns.for.in.subtotalType=a.TablixProperties.PropGeneralMatrixColumnSubtotals.getValue(t)?2:0)},e.getSortableRoles=function(e){return["Rows","Values"]}})(powerbi=powerbi||{}),(function(e){var a;a=e.visuals||(e.visuals={}),(e=a.MultiRowCardPluginMethods||(a.MultiRowCardPluginMethods={})).getSortableRoles=function(e){if(e&&e.dataViewMappings&&!_.isEmpty(e.dataViewMappings))for(var t=0,a=e.dataViewMappings;t<a.length;t++){var i=a[t];if(i.table){i=i.table.rows;if(i&&i.for&&i.for.in&&i.for.in.items)return["Values"]}}},e.getNarrativeSummaryBindings=function(e){var t=_.first(e.dataViewMappings),e=[];if(t&&t.table&&t.table.rows){t=t.table.rows,t=a.NarrativeSummaryBinding.getBindingsFromRoleMapping(t);return _.isEmpty(t)?{subjectKind:5,error:2,bindings:void 0}:(e.push.apply(e,t),{subjectKind:5,error:void 0,bindings:e})}}})(powerbi=powerbi||{}),(function(e){var c;c=e.visuals||(e.visuals={}),(e=c.PivotTablePluginMethods||(c.PivotTablePluginMethods={})).customizeQuery=function(e){var t,a,i=e.dataViewMappings[0];i&&i.matrix&&i.metadata&&(t=i.matrix,(a=!_.isEmpty(t.columns.for.in.items))&&(t.rows.dataReductionAlgorithm.window.count=100),(e=t.values)&&(e=e.for.in.items,_.some(e,(function(e){return!(null===(e=null===(e=e.type)||void 0===e?void 0:e.misc)||void 0===e||!e.sparkline)}))&&(t.rows.dataReductionAlgorithm.window.count=a?50:100,a&&(t.columns.dataReductionAlgorithm.top.count=25)),c.customizeSparklineInfo(i,e)),(function(e,t){var i=e.metadata.objects,o=e.metadata.columns,r=t.rows.for.in.items,n=c.TablixProperties.PropSubTotalsPivotTableRowSubtotals.getValue(i),l=c.TablixProperties.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(i)===c.rowSubtotalPosition.top?1:2,s=c.TablixProperties.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(i);if(!_.isEmpty(r))for(var a=0,u=r.length;a<u;a++)!(function(e){var t=r[e],a=_.find(o,(function(e){return e.queryName===t.queryName}));if(!a)return;a=c.TablixProperties.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(a.objects);!n||s&&!a?t.subtotalType=0:0===e&&c.TablixProperties.PropRowsSteppedLayout.getValue(i)?t.subtotalType=1:t.subtotalType=l})(a)})(i,t),(function(e,t){var a=e.metadata.objects,i=e.metadata.columns,t=t.columns.for.in.items,o=c.TablixProperties.PropSubTotalsPivotTableColumnSubtotals.getValue(a),r=c.TablixProperties.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(a);if(!_.isEmpty(t))for(var n=0,l=t;n<l.length;n++)!(function(t){var e=_.find(i,(function(e){return e.queryName===t.queryName}));if(!e)return;e=c.TablixProperties.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(e.objects);t.subtotalType=!o||r&&!e?0:2})(l[n])})(i,t))},e.getSortableRoles=function(e){return["Rows","Values"]}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).RdlVisualPluginMethods||(e.RdlVisualPluginMethods={})).customizeQuery=function(e){(e=e.dataViewMappings[0])&&e.table&&(e.table.rows.for.in.subtotalType=1)}})(powerbi=powerbi||{}),(function(P){var T,e,t;T=P.visuals||(P.visuals={}),e=T.ScatterChartPluginMethods||(T.ScatterChartPluginMethods={}),t=P.data.DataRoleHelper,e.customizeQuery=function(e){if((w=e.dataViewMappings[0])&&w.matrix&&w.metadata){var t=w.matrix,a=w.metadata.objects,i=P.DataViewObjects.getValue(a,T.scatterChartProps.ratioLine.show,T.CartesianHelper.getDefaultScatterRatioLineSettings().show),o=!1,r=!1,n=!1,l=[],s=t.rows;if(s&&!_.isEmpty(s.select)){s.dataReductionAlgorithm.bottom||s.dataReductionAlgorithm.sample||s.dataReductionAlgorithm.overlappingPointsSample;for(var u=0,c=s.select;u<c.length;u++)for(var p=c[u],d=p,m=0,g=d.composite||[p];m<g.length;m++){var y=g[m];T.isBindMapping(y)&&l.push(y.bind.to),T.isForMapping(y)&&l.push(y.for.in);y=(function(e){var t;T.isBindMapping(e)?t=e.bind.to.role:T.isForMapping(e)&&(t=e.for.in.role);return t===T.scatterRoleNames.x?T.scatterRoleNames.x:t===T.scatterRoleNames.y?T.scatterRoleNames.y:void 0})(y);y&&(o=!0,y===T.scatterRoleNames.y&&(r=!0),y===T.scatterRoleNames.x&&(n=!0))}}if(i&&!o){for(var h=0,b=l;h<b.length;h++)b[h].subtotalType=2;T.isForMapping(t.columns)&&(t.columns.for.in.subtotalType=2)}var f=t.rows.dataReductionAlgorithm,v=P.DataViewObjects.getValue(a,T.scatterChartProps.general.dataVolume,null),S=P.DataViewObjects.getValue(a,T.cartesianChartProps.categoryAxis.axisType)===T.axisType.categorical,C=_.find(l,(function(e){return e.role===T.scatterRoleNames.x})),x=C&&_.filter(C.items,(function(e){return _.includes(C.activeItems,e.queryName)})),e=_.size(x),w=0===e?void 0:1===e&&_.every(x,(function(e){return e.type&&(e.type.numeric||e.type.integer)})),i=_.find(t.values.select,(function(e){return T.isBindMapping(e)&&e.bind.to.role===T.scatterRoleNames.x})),x=i&&T.isBindMapping(i)&&i.bind.to,i=x?_.size(x.items):0,x=!!x&&_.every(x.items,(function(e){return e.type&&(e.type.numeric||e.type.integer)}));if(!n&&1<i||r&&1<e)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(!n&&1===i&&!x)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(o&&(S||!1===w)){if(r&&S)return{error:{code:"DataViewMappingError_ScatterYGroupedXCategoricalAxis"}};if(r&&!w)return{error:{code:"DataViewMappingError_ScatterYGroupedXNonScalar"}};t.rows.dataReductionAlgorithm={window:{count:200}};var N=_.remove(s.select,(function(e){return T.isBindMapping(e)&&e.bind.to.role===T.scatterRoleNames.series}));N.length;var N=N[0];N&&N.bind&&(t.columns={for:{in:N.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else f&&f.overlappingPointsSample?(N=P.DataViewObjects.getValue(a,T.cartesianChartProps.categoryAxis.axisScale),a=P.DataViewObjects.getValue(a,T.cartesianChartProps.valueAxis.axisScale),N===T.axisScale.log&&(f.overlappingPointsSample.x.transform=1),a===T.axisScale.log&&(f.overlappingPointsSample.y.transform=1),null!=v&&(f.overlappingPointsSample.count=v)):f&&f.sample&&null!=v&&(f.sample.count=v)}},e.getSortableRoles=function(e){if(_.find(e.dataViewMappings,(function(e){return e.matrix&&e.matrix.rows&&e.matrix.rows.dataReductionAlgorithm&&e.matrix.rows.dataReductionAlgorithm.window}))){var t=[T.scatterRoleNames.x,T.scatterRoleNames.y];return null!==(e=e.featureSwitches)&&void 0!==e&&e.sortLegend&&t.push(T.columnRoleNames.series),t}},e.getAdditionalTelemetry=function(e){return{hasSize:t.hasRoleInDataView(e,"Size"),hasPlayAxis:t.hasRoleInDataView(e,"Play")}},e.getNarrativeSummaryBindings=function(e){var t=_.first(e.dataViewMappings);return t&&t.matrix?T.NarrativeSummaryBinding.getScatterChartSummaryMatrixBindings(t.matrix,3):t&&t.categorical&&t.categorical.categories?T.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,3):{subjectKind:3,error:2,bindings:void 0}}})(powerbi=powerbi||{}),(function(o){var r;((r=o.visuals||(o.visuals={})).ShapePluginMethods||(r.ShapePluginMethods={})).getCustomizeConvertToOptions=function(e){var t;if("basicShape"===e)return{objects:((t={})[r.tileLibraryObjectNames.fill]=((e={})[r.tileLibraryObjectPropertyNames.fillColor]={transform:function(e){return null!=e?e:o.data.SQExprBuilder.color(null,"backgroundLight")},transformArgs:[{identifier:r.basicShapeProps.fill.fillColor}],targetSelector:{id:r.shapeInstanceId.default}},e[r.tileLibraryObjectPropertyNames.fillTransparency]={transformArgs:[{identifier:r.basicShapeProps.fill.transparency}],targetSelector:{id:r.shapeInstanceId.default}},e),t[r.tileLibraryObjectNames.outline]=((e={})[r.tileLibraryObjectPropertyNames.outlineColor]={transform:function(e){return null!=e?e:o.data.SQExprBuilder.themeDataColor(2,0)},transformArgs:[{identifier:r.basicShapeProps.line.lineColor}],targetSelector:{id:r.shapeInstanceId.default}},e[r.tileLibraryObjectPropertyNames.outlineWeight]={transform:function(e){return null!=e?e:o.data.SQExprBuilder.integer(3)},transformArgs:[{identifier:r.basicShapeProps.line.weight}],targetSelector:{id:r.shapeInstanceId.default}},e[r.tileLibraryObjectPropertyNames.outlineTransparency]={transformArgs:[{identifier:r.basicShapeProps.line.transparency}],targetSelector:{id:r.shapeInstanceId.default}},e),t[r.tileLibraryObjectNames.shape]=((e={})[r.tileLibraryObjectPropertyNames.tileShape]={transform:function(e){if(e&&o.data.SQExpr.isConstant(e)){var t;switch(e.value){case r.basicShapeType.rectangle:t=r.shapeType.shape.Rectangle;break;case r.basicShapeType.oval:t=r.shapeType.shape.Oval;break;case r.basicShapeType.line:t=r.shapeType.shape.Line;break;case r.basicShapeType.arrow:t=r.shapeType.shape.Arrow;break;case r.basicShapeType.triangle:t=r.shapeType.shape.TriangleIsoc;break;default:t=r.shapeType.shape.Rectangle}return o.data.SQExprBuilder.text(t)}},transformArgs:[{identifier:r.basicShapeProps.general.shapeType}]},e[r.tileLibraryObjectPropertyNames.shapeRounding]={transformArgs:[{identifier:r.basicShapeProps.line.roundEdge}]},e),t[r.shapeObjectNames.rotation]=((e={})[r.tileLibraryObjectPropertyNames.shapeRotation]={transform:function(e,t){if(void 0===e&&(e=o.data.SQExprBuilder.integer(0)),!t)return e;if(o.data.SQExpr.isConstant(e)&&o.data.SQExpr.isConstant(t)){var a,i=e.value;switch(t.value){case r.basicShapeType.line:a=(i+90)%360;break;case r.basicShapeType.arrow:a=(i+270)%360;break;default:a=i}return o.data.SQExprBuilder.integer(a)}},transformArgs:[{identifier:r.basicShapeProps.rotation.angle},{identifier:r.basicShapeProps.general.shapeType}]},e[r.shapeObjectPropertyNames.rotation]={transform:function(){}},e),t)}}})(powerbi=powerbi||{}),(function(s){var u,e,t;function c(e,t,a,i){var o,r,n;u.slicerMode.isRelativeSlicer(t)&&(n=u.slicerMode.convertModeToRelativeFilterType(t),(o=s.data.RelativeDateFilterPattern.extractParametersFromSemanticFilter(e,n))&&o.options?(r=u.slicerProps.data.relativeRange.objectName,u.slicerProps.data.relativeRange.objectName,u.slicerProps.data.relativeDuration.objectName,u.slicerProps.data.relativeRange.objectName,u.slicerProps.data.relativePeriod.objectName,t=u.relativeSlicerRelativeQualifier.toString(o.options.relativeQualifier),e=u.relativeSlicerPeriod.toString(o.options.relativeUnit),n=o.options.duration,null!=t&&null!=n&&null!=e||p(a,r),null==t&&null==n&&null==e||l(a,r),(n={})[u.slicerProps.data.relativeRange.propertyName]=t,n[u.slicerProps.data.relativeDuration.propertyName]=t===u.relativeSlicerRelativeQualifier.current?0:o.options.duration,n[i]=e,d(a,r,n),(function(e,t){var a=u.slicerProps.dateRange.includeToday.objectName;u.slicerProps.dateRange.includeToday.objectName,u.slicerProps.dateRange.anchorDate.objectName;var i={};t.includeTodayFromDefault||(i[u.slicerProps.dateRange.includeToday.propertyName]=t.includeToday);i[u.slicerProps.dateRange.anchorDate.propertyName]=t.anchorDate,d(e,a,i)})(a,o.options)):o&&o.options)}function l(e,t){e.merge=e.merge||[];t=a(e.merge,t);return e.merge[t]}function p(e,t){e.remove=e.remove||[];t=a(e.remove,t);return e.remove[t]}function d(e,t,a){var i,o=null,r=null;for(i in _.some(a,(function(e){return null==e}))&&(o=p(e,t)),_.some(a,(function(e){return null!=e}))&&(r=l(e,t)),a)null==a[i]?o.properties[i]=!0:r.properties[i]=a[i]}function a(e,t){var a=e.map((function(e){return e.objectName})).indexOf(t);return a<0&&(e.push({objectName:t,selector:null,properties:{}}),a=e.length-1),a}function m(e,t){var a,i=[];for(a in e.changes){var o,r={};for(o in e.changes[a])r[o]=e.changes[a][o];null!=t&&a===u.slicerProps.data.mode.objectName&&(r[u.slicerProps.data.mode.propertyName]=t),i.push({objectName:a,selector:null,properties:r})}return{merge:i}}function g(e){var t=null;return t=e?s.DataViewObjects.getValue(e,u.slicerProps.data.mode,t):t}function n(e,t,a){if(void 0===a&&(a=!1),1<e.length)return t===u.slicerMode.dropdown?u.slicerMode.dropdown:u.slicerMode.basic;e=e[0];if(!e.type)return t;if(e.parameter&&0===e.parameter.kind)t=null===t||u.slicerMode.isRelativeSlicer(t)?u.slicerMode.single:t;else{if(e.parameter&&1===e.parameter.kind)return null==t?u.slicerMode.basic:t;!0===e.type.dateTime?t=null===t||t===u.slicerMode.single?u.slicerMode.between:t:e.type.numeric?null===t?t=a?u.slicerMode.between:u.slicerMode.basic:!u.slicerMode.isRelativeSlicer(t)&&t!==u.slicerMode.single||(t=u.slicerMode.between):t!==u.slicerMode.basic&&t!==u.slicerMode.dropdown&&(t=u.slicerMode.basic)}return t}function y(e){return e.metadata?e.metadata.columns:null}u=s.visuals||(s.visuals={}),e=u.SlicerPluginMethods||(u.SlicerPluginMethods={}),t=s.data.DataViewObjectDefinitions,e.getSortableRoles=function(e){var t=e.dataViewMappings[0],e=y(t);return _.isEmpty(e)||null!==(t=n(e,t=g(t.metadata.objects)))&&!u.slicerMode.isRangeSlicerMode(t)&&!u.slicerMode.isRelativeSlicer(t)?[u.slicerRoles.value]:null},e.mergeObjects=function(e){var t,a,i,o=(i=g((a=e).objects),a=g(a.changes),(i===u.slicerMode.basic&&a===u.slicerMode.dropdown||i===u.slicerMode.dropdown&&a===u.slicerMode.basic)&&i!==a&&i?{merge:!0,mode:i}:{merge:!1,mode:a||i}),r=e.changes&&e.changes[u.slicerProps.general.filter.objectName],n=r&&r[u.slicerProps.general.filter.propertyName];if(null==n)return o.merge?m(e,o.mode):null;var l=m(e,o.mode);return u.slicerMode.isRangeSlicerMode(o.mode)?(t=n,a=o.mode,i=l,u.slicerMode.isRangeSlicerMode(a)&&((r=s.data.RangeFilterPattern.extractParametersFromSemanticFilter(t))&&r.options?(e=u.slicerProps.data.numericStart.objectName,u.slicerProps.data.numericStart.objectName,u.slicerProps.data.numericEnd.objectName,u.slicerProps.data.numericStart.objectName,u.slicerProps.data.startDate.objectName,u.slicerProps.data.numericStart.objectName,u.slicerProps.data.endDate.objectName,t={},_.isNumber(r.options.min)||_.isNumber(r.options.max)?(t[u.slicerProps.data.numericStart.propertyName]=r.options.min,a!==u.slicerMode.single&&(t[u.slicerProps.data.numericEnd.propertyName]=r.options.max),d(i,e,t)):(_.isDate(r.options.min)||_.isDate(r.options.max))&&(t[u.slicerProps.data.startDate.propertyName]=r.options.min,t[u.slicerProps.data.endDate.propertyName]=r.options.max,d(i,e,t))):r&&r.options)):o.mode===u.slicerMode.relativeDate?c(n,o.mode,l,u.slicerProps.data.relativePeriod.propertyName):o.mode===u.slicerMode.relativeTime&&c(n,o.mode,l,u.slicerProps.data.relativeTimePeriod.propertyName),l},e.customizeQuery=function(e){if((e=e.dataViewMappings[0])&&e.metadata){var a=y(e);if(e.matrix){var t=e.matrix.rows.for.in.items;if(!_.isEmpty(t))for(var i=0,o=t;i<o.length;i++)!(function(t){if(!_.find(a,(function(e){return e.queryName===t.queryName})))return;t.subtotalType=1})(o[i])}t=g(e.metadata.objects);if(!_.isEmpty(a)){if((t=n(a,t))===u.slicerMode.single){var r=e.categorical&&e.categorical.categories;return void(r&&(r.dataReductionAlgorithm={sample:{}}))}u.slicerMode.slicerModeSupportsMinMax(t)&&(r=e.categorical.categories.for.in.items,e.categorical.categories=null,e.categorical.values={bind:{to:{role:u.slicerRoles.value,aggregates:{min:!0,max:!0},items:r}}})}u.slicerMode.isRelativeSlicer(t)&&(e.updateType=2),t===u.slicerMode.dropdown&&(function(e){if(e)if(s.DataViewObjects.getValue(e,u.slicerProps.selection.strictSingleSelect,!1)){var t=null,a=!1;return t=s.DataViewObjects.getValue(e,u.slicerProps.general.filter,null),a=s.DataViewObjects.getValue(e,u.slicerProps.data.isInvertedSelectionMode,!1),null!=t&&!a}return!0})(e.metadata.objects)&&(e.updateType=1)}},e.customizeVisualAuthoringOperations=function(e){var t=e.objects,a=g(t),e=y(e.dataViewMappings[0]);if(!_.isEmpty(e)){var i,a=n(e,a,!0),o=t&&t[u.slicerProps.data.mode.objectName],r={};for(i in o=o||{})r[i]=o[i];return r[u.slicerProps.data.mode.propertyName]=a,{replace:[{objectName:u.slicerProps.data.mode.objectName,selector:null,properties:r}]}}},e.getSlicerModeDefinition=function(e){return e&&t.getValue(e,u.slicerProps.data.mode,void 0)},e.getValidatedSlicerMode=n,e.isCrossFilteredByDefault=function(e){var t=e.dataViewMappings[0];return!(!t||!t.metadata)&&(e=g(t.metadata.objects),t=y(t),_.isEmpty(t)||(e=n(t,e)),u.slicerMode.isRangeSlicerMode(e))}})(powerbi=powerbi||{}),(function(e){var a;a=e.visuals||(e.visuals={}),(e=a.TablePluginMethods||(a.TablePluginMethods={})).customizeQuery=function(e){var t=e.dataViewMappings[0];t&&t.table&&t.metadata&&(e=t.table.rows,t=t.metadata.objects,e.for.in.subtotalType=a.TablixProperties.PropGeneralTableTotals.getValue(t)?1:0)},e.getSortableRoles=function(e){return["Values"]}})(powerbi=powerbi||{}),(function(e){var o;o=e.visuals||(e.visuals={}),(e=o.TableExPluginMethods||(o.TableExPluginMethods={})).customizeQuery=function(e){var t,a,i=e.dataViewMappings[0];i&&i.table&&i.metadata&&(a=(t=i.table.rows).for.in.items,_.some(a,(function(e){return!(null===(e=null===(e=e.type)||void 0===e?void 0:e.misc)||void 0===e||!e.sparkline)}))&&(i.table.rows.dataReductionAlgorithm.window.count=100),e=i.metadata.objects,t.for.in.subtotalType=o.TablixProperties.PropTotalTableExTotals.getValue(e)?1:0,o.customizeSparklineInfo(i,a))},e.getSortableRoles=function(e){return["Values"]}})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),(e=t.WaterfallChartPluginMethods||(t.WaterfallChartPluginMethods={})).customizeQuery=function(e){(e=e.dataViewMappings[0])&&e.matrix&&((e=e.matrix).columns&&e.columns.for&&e.columns.for.in&&(e.columns.for.in.subtotalType=1))},e.getSortableRoles=function(e){return[t.waterfallRoleNames.category,t.waterfallRoleNames.y,t.waterfallRoleNames.tooltips]}})(powerbi=powerbi||{}),(function(e){var i;((i=e.visuals||(e.visuals={})).AxisViewModel||(i.AxisViewModel={})).createAxisLabel=function(e,t,a){return e?e===i.axisStyle.showBoth?t+" ("+a+")":e===i.axisStyle.showUnitOnly?a:t:t}})(powerbi=powerbi||{}),(function(E){!(function(I){var e,h=I.Units.FontSize;function H(e){this.AxisDataDefaults={show:!0,position:I.yAxisPosition.left,alignZeros:!1,showAxisTitle:!1,includeDomains:void 0,axisType:void 0,axisScale:I.DEFAULT_AXIS_SCALE_TYPE,axisStyle:I.axisStyle.showTitleOnly,labelDisplayUnits:0,labelPrecision:I.DataLabelViewModel.defaultLabelPrecision,titleText:void 0,preferredCategoryWidth:I.CartesianHelper.MinOrdinalRectThickness,maxMarginFactor:I.CartesianAxes.DefaultMaxMarginFactor,concatenateLabels:I.CartesianHelper.DefaultConcatenateLabelsValue,labelFontProperties:{color:void 0,family:I.CartesianHelper.DefaultAxisFontFamily,size:h.createFromPt(I.CartesianHelper.DefaultAxisFontSizeInPt),style:void 0,variant:void 0,weight:void 0,whiteSpace:void 0,textDecoration:void 0},titleFontProperties:void 0,axisLabel:void 0,logAxisScale:void 0,gridlineShow:void 0,gridlineColor:void 0,gridlineStyle:I.lineStyle.solid,gridlineThickness:1,innerPadding:void 0,invertAxis:!1,totalsEnabled:!0,switchAxisPosition:!1};var t=e.valueAxisProperties,a=e.y2AxisProperties,i=e.categoryAxisProperties,o=e.isYCategorical,r=e.isValueAxisDisabled,n=e.isScatter,l=e.isComboChart,s=e.style,u=e.hasY2Role,c=e.forceShowY2,p=e.show,d=e.seriesMaximumWidth,m=e.seriesPosition,g=e.isLineComboChart,y=e.defaultSeriesWidth;this.isCategoryAxisSet=!!i,this.isValueAxisSet=!!t,this.isValueAxisDisabled=r;e=o?t:i,i=o?i:t,t=l?t:a,a=_.clone(this.AxisDataDefaults);a.gridlineShow=o||n,a.innerPadding=o||n?void 0:I.DefaultInnerPaddingRatio;n=_.clone(this.AxisDataDefaults);n.gridlineShow=!o,n.innerPadding=o?I.DefaultInnerPaddingRatio:void 0,this.x=H.createSingleAxisFromObject(e,a,s),this.y=H.createSingleAxisFromObject(i,n,s),this.categoryAxis=o?this.y:this.x,this.valueAxis=o?this.x:this.y;n=_.clone(this.AxisDataDefaults);n.show=c&&u||(l?void 0:u),n.position=I.yAxisPosition.right,n.labelFontProperties=(o?this.x:this.y).labelFontProperties,n.showAxisTitle=(o?this.x:this.y).showAxisTitle,n.switchAxisPosition=!0,this.y2=H.createSingleAxisFromObject(t,n,s,!0,l),this.y2.hasY2Role=u,this.secondaryValueAxis=this.y2,this.show=p,this.seriesMaximumWidth=d,this.isLineComboChart=g,this.defaultSeriesWidth=y,this.seriesPosition=m,this.isComboChart=l,this.hasY2Role=u,r&&(this.valueAxis.show=!1,this.valueAxis.showAxisTitle=!1)}e=I.AxisDataModel||(I.AxisDataModel={}),H.createDefault=function(e){return new H({isYCategorical:!1,isValueAxisDisabled:!1,isScatter:!1,isComboChart:!1,style:e})},H.createSingleAxisFromObject=function(e,t,a,i,o){var r=E.DataViewObject.getValue,n=i?function(e){return _.camelCase("sec "+e.propertyName)}:function(e){return e.propertyName},l=I.cartesianChartProps.valueAxis,s=I.ColorHelper.create(a),u=I.cartesianChartProps.categoryAxis,c=r(e,o?n(l.show):l.show.propertyName,t.show),p=r(e,n(l.alignZeros),t.alignZeros),d=r(e,n(l.showAxisTitle),t.showAxisTitle),m=_.filter(t.includeDomains,(function(e){return _.includes(e.domainSources,10)})),g=I.AxisHelper.mergeScalarAxisDomains.apply(I.AxisHelper,m||[]),y=g&&g.domain,h=r(e,n(l.start),y&&y[0]),b=r(e,n(l.end),y&&y[1]),f=r(e,n(l.invertAxis),t.invertAxis),v=r(e,n(l.totalsEnabled),t.totalsEnabled),S=r(e,n(l.position),t.position),C=r(e,n(l.switchAxisPosition),t.switchAxisPosition),x=r(e,n(l.axisType),t.axisType),w=r(e,n(l.axisScale),t.axisScale),N=r(e,n(l.axisStyle),t.axisStyle),P=r(e,n(l.labelDisplayUnits),t.labelDisplayUnits),T=r(e,n(l.labelPrecision),t.labelPrecision);(null==T||T<0)&&(T=t.labelPrecision);var D=r(e,n(l.titleText),t.titleText),V=r(e,n(l.preferredCategoryWidth),t.preferredCategoryWidth),L=r(e,n(u.maxMarginFactor),t.maxMarginFactor);1<=L&&(L/=100);var M=r(e,n(l.concatenateLabels),t.concatenateLabels),R=r(e,n(l.axisLabel)),A=r(e,n(l.logAxisScale),t.logAxisScale),k=r(e,n(l.gridlineShow),t.gridlineShow||!1===M),j=r(e,n(l.gridlineStyle),t.gridlineStyle),F=s.getColorForPropertyName(e,n(l.gridlineColor),H.getGridlineDefaultColorFromGridlineStyle(j)),O=r(e,n(l.gridlineThickness),t.gridlineThickness),z=r(e,n(u.innerPadding),t.innerPadding);1<=z&&(z/=100);i=r(e,n(l.bold),!1),o=r(e,n(l.italic),!1),m=r(e,n(l.underline),!1),g=r(e,n(l.titleBold),!1),y=r(e,n(l.titleItalic),!1),u=r(e,n(l.titleUnderline),!1),r={family:n(l.fontFamily),size:n(l.fontSize),color:n(l.labelColor),sizeInPixels:!1,bold:n(l.bold),italic:n(l.italic),underline:n(l.underline)},t=I.FontProperties.createFromObjectOrStyle(e,r,s,a,t.labelFontProperties.color?void 0:I.CartesianHelper.DefaultAxisFontColorName,"smallLightLabel",t.labelFontProperties);r.family=n(l.titleFontFamily),r.size=n(l.titleFontSize),r.color=n(l.titleColor),r.bold=n(l.titleBold),r.italic=n(l.titleItalic),r.underline=n(l.titleUnderline);var B,r=I.FontProperties.createFromObjectOrStyle(e,r,s,a,void 0,"title",t),s=void 0!==h,a=void 0!==b;return{show:c,alignZeros:p,showAxisTitle:d,includeDomains:B=s||a?[I.AxisHelper.createScalarDomainOptions([h,b],10,[s,a])]:B,position:S,axisType:x,axisScale:w,axisStyle:N,labelDisplayUnits:P,labelPrecision:T,titleText:D,preferredCategoryWidth:V,maxMarginFactor:L,concatenateLabels:M,labelFontProperties:t,titleFontProperties:r,axisLabel:R,logAxisScale:A,gridlineShow:k,gridlineColor:F,gridlineThickness:O,gridlineStyle:j,innerPadding:z,invertAxis:f,totalsEnabled:v,labelBold:i,labelItalic:o,labelUnderline:m,titleBold:g,titleItalic:y,titleUnderline:u,switchAxisPosition:C}},H.getGridlineDefaultColorFromGridlineStyle=function(e){switch(e){case I.lineStyle.dashed:case I.lineStyle.solid:return I.CartesianHelper.DefaultGridlineColorName;case I.lineStyle.dotted:return I.CartesianHelper.DefaultGridlineDottedColorName;default:return I.CartesianHelper.DefaultGridlineColorName}},e.AxesData=H,e.toColorFill=function(e){return{solid:{color:e}}}})(E.visuals||(E.visuals={}))})(powerbi=powerbi||{}),(function(R){!(function(D){var y=jsCommon.BrowserUtils,i=jsCommon.DOMConstants,e=jsCommon.CssConstants.createClassAndSelector,e=(b.prototype.getScrollableRegion=function(){return this.axisGraphicsContextScrollable},b.prototype.getLabelsRegion=function(){return this.labelRegion},b.prototype.getSeriesLabelsRegion=function(){return this.labelSeriesRegion},b.prototype.getLabelBackground=function(){return this.labelBackgroundRegion},b.prototype.getLabelsContainers=function(){return{foreground:this.labelRegion,background:this.labelBackgroundRegion}},b.prototype.getSeriesLabelsContainers=function(){return{seriesForeground:this.labelSeriesRegion,seriesBackground:this.labelSeriesBackgroundRegion}},b.prototype.update=function(e){this.axesData=e},b.prototype.init=function(e,t){this.axesData=t;var a=this.axesData.useManagedTabIndex,t=this.axisGraphicsContext=e.append("g").classed(b.AxisGraphicsContext.class,!0);this.svgScrollable=e.append("svg").classed("svgScrollable",!0).style("overflow","hidden");e=this.axisGraphicsContextScrollable=this.svgScrollable.append("g").classed(b.AxisGraphicsContext.class,!0);this.labelBackgroundRegion=this.svgScrollable.append("g").classed(D.DataLabelViewModel.labelBackgroundGraphicsContextClass.class,!0),this.labelRegion=this.svgScrollable.append("g").classed(D.DataLabelViewModel.labelGraphicsContextClass.class,!0),this.labelSeriesBackgroundRegion=this.svgScrollable.append("g").classed(D.DataLabelViewModel.labelSeriesBackgroundGraphicsContextClass.class,!0),this.labelSeriesRegion=this.svgScrollable.append("g").classed(D.DataLabelViewModel.labelSeriesGraphicsContextClass.class,!0),this.axes.isYAxisCategorical?(this.y1AxisGraphicsContext=e.append("g").attr("class","y axis").attr("data-automation-type","y axis").classed(D.managedTabIndexElement.class,a).attr(i.skipChildrenFocusAttribute,a),this.y2AxisGraphicsContext=e.append("g").attr("class","y axis").attr("data-automation-type","y2 axis"),this.xAxisGraphicsContext=t.append("g").attr("class","x axis").attr("data-automation-type","x axis")):(this.y1AxisGraphicsContext=t.append("g").attr("class","y axis").attr("data-automation-type","y axis"),this.y2AxisGraphicsContext=t.append("g").attr("class","y axis").attr("data-automation-type","y2 axis"),this.xAxisGraphicsContext=e.append("g").attr("class","x axis").attr("data-automation-type","x axis").classed(D.managedTabIndexElement.class,a).attr(i.skipChildrenFocusAttribute,a))},b.updateTickTooltips=function(e,t){var i=t.axis.tickValues(),o=b.getTickFormatter(t.axis);e.selectAll("text").each((function(e){var t=d3.select(this),a=i.indexOf(e);a<0||t.append("title").text(o(e,a))}))},b.getTickFormatter=function(e){return e.tickFormat()||b.defaultTickFormat},b.defaultTickFormat=function(e){return""+e},b.prototype.renderXAxis=function(e){var t=e.graphicsElement,a=e.layout,i=e.fontProperties,o=e.axisProps,r=e.duration,n=e.easing,l=e.labelColor,s=e.isStacked,u=e.height,c=e.gridlineOptions,p=e.useManagedTabIndex,d=a.margin,m=!!r&&e.animate,g=a.plotArea,y=!D.AxisHelper.isScaleBand(o.scale);(y?o.axis.tickSizeInner(-g.height):o.axis.tickSizeInner(0)).tickSizeOuter(0),o.axis=D.AxisHelper.orient(t,o.axis,"bottom"),o.willLabelsFit||y||o.axis.tickPadding(b.TickPaddingRotatedX),(m?t.transition().duration(r).ease(n):t).call(o.axis),t.call(b.darkenZeroLine,y).call(b.setAxisLabelColor,l).call(b.styleGridlines,c),s&&(b.removeUnwantedLines(t,l=o),_.isEmpty(o.xLabelMaxWidths)?t.selectAll("g.tick").selectAll("line").remove():(b.centerHierarchyTicks(t,l),b.styleHierarchyTicks(t,l,c))),2!==e.renderMode?((c=t.selectAll("text")).styles(D.FontProperties.toSVGStyle(i)),o.willLabelsWordBreak?c.call(D.AxisHelper.LabelLayoutStrategy.wordBreak,o,u):c.call(D.AxisHelper.LabelLayoutStrategy.rotate,{textTruncator:R.TextMeasurementService.getTailoredTextOrDefault,textProperties:D.FontProperties.toTextProperties(i),needRotate:!o.willLabelsFit&&!y,needEllipsis:!0,axisProperties:o,margin:d,rotate90:a.isXScrollBarVisible||a.isYScrollBarVisible||!o.willLabelsFit&&(!!s||a.rotateXTickLabels90),firstVisibleNode:e.firstVisibleNode,rotationPadding:D.CartesianHelper.TickLabelPadding,height:u}),b.updateTickTooltips(t,o),u=o.categoryIdentities,this.axes.interactivityService&&!this.axes.isYAxisCategorical&&u&&(y?this.removeFocusAbility(t):this.renderCategoricalInteractivity(t,o,u,p))):t.call((function(e){return e.selectAll(".tick text").remove()}))},b.prototype.renderHierarchicalAxis=function(e,r,n,l,s,u){var t=r.axes,c=r.tickLabelMargins;this.axisGraphicsContextScrollable.selectAll(".x.axis > .tick").remove(),t.x.categoryIdentities&&(i=y.isInternetExplorerOrEdge(),e.attr("tabindex",0).attr("focusable",!0).attr("aria-label",t.x.axisLabel).classed(D.SetFocusRingClassName,!i));var a=e.selectAll(".stack").data(t.xStack),i=a.enter().append("g").classed("showLinesOnAxis",s.show).classed("hideLinesOnAxis",!s.show).classed("stack",!0).merge(a);a.exit().remove();var p=t.xStack.length,d=x.getLeafHeight(c.xMax,c.stackHeight,p),m=n.size.pt<=D.CartesianHelper.DefaultAxisFontSizeInPt?r.marginLimits.bottom:d,g=this;i.each((function(e,t){var a=0,i=0===t;i||(a=d+(t-1)*c.stackHeight);var o=d3.select(this);o.attr("transform",D.SVGUtil.translate(0,a));a=p-t,t=e.scale.domain()[0],a=D.HierarchyNodeHelpers.getNodeAtCategoryIndexForDepth(e.rootNode,t,a),i={graphicsElement:o,axisProps:e,layout:r,labelColor:l,duration:void 0,easing:void 0,fontProperties:n,isStacked:!0,firstVisibleNode:a,height:i?m:c.stackHeight,animate:!1,gridlineOptions:s,renderMode:u};g.renderXAxis(i)})),this.categoryAxisGraphicsContext=e},b.prototype.removeHierarchicalAxis=function(e){e.selectAll(".stack").remove()},b.prototype.renderCategoricalInteractivity=function(e,t,i,a){this.categoryAxisGraphicsContext=e;var o=D.AxisHelper.isStackedAxisProperties(t),r=y.isInternetExplorerOrEdge();o||(e.attr("aria-label",t.axisLabel),a||e.attr("tabindex",0).attr("focusable",!0).classed(D.SetFocusRingClassName,!r));for(var n=D.AxisHelper.isStackedAxisProperties(t)?t.adjustedValues:t.values,l=D.AxisHelper.isStackedAxisProperties(t)?t.categoryHierarchyPointers:[],t=t.axis.tickValues(),s=_.map(t,(function(e,t){var a;0!==t||_.isEmpty(l)||(a=e,e=_.findLastIndex(l,(function(e){return!!e}),e));t=l[e];return{value:n[e],selected:!1,categoryIndex:t?t.categoryIndex:e,adjustedCategoryIndex:a,seriesIndex:t?t.seriesIndex:0,identity:i[e]?i[e]():void 0}})),u=0,c=0,p=i.length;c<p;c++){var d=s[u];d&&d.categoryIndex===c?(d.value!==x.hierarchyPlaceholder&&this.categoryDataPoints.push(d),u++):(d=l[c],o&&!d||this.categoryDataPoints.push({value:void 0,categoryIndex:d?d.categoryIndex:c,seriesIndex:d?d.seriesIndex:0,selected:!1,identity:void 0}))}e.selectAll(".tick").data(s,(function(e){return(null!=e.adjustedCategoryIndex?e.adjustedCategoryIndex:null!=e.categoryIndex?e.categoryIndex:e).toString()})).select("text").each((function(e,t){e.value===x.hierarchyPlaceholder||d3.select(this).attr("tabindex",0).attr("focusable",!0).attr("data-automation-type","axis-tick-text").classed(D.SetFocusRingClassName,!r).selectAll("tspan").datum(e)}))},b.prototype.renderY1Axis=function(e,t,a,i,o,r,n,l,s){var u=this.axes.getYAxisPoistion(s),c=e.plotArea,s=this.getAxisRenderMode(n,e.axes.y1,e.shouldRenderAxis.y,r.show),n=D.AxisDataModel.toColorFill(this.axesData.y.labelFontProperties.color);this.renderYAxis(e,e.axes.y1,this.y1AxisGraphicsContext,t,a,i,n,o,r,u,-c.width,!0,s,l)},b.prototype.renderYAxisWithGridLinesOnly=function(e,t,a,i){var o=!D.AxisHelper.isScaleBand(t.axis.scale());this.updateYAxisGraphicContext(e,t,a,o,i),e.call((function(e){return e.selectAll(".tick text").remove()})),this.removeFocusAbility(e)},b.prototype.removeFocusAbility=function(e){e.attr("tabindex",null).attr("focusable",null)},b.prototype.clearGraphicContext=function(e){e.selectAll("*").remove()},b.prototype.renderY2Axis=function(e,t,a,i,o,r,n,l,s){var u=this.getAxisRenderMode(n,e.axes.y2,e.shouldRenderAxis.y2,r.show),c=D.AxisDataModel.toColorFill(this.axesData.y2.labelFontProperties.color),n=b.Y2TickSize,s=this.axes.getY2AxisPosition(s);this.renderYAxis(e,e.axes.y2,this.y2AxisGraphicsContext,t,a,i,c,o,r,s,n,!1,u,l)},b.prototype.getAxisRenderMode=function(e,t,a,i){return t?e&&i?2:a?1:0:0},b.prototype.renderYAxis=function(e,t,a,i,o,r,n,l,s,u,c,p,d,m){var g,y,h;0!==d?(h=(g=u===D.yAxisPosition.right)?e.tickPadding.right:e.tickPadding.left,(y=!D.AxisHelper.isScaleBand(t.axis.scale()))?t.axis.tickSize(c).tickPadding(h):t.axis.tickSize(D.AxisHelper.DefaultInnerTickSize),2!==d?(d=e.marginLimits,e=e.tickLabelMargins,d=d.left,this.updateYAxisGraphicContext(a,t,s,y,u,o,n,!!i&&l,i,r),r=a.selectAll("text"),(g?e.yRight>=d:e.yLeft>=d)&&r.call(D.AxisHelper.LabelLayoutStrategy.clip,d-h,R.TextMeasurementService.svgEllipsis),b.updateTickTooltips(a,t),d=t.categoryIdentities,h=this.axes.interactivityService,p&&h&&this.axes.isYAxisCategorical&&d&&(y?this.removeFocusAbility(a):this.renderCategoricalInteractivity(a,t,d,m))):s.show&&this.renderYAxisWithGridLinesOnly(a,t,s,u)):this.clearGraphicContext(a)},b.prototype.updateYAxisGraphicContext=function(e,t,a,i,o,r,n,l,s,u){t.axis=D.AxisHelper.orient(e,t.axis,o.toLowerCase()),(l&&s&&u?e.transition().duration(s).ease(u):e).call(t.axis),e.call(b.darkenZeroLine,i).call(b.styleGridlines,a),r&&e.styles(D.FontProperties.toSVGStyle(r)),n&&e.call(b.setAxisLabelColor,n)},b.prototype.renderAxes=function(e){e.axesLayout;var t,a,i,o,r=e.axesLayout,n=e.animateCategoryAxis,l=e.animateValueAxis,s=e.axesFontProperties,u=e.duration,c=e.easing,p=e.featureSwitches,d=r.viewport,m=r.margin,g=r.axes,y=r.axisLabels,h=null==y.x,b=this.axesData&&this.axesData.x,f=this.axesData&&this.axesData.y,v=this.axesData&&this.axesData.y2;this.categoryDataPoints=[],this.categoryAxisGraphicsContext=void 0,g.x?(t=D.AxisDataModel.toColorFill(b.labelFontProperties.color),S={show:(!D.AxisHelper.isScaleBand(g.x.scale)||!_.isEmpty(g.xStack))&&b.gridlineShow,color:D.AxisDataModel.toColorFill(b.gridlineColor),thickness:b.gridlineThickness,style:b.gridlineStyle},0!==(C=this.getAxisRenderMode(e.shouldRenderGridLinesOnly,g.x,r.shouldRenderAxis.x,S.show))?(a=this.xAxisGraphicsContext,_.isEmpty(g.xStack)?(this.removeHierarchicalAxis(a),i=((o=s.x.tickLabels.size.pt<=D.CartesianHelper.DefaultAxisFontSizeInPt)?r.marginLimits:m).bottom,o||h||(i-=R.TextMeasurementService.estimateSvgTextHeight(D.FontProperties.toTextProperties(s.x.tickLabels))+x.XAxisLabelPadding),o=g.x.isCategoryAxis,o={graphicsElement:a,axisProps:g.x,layout:r,labelColor:t,duration:u,easing:c,fontProperties:s.x.tickLabels,isStacked:!1,height:i,animate:l&&!o,gridlineOptions:S,renderMode:C,useManagedTabIndex:e.useManagedTabIndex},this.renderXAxis(o)):this.renderHierarchicalAxis(a,r,s.x.tickLabels,t,S,C)):this.xAxisGraphicsContext.selectAll("*").remove()):this.xAxisGraphicsContext.selectAll("*").remove();var S={show:!D.AxisHelper.isScaleBand(g.y1.scale)&&f.gridlineShow,color:D.AxisDataModel.toColorFill(f.gridlineColor),thickness:f.gridlineThickness,style:f.gridlineStyle},C=null===(C=g.y1)||void 0===C?void 0:C.isCategoryAxis;this.renderY1Axis(r,u,s.y.tickLabels,c,n&&C||l&&!C,S,e.shouldRenderGridLinesOnly,e.useManagedTabIndex,e.featureSwitches);C=null===(C=g.y2)||void 0===C?void 0:C.isCategoryAxis;if(this.renderY2Axis(r,u,s.y2.tickLabels,c,n&&C||l&&!C,S,e.shouldRenderGridLinesOnly,e.useManagedTabIndex,e.featureSwitches),(null!=y.x||null!=y.y||null!=y.y2)&&!e.shouldRenderGridLinesOnly?(c=null==y.y,n=null==y.y2,S=C=l=void 0,l=D.AxisDataModel.toColorFill(b.titleFontProperties.color),C=D.AxisDataModel.toColorFill(f.titleFontProperties.color),S=D.AxisDataModel.toColorFill(v.titleFontProperties.color),this.renderAxesTitles({axisLabels:y,viewport:d,margin:m,hideXAxisTitle:h,hideYAxisTitle:c,hideY2AxisTitle:n,xLabelColor:l,yLabelColor:C,y2LabelColor:S,axesFontProperties:s,featureSwitches:p})):(this.axisGraphicsContext.selectAll(".xAxisLabel").remove(),this.axisGraphicsContext.selectAll(".yAxisLabel").remove()),this.valueGridlines=this.axisGraphicsContext.selectAll("g.tick line"),this.translateAxes(r,e.featureSwitches),this.axes.interactivityService&&this.categoryAxisGraphicsContext){r={root:this.categoryAxisGraphicsContext,ticks:this.categoryAxisGraphicsContext.selectAll(".tick")};return{dataPoints:this.categoryDataPoints,behaviorOptions:r,navigationOptions:{helper:this,navigationStrategy:g.xStack?D.DataPointNavigationStrategy.SeriesFirst:D.DataPointNavigationStrategy.CategoryOnly,disabled:e.disableKeyboardNavigation},animateLabels:!1,labelDataPointGroups:[],labelDataPoints:[],labelOrientation:void 0,labelsAreNumeric:void 0,labelDataPointSeriesGroups:[]}}},b.prototype.getFirstElement=function(){return{element:this.categoryAxisGraphicsContext&&this.categoryAxisGraphicsContext.selectAll(".tick text").node()}},b.prototype.getNextDataPoint=function(t,a,e){var i;if(_.isEmpty(this.categoryDataPoints))return{element:this.categoryAxisGraphicsContext.select(".tick text").node(),targetCategoryIndex:0};switch(e){case D.DataDirection.PreviousCategory:case D.DataDirection.NextCategory:var o=e===D.DataDirection.PreviousCategory?-1:1,r=_.filter(this.categoryDataPoints,(function(e){return e.seriesIndex===a})),n=o+_.findIndex(r,(function(e){return e.categoryIndex===t}));n>=r.length||n<0?(i=this.rollToNextSeries(a,e),t=i[0],a=i[1]):t=r[n].categoryIndex;break;case D.DataDirection.PreviousSeries:case D.DataDirection.NextSeries:o=e===D.DataDirection.PreviousSeries?-1:1,r=_.filter(this.categoryDataPoints,(function(e){return e.categoryIndex===t}));n=o+_.findIndex(r,(function(e){return e.seriesIndex===a}));a=n>=r.length||n<0?(o=this.findNearestSeries(t,a,e),t=o[0],o[1]):r[n].seriesIndex}return{element:this.categoryAxisGraphicsContext.selectAll(".tick text").filter((function(e){return(!e.adjustedCategoryIndex||e.adjustedCategoryIndex===e.categoryIndex)&&e.categoryIndex===t&&e.seriesIndex===a})).node(),targetCategoryIndex:t}},b.prototype.rollToNextSeries=function(t,e){e===D.DataDirection.PreviousCategory||D.DataDirection.NextCategory;var a=e===D.DataDirection.PreviousCategory?-1:1,i=e===D.DataDirection.PreviousCategory?_.last:_.first,e=_.maxBy(this.categoryDataPoints,(function(e){return e.seriesIndex})).seriesIndex+1;return e<=(t+=a)?t=0:t<0&&(t=e-1),[i(_.filter(this.categoryDataPoints,(function(e){return e.seriesIndex===t}))).categoryIndex,t]},b.prototype.findNearestSeries=function(e,t,a){a===D.DataDirection.PreviousSeries||D.DataDirection.NextSeries;var i=_.maxBy(this.categoryDataPoints,(function(e){return e.seriesIndex})).seriesIndex+1,a=a===D.DataDirection.PreviousSeries?-1:1;(t=i<=(t+=a)?0:t)<0&&(t=i-1);i=_.filter(this.categoryDataPoints,(function(e){return e.seriesIndex===t}));return[e=i[_.sortedLastIndexBy(i,{categoryIndex:e},(function(e){return e.categoryIndex}))-1].categoryIndex,t]},b.prototype.renderAxesTitles=function(e){e.viewport,e.axisLabels,this.axisGraphicsContext.selectAll(".xAxisLabel").remove(),this.axisGraphicsContext.selectAll(".yAxisLabel").remove();function t(e,t){return R.TextMeasurementService.svgEllipsis(e,t,a)}var a,i,o,r,n,l,s,u=e.margin,c=e.viewport.width-(u.left+u.right),p=e.viewport.height-u.top,d=this.axes.shouldShowY1OnRight(e.featureSwitches),m=e.axesFontProperties,g=e.axisLabels;e.hideXAxisTitle||(n=m.x.title,s=g.x,a=D.FontProperties.toTextProperties(n,s),i=R.TextMeasurementService.estimateSvgTextBaselineDelta(a),(r=this.axisGraphicsContext.append("text").style("text-anchor","middle").styles(D.FontProperties.toSVGStyle(n)).text(s).call((function(e){e.each((function(){d3.select(this).attrs({class:"xAxisLabel",transform:D.SVGUtil.translate(c/2,p-i)})}))}))).style("fill",e.xLabelColor?e.xLabelColor.solid.color:null),r.call(D.AxisHelper.LabelLayoutStrategy.clip,c,t).call(D.tooltipUtils.tooltipUpdate,[e.axisLabels.x])),e.hideYAxisTitle||(n=m.y.title,s=g.y,a=D.FontProperties.toTextProperties(n,s),o=R.TextMeasurementService.estimateSvgTextHeight(a),(r=this.axisGraphicsContext.append("text").style("text-anchor","middle").styles(D.FontProperties.toSVGStyle(n)).text(s).call((function(e){e.each((function(){d3.select(this).attrs({class:"yAxisLabel",transform:"rotate(-90)",y:d?c+u.right-o-x.YAxisLabelPadding+3:-(u.left+3),x:-(p-u.bottom)/2,dy:"1em"})}))}))).style("fill",e.yLabelColor?e.yLabelColor.solid.color:null),r.call(D.AxisHelper.LabelLayoutStrategy.clip,p-u.bottom,t).call(D.tooltipUtils.tooltipUpdate,[e.axisLabels.y])),!e.hideY2AxisTitle&&e.axisLabels.y2&&(n=m.y2.title,s=g.y2,a=D.FontProperties.toTextProperties(n,s),l=R.TextMeasurementService.estimateSvgTextHeight(a),(s=this.axisGraphicsContext.append("text").style("text-anchor","middle").styles(D.FontProperties.toSVGStyle(n)).text(s).call((function(e){e.each((function(){d3.select(this).attrs({class:"yAxisLabel",transform:"rotate(-90)",y:d?-(u.left+3):c+u.right-l-x.YAxisLabelPadding+3,x:-(p-u.bottom)/2,dy:"1em"})}))}))).style("fill",e.y2LabelColor?e.y2LabelColor.solid.color:null),s.call(D.AxisHelper.LabelLayoutStrategy.clip,p-u.bottom,t).call(D.tooltipUtils.tooltipUpdate,[e.axisLabels.y2]))},b.prototype.translateAxes=function(e,t){var a=e.viewport,i=e.margin,o=a.width-(i.left+i.right),r=a.height-(i.top+i.bottom),n=this.axesData,l=n.seriesMaximumWidth,s=n.seriesPosition,u=n.show,c=n.defaultSeriesWidth,p=n.isComboChart,n=n.hasY2Role,n=p&&!n?0:1,u=(l=null!=c?Math.min(Math.max(1,100*c/o),50):l)&&u&&n?l/100*o:0,n=s&&s===D.labelSeriesPosition.right?1:0,l=n?i.left:i.left+u,s=n?0:u,t=this.axes.shouldShowY1OnRight(t);this.xAxisGraphicsContext.attr("transform",D.SVGUtil.translate(0,r)),this.y1AxisGraphicsContext.attr("transform",D.SVGUtil.translate(t?o:0,0)),this.y2AxisGraphicsContext.attr("transform",D.SVGUtil.translate(t?0:o,0)),this.svgScrollable.attrs({x:0,width:a.width,height:a.height}),this.axisGraphicsContext.attr("transform",D.SVGUtil.translate(i.left,i.top)),this.axisGraphicsContextScrollable.attr("transform",D.SVGUtil.translate(l,i.top)),this.labelRegion.attr("transform",D.SVGUtil.translate(l,i.top)),this.labelBackgroundRegion.attr("transform",D.SVGUtil.translate(l,i.top)),this.labelSeriesRegion.attr("transform",D.SVGUtil.translate(l,i.top)),this.labelSeriesBackgroundRegion.attr("transform",D.SVGUtil.translate(l,i.top)),e.isXScrollBarVisible?(this.svgScrollable.attrs({x:i.left}),this.axisGraphicsContextScrollable.attr("transform",D.SVGUtil.translate(s,i.top)),this.labelRegion.attr("transform",D.SVGUtil.translate(s,i.top)),this.labelBackgroundRegion.attr("transform",D.SVGUtil.translate(s,i.top)),this.labelSeriesRegion.attr("transform",D.SVGUtil.translate(s,i.top)),this.labelSeriesBackgroundRegion.attr("transform",D.SVGUtil.translate(s,i.top)),this.svgScrollable.attr("width",o)):e.isYScrollBarVisible&&this.svgScrollable.attr("height",r+i.top);i=0,i=n?t?-u:0:t?0:u;this.valueGridlines.attr("transform","translate("+i+")")},b.darkenZeroLine=function(e,t){e.selectAll("g.tick line").classed("zero-line",!1),!t||(e=e.selectAll("g.tick").filter((function(e){return 0===e})).node())&&d3.select(e).select("line").classed("zero-line",!0)},b.styleGridlines=function(e,t){e.classed("showLinesOnAxis",t.show).classed("hideLinesOnAxis",!t.show),e.selectAll("g.tick line").styles({stroke:t.color.solid.color,"stroke-width":t.thickness,"stroke-dasharray":D.LineStyle.getStrokeDashArrayFromLineStyle(t.style)})},b.setAxisLabelColor=function(e,t){e.selectAll("g.tick text").style("fill",t?t.solid.color:null)},b.removeUnwantedLines=function(e,t){e.selectAll("g.tick").filter((function(e){return t.adjustedValues[e]===x.hierarchyPlaceholder})).selectAll("line").remove()},b.centerHierarchyTicks=function(e,i){e.selectAll("g.tick").filter((function(e){return i.adjustedValues[e]!==x.hierarchyPlaceholder})).each((function(e){var t=d3.select(this),a=t.attr("transform"),a=D.SVGUtil.parseTranslateTransform(a);a&&0<+a.x&&(e=+a.x+i.xLabelMaxWidths[e]/2-i.categoryThickness/2+D.CartesianHelper.TickLabelPadding,t.attr("transform",D.SVGUtil.translate(e,+a.y)))}))},b.styleHierarchyTicks=function(e,t,a){null!=t&&t.axis,_.isEmpty(t.axis.tickValues())||t.axis.tickFormat();e=e.selectAll("g.tick").filter((function(e){return t.adjustedValues[e]!==x.hierarchyPlaceholder})).selectAll("line").data((function(e){return t.lineStyleInfo[e]}));e.enter().append("line").merge(e).attr("x1",(function(e){return e.x1})).attr("y1",(function(e){return e.y1})).attr("x2",(function(e){return e.x2})).attr("y2",(function(e){return e.y2})).styles({stroke:a.color.solid.color,"stroke-width":a.thickness,"stroke-dasharray":D.LineStyle.getStrokeDashArrayFromLineStyle(a.style)}),e.exit().remove()},b.AxisPadding={left:10,right:10,top:0,bottom:13},b.AxisGraphicsContext=e("axisGraphicsContext"),b.TickPaddingRotatedX=5,b.Y2TickSize=-6,b);function b(e){this.axes=e}D.SvgCartesianAxes=e;var x=(V.prototype.init=function(e){this.axesData=e.axesData,this.axisZoom=e.axisZoom,this.isYAxisCategorical=e.isYAxisCategorical,this.interactivityService=e.interactivityService},V.prototype.shouldShowY1OnRight=function(e){return null!=e&&e.switchAxisPosition?!0===this.axesData.y.switchAxisPosition:this.axesData.y.position===D.yAxisPosition.right},V.prototype.hasCategoryAxis=function(){var e=this.layout&&this.layout.axes;return!!e&&(this.isYAxisCategorical?e.y1&&null!=e.y1.axis:e.x&&null!=e.x.axis)},V.prototype.isCategoryAxisDateTime=function(){var e=this.getCategoryAxisType();return e&&e.dateTime},V.prototype.getCategoryAxisType=function(){var e=this.layout&&this.layout.axes;if(e)return(this.isYAxisCategorical?e.y1:e.x).axisType},V.getLeafHeight=function(e,t,a){return e-t*(a-1)+D.AxisHelper.stackedAxisPadding+1},V.prototype.getYAxisPoistion=function(e){return null!=e&&e.switchAxisPosition?this.axesData.y.switchAxisPosition?D.yAxisPosition.right:D.yAxisPosition.left:this.axesData.y.position},V.prototype.getY2AxisPosition=function(e){return null!=e&&e.switchAxisPosition?this.axesData.y.switchAxisPosition?D.yAxisPosition.left:D.yAxisPosition.right:this.axesData.y.position===D.yAxisPosition.right?D.yAxisPosition.left:D.yAxisPosition.right},V.prototype.update=function(e,t,a,i){this.categories=e,this.axesData=t,this.updateScrollbarWidthIfNeeded(i),this.isHierarchicalCategoryAxis=3===a},V.prototype.updateResize=function(e,t){this.axesData=e,this.updateScrollbarWidthIfNeeded(t)},V.prototype.addWarnings=function(e){var t,a,i=this.layout&&this.layout.axes;i&&i.x&&i.x.hasDisallowedZeroInDomain&&(a={selector:null,warnings:[new D.ZeroValueWarning]},t=this.isYAxisCategorical?"valueAxis":"categoryAxis",e.addForVisualObject(t,a)),i&&(i.y1&&i.y1.hasDisallowedZeroInDomain||i.y2&&i.y2.hasDisallowedZeroInDomain)&&(a={selector:null,warnings:[new D.ZeroValueWarning]},t=this.isYAxisCategorical?"categoryAxis":"valueAxis",e.addForVisualObject(t,a)),this.alignZerosWithCustomDomainWarning&&(a={selector:null,warnings:[new D.AlignZerosWithCustomDomainWarning]},e.addForVisualObject("valueAxis",a))},V.prototype.getScrollbarWidth=function(){return this.scrollbarWidth},V.prototype.updateScrollbarWidthIfNeeded=function(e){null!=e&&(this.scrollbarWidth=e)},V.prototype.calculateAxes=function(e,t,a,i,o,r,n,l,s,u,c,p,d,m,g){var y=V.shouldRenderAnyAxis(d)||m?D.CartesianHelper.DefaultOuterPaddingRatio:0,h=this.axesData.categoryAxis.innerPadding,b={x:null,y1:null},f=this.axesData,v=f.categoryAxis,d=f.valueAxis,m=f.y2,f=_.some(m.includeDomains,(function(e){return e.forced})),m=this.axesData.isValueAxisSet&&!1===this.axesData.y2.show&&!f,s=D.AxisHelper.mergeScalarAxisDomains.apply(D.AxisHelper,__spreadArray(__spreadArray([],v.includeDomains||[]),[s&&D.AxisHelper.createScalarDomainOptions([s.min,s.max],0)])),s={displayUnits:v.labelDisplayUnits,includeDomain:s,precision:v.labelPrecision,scaleType:v.axisScale,logAxisScale:v.logAxisScale,invertAxis:v.invertAxis},v=D.AxisHelper.mergeScalarAxisDomains.apply(D.AxisHelper,__spreadArray(__spreadArray([],d.includeDomains||[]),[u&&D.AxisHelper.createScalarDomainOptions([u.min,u.max],0)])),u={displayUnits:d.labelDisplayUnits,includeDomain:v,precision:d.labelPrecision,scaleType:d.axisScale,logAxisScale:d.logAxisScale,invertAxis:d.invertAxis,totalsEnabled:d.totalsEnabled},y={viewport:t,margin:a,categoryAxisOptions:s,forceMerge:m,trimOrdinalDataOnOverflow:this.trimOrdinalDataOnOverflow,outerPaddingRatio:y,innerPaddingRatio:h,playAxisControlLayout:i,valueAxisOptions:u,axisZoom:this.axisZoom},h=this.axesData.isValueAxisSet&&this.axesData.y2.show,i=this.axesData.isValueAxisSet&&this.axesData.y.alignZeros,m=g||!m&&(!0===h||f||void 0===h&&(i||u.includeDomain)),S=!1;L(e)&&!m&&((S=(C=(function(e,t){e.length;var a={domain:void 0,merged:!1,tickCount:void 0};if(e.length<2)return a;var i=R.Prototype.inherit(t);i.roleName="Y2";var o=e[0].calculateAxesProperties(t)[1],r=e[1].calculateAxesProperties(i)[1],n=o.scale.domain(),e=r.scale.domain();o.dataDomain&&r.dataDomain&&(i=0===o.dataDomain[0]&&0===o.dataDomain[1],l=0===r.dataDomain[0]&&0===r.dataDomain[1],i&&!l?n=[0,0]:!i&&l&&(e=[0,0]));o.values&&0<o.values.length&&r.values&&0<r.values.length&&(a.tickCount=Math.max(o.values.length,r.values.length));var l=Math.min(n[0],e[0]),o=Math.max(n[1],e[1]);if(t.forceMerge)return{domain:[l,o],merged:!0,tickCount:a.tickCount};if(n[0]>e[1]||n[1]<e[0])return a;r=o-l;if(0==r)return a;t=Math.max(n[0],e[0]),e=Math.min(n[1],e[1]);return Math.abs((e-t)/r)<.1?a:{domain:[l,o],merged:!0,tickCount:a.tickCount}})(e,y)).merged)?u.includeDomain=D.AxisHelper.mergeScalarAxisDomains(v,D.AxisHelper.createScalarDomainOptions(C.domain,0,[!0,!0])):y.forcedTickCount=C.tickCount);var C=(C=L(e)?!S&&!1!==h||h:this.axesData.y2.hasY2Role)||f,i=i&&C,h=R.Prototype.inherit(y);C&&(f=this.axesData.y2,(C=h.valueAxisOptions=R.Prototype.inherit(u)).scaleType=f.axisScale,C.logAxisScale=f.logAxisScale,C.displayUnits=f.labelDisplayUnits,C.precision=f.labelPrecision,C.includeDomain=D.AxisHelper.mergeScalarAxisDomains.apply(D.AxisHelper,__spreadArray([c?D.AxisHelper.createScalarDomainOptions([c.min,c.max],0):void 0],f.includeDomains||[])),C.invertAxis=d.invertAxis,i?(c=e[0].getAxesDomains(!0,{valueAxis:!0}),f=D.AxisHelper.mergeScalarAxisDomains.apply(D.AxisHelper,__spreadArray([D.AxisHelper.createScalarDomainOptions(c.valueAxis,0)],d.includeDomains||[])),i=e[1].getAxesDomains(!0,{valueAxis:!0}),c=D.AxisHelper.mergeScalarAxisDomains(D.AxisHelper.createScalarDomainOptions(i.valueAxis,0),C.includeDomain),i=(d=f&&c)&&(D.AxisHelper.hasForcedDomain(f)||D.AxisHelper.hasForcedDomain(c)),b.alignZerosWithCustomDomainWarning=i,d&&!i?(f=(i=(function(e,t,a){e&&e.length,t&&t.length;var i=e.slice(),o=t.slice();{var r,n;a&&(r=e[1]-e[0],n=t[1]-t[0],i[0]=i[0]-r*a,i[1]=i[1]+r*a,o[0]=o[0]-n*a,o[1]=o[1]+n*a)}0<=e[0]&&0<=t[0]?(i[0]=0,o[0]=0):e[1]<=0&&t[1]<=0?(i[1]=0,o[1]=0):(e=M(i),t=M(o),e.pos<e.neg&&t.pos<t.neg?e.pos<t.pos?i[1]=-(t.pos*i[0])/(1-t.pos):o[1]=-(e.pos*o[0])/(1-e.pos):e.pos>e.neg&&t.pos>t.neg?e.neg<t.neg?i[0]=-(t.neg*i[1])/(1-t.neg):o[0]=-(e.neg*o[1])/(1-e.neg):(t=Math.max(Math.abs(i[0]),Math.abs(i[1])),e=Math.max(Math.abs(o[0]),Math.abs(o[1])),i=[-t,t],o=[-e,e]));return[i,o]})(f.domain,c.domain,.05))[0],i=i[1],u.includeDomain=D.AxisHelper.createScalarDomainOptions(f,0,[!0,!0]),C.includeDomain=D.AxisHelper.createScalarDomainOptions(i,0,[!0,!0])):C.includeDomain=D.AxisHelper.mergeScalarAxisDomains(C.includeDomain,c)):S||(C.includeDomain=this.axesData.isValueAxisSet&&C.includeDomain));for(var x=[y,h],w=L(e)||this.axesData.y2.hasY2Role?2:1,N=0;N<w;N++){var P=x[N],T=e[N];null==T&&(T=e[0]),S||1!==N||(P.roleName="Y2");P=T.calculateAxesProperties(P);0===N?(b.x=P[0],b.y1=P[1]):P&&!b.y2&&(b.x.usingDefaultDomain||_.isEmpty(b.x.dataDomain)?(b.x=P[0],b.y1=P[1]):(T.overrideXScale(b.x),S||P[1].usingDefaultDomain||_.isEmpty(P[1].values)||(b.y2=P[1])));T=D.FontProperties.toTextProperties(o.x.tickLabels);n&&n.x?(b.x.willLabelsFit=n.x.willLabelsFit,b.x.willLabelsWordBreak=n.x.willLabelsWordBreak):(P=t.width-(a.left+a.right),b.x.willLabelsFit=D.AxisHelper.LabelLayoutStrategy.willLabelsFit(b.x,P,R.TextMeasurementService.measureSvgTextWidth,T),b.x.willLabelsWordBreak=!b.x.willLabelsFit&&!r&&D.AxisHelper.LabelLayoutStrategy.willLabelsWordBreak(b.x,a,P,R.TextMeasurementService.measureSvgTextWidth,R.TextMeasurementService.estimateSvgTextHeight,R.TextMeasurementService.getTailoredTextOrDefault,T)),this.isHierarchicalCategoryAxis&&((T=b.x).isHierarchical=!0,T.rootNode=D.HierarchyNodeHelpers.Builder.build(this.categories),T.numLevels=this.categories.length,p&&(b.xStack=V.createStackedAxis(this.categories,b.x,p.stackHeight,p.xMax)))}return this.finalizeAxisLabels(b,l),b},V.createStackedAxis=function(i,y,h,e){if(!_.isEmpty(i)){for(var b=i.length,f=V.getLeafHeight(e,h,b),v=[],S=D.AxisHelper.getCategoryThickness(y.scale),C=[],t=function(o){var r=o===b-1,n=b-o-1,l=i[o];r||(l.source.identityExprs,C.push.apply(C,l.source.identityExprs||[]));for(var s=[],u=[],c=[],p=[],d=[],m=0,g=void 0,e=l.values.length,t=0;t<e;t++)!(function(e){var t=r?l.identity[e]:V.getSpecificIdentityFromCompositeIdentity(l,e,C),a=l.values[e],i=D.converterHelper.formatFromMetadataColumn(a,l.source,D.columnChartProps.general.formatString);!r&&g&&R.DataViewScopeIdentity.equals(g,t)?(s[e]=V.hierarchyPlaceholder,m++):(0<m&&!r&&(p[a=e-m]=V.getMaxCategoryWidth(m,S),d[a]=V.getHierarchyLineStyleInfo({levelIndex:n,stackHeight:h,leafHeight:f,categorySpanCount:m,categoryWidth:S})),m=1,s[e]=i,u[e]=function(){return D.SelectionIdBuilder.builder().withCategoryIdentity(l,e,t).createSelectionId()},c[e]={categoryIndex:e,seriesIndex:o}),g=t})(t);0<m&&!r&&(p[a=e-m]=V.getMaxCategoryWidth(m,S),d[a]=V.getHierarchyLineStyleInfo({levelIndex:n,stackHeight:h,leafHeight:f,categorySpanCount:m,categoryWidth:S}));var a=R.Prototype.inherit(y);a.isStacked=!0,a.adjustedValues=s,y.categoryIdentities&&(a.categoryIdentities=u,a.categoryHierarchyPointers=c,u.length,c.length),a.axis=D.AxisHelper.createStackedAxis({axis:a.axis,scale:a.scale,tickFormat:function(e){return s[e]!==V.hierarchyPlaceholder?s[e]:null}}),a.categoryThickness=S,a.levelIndex=n,a.lineStyleInfo=d,a.values=s,a.xLabelMaxWidths=p,r?a.levelSize=f:(a.levelSize=h,a.willLabelsFit=!0,a.willLabelsWordBreak=!1),v.unshift(a)},a=0;a<b;a++)t(a);return v}},V.shouldRenderAnyAxis=function(e){return e&&(e.x||e.y)},V.getSpecificIdentityFromCompositeIdentity=function(e,t,a){e=e.identity,t=e[t],a=R.data.ScopeIdentityExtractor.getSubset(t.expr,a);return R.data.createDataViewScopeIdentity(a)},V.getCategorySpanSize=function(e,t){return e*t},V.getMaxCategoryWidth=function(e,t){return V.getCategorySpanSize(e,t)-2*D.CartesianHelper.TickLabelPadding},V.getHierarchyLineStyleInfo=function(e){var t=V.getCategorySpanSize(e.categorySpanCount,e.categoryWidth);return V.createHierarchyLineStyleInfo(e.levelIndex,e.stackHeight,e.leafHeight,t)},V.createHierarchyLineStyleInfo=function(e,t,a,i){if(0!==e){var o=[],r={x1:i/2,y1:t,x2:i/2,y2:1===e?-a:0};return o.push({x1:-i/2,y1:t,x2:-i/2,y2:1===e?-a:0}),o.push(r),1<e&&o.push({x1:-i/2,y1:0,x2:i/2,y2:0}),o}},V.updateWillRenderAxis=function(e,t){return{x:e.x&&t.x&&!_.isEmpty(t.x.values),y:e.y&&t.y1&&!_.isEmpty(t.y1.values),y2:e.y2&&t.y2&&!_.isEmpty(t.y2.values)}},V.prototype.negotiateAxes=function(e){var t=e.layers,a=e.padding,i=e.showAxisTitles,o=e.featureSwitches,r=R.Prototype.inherit(V.MinimumMargin),n={left:0,top:0,bottom:0,right:0},l={left:0,top:0,bottom:0,right:0},s=this.axesData,u=s&&s.categoryAxis&&s.categoryAxis.maxMarginFactor||V.DefaultMaxMarginFactor,c=R.Prototype.inherit(e.parentViewport),p=c.width*u,s={left:p,right:p,top:0,bottom:Math.max(V.MinimumMargin.bottom,Math.ceil(c.height*u))},p=!1;_.isEmpty(t)||t[0].getVisualCategoryAxisIsScalar&&(p=t[0].getVisualCategoryAxisIsScalar());var d,u=this.calculateAxesRenderOptions(e,c,r,n,l,p,s,!1,!0),t=this.getAxesMarginFactors(u.axes);r=(u=this.calculateAxesRenderOptions(e,c,r,n,l,p,s,!1,!0,u)).axesMargins,e.rotateXTickLabels90=e.rotateXTickLabels90||!this.willAllCategoriesFitInPlotArea(u.plotArea,u.preferredPlotArea),this.shouldRecalculateRenderOptions(t,u.axes,e.rotateXTickLabels90)&&(r=(u=this.calculateAxesRenderOptions(e,c,r,l,n,p,s,e.rotateXTickLabels90,!1,u)).axesMargins,this.willAllCategoriesFitInPlotArea(u.plotArea,u.preferredPlotArea)||(d=this.updateScrollMargins(u.axes,c,n,o),r=(u=this.calculateAxesRenderOptions(e,c,r,n,l,p,s,!0,!1,u,!0,d)).axesMargins));o=u.axes,l=i.x&&o.x?o.x.axisLabel:null,p=i.y&&o.y1?o.y1.axisLabel:null,i=i.y2&&o.y2?o.y2.axisLabel:null;return this.layout={axes:o,axisLabels:{x:l,y:p,y2:i},margin:r,marginLimits:s,viewport:c,plotArea:u.plotArea,preferredPlotArea:u.preferredPlotArea,tickLabelMargins:u.tickLabelMargins,tickPadding:a,rotateXTickLabels90:e.rotateXTickLabels90,shouldRenderAxis:u.willRenderAxis,isXScrollBarVisible:d&&d.isXVisible,isYScrollBarVisible:d&&d.isYVisible,scrollHandleMargins:n,axesOverflow:u.tickLabelMargins.overflow},this.alignZerosWithCustomDomainWarning=o.alignZerosWithCustomDomainWarning,this.layout},V.prototype.updateScrollMargins=function(e,t,a,i){var o=!1,r=!1;return e.x.isCategoryAxis&&(o=!0,t.height-=this.scrollbarWidth,a.bottom=this.scrollbarWidth),e.y1.isCategoryAxis&&(r=!0,t.width-=this.scrollbarWidth,(null!=i&&i.switchAxisPosition?this.axesData&&this.axesData.y&&this.axesData.y.switchAxisPosition:this.axesData&&this.axesData.y&&this.axesData.y.position===D.yAxisPosition.right)?a.right=this.scrollbarWidth:a.left=this.scrollbarWidth),{isXVisible:o,isYVisible:r}},V.prototype.shouldRecalculateRenderOptions=function(e,t,a){var i=this.getAxesMarginFactors(t);return!!(t.y1&&i.tickCountY1!==e.tickCountY1||t.y2&&i.tickCountY2!==e.tickCountY2||t.x&&i.willFitX!==e.willFitX||t.x&&i.willBreakX!==e.willBreakX||t.x&&i.xLabelMaxWidth!==e.xLabelMaxWidth||a||this.isHierarchicalCategoryAxis||t.x&&i.categoryThickness!==e.categoryThickness)},V.prototype.getAxesMarginFactors=function(e){return{tickCountY1:e.y1&&e.y1.values.length,tickCountY2:e.y2&&e.y2.values.length,willFitX:e.x&&e.x.willLabelsFit,willBreakX:e.x&&e.x.willLabelsWordBreak,xLabelMaxWidth:e.x&&e.x.xLabelMaxWidth,categoryThickness:e.x&&e.x.categoryThickness}},V.prototype.calculateAxesRenderOptions=function(e,t,a,i,o,r,n,l,s,u,c,p){var d,m=u?u.willRenderAxis:e.shouldRenderAxis,g=u&&u.axes;u&&(h=u.axes,f=u.willRenderAxis,d=u.plotArea,b=this.shouldShowY1OnRight(e.featureSwitches),y=D.AxisHelper.isHierarchical(h.x)?h.x.numLevels:void 0,d=c?u.tickLabelMargins:D.AxisHelper.getTickLabelMargins({plotArea:d,yMarginLimit:n.left,textWidthMeasurer:R.TextMeasurementService.measureSvgTextWidth,textHeightMeasurer:R.TextMeasurementService.estimateSvgTextHeight,axes:h,bottomMarginLimit:n.bottom,axesFontProperties:e.axesFontProperties,rotate90:e.rotateXTickLabels90,showOnRight:b,renderXAxis:f.x,renderY1Axis:f.y,renderY2Axis:f.y2,numHierarchyLevels:y}),a=this.updateAxisMargins(h,d,e.padding,b,r?0:e.interactivityRightMargin,e.showAxisTitles,f,e.axesFontProperties,p&&p.isXVisible,p&&p.isYVisible),o=d.overflow);var y=this.axesData,h=y.show,b=y.isComboChart,f=y.hasY2Role,p=y.isLineComboChart,y=D.DataLabelViewModel.getDefaultLabelSettings({labelColor:"#FFF",textClassName:"smallLightLabel"}).fontProperties,y={seriesColor:"#FFF",seriesPosition:D.labelSeriesPosition.right,fontProperties:y,seriesWordWrap:!1,seriesMaximumWidth:20,defaultSeriesWidth:20,showLabelPerSeries:!1,enableBackground:!1,show:!1};e.layers&&p&&(y=V.getMaximumSeriesSettings(e.layers));p=!1;b?h&&f&&(p=!0):h&&(p=!0);p=e.calculatePlotArea({viewport:t,axesMargins:a,axesOverflow:o,willRenderAxis:m,axes:g,scrollHandleMargins:i,layerSeriesData:y,showSeriesLabels:p}),g=this.calculateAxes(e.layers,this.calculateLayerViewport(p,a),a,e.playAxisControlLayout,e.axesFontProperties,l,s?null:g,e.showAxisTitles,e.ensureXDomain,e.ensureYDomain,e.ensureY2Domain,d,m,r,e.skipMergeValueAxes);return{plotArea:p,preferredPlotArea:this.getPreferredPlotArea(g,e.layers,r),axes:g,axesMargins:a,willRenderAxis:V.updateWillRenderAxis(m,g),tickLabelMargins:d}},V.prototype.getPreferredPlotArea=function(e,t,a){var i,o,r;return!a&&this.isScrollable&&!_.isEmpty(t)&&t[0].getPreferredPlotArea&&(i=(e.x.isCategoryAxis?e.x:e.y1).categoryThickness,o=(e.x.isCategoryAxis?e.x:e.y1).dataDomain.length,r=(e.x.isCategoryAxis?e.x:e.y1).outerPaddingRatio,r=t[0].getPreferredPlotArea(a,o,i,r)),r},V.adjustAxesMarginsForShared=function(e,t,a,i,o,r){t=t||{left:0,right:0,bottom:0,top:0};var n=V.shouldReserveAxisSpace(null==o?void 0:o.y1,a.y,r.y),l=V.shouldReserveAxisSpace(null==o?void 0:o.y2,a.y2,r.y2),a=V.shouldReserveAxisSpace(null==o?void 0:o.x,a.x,r.x),r=n&&!i||l&&i?e.left:0,i=n&&i||l&&!i?e.right:0,e=a?e.bottom:0;return{left:r+t.left,right:i+t.right,bottom:e+t.bottom,top:0}},V.prototype.calculateLayerViewport=function(e,t){return{width:e.width+t.left+t.right,height:e.height+t.top+t.bottom,scale:e.scale}},V.prototype.willAllCategoriesFitInPlotArea=function(e,t){return!(!this.isYAxisCategorical&&t&&R.Double.greaterWithPrecision(t.width,e.width))&&!(this.isYAxisCategorical&&t&&R.Double.greaterWithPrecision(t.height,e.height))},V.prototype.updateAxisMargins=function(e,t,a,i,o,r,n,l,s,u){var c=i?t.yRight:t.yLeft,p=i?t.yLeft:t.yRight,d=t.xMax;n.y&&(c+=i?a.right:a.left),n.y2&&(p+=i?a.left:a.right),n.x&&(d+=a.bottom);n=e.x.axisLabel,a=e.y1.axisLabel,e=e.y2?e.y2.axisLabel:null;null!=n&&r.x&&(d+=R.TextMeasurementService.estimateSvgTextHeight(D.FontProperties.toTextProperties(l.x.title))+V.XAxisLabelPadding+V.XAxisPaddingDeltaForTitle),null!=a&&r.y&&(c+=R.TextMeasurementService.estimateSvgTextHeight(D.FontProperties.toTextProperties(l.y.title))+V.YAxisLabelPadding),null!=e&&r.y2&&(p+=R.TextMeasurementService.estimateSvgTextHeight(D.FontProperties.toTextProperties(l.y2.title))+V.YAxisLabelPadding);o=(i?c:p)+o,o=u?Math.max(o,V.MinimumAxisMarginFromScrollbar):o,d=s?Math.max(d,V.MinimumAxisMarginFromScrollbar):d;return t.overflow.top=Math.max(t.yTop,V.MinimumMargin.top),{top:t.overflow.top,left:i?p:c,right:o,bottom:d}},V.prototype.isLogScaleAllowed=function(e){var t=this.layout&&this.layout.axes;if(!t)return!1;switch(e){case 0:return t.x.isLogScaleAllowed;case 1:return t.y1.isLogScaleAllowed;case 2:return t.y2&&t.y2.isLogScaleAllowed}},V.shouldReserveAxisSpace=function(e,t,a){return t||e&&null!=e.axisLabel&&a},V.prototype.axesHaveTicks=function(e){if(!this.layout)return!1;var t=this.layout.margin,a=e.width-(t.left+t.right),t=e.height-(t.top+t.bottom);return 0!==D.AxisHelper.getRecommendedNumberOfTicksForXAxis(a)||0!==D.AxisHelper.getRecommendedNumberOfTicksForYAxis(t)},V.prototype.finalizeAxisLabels=function(e,t){var a,i,o,r;(this.axesData.x.showAxisTitle||this.axesData.y.showAxisTitle||this.axesData.y2.showAxisTitle)&&(i={x:e.x?null!==(a=this.axesData.x.titleText)&&void 0!==a?a:e.x.axisLabel:void 0,y:e.y1?null!==(i=this.axesData.y.titleText)&&void 0!==i?i:e.y1.axisLabel:void 0,y2:e.y2?null!==(o=this.axesData.y2.titleText)&&void 0!==o?o:e.y2.axisLabel:void 0},o=V.getUnitType(e.x.formatter),e.x.isCategoryAxis?this.categoryAxisHasUnitType=null!=o:this.valueAxisHasUnitType=null!=o,i.x&&o&&(i.x=D.AxisViewModel.createAxisLabel(this.axesData.x.axisStyle,i.x,o)),o=V.getUnitType(e.y1.formatter),e.y1.isCategoryAxis?this.categoryAxisHasUnitType=null!=o:this.valueAxisHasUnitType=null!=o,i.y&&o&&(i.y=D.AxisViewModel.createAxisLabel(this.axesData.y.axisStyle,i.y,o)),e.y2&&(r=V.getUnitType(e.y2.formatter),this.secondaryValueAxisHasUnitType=null!=r,i.y2&&r&&(i.y2=D.AxisViewModel.createAxisLabel(this.axesData.y2.axisStyle,i.y2,r))),null!==(r=this.axisZoom)&&void 0!==r&&r.updateAxisTitles(i),e.x&&(e.x.axisLabel=t.x?i.x:null),e.y1&&(e.y1.axisLabel=t.y?i.y:null),e.y2&&(e.y2.axisLabel=t.y2?i.y2:null))},V.getUnitType=function(e){if(e&&e.displayUnit&&1<e.displayUnit.value)return e.displayUnit.title},V.getMaximumSeriesSettings=function(e){if(1<e.length){var t=e[0].getSeriesSettings(),a=e[1].getSeriesSettings(),i=t.seriesMaximumWidth;return a.seriesMaximumWidth<i?t:a}return e[0].getSeriesSettings()},V.hierarchyPlaceholder={placeholder:!0},V.YAxisLabelPadding=5,V.XAxisLabelPadding=3,V.XAxisPaddingDeltaForTitle=-6,V.DefaultMaxMarginFactor=.25,V.MinimumMargin={left:1,right:1,top:8,bottom:25},V.MinimumAxisMarginFromScrollbar=5,V);function V(e,t,a){this.scrollbarWidth=t,this.isScrollable=e,this.trimOrdinalDataOnOverflow=a}function L(e){return 1<e.length}function M(e){return e.length,e[1],e[0],{pos:+e[1]/(e[1]-e[0]),neg:(0-e[0])/(e[1]-e[0])}}D.CartesianAxes=x})(R.visuals||(R.visuals={}))})(powerbi=powerbi||{}),(function(s){var u,o;u=s.visuals||(s.visuals={}),o=s.data.CompiledDataViewMapping,u.DEFAULT_AXIS_SCALE_TYPE=u.axisScale.linear,u.DEFAULT_FONT_FAMILY=u.Font.Family.regular.css,u.DefaultInnerPaddingRatio=.2,u.SetFocusRingClassName="setFocusRing",u.CurrentFocusDataPointId="currentFocusDataPoint",(function(e){e.DefaultConcatenateLabelsValue=!0,e.MinOrdinalRectThickness=20,e.TickLabelPadding=2,e.DefaultAxisFontFamily=u.Font.Family.regular.css,e.DefaultAxisFontSizeInPt=8,e.DefaultAxisFontWeight="normal",e.DefaultAxisFontStyle="normal",e.DefaultAxisFontDecoration="none",e.AxisFontFamily=u.Font.Family.regular.css,e.DefaultOuterPaddingRatio=.4,e.defaultLineStrokeWidth=2,e.DefaultAxisFontColorName="foregroundNeutralSecondaryAlt",e.DefaultGridlineColorName="foregroundNeutralLight",e.DefaultGridlineDottedColorName="foregroundNeutralTertiaryAlt";e.dataLabelLayoutStartingOffset=2,e.dataLabelLayoutOffsetIterationDelta=6,e.dataLabelLayoutMaximumOffset=e.dataLabelLayoutStartingOffset+2*e.dataLabelLayoutOffsetIterationDelta;function n(e,t,a){var i=1;0<e.height&&0<e.width&&(i=(e=Math.min(e.height,e.width))*e/9e4);t=Math.round(t*i),i=Math.round(a*i);return{minRange:t,maxRange:i,delta:i-t}}function l(e,t,a){var i=0;return t&&(i=a.maxRange,0!==t.delta&&(i=(function(e,t,a){if(0===t.delta||0===a.delta)return (function(e,t){return e.minRange<=t&&t<=e.maxRange})(t,e)?a.minRange:null;t=(e-t.minRange)/t.delta;return a.minRange+t*a.delta})(Math.min(Math.max(e,t.minRange),t.maxRange),t,a)),i=2*Math.sqrt(i/Math.PI)),Math.round(i)}e.getDefaultScatterRatioLineSettings=function(e){return{show:!1,lineColor:e?{solid:{color:u.ColorHelper.getThemeColor(e,"foregroundDark")}}:void 0,transparency:0,style:u.lineStyle.dashed}},e.getBubblePixelAreaSizeRange=n,e.getBubbleRadius=function(e,t,a,i){var o=e.sizeMeasure;if(!o&&null==e.value)return 6*i;var r=t.min||0,t=t.max||0,r=Math.min(r,0),t=Math.max(t,0),r={minRange:r,maxRange:t,delta:t-r},a=n(a,200,3e3);return null!=(e=o&&o.values[e.index]||e.value)?l(e,r,a)/2*i:6*i},e.projectSizeToPixels=l,e.getRectTop=function(e,t,a){return a<0?e(t):e(t)-(e(0)-e(a))},e.getRectTopInverted=function(e,t,a){return a<0?e(t)-(e(0)-e(a)):e(t)},e.getLabelLayoutXYForWaterfall=function(t,a,i,o){return{x:function(e){return t.scale(e.categoryIndex)+a/2},y:function(e){return (function(e,t,a){var i=e(0)-e(Math.abs(t.value)),o=e(t.position),r=e(a[0]),a=e(t.position+t.value);if(t.value<0){e={text:t.labeltext,fontFamily:u.DataLabelViewModel.LabelTextProperties.fontFamily,fontSize:u.DataLabelViewModel.LabelTextProperties.fontSize,fontWeight:u.DataLabelViewModel.LabelTextProperties.fontWeight},e=o+i+s.TextMeasurementService.estimateSvgTextHeight(e);if(e<r)return e}else{i=o-i-u.DataLabelViewModel.labelMargin;if(0<i)return i}return t.isLabelInside=!0,(function(e,t,a){return e=(e=e<0?0:e)>a?a:e,t=(t=t<0?0:t)>a?a:t,Math.abs(t-e)/2+Math.min(e,t)})(o,a,r)})(i.scale,e,o)}}},e.getCategoryAxisProperties=function(e,t){var a=t?{showAxisTitle:!0}:{};return e&&(!(e=e.objects)||(e=e.categoryAxis)&&((a=_.clone(e)).showAxisTitle=null==e.showAxisTitle?t:e.showAxisTitle)),a},e.getValueAxisProperties=function(e,t,a){void 0===a&&(a="valueAxis");var i=t?{showAxisTitle:!0}:{};return e&&(!(e=e.objects)||(a=e[a])&&((i=_.clone(a)).showAxisTitle=null==a.showAxisTitle?t:a.showAxisTitle)),i},e.isScalar=function(e,t){return!!e&&(!t||!t.axisType||t.axisType===u.axisType.scalar)},e.getPreferredCategoryWidth=function(e){return null==(e=e.preferredCategoryWidth)?void 0:+e},e.lookupXValue=function(e,t,a,i,o){var r=u.AxisHelper.isDateTime(a);if(i)return r?s.FeatureSwitchedDate.fromTimeValue(o.utcDates,t):t;if(a.text)return e.categories.length,e.categories[t];if(e&&e.series&&0<e.series.length){a=e.series[0];if(a){a=a.data;if(a){e.hasHighlights&&(t*=2);a=a[t];if(a)return r&&null!=a.categoryValue?s.FeatureSwitchedDate.fromTimeValue(o.utcDates,a.categoryValue):a.categoryValue}}}return t},e.findMaxCategoryIndex=function(e){if(_.isEmpty(e))return 0;for(var t=0,a=0,i=e;a<i.length;a++){var o=i[a];_.isEmpty(o.data)||(o=o.data[o.data.length-1].categoryIndex,t=Math.max(o,t))}return t},e.getCategoryIdentity=function(e,t){return u.SelectionIdBuilder.builder().withCategory([t],e,null===(t=null==t?void 0:t.source)||void 0===t?void 0:t.queryName,!0).createSelectionId()},e.getScalarKeyinfo=function(e,t){var a,i,o=!1;return{category:t?(a=_.head(e.categories),i=u.ScalarUtils.getScalarKeys(a),(o=t&&i&&!_.isEmpty(i.values))?a:_.last(e.categories)):_.isEmpty(e.categories)?{source:void 0,values:[u.valueFormatter.format(null)],identity:void 0}:_.last(e.categories),useScalarKeys:o,scalarKeys:i}},e.hasCategoryHierarchy=function(e){return e&&e.categorical&&e.categorical.categories&&1<e.categorical.categories.length},e.expandCategoryWindow=function(e){if(function(e){if(_.isEmpty(e))return!1;return!_.some(e,(function(e){e=e.categorical;if(!e)return!1;if(!e.categories)return!1;e=e.values;return!(!(e&&e.group&&e.group.by)||_.isEmpty(e.group.by.items))}))}(e))for(var t=0,a=e;t<a.length;t++){var i=a[t];if(!i.categorical)return;i=i.categorical.categories;if(!i||!i.dataReductionAlgorithm||!i.dataReductionAlgorithm.window)return;i.dataReductionAlgorithm={window:{count:1e3}}}},e.requestFilteredToUniqueValue=function(e){for(var t=0,a=e;t<a.length;t++){var i=a[t].categorical.categories;s.data.CompiledDataViewMapping.visitCategoricalCategories(i,{visitRole:function(t){var e=t.items;if(!_.isEmpty(e)&&!_.isEmpty(t.activeItems))for(var a=0,i=_.filter(e,(function(e){return _.includes(t.activeItems,e.queryName)}));a<i.length;a++)i[a].filteredToUniqueValueProperty=u.cartesianChartProps.filters.filteredToUniqueValue}})}},e.applyHierarchicalSorts=function(e,n,l){void 0===l&&(l=1);for(var t=function(e){if(!(e&&e.categorical&&e.categorical.categories&&e.metadata))return"continue";var r=e.metadata.columns,e=e.categorical.categories;if(_.some(r,(function(e){return void 0!==e.sort})))return"continue";o.visitCategoricalCategories(e,{visitRole:function(e,t){if(_.includes(n,e.role)){e=e.activeItems;if(!_.isEmpty(e))for(var a=0,i=0,o=e;i<o.length;i++)!(function(t){var e=_.find(r,(function(e){return e.queryName===t}));e&&(e.sort=l,e.sortOrder=a++)})(o[i])}}})},a=0,i=e;a<i.length;a++)t(i[a])},e.extractCategoryFromDataPoint=function(e){if(e)return{categoryIndex:e.categoryIndex,categoryValue:e.categoryValue,hierarchyCategoryLevels:e.hierarchyCategoryLevels,hasData:null!=e.value}},e.getFirstMetadataColumn=function(e){return e[0]}})(u.CartesianHelper||(u.CartesianHelper={}))})(powerbi=powerbi||{}),(function(e){var b;((b=e.visuals||(e.visuals={})).AxesLayoutUtils||(b.AxesLayoutUtils={})).getAxisTickLabelMargins=function(e,t,a,i){var o,r,n,l=e.scale,s=e.axis.tickValues();if(_.isEmpty(s))return{maxWidth:0,overflow:{top:0,bottom:0}};n=b.AxisHelper.isScaleBand(l)?(r=(o=l.range())[0],o[1]):(n=l.range(),r=_.head(n),_.last(n));for(var u,c=e.values,s=r<n?(d=r,u=l(_.head(s)),m=n,l(_.last(s))):(d=n,u=l(_.last(s)),m=r,l(_.head(s))),p=b.FontProperties.toTextProperties(t,""+_.head(c)),i=i(p),d=Math.max(0,-(u-i/2-d)),m=Math.max(0,s+i/2-m),g=0,y=0,h=c.length;y<h;y++)p.text=""+c[y],g=Math.max(g,a(p));return{maxWidth:g,overflow:{top:d,bottom:m}}}})(powerbi=powerbi||{}),(function(a){var o,r,n,t;function l(e,t,a){return!!s(a)&&!!i(e,t)}function i(e,t){if(!e)return!0;t=a.DataViewObjects.getValue(e,t);return null==t||t===o.axisType.scalar}function s(e){return!o.AxisHelper.isOrdinal(e)}o=a.visuals||(a.visuals={}),n=a.data.CompiledDataViewMapping,t=a.data.ScalarKeyUtils,(r=o.ScalarUtils||(o.ScalarUtils={})).shouldDrawScalar=function(e,t,a,i,o){return!(o&&!i)&&(!!r.scalarKeysAreValid(i)||r.canHaveScalarAxis(e,t,a))},r.canHaveScalarAxis=l,r.scalarAxisTypeAllowed=i,r.typeCanBeScalar=s,r.scalarKeysAreValid=function(e){return e&&!_.isEmpty(e.values)},r.getScalarKeys=function(e){return t.getScalarKeys(e,o.cartesianChartProps.scalarKey.scalarKeyMin)},r.mappingSupportsScalarAxis=function(e,t){if(!e)return!1;if(!e.metadata)return!1;if(e.categorical&&e.categorical.categories&&n.isCompiledDataViewRoleForMapping(e.categorical.categories)?i=e.categorical.categories.for.in:t&&o.SmallMultiplesUtils.isSmallMultiplesMapping(e)&&(i=o.SmallMultiplesUtils.getCategoryMapping(e).for.in),null==i)return!1;if(t=i.items,_.isEmpty(t))return!1;var a=i.activeItems,i=t[0];if(!_.isEmpty(a)){if(1<a.length)return!1;t=_.find(t,(function(e){return e.queryName===a[0]})),i=t}return i=i.type,!!l(e.metadata.objects,o.columnChartProps.categoryAxis.axisType,i)}})(powerbi=powerbi||{}),(function(i){var e;function a(){}e=i.visuals||(i.visuals={}),a.getResponsiveVisualProperties=function(e,t){var a={responsive:!1,responsiveLegacy:!1};if(!e||!e.metadata)return a;e=e.metadata.objects;return e&&(a.responsive=i.DataViewObjects.getValue(e,t.general.responsive,a.responsive),t.general.responsiveLegacy&&(a.responsiveLegacy=i.DataViewObjects.getValue(e,t.general.responsiveLegacy,a.responsiveLegacy))),a},a.cloneData=function(e){var t=_.cloneDeep(e);return i.Prototype.copyPrototypeDeep(e,t),t},a.shouldApplyResponsiveChanges=function(e,t){return a.getResponsiveVisualProperties(e,t).responsive},e.ViewModelAdapterUtils=a})(powerbi=powerbi||{}),(function(n){!(function(i){var e,t;function r(){}e=i.samples||(i.samples={}),t=i.utility.SelectionManager,r.converter=function(e){var t={size:r.getSize(e),color:r.getFill(e).solid.color,text:r.DefaultText,toolTipInfo:[{displayName:"Test",value:"1...2....3... can you see me? I am sending random strings to the tooltip"}],selector:i.SelectionId.createNull()},a=e.table;return a&&(t.text=a.rows[0][0],e.categorical&&(t.selector=e.categorical.categories[0].identity?i.SelectionId.createWithId(e.categorical.categories[0].identity[0]):i.SelectionId.createNull())),t},r.prototype.init=function(e){this.root=d3.select(e.element.get(0)).append("svg").classed("hello",!0),this.svgText=this.root.append("text").style("cursor","pointer").style("stroke","green").style("stroke-width","0px").attr("text-anchor","middle"),this.selectiionManager=new t({hostServices:e.host})},r.prototype.update=function(e){var t,a,i,o;(e.dataViews||e.dataViews[0])&&(i=this.dataView=e.dataViews[0],t=e.viewport,a=r.converter(i),this.root.attrs({height:t.height,width:t.width}),e={fontFamily:"tahoma",fontSize:a.size+"px",text:a.text},i=n.TextMeasurementService.estimateSvgTextHeight(e),o=this.selectiionManager,this.svgText.styles({fill:a.color,"font-size":e.fontSize,"font-family":e.fontFamily}).attrs({y:t.height/2+i/3+"px",x:t.width/2}).text(a.text).on("click",(function(){var t=this;o.select(a.selector).pipe((function(e){return d3.select(t).style("stroke-width",0<e.length?"2px":"0px")}))})).data([a]))},r.getFill=function(e){if(e){e=e.metadata.objects;if(e){e=e.general;if(e){e=e.fill;if(e)return e}}}return{solid:{color:"red"}}},r.getSize=function(e){if(e){e=e.metadata.objects;if(e){e=e.general;if(e){e=e.size;if(e)return e}}}return 100},r.prototype.enumerateObjectInstances=function(e){var t=[],a=this.dataView;return"general"===e.objectName&&(a={objectName:"general",displayName:"General",selector:null,properties:{fill:r.getFill(a),size:r.getSize(a)}},t.push(a)),t},r.prototype.destroy=function(){this.root=null},r.capabilities={dataRoles:[{displayName:"Values",name:"Values",kind:n.VisualDataRoleKind.GroupingOrMeasure}],dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:100}}},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:n.data.createDisplayNameGetter("Visual_General"),properties:{fill:{type:{fill:{solid:{color:!0}}},displayName:"Fill"},size:{type:{numeric:!0},displayName:"Size"}}}}},r.DefaultText="Invalid DV",e.HelloIVisual=r})(n.visuals||(n.visuals={}))})(powerbi=powerbi||{}),(function(c){!(function(s){var t=s.utility.SelectionManager;s.cheerMeterProps={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}}};var e=(u.converter=function(e){if(!e.categorical||!e.categorical.categories)return null;var t=e.categorical.categories[0];if(!t)return null;var a=t.values;if(!a||_.isEmpty(e.categorical.values))return null;var i=e.categorical.values[0].values,o=e.categorical.categories[0].objects,r=o&&0<o.length?o[0]:void 0,n=o&&1<o.length?o[1]:void 0,o=e.metadata.objects,e=u.DefaultBackgroundColor;o&&(!(o=o.general)||(l=o.fill)&&(e=l.solid.color));var l=c.DataViewObjects.getFillColor(r,s.cheerMeterProps.dataPoint.fill,u.DefaultFontColor),r=c.DataViewObjects.getFillColor(n,s.cheerMeterProps.dataPoint.fill,u.DefaultFontColor),n=s.SelectionIdBuilder.builder().withCategory([t],0,null===(n=null==t?void 0:t.source)||void 0===n?void 0:n.queryName,!0).createSelectionId(),t=s.SelectionIdBuilder.builder().withCategory([t],1,null===(t=null==t?void 0:t.source)||void 0===t?void 0:t.queryName,!0).createSelectionId();return{teamA:{name:a[0],value:i[0],color:l,identity:n},teamB:{name:a[1],value:i[1],color:r,identity:t},background:e}},u.prototype.init=function(e){this.selectionManager=new t({hostServices:e.host});e=this.svg=d3.select(e.element.get(0)).append("svg");this.textOne=e.append("text").style("font-family",u.DefaultFontFamily),this.textTwo=e.append("text").style("font-family",u.DefaultFontFamily)},u.prototype.update=function(e){var t,a;!e.dataViews[0]||(t=this.data=u.converter(e.dataViews[0]))&&(a=e.suppressAnimations?0:s.AnimatorCommon.MinervaAnimationDuration,this.draw(t,a,e.viewport))},u.prototype.getRecomendedFontProperties=function(e,t,a){for(var i,o={fontSize:"",fontFamily:u.DefaultFontFamily,text:e+t},r=1,n=1e3,l=a.width,s=0;r<=n;)if(o.fontSize=(i=(r+n)/2|0)+"px",(s=c.TextMeasurementService.measureSvgTextWidth(o))<l)r=i+1;else{if(!(l<s))break;n=i-1}return o.fontSize=i+"px",l<(s=c.TextMeasurementService.measureSvgTextWidth(o))&&(o.fontSize=--i+"px"),o},u.prototype.calculateLayout=function(e,t){var a=e.teamA.name,i=e.teamB.name,o={height:t.height,width:t.width-u.PaddingBetweenText},r=this.getRecomendedFontProperties(a,i,o);r.text=a;var n=0|c.TextMeasurementService.measureSvgTextWidth(r);r.text=i;var l=0|c.TextMeasurementService.measureSvgTextWidth(r),o=(t.width-n-l-u.PaddingBetweenText)/2|0;r.text=a+i;l=0|c.TextMeasurementService.measureSvgTextHeight(r),a=e.teamA.value+e.teamB.value,i=t.height-l,t=(a-e.teamA.value)/a*i+l/2|0,l=(a-e.teamB.value)/a*i+l/2|0;return{x1:o,x2:o+n+u.PaddingBetweenText,y1:t,y2:l,fontSize:r.fontSize}},u.prototype.ensureStartState=function(e,t){this.isFirstTime&&(this.isFirstTime=!1,t=t.height/2,this.textOne.attrs({x:e.x1,y:t}),this.textTwo.attrs({x:e.x2,y:t}))},u.prototype.clearSelection=function(){var e=this;this.selectionManager.clear().pipe((function(){e.clearSelectionUI()}))},u.prototype.clearSelectionUI=function(){this.textOne.style("stroke","#FFF").style("stroke-width",0),this.textTwo.style("stroke","#FFF").style("stroke-width",0)},u.prototype.updateSelectionUI=function(e){this.textOne.style("stroke","#FFF").style("stroke-width",t.containsSelection(e,this.data.teamA.identity)?"2px":"0px"),this.textTwo.style("stroke","#FFF").style("stroke-width",t.containsSelection(e,this.data.teamB.identity)?"2px":"0px")},u.prototype.draw=function(e,t,a){var i=this,o=d3.easeBack,r=this.textOne,n=this.textTwo;this.svg.attrs({height:a.height,width:a.width}).on("click",(function(){i.clearSelection()})).style("background-color",e.background);var l=this.calculateLayout(e,a);this.ensureStartState(l,a),r.style("font-size",l.fontSize).style("fill",e.teamA.color).on("click",(function(){i.selectionManager.select(e.teamA.identity,d3.event.ctrlKey).pipe((function(e){i.updateSelectionUI(e)})),d3.event.stopPropagation()})).text(e.teamA.name),n.style("font-size",l.fontSize).style("fill",e.teamB.color).on("click",(function(){i.selectionManager.select(e.teamB.identity,d3.event.ctrlKey).pipe((function(e){i.updateSelectionUI(e)})),d3.event.stopPropagation()})).text(e.teamB.name),r.transition().duration(t).ease(o).attrs({y:l.y1,x:l.x1}),n.transition().duration(t).ease(o).attrs({y:l.y2,x:l.x2})},u.prototype.destroy=function(){this.svg=null,this.textOne=this.textTwo=null},u.prototype.enumerateObjectInstances=function(e){var t=[],a=this.data;switch(e.objectName){case"dataPoint":if(a)for(var i=0,o=[a.teamA,a.teamB];i<o.length;i++){var r=o[i],n=r.color,l=r.identity,n={objectName:"dataPoint",displayName:r.name,selector:l.getSelector(),properties:{fill:{solid:{color:n}}}};t.push(n)}break;case"general":var s={objectName:"general",displayName:"General",selector:null,properties:{fill:{solid:{color:a?a.background:u.DefaultBackgroundColor}}}};t.push(s)}return t},u.capabilities={dataRoles:[{displayName:"Category",name:"Category",kind:c.VisualDataRoleKind.Grouping},{displayName:"Noise Measure",name:"Y",kind:c.VisualDataRoleKind.Measure}],dataViewMappings:[{categorical:{categories:{for:{in:"Category"}},values:{select:[{bind:{to:"Y"}}]}}}],objects:{dataPoint:{displayName:c.data.createDisplayNameGetter("Visual_DataPoint"),description:c.data.createDisplayNameGetter("Visual_DataPointDescription"),properties:{fill:{displayName:c.data.createDisplayNameGetter("Visual_Fill"),type:{fill:{solid:{color:!0}}}},width:{displayName:"",type:{numeric:!0}}}},general:{displayName:"General",properties:{fill:{displayName:"Background color",type:{fill:{solid:{color:!0}}}}}}}},u.DefaultFontFamily="cursive",u.DefaultFontColor="rgb(165, 172, 175)",u.DefaultBackgroundColor="#243C18",u.PaddingBetweenText=15,u);function u(){this.isFirstTime=!0}s.CheerMeter=e})(c.visuals||(c.visuals={}))})(powerbi=powerbi||{}),(function(e){!(function(e){var t=(Object.defineProperty(a.prototype,"code",{get:function(){return"NoMapLocation"},enumerable:!1,configurable:!0}),a.prototype.getMessages=function(e){return{message:e.get("NoMapLocationMessage"),title:e.get("NoMapLocationKey"),detail:e.get("NoMapLocationValue")}},a);function a(){}e.NoMapLocationWarning=t;Object.defineProperty(i.prototype,"code",{get:function(){return"NoValidGeotaggedCategory"},enumerable:!1,configurable:!0}),i.prototype.getMessages=function(e){return{message:e.get("NoValidGeotaggedCategoryMessage"),title:e.get("NoValidGeotaggedCategoryKey"),detail:e.get("NoValidGeotaggedCategoryValue")}},t=i;function i(){}e.FilledMapWithoutValidGeotagCategoryWarning=t;Object.defineProperty(o.prototype,"code",{get:function(){return"InvalidGeocodingCulture"},enumerable:!1,configurable:!0}),o.prototype.getMessages=function(e){return{message:e.get("Visual_MapGeocodingCultureInvalid_Message"),title:e.get("Visual_MapGeocodingCultureInvalid_Key"),detail:e.get("Visual_MapGeocodingCultureInvalid_Value")}},t=o;function o(){}e.InvalidGeocodingCulture=t;Object.defineProperty(r.prototype,"code",{get:function(){return"InvalidLatLong"},enumerable:!1,configurable:!0}),r.prototype.getMessages=function(e){return{message:e.get("InvalidLatLongMessage"),title:e.get("InvalidLatLongKey"),detail:e.get("InvalidLatLongValue")}},t=r;function r(){}e.InvalidLatLongWarning=t;Object.defineProperty(n.prototype,"code",{get:function(){return"GeometryCulledWarning"},enumerable:!1,configurable:!0}),n.prototype.getMessages=function(e){return{message:e.get("GeometryCulledWarningMessage"),title:e.get("GeometryCulledWarningKey"),detail:e.get("GeometryCulledWarningVal")}},t=n;function n(){}e.GeometryCulledWarning=t;Object.defineProperty(l.prototype,"code",{get:function(){return"NegativeValuesNotSupported"},enumerable:!1,configurable:!0}),l.prototype.getMessages=function(e){return{message:e.get("VisualWarning_NegativeValues"),title:"",detail:""}},t=l;function l(){}e.NegativeValuesNotSupportedWarning=t;Object.defineProperty(s.prototype,"code",{get:function(){return"AllNegativeValuesNotSupported"},enumerable:!1,configurable:!0}),s.prototype.getMessages=function(e){return{message:e.get("VisualWarning_AllNegativeValues"),title:"",detail:""}},t=s;function s(){}e.AllNegativeValuesWarning=t;Object.defineProperty(u.prototype,"code",{get:function(){return"NaNNotSupported"},enumerable:!1,configurable:!0}),u.prototype.getMessages=function(e){return{message:e.get("VisualWarning_NanValues"),title:"",detail:""}},t=u;function u(){}e.NaNNotSupportedWarning=t;Object.defineProperty(c.prototype,"code",{get:function(){return"InfinityValuesNotSupported"},enumerable:!1,configurable:!0}),c.prototype.getMessages=function(e){return{message:e.get("VisualWarning_InfinityValues"),title:"",detail:""}},t=c;function c(){}e.InfinityValuesNotSupportedWarning=t;Object.defineProperty(p.prototype,"code",{get:function(){return"ValuesOutOfRange"},enumerable:!1,configurable:!0}),p.prototype.getMessages=function(e){return{message:e.get("VisualWarning_VisualizationOutOfRange"),title:"",detail:""}},t=p;function p(){}e.ValuesOutOfRangeWarning=t;Object.defineProperty(d.prototype,"code",{get:function(){return"ZeroValuesNotSupported"},enumerable:!1,configurable:!0}),d.prototype.getMessages=function(e){var t="VisualWarning_ZeroValues";return{message:e.get(t),title:e.get("VisualWarning_ZeroValuesTitle"),detail:e.get(t)}},t=d;function d(){}e.ZeroValueWarning=t;Object.defineProperty(m.prototype,"code",{get:function(){return"AlignZerosWithCustomDomain"},enumerable:!1,configurable:!0}),m.prototype.getMessages=function(e){var t="VisualWarning_AlignZerosWithCustomDomain";return{message:e.get(t),title:e.get("VisualWarning_AlignZerosWithCustomDomainTitle"),detail:e.get(t)}},t=m;function m(){}e.AlignZerosWithCustomDomainWarning=t;Object.defineProperty(g.prototype,"code",{get:function(){return"VisualKPIDataMissing"},enumerable:!1,configurable:!0}),g.prototype.getMessages=function(e){return{message:e.get("Visual_KPI_DataMissing"),title:"",detail:""}},t=g;function g(){}e.VisualKPIDataMissingWarning=t;Object.defineProperty(y.prototype,"code",{get:function(){return"ScriptVisualNotRefreshed"},enumerable:!1,configurable:!0}),y.prototype.getMessages=function(e){var t="ScriptVisualRefreshWarningMessage";return{message:e.get(t),title:e.get(t),detail:e.get("ScriptVisualRefreshWarningValue")}},t=y;function y(){}e.ScriptVisualRefreshWarning=t;Object.defineProperty(h.prototype,"code",{get:function(){return"DateSlicerNoData"},enumerable:!1,configurable:!0}),h.prototype.getMessages=function(e){return{message:e.get("VisualWarning_DateSlicerNoData"),title:"",detail:""}},t=h;function h(){}e.DateSlicerNoDataWarning=t;Object.defineProperty(b.prototype,"code",{get:function(){return"DataLabelsNotRendered"},enumerable:!1,configurable:!0}),b.prototype.getMessages=function(e){var t="DataLabelsNotRenderedMessage";return{message:e.get(t),title:e.get(t),detail:e.get("DataLabelsNotRenderedValue")}},t=b;function b(){}e.DataLabelsNotRenderedWarning=t;Object.defineProperty(f.prototype,"code",{get:function(){return"LegendFontSize"},enumerable:!1,configurable:!0}),f.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_LegendFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_LegendFontSize")}},t=f;function f(){}e.LegendFontSizeWarning=t;Object.defineProperty(v.prototype,"code",{get:function(){return"LegendNotRendered"},enumerable:!1,configurable:!0}),v.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_LegendNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_LegendNotRendered")}},t=v;function v(){}e.LegendNotRenderedWarning=t;Object.defineProperty(S.prototype,"code",{get:function(){return"LegendLocation"},enumerable:!1,configurable:!0}),S.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_LegendLocation";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_LegendLocation")}},t=S;function S(){}e.LegendLocationWarning=t;Object.defineProperty(C.prototype,"code",{get:function(){return"AxisFontSize"},enumerable:!1,configurable:!0}),C.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_AxisFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_AxisFontSize")}},t=C;function C(){}e.AxisFontSizeWarning=t;Object.defineProperty(x.prototype,"code",{get:function(){return"AxisAndAxisLabelsNotRendered"},enumerable:!1,configurable:!0}),x.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_AxisNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_AxisNotRendered")}},t=x;function x(){}e.AxisAndAxisLabelsNotRenderedWarning=t;Object.defineProperty(w.prototype,"code",{get:function(){return"AxisLabelsNotRendered"},enumerable:!1,configurable:!0}),w.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_AxisLabelNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_AxisLabelNotRendered")}},t=w;function w(){}e.AxisLabelsNotRenderedWarning=t;Object.defineProperty(N.prototype,"code",{get:function(){return"ZoomSlidersNotRendered"},enumerable:!1,configurable:!0}),N.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_ZoomSlidersNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_ZoomSlidersNotRendered")}},t=N;function N(){}e.ZoomSlidersNotRenderedWarning=t;Object.defineProperty(P.prototype,"code",{get:function(){return"SmallMultiplesSubheaderNotRendered"},enumerable:!1,configurable:!0}),P.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersNotRendered")}},t=P;function P(){}e.SmallMultiplesSubheadersNotRenderedWarning=t;Object.defineProperty(T.prototype,"code",{get:function(){return"SmallMultiplesSubheaderFontSize"},enumerable:!1,configurable:!0}),T.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersFontSize")}},t=T;function T(){}e.SmallMultiplesSubheadersFontSizeWarning=t;Object.defineProperty(D.prototype,"code",{get:function(){return"SmallMultiplesPaddingSize"},enumerable:!1,configurable:!0}),D.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesPaddingSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesPaddingSize")}},t=D;function D(){}e.SmallMultiplesPaddingSizeWarning=t;Object.defineProperty(V.prototype,"code",{get:function(){return"SmallMultiplesGridlinesSize"},enumerable:!1,configurable:!0}),V.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesGridlinesSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesGridlinesSize")}},t=V;function V(){}e.SmallMultiplesGridlinesSizeWarning=t;Object.defineProperty(L.prototype,"code",{get:function(){return"SlicerHeaderNotRendered"},enumerable:!1,configurable:!0}),L.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SlicerHeaderNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SlicerHeaderNotRendered")}},t=L;function L(){}e.SlicerHeaderNotRenderedWarning=t;Object.defineProperty(M.prototype,"code",{get:function(){return"SlicerHeaderFontSize"},enumerable:!1,configurable:!0}),M.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SlicerHeaderFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SlicerHeaderFontSize")}},t=M;function M(){}e.SlicerHeaderFontSizeWarning=t;Object.defineProperty(R.prototype,"code",{get:function(){return"HorizontalSlicerFontSize"},enumerable:!1,configurable:!0}),R.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_HorizontalSlicerFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_HorizontalSlicerFontSize")}},t=R;function R(){}e.HorizontalSlicerFontSizeWarning=t;Object.defineProperty(A.prototype,"code",{get:function(){return A.code},enumerable:!1,configurable:!0}),A.prototype.getMessages=function(e){var t="NoIdentityExprMessage";return{message:e.get(t),title:e.get(t),detail:e.get("NoIdentityExprValue")}},A.code="NoIdentityExprWarning",t=A;function A(){}e.NoIdentityExprWarning=t;Object.defineProperty(k.prototype,"code",{get:function(){return k.code},enumerable:!1,configurable:!0}),k.prototype.getMessages=function(e){return{message:e.get("Visual_Error_SelectionNotShownMessage"),title:e.get("Visual_Error_SelectionNotShownKey"),detail:e.get("Visual_Error_SelectionNotShownValue")}},k.code="OnRestoreSelectionNotSupportedWarning",t=k;function k(){}e.OnRestoreSelectionNotSupportedWarning=t;Object.defineProperty(j.prototype,"code",{get:function(){return"DataLabelsFontSize"},enumerable:!1,configurable:!0}),j.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_DataLabelsFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_DataLabelsFontSize")}},t=j;function j(){}e.DataLabelsFontSizeWarning=t;Object.defineProperty(F.prototype,"code",{get:function(){return"AzureMapsInvalidLatLong"},enumerable:!1,configurable:!0}),F.prototype.getMessages=function(e){return{message:e.get("InvalidLatLongMessage"),title:e.get("InvalidLatLongKey"),detail:e.get("AzureMapsInvalidLatLongValue")}},t=F;function F(){}e.AzureMapsInvalidLatLongWarning=t;Object.defineProperty(O.prototype,"code",{get:function(){return"AzureMapsControlLoad"},enumerable:!1,configurable:!0}),O.prototype.getMessages=function(e){return{message:e.get("AzureMapsControlLoadMessage"),title:e.get("AzureMapsControlLoadTitle"),detail:e.get("AzureMapsControlLoadDetail")}},t=O;function O(){}e.AzureMapsControlLoadWarning=t;Object.defineProperty(z.prototype,"code",{get:function(){return"AzureMapsBrowserUnsupported"},enumerable:!1,configurable:!0}),z.prototype.getMessages=function(e){return{message:e.get("AzureMapsBrowserUnsupportedMessage"),title:e.get("AzureMapsBrowserUnsupportedTitle"),detail:e.get("AzureMapsBrowserUnsupportedDetail")}},t=z;function z(){}e.AzureMapsBrowserUnsupportedWarning=t;Object.defineProperty(B.prototype,"code",{get:function(){return"AzureMapsFileRead"},enumerable:!1,configurable:!0}),B.prototype.getMessages=function(e){return{message:e.get("AzureMapsFileReadMessage"),title:e.get("AzureMapsFileReadTitle"),detail:e.get("AzureMapsFileReadDetail")}},t=B;function B(){}e.AzureMapsFileReadWarning=t;Object.defineProperty(I.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),I.prototype.getMessages=function(e){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}},t=I;function I(e,t,a){this.titleKey=t,this.detailKey=a,this._code=e}e.CustomizedWarning=t;Object.defineProperty(H.prototype,"code",{get:function(){return"SparklineDataCountExceeded"},enumerable:!1,configurable:!0}),H.prototype.getMessages=function(e){return{message:e.get("Sparkline_Visual_DataWarning"),title:"",detail:""}},t=H;function H(){}e.SparklineDataReductionWarning=t;E.prototype.add=function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return this.warnings||(this.warnings=[]),(e=this.warnings).push.apply(e,t||[]),this},E.prototype.addForVisualObject=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];this.visualObjectWarnings||(this.visualObjectWarnings={});e=this.visualObjectWarnings[e]=this.visualObjectWarnings[e]||[];return e.push.apply(e,t||[]),this},E.prototype.removeForVisualObject=function(e){return this.visualObjectWarnings&&(this.visualObjectWarnings[e]=void 0),this},E.prototype.complete=function(){if(!_.isEmpty(this.warnings)||null!=this.visualObjectWarnings)return{warnings:this.warnings,visualObjectWarnings:this.visualObjectWarnings}},t=E;function E(){}e.VisualWarningBuilder=t})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(g){!(function(u){var e=jsCommon.CssConstants.createClassAndSelector,t=g.visuals.Units.FontSize;u.TooltipContainerClassName=e("tooltip-container"),u.TooltipLightClassName=e("tooltip-light"),u.TooltipContentContainerClassName=e("tooltip-content-container"),u.TooltipDataContainerClassName=e("tooltip-data-container"),u.TooltipIconCellClassName=e("tooltip-icon-cell"),u.TooltipLineIconClassName=e("tooltip-line-icon"),u.TooltipMarkerIconClassName=e("tooltip-marker-icon"),u.TooltipHeaderClassName=e("tooltip-header"),u.TooltipSubheaderClassName=e("tooltip-subheader"),u.TooltipFooterClassName=e("tooltip-footer"),u.TooltipDiscoverabilityTextClassName=e("tooltip-discoverabilityText"),u.TooltipRowClassName=e("tooltip-row"),u.TooltipTitleCellClassName=e("tooltip-title-cell"),u.TooltipValueCellClassName=e("tooltip-value-cell"),u.TooltipKpiCellClassName=e("tooltip-kpi-cell"),u.TooltipArrowClassName=e("arrow");t=t.createFromPt(9);u.DefaultDataItemTooltipStyle={titleFontProperties:{color:"#C8C8C8",family:u.Font.Family.regular.css,size:t,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:u.Font.Family.semibold.css,size:t,weight:"700"},background:{solid:{color:"#333333"}},transparency:5};a.prototype.create=function(){var e=$("<div>").get(0);return(this.container=d3.select(e).classed(u.TooltipContentContainerClassName.class,!0)).append("div").classed(u.TooltipDataContainerClassName.class,!0).style("direction","ltr"),e},a.prototype.update=function(e){if(null==e.style&&(e.style=u.DefaultDataItemTooltipStyle),e.style.titleFontProperties,e.style.valueFontProperties,!_.isEqual(e,this.currentData)&&(this.currentData=e,this.textTitleFontProperty=u.FontProperties.toTextProperties(e.style.titleFontProperties),this.textValueFontProperty=u.FontProperties.toTextProperties(e.style.valueFontProperties),this.container.data)){var t=this.buildViewModel(e),a=this.dataContainer=this.dataContainer||this.container.select(u.TooltipDataContainerClassName.selector);a.selectAll(u.TooltipSubheaderClassName.selector).remove(),a.selectAll(u.TooltipHeaderClassName.selector).remove(),a.selectAll(u.TooltipRowClassName.selector).remove(),a.selectAll(u.TooltipFooterClassName.selector).remove(),a.selectAll(u.TooltipDiscoverabilityTextClassName.selector).remove();var i=this.renderSubeader(a,t),o=this.renderHeader(a,t);this.updateTooltipRows(a,t.rows);var r=this.renderDiscoverabilityText(a,t);this.renderFooter(a,t);var n=d3.select(u.TooltipContainerClassName.selector),l=n.node()&&n.classed(u.TooltipLightClassName.class),e=n.selectAll(u.TooltipArrowClassName.selector),a=n.selectAll(u.TooltipContentContainerClassName.selector),t=n.select(u.TooltipDataContainerClassName.selector).selectAll(u.TooltipTitleCellClassName.selector),n=n.select(u.TooltipDataContainerClassName.selector).selectAll(u.TooltipValueCellClassName.selector),s=this.currentData.style;if(l)return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void e.styles({"border-right-color":null,"border-left-color":null,opacity:null});e.styles({"border-right-color":s.background&&s.background.solid.color,"border-left-color":s.background&&s.background.solid.color,opacity:1-s.transparency/100}),o.styles(u.FontProperties.toD3Style((function(){return s.valueFontProperties}))),i.styles(u.FontProperties.toD3Style((function(){return s.valueFontProperties}))),a.styles({"background-color":s.background&&s.background.solid.color,opacity:1-s.transparency/100}),t.styles(u.FontProperties.toD3Style((function(){return s.titleFontProperties}))),n.styles(u.FontProperties.toD3Style((function(){return s.valueFontProperties}))),r&&s.actionFontProperties&&r.styles(u.FontProperties.toD3Style((function(){return s.actionFontProperties})))}},a.prototype.renderHeader=function(e,t){var a=e.selectAll(u.TooltipHeaderClassName.selector).data(_.filter([t.header],(function(e){return!!e}))),e=a.enter().append("div").attr("class",u.TooltipHeaderClassName.class).merge(a);return e.text(t.header),a.exit().remove(),e},a.prototype.renderSubeader=function(e,t){var a=e.selectAll(u.TooltipSubheaderClassName.selector).data(_.filter([t.subheader],(function(e){return!!e}))),e=a.enter().append("div").attr("class",u.TooltipSubheaderClassName.class).merge(a);return e.text(t.subheader),a.exit().remove(),e},a.prototype.renderFooter=function(e,t){var a=e.selectAll(u.TooltipFooterClassName.selector).data(_.filter([t.footer],(function(e){return!!e}))),e=a.enter().append("div").attr("class",u.TooltipFooterClassName.class).merge(a);return e.text(t.footer),a.exit().remove(),e},a.prototype.renderDiscoverabilityText=function(e,t){var a=e.selectAll(u.TooltipDiscoverabilityTextClassName.selector).data(_.filter([t.discoverabilityText],(function(e){return!!e}))),e=a.enter().append("div").attr("class",u.TooltipDiscoverabilityTextClassName.class).merge(a);return e.text(t.discoverabilityText),a.exit().remove(),e},a.prototype.updateTooltipRows=function(e,t){e.selectAll(u.TooltipRowClassName.selector).remove();var a=e.selectAll(u.TooltipRowClassName.selector).data(t),i=a.enter().append("div").classed(u.TooltipRowClassName.class,!0).merge(a),o=i.selectAll(u.TooltipIconCellClassName.selector).data((function(e){return _.filter([e.icon],(function(e){return void 0!==e}))})),r=o.enter().append("div").classed(u.TooltipIconCellClassName.class,!0),e=r.append("svg").attr("height","15px");e.append("path").classed(u.TooltipLineIconClassName.class,!0).styles({"stroke-opacity":"1","stroke-width":"2"}),e.append("path").classed(u.TooltipMarkerIconClassName.class,!0);t=r.merge(o);t.style("max-width",(function(e){return e&&e.line&&e.line.lineStyle?"31px":"13px"})),t.selectAll("svg").attr("width",(function(e){return e&&e.line&&e.line.lineStyle?31:"100%"})),t.selectAll(u.TooltipLineIconClassName.selector).attrs({transform:function(e){return u.SVGUtil.translateAndScale(e&&e.line&&e.line.lineStyle?15.5:5,8,5/u.Markers.defaultSize)},d:function(e){return e&&e.line&&e.line.lineStyle?"M 0 0 M -15.5 0 L 15.5 0":null}}).styles({stroke:function(e){return e&&e.line&&e.line.lineColor},"stroke-dasharray":function(e){return e&&e.line&&e.line.lineStyle?u.LineStyle.getSrokeDashArrayForLegend(e.line.lineStyle):null}}),t.selectAll(u.TooltipMarkerIconClassName.selector).attrs({transform:function(e){return u.SVGUtil.translateAndScale(e&&e.line&&e.line.lineStyle?15.5:5,8,5/u.Markers.defaultSize)},d:function(e){return u.Markers.getPath(e&&e.marker&&e.marker.markerShape||u.markerShape.defaultValue)}}).styles({fill:function(e){return e&&e.marker&&e.marker.color},stroke:function(e){return e&&e.marker&&e.marker.color},"fill-opacity":function(e){return e&&e.marker&&null!=e.marker.opacity?e.marker.opacity:1},"stroke-opacity":function(e){return e&&e.marker&&null!=e.marker.opacity?e.marker.opacity:1}});e=i.selectAll(u.TooltipTitleCellClassName.selector).data((function(e){return _.filter([e.displayNameRows],(function(e){return!!e}))})),r=e.enter().append("div").classed(u.TooltipTitleCellClassName.class,!0).merge(e);this.buildTextRows(r,this.textTitleFontProperty,260);t=i.selectAll(u.TooltipValueCellClassName.selector).data((function(e){return _.filter([e.valueRows],(function(e){return!_.isEmpty(e)}))})),r=t.enter().append("div").classed(u.TooltipValueCellClassName.class,!0).merge(t);this.buildTextRows(r,this.textValueFontProperty,260);r=i.selectAll(u.TooltipKpiCellClassName.selector).data((function(e){return _.filter([e.kpi],(function(e){return!!e}))}));r.enter().append("div").styles({"vertical-align":"middle",margin:0}).merge(r).attr("class",(function(e){return u.TooltipKpiCellClassName.class+" "+u.KpiUtil.getClassForKpi(e.metadata,e.value)})),i.each((function(e){e=e.extraPadding;null!=e&&d3.selectAll(this.children).style("padding-top","top"===e?"5px":null).style("padding-bottom","bottom"===e?"5px":null)})),o.exit().remove(),e.exit().remove(),t.exit().remove(),r.exit().remove(),a.exit().remove()},a.prototype.buildTextRows=function(e,t,a){e=e.selectAll("div").data((function(e){return e}));e.enter().append("div").merge(e).text((function(e){e=__assign(__assign({},t),{text:e});return g.TextMeasurementService.getTailoredTextOrDefault(e,a)})),e.exit().remove()},a.prototype.updateOptions=function(e){this.dataContainer&&(e=e.dataContainerWidth,this.dataContainer.style("width",null!=e?e+"px":""))},a.prototype.buildViewModel=function(t){var a=this,e=t.items,i=_.chain(e).filter((function(e){return a.isValidDataItem(e)})).map((function(e){return a.buildRowViewModel(e,t.style.titleFontProperties.color)})).value();this.distributeRows(i,t.bounds);for(var o=_.head(e),r=o&&o.header,n=o&&o.subheader,o=_.last(e),e=t.discoverabilityText,o=o&&o.footer,l=!1,s=!1,u=0,c=i;u<c.length;u++){var p=c[u];if(!l&&p.icon&&(l=!0),s||!p.valueRows&&!p.kpi||(s=!0),l&&s)break}for(var d=0,m=i;d<m.length;d++){p=m[d];l&&void 0===p.icon&&(p.icon=null),s&&void 0===p.valueRows&&null==p.kpi&&(p.valueRows=[])}return{footer:o,hasIcons:l,hasValues:s,header:r,subheader:n,rows:i,discoverabilityText:e}},a.prototype.buildRowViewModel=function(e,t){var a;!t||e.markerShape!==u.markerShape.lowerErrorBar&&e.markerShape!==u.markerShape.upperErrorBar||(e.color=t),e.color&&(a={line:{lineColor:e.lineColor,lineStyle:e.lineStyle},marker:{color:e.color,opacity:e.opacity,markerShape:e.markerShape}},e.markerShape===u.markerShape.upperErrorBar&&(i="top"),e.markerShape===u.markerShape.lowerErrorBar&&(i="bottom"));var i={displayNameRows:[e.displayName],icon:a,kpi:e.kpiValue,valueRows:null!=e.value?[e.value]:void 0,extraPadding:i};return e.kpiValue&&(void 0!==i.valueRows&&(i.valueRows=void 0),i.kpi=e.kpiValue),i},a.prototype.isValidDataItem=function(e){return!!e&&((null==e.displayName||"string"==typeof e.displayName)&&(null==e.value||"string"==typeof e.value))},a.prototype.getRowHeight=function(){return Math.max(g.TextMeasurementService.estimateSvgTextHeight(this.textTitleFontProperty),g.TextMeasurementService.estimateSvgTextHeight(this.textValueFontProperty))},a.prototype.distributeRows=function(e,t){for(var a=t.height/this.getRowHeight(),i=0,o=[],r=[],n=[],l=[],s=0;s<e.length;s++){(m=e[s]).displayNameRows.length,null==m.valueRows||m.valueRows.length;var u=m.displayNameRows[0],c=n[s]=jsCommon.WordBreaker.splitByWidth(u,this.textTitleFontProperty,g.TextMeasurementService.measureSvgTextWidth,260,a,null,!1,!0),p=void 0;null!=m.valueRows&&(u=m.valueRows[0],p=l[s]=jsCommon.WordBreaker.splitByWidth(u,this.textValueFontProperty,g.TextMeasurementService.measureSvgTextWidth,260,a,null,!1,!0));p=Math.max(c.length,p?p.length:0);o.push(p),i+=p}if(i<=a)r=o;else for(var d=a-e.length,s=0;s<e.length;s++)r[s]=1+Math.round(Math.max(d,0)*(o[s]/a));for(var m,s=0;s<e.length;s++)(m=e[s]).displayNameRows=this.getRows(n[s],r[s]),l[s]&&(m.valueRows=this.getRows(l[s],r[s]))},a.prototype.getRows=function(e,t){return e.length>t+1?e[t-1]+=e[t]+"…":e.length>t&&(e[t-1]+=e[t]),e.slice(0,t)},t=a;function a(){}u.DataItemTooltip=t})(g.visuals||(g.visuals={}))})(powerbi=powerbi||{}),(function(y){!(function(v){var r=jsCommon.Lazy,e=jsCommon.CssConstants.createClassAndSelector,a=e("tooltip-container"),t=e("tooltip-content"),i=e("arrow"),o=e("hide-arrow"),h=e("small-touch-screen"),b=e("large-touch-screen"),n=e("themeableElement"),f=e("tooltip-light");v.DefaultTooltipOptions={opacity:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1},v.TouchOptimizedTooltipOptions={opacity:.87,animationDuration:250,offsetY:30,offsetX:30,hideArrow:!0,touchOptimized:!0},v.createTooltipContainer=function(e,t){return new l(e,t)};var l=(s.prototype.isVisible=function(){return this.isTooltipVisible},s.prototype.setTestScreenSize=function(e,t){this.customScreenWidth=e,this.customScreenHeight=t},s.prototype.show=function(e,t){var a,i,o,r;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),e&&(a=u.getClickedScreenArea(e,this.getScreenBounds(),this.tooltipOptions),i=e.width>>1,o=e.height>>1,r={x:e.left+i,y:e.top+o}),this.tooltipContainer.style("display","").transition().duration(0).style("opacity",this.tooltipOptions.opacity),e&&this.setPositionAndSize(e,a,i,o,r,t)},s.prototype.classed=function(e,t){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(e.class,t)},s.prototype.move=function(e,t){var a,i,o,r;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),a=u.getClickedScreenArea(e,this.getScreenBounds(),this.tooltipOptions),i=e.width>>1,o=e.height>>1,r={x:e.left+i,y:e.top+o},this.setPositionAndSize(e,a,i,o,r,t)},s.prototype.updateContent=function(e){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(t.selector).remove(),e&&($(e).addClass(t.class),this.tooltipContainer.node().appendChild(e))},s.prototype.hide=function(){this.isTooltipVisible&&(this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(this.tooltipOptions.animationDuration).style("opacity",0).on("end",(function(){this.style.display="none"})))},s.prototype.destroy=function(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)},s.prototype.setTooltipAppearanceOptions=function(e){e=$.extend({},this.originalTooltipOptions,e);this.tooltipOptions=e},s.prototype.attachPointerEnterCallback=function(e){this.onPointerEnter=e},s.prototype.attachPointerLeaveCallback=function(e){this.onPointerLeave=e},s.prototype.createTooltipContainer=function(e){var t=this,e=d3.select(e).append("div").classed(a.class,!0).classed(n.class,!0);return e.append("div").classed(i.class,!0),e.style("display","none"),e.on("pointerenter.callback",(function(){return t.onPointerEnter&&t.onPointerEnter()})),e.on("pointerleave.callback",(function(){return t.onPointerLeave&&t.onPointerLeave()})),e},s.prototype.getTooltipContainerBounds=function(){var e;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),e=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):e=this.tooltipContainer.node().getBoundingClientRect(),{height:e.height/this.tooltipScaleFactor,width:e.width/this.tooltipScaleFactor}},s.prototype.updateTooltipPosition=function(e,t,a,i,o,r){var n=this.getTooltipContainerBounds(),l=0,s=0,u=this.tooltipOptions.hideArrow?0:r?3:7,c=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,p=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,d=!this.tooltipOptions.showImmediatelyAdjacentToClickedArea&&r?.5:1,r=!this.tooltipOptions.showImmediatelyAdjacentToClickedArea&&r?2.5:1;0===t?(l+=p*u+a,s-=c*r*u+i):1===t?(l-=c*d*u+n.width+a,s-=c*r*u+i):3===t?(l+=p*u+a,s-=n.height-c*r*u+i):2===t&&(l-=c*d*u+n.width+a,s-=n.height-c*r*u+i);i=0===t||3===t?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,t=0===t||1===t?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY;return{x:o.x+(l+=i),y:o.y+(s+=t)}},s.prototype.setPositionAndSize=function(e,t,a,i,o,r){o=this.updateTooltipPosition(e,t,a,i,o,r);o=this.widenTooltipIfNeeded(o);this.setTooltipContainerAttributes(t,o,!!o.width),this.tooltipContainer.style("width",o.width?o.width+"px":""),this.setArrowPosition(t)},s.prototype.widenTooltipIfNeeded=function(e){var t={left:e.x,top:e.y,width:void 0,height:void 0};return this.isNarrowTouchScreen()&&(t.left=8,e=this.getScreenBounds().width,t.width=e-16),t},s.prototype.setTooltipContainerAttributes=function(e,t,a){var i=this.getTooltipContainerBounds(),o=this.getScreenBounds(),r=this.isNarrowTouchScreen(),n=i.width,l=i.height,s=o.width,u=o.height,c=t.left,p=t.top;this.tooltipOptions.touchOptimized&&(c=0<=t.left?t.left:5,p=0<=t.top?t.top:5);var d=s-c-n,m=u-p-l;this.tooltipOptions.touchOptimized&&(d<0&&(d=s-(c-=Math.abs(d)+5)-n+5),m<0&&(m=u-(p-=Math.abs(m)+5)-l+5));var g=((i={left:!1,right:!1})[h.class]=this.isSmallTouchScreen(),i[b.class]=this.isLargeTouchScreen(),i),t=0===e||1===e,i=0===e||3===e,e={left:null,top:null,right:null,bottom:null,transform:null},d=i?(g.left=!0,e.left=c+"px",c):(g.right=!0,e.right=d+"px",d),m=t?(e.top=p+"px",p):(e.bottom=m+"px",m);a&&(e.left=c+"px");n={height:l+10,width:r?n:n+10},s=s<n.width+d,u=u<n.height+m;this.tooltipScaleFactor=1,(s||u)&&(this.tooltipScaleFactor=this.calculateScaleFactor(n,o,d,m));var y,m=null;for(y in this.tooltipScaleFactor<1&&(m=(t?"top":"bottom")+" "+(i?"left":"right"),e.transform="scale("+this.tooltipScaleFactor+")"),g)this.tooltipContainer.classed(y,g[y]);this.tooltipContainer.classed(f.class,this.tooltipOptions.useLightColors).styles(e).style("transform-origin",m)},s.prototype.calculateScaleFactor=function(e,t,a,i){a=(t.width-a)/e.width,e=(t.height-i)/e.height;return Math.min(a,e)},s.prototype.setArrowPosition=function(e){e=0===e?"top left":1===e?"top right":3===e?"bottom left":"bottom right";this.getArrowElement().attr("class","arrow").classed(e,!0).classed(o.class,this.tooltipOptions.hideArrow)},s.prototype.isNarrowTouchScreen=function(){return this.tooltipOptions.touchOptimized&&this.getScreenBounds().width<=540},s.prototype.isSmallTouchScreen=function(){if(!this.tooltipOptions.touchOptimized)return!1;var e=this.getScreenBounds();return e.width<=540||e.height<=450},s.prototype.isLargeTouchScreen=function(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()},s.prototype.getArrowElement=function(){return this.tooltipContainer.select(i.selector)},s.prototype.getScreenBounds=function(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}},s);function s(e,t){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=e,this.originalTooltipOptions=$.extend({},v.DefaultTooltipOptions,t),this.tooltipOptions=this.originalTooltipOptions}v.TooltipContainer=l;var u,c,S=(p.highlightedValueDisplayNameResorceKey="Tooltip_HighlightedValueDisplayName",p);function p(){}function C(e,t){return e?{value:e.values[t],metadata:{source:e.source,values:[]}}:null}v.ToolTipComponent=S,(u=v.TooltipCommon||(v.TooltipCommon={})).getClickedScreenArea=function(e,t,a){var i=e.width/2,o=e.height/2,i=e.left+i,e=e.top+o,o=t.width/2,t=t.height/2,e=a&&a.showAboveClickedArea||t<=e;return i<o&&!e?0:o<=i&&!e?1:i<o&&e?3:o<=i&&e?2:void 0},(e=c=v.TooltipBuilder||(v.TooltipBuilder={})).createTooltipInfo=function(e,t,a,i,o,r,n,l,s,u){var c,p,d=[];n|=0;var m=t?t.categories:o;if(m&&0<m.length)if(1<m.length){for(var g=[],y=0,h=m.length;y<h;y++)g.push(m[y].source);c={value:a,metadata:g}}else c={value:a,metadata:[m[0].source]};if(t&&t.values&&(c&&c.metadata[0]===t.values.source||(p=t.values.source),0<t.values.length&&((n=t.values[n])&&n.source&&n.source.isAutoGeneratedColumn||d.push({value:i,highlightedValue:s,metadata:n})),null!=(l=C(u,l))&&d.push(l)),r)for(var y=0,b=r.length;y<b;y++){var f=r[y];c&&c.metadata[0]===f.metadata.source||d.push({value:f.value,metadata:f.metadata})}return (function(e,t,a,i){S.localizationOptions;var o=[];if(t)if(1<t.metadata.length){for(var r="",n=0,l=t.metadata.length;n<l;n++)0!==n&&(r+="/"),r+=t.metadata[n].displayName;var s=v.converterHelper.formatFromMetadataColumn(t.value,t.metadata[0],e);o.push({displayName:r,value:s})}else{s=v.converterHelper.formatFromMetadataColumn(t.value,t.metadata[0],e);o.push({displayName:t.metadata[0].displayName,value:s})}{var u;a&&(u=void 0,0<i.length&&(s=i[0].metadata.source,u=v.converterHelper.formatFromMetadataColumn(s.groupName,a,e)),o.push({displayName:a.displayName,value:u}))}for(var c=0,p=i;c<p.length;c++){var d,m,g=p[c];g&&g.metadata&&(m=g.metadata.source,d=g.value,g=g.highlightedValue,!d&&0!==d||(d=v.converterHelper.formatFromMetadataColumn(d,m,e,!1),o.push({displayName:m.displayName,value:d})),!g&&0!==g||(m=v.converterHelper.formatFromMetadataColumn(g,m,e,!1),r=S.localizationOptions.highlightedValueDisplayName,o.push({displayName:r,value:m})))}return o})(e,c,p,d)},e.createGradientToolTipData=C,e.addTooltipMeasures=function(e,t,a,i,o){var r=e.data.getAllValuesForRole("Tooltips",a,i),n=e.data.getAllFormatStringsForRole("Tooltips",a,i),l=e.data.getAllValueDisplayNamesForRole("Tooltips"),s=e.columns.getAllValueMetadataColumnsForRole("Tooltips",i);if(r)for(var u=0;u<r.length;u++)null!=r[u]&&t.push({displayName:l[u],value:v.converterHelper.formatFromMetadataColumn(r[u],s[u],o,!1,n[u])})},e.withMultipleColumnAndValues=function(a,t,e,i,o){if(a&&(a.length,t.length,e||!_.every(t,(function(e){return null==e})))){e=v.DataViewConcatenateUtil.concatenateValues(_.map(a,(function(e){return e.queryName})));if(o){if(_.includes(o,e))return;o.push(e)}var r=v.DataViewConcatenateUtil.concatenateValues(_.map(a,(function(e){return e.displayName})));return function(){var e=v.DataViewConcatenateUtil.concatenateValues(_.map(t,(function(e,t){return i(e,a[t])})));return{displayName:r,value:e}}}};d.prototype.withColumnValue=function(e,t,a,i,o){return e&&(!i&&null==t||_.includes(this.columns,e.queryName)||(this.columns.push(e.queryName),this.items.push(new r(function(){return{displayName:e.displayName,value:o(t,e,a)}})))),this},d.prototype.withMultipleColumnAndValues=function(e,t,a,i){i=c.withMultipleColumnAndValues(e,t,a,i);return i&&this.items.push(new r(i)),this},d.prototype.withValue=function(e,t){return this.items.push(new r(function(){return{displayName:e,value:t}})),this},d.prototype.withLazyValue=function(e){return this.items.push(e),this},d.prototype.withLazyValues=function(e){return this.items.push(new r(e)),this},d.prototype.getTooltipItems=function(){return _.flatten(_.map(this.items,(function(e){return e.getValue()})))},d.prototype.getFormattedTooltipItems=function(){return void 0===this.formatted&&(this.formatted=v.tooltipUtils.formatTooltipInfo(this.getTooltipItems())),this.formatted},e=d;function d(){this.items=[],this.columns=[]}v.LazyTooltipBuilder=e;var m,e=(__extends(g,m=e),g.prototype.withAllValuesForRole=function(e,t,a,i,o){a=this.reader.getAllValueColumnsForRole(e,a);if(_.isEmpty(a))return this;for(var r=0,n=a;r<n.length;r++){var l=n[r];this.withColumnValueByIndex(l,t,i,o)}return this},g.prototype.withColumnValueByIndex=function(e,t,a,i){var o;if(!e)return this;var r=e.values[t],t=y.DataViewObjects.getValue(null===(o=e.objects)||void 0===o?void 0:o[t],this.formatStringProp);return this.withColumnValue(e.source,r,t,a,i)},g);function g(e,t){var a=m.call(this)||this;return a.reader=e,a.formatStringProp=t,a}v.CategoricalLazyTooltipBuilder=e})(y.visuals||(y.visuals={}))})(powerbi=powerbi||{}),(function(e){function r(){}e=e.visuals||(e.visuals={}),r.prototype.init=function(e){this.currentViewport=e.viewport,this.$el=$(r.baseTemplate),this.newsList=this.$el.find(".bingSocialNewsList"),this.loadingPlaceholder=this.$el.find(".loadingPlaceholder"),this.loadingPlaceholderText=this.$el.find(".loadingPlaceholderText"),this.loadingPlaceholder.height(e.viewport.height),this.loadingPlaceholder.width(e.viewport.width),this.getLocalizedString=e.host.getLocalizedString,this.loadingPlaceholderText.text(this.getLocalizedString("Tile_LoadingText")),e.element.append(this.$el),this.data=[],this.addSizeClasses()},r.prototype.onDataChanged=function(e){e=e.dataViews;0<e.length&&(e=e[0].bingSocial,this.data!==e&&(this.data=e,0<this.data.length?(this.loadingPlaceholder.hide(),this.updateInternal()):this.loadingPlaceholderText.text(this.getLocalizedString("BingSocialTile_NoResults"))))},r.prototype.onResizing=function(e){this.currentViewport.height===e.height&&this.currentViewport.width===e.width||(this.currentViewport=e,this.addSizeClasses(),this.data.length||this.loadingPlaceholder.height(e.height).width(e.width))},r.prototype.addSizeClasses=function(){this.addSizeClass("height"),this.addSizeClass("width")},r.prototype.addSizeClass=function(e){var t=r.tileDimensions[e];if(t){for(var a=this.currentViewport[e],i=t.length,o=2;o<=i;o++)this.$el.removeClass(e+o),this.$el.removeClass(e+o+"up");for(o=i;1<o;o--)if(a>=t[o-1]){this.$el.addClass(e+o);break}for(;1<o;)this.$el.addClass(e+o+"up"),o--}},r.prototype.updateInternal=function(){this.newsList.empty();for(var e=0,t=this.data;e<t.length;e++){var a=t[e],a=this.fillInArticleTemplate(a);this.newsList.append(a)}},r.prototype.fillInArticleTemplate=function(e){var t=$(r.listItemTemplate),a=e.image&&e.image.thumbnail&&e.image.thumbnail.contentUrl;return a?(t.find(".js-storyLink").attr("href",e.url),t.find(".js-newsImage").css("background-image","url("+a+")"),t.find(".js-title").html(e.name),t.find(".js-description").html(e.description),t.find(".js-source").text(e.provider[0].name),t):null},r.tileDimensions={height:[100,280,460,640,820,1e3,1180].map((function(e){return e-90})),width:[230,490,750,1010,1270,1530,1790].map((function(e){return e-130}))},r.baseTemplate='<div class="bingSocialNews"><div><div class="bingSocialLoadingPlaceholder loadingPlaceholder"><div class="loadingPlaceholderText" ></div></div><ul class="bingSocialNewsList"></ul></div></div>',r.listItemTemplate='<li><div class="article"><div class="contentRight"><a class="storyLink js-storyLink" target="_blank"><div class="newsImage js-newsImage"></div><span class="title js-title"></span></a><p class="description js-description"></p></div><div class="source js-source"></div></div></li>',e.BingSocialNews=r})(powerbi=powerbi||{}),(function(e){function p(){}e=e.visuals||(e.visuals={}),p.prototype.init=function(e){this.currentViewport=e.viewport,this.$el=$(p.baseTemplate),this.tweetsList=this.$el.find(".bingSocialTweetsList"),this.loadingPlaceholder=this.$el.find(".loadingPlaceholder"),this.loadingPlaceholderText=this.$el.find(".loadingPlaceholderText"),this.loadingPlaceholder.height(e.viewport.height),this.loadingPlaceholder.width(e.viewport.width),this.getLocalizedString=e.host.getLocalizedString,this.loadingPlaceholderText.text(this.getLocalizedString("Tile_LoadingText")),e.element.append(this.$el),this.data=[],this.addSizeClasses()},p.prototype.onDataChanged=function(e){e=e.dataViews;0<e.length&&(e=e[0].bingSocial,this.data!==e&&(this.data=e,0<this.data.length?(this.loadingPlaceholder.hide(),this.updateInternal()):this.loadingPlaceholderText.text(this.getLocalizedString("BingSocialTile_NoResults"))))},p.prototype.onResizing=function(e){this.currentViewport.height===e.height&&this.currentViewport.width===e.width||(this.currentViewport=e,this.addSizeClasses(),this.data.length||this.loadingPlaceholder.height(e.height).width(e.width))},p.prototype.addSizeClasses=function(){this.addSizeClass("height"),this.addSizeClass("width")},p.prototype.addSizeClass=function(e){var t=p.tileDimensions[e];if(t){for(var a=this.currentViewport[e],i=t.length,o=2;o<=i;o++)this.$el.removeClass(e+o),this.$el.removeClass(e+o+"up");for(o=i;1<o;o--)if(a>=t[o-1]){this.$el.addClass(e+o);break}for(;1<o;)this.$el.addClass(e+o+"up"),o--}},p.prototype.updateInternal=function(){this.tweetsList.empty();for(var e=0,t=this.data;e<t.length;e++){var a=t[e],a=this.fillInTweetTemplate(a);this.tweetsList.append(a)}},p.prototype.fillInTweetTemplate=function(e){var t=$(p.listItemTemplate),a="https://www.twitter.com/",i=e.User,o=encodeURIComponent(e.IdStr),r=encodeURIComponent(i.ScreenName);return t.find(".js-nameLink").attr("href",a+r),t.find(".js-avatar").attr("src",i.ProfileImageUrlHttps),t.find(".js-name").text(i.Name),t.find(".js-screenName").text("@"+i.ScreenName),t.find(".js-createdAt").attr("href",a+r+"/status/"+o),t.find(".js-createdAt").text(moment(e.CreatedAt).fromNow()),t.find(".js-reply").attr("href",a+"intent/tweet?in_reply_to="+o),t.find(".js-retweet").attr("href",a+"intent/retweet?tweet_id="+o),t.find(".js-favorite").attr("href",a+"intent/favorite?tweet_id="+o),t.find(".js-retweetCount").text(e.RetweetCount+" Retweets"),p.augmentLinks(t.find(".js-text"),e),t},p.augmentLinks=function(e,t){var a=t.Entities,i=[t.Text];a&&(t=a.Hashtags.map((function(e){return e.Text})),this.replaceTokens(i,t,p.hashtagRegexConstructor,(function(e){return p.createAnchorTag("#"+e,"https://www.twitter.com/hashtag/"+encodeURIComponent(e))})),t=a.UserMentions.map((function(e){return e.ScreenName})),this.replaceTokens(i,t,p.userMentionRegexConstructor,(function(e){return p.createAnchorTag("@"+e,"https://www.twitter.com/"+encodeURIComponent(e))})),t=a.Urls.map((function(e){return e.Url})),a=a.Media.map((function(e){return e.Url})),this.replaceTokens(i,t.concat(a),p.urlRegexConstructor,(function(e){return p.createAnchorTag(e,e)})));for(var o=0,r=i;o<r.length;o++){var n,l=r[o];"string"==typeof l?((n=$("<p></p>")).html(l),e.append(n)):e.append(l)}},p.createAnchorTag=function(e,t){var a=$('<a target="_blank"></a>');return a.text(e),a.attr("href",t),a},p.replaceTokens=function(e,t,a,i){if(t.length){for(var o=t.pop(),r=0;r<e.length;r++){var n=e[r];if("string"==typeof n){var l=a(_.escapeRegExp(o)),s=n.split(l),u=[],l=s[0];if(void 0!==l){""!==l&&u.push(l);for(var c=1;c<s.length;c++)c%2==1?u.push(i(s[c])):u.push(s[c]);Array.prototype.splice.apply(e,[r,1].concat(u)),r+=u.length-1}}}return p.replaceTokens(e,t,a,i)}},p.hashtagRegexConstructor=function(e){return new RegExp("\\B#("+e+")\\b","ig")},p.userMentionRegexConstructor=function(e){return new RegExp("\\B@("+e+")\\b","ig")},p.urlRegexConstructor=function(e){return new RegExp("\\b("+e+")\\b","g")},p.tileDimensions={height:[100,280,460,640,820].map((function(e){return e-90})),width:[230,490,750,1010,1270].map((function(e){return e-130}))},p.baseTemplate='<div class="bingSocialTweets"><div class="bingSocialLoadingPlaceholder loadingPlaceholder"><div class="loadingPlaceholderText" ></div></div><ul class="bingSocialTweetsList"></ul></div>',p.listItemTemplate='<li><div class="tweet"><div class="contentRight"><div class="tweetHeader"><a class="nameLink js-nameLink" target="_blank"><img class="avatar js-avatar" /><span class="name js-name"></span><span class="screenName js-screenName"></span></a><a class="createdAt js-createdAt" target="_blank"></a></div><div class="text js-text"></div></div><div class="tweetFooter"><a class="tweetActionText tweetReply js-reply" target="_blank" title="Reply"></a><a class="tweetActionText tweetRetweet js-retweet" target="_blank" title="Retweet"></a><a class="tweetActionText tweetFavorite js-favorite" target="_blank" title="Favorite"></a><span class="retweetCount js-retweetCount"></span></div></div></li>',e.BingSocialTweets=p})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).setCreatePivotTable=function(e){t.createPivotTable=e},t.setCreateTableEx=function(e){t.createTableEx=e},t.setCreateMatrix=function(e){t.createMatrix=e},t.setCreateTable=function(e){t.createTable=e},t.setCreateAccessibleTable=function(e){t.createAccessibleTable=e},t.setCreateActionButton=function(e){t.createActionButton=e},t.setCreateBasicShape=function(e){t.createBasicShape=e},t.setCreateCard=function(e){t.createCard=e},t.setCreateGauge=function(e){t.createGauge=e},t.setCreateDonutChart=function(e){t.createDonutChart=e},t.setCreateMultiRowCard=function(e){t.createMultiRowCard=e},t.setCreateFunnelChart=function(e){t.createFunnelChart=e},t.setCreateImage=function(e){t.createImage=e},t.setCreateMap=function(e){t.createMap=e},t.setCreateAzureMap=function(e){t.createAzureMap=e},t.setCreateAzureMapBehavior=function(e){t.createAzureMapBehavior=e},t.setCreateShapeMap=function(e){t.createShapeMap=e},t.setCreateShapeMapBehavior=function(e){t.createShapeMapBehavior=e},t.setCreateTreemap=function(e){t.createTreemap=e},t.setCreateTreeMapWebAnimator=function(e){t.createTreeMapWebAnimator=e},t.setCreateTreeMapWebBehavior=function(e){t.createTreeMapWebBehavior=e},t.setCreateSlicer=function(e){t.createSlicer=e},t.setCreateNavigator=function(e){t.createNavigator=e},t.setCreateTextbox=function(e){t.createTextbox=e},t.setCreateTextboxViewModelAdapter=function(e){t.createTextboxViewModelAdapter=e},t.setCreateAlwaysUseSmallViewportTextboxViewModelAdapter=function(e){t.createAlwaysUseSmallViewportTextboxViewModelAdapter=e},t.setCreateScriptVisual=function(e){t.createScriptVisual=e},t.setCreateKpi=function(e){t.createKpi=e},t.setCreateDecompositionTree=function(e){t.createDecompositionTree=e},t.setCreateScorecard=function(e){t.createScorecard=e},t.setCreateRdlVisual=function(e){t.createRdlVisual=e},t.setCreateShapeVisual=function(e){t.createShapeVisual=e},t.setCreateAnimatedNumber=function(e){t.createAnimatedNumber=e},t.setCreateSunburst=function(e){t.createSunburst=e},t.setCreateSunburstBehavior=function(e){t.createSunburstBehavior=e},t.setCreateCartesianChart=function(e){t.createCartesianChart=e},t.setCreateWebColumnChartAnimator=function(e){t.createWebColumnChartAnimator=e},t.setCreateRealTimeLineChartAnimator=function(e){t.createRealTimeLineChartAnimator=e},t.setCreateDashboardColumnChartAnimator=function(e){t.createDashboardColumnChartAnimator=e},t.setCreateCartesianChartBehaviorFactory=function(e){t.createCartesianChartBehaviorFactory=e},t.setCreateColumnChartWebBehaviorFactory=function(e){t.createColumnChartWebBehaviorFactory=e},t.setCreateDataDotChartWebBehaviorFactory=function(e){t.createDataDotChartWebBehaviorFactory=e},t.setCreateLineChartWebBehaviorFactory=function(e){t.createLineChartWebBehaviorFactory=e},t.setCreateScatterChartWebBehaviorFactory=function(e){t.createScatterChartWebBehaviorFactory=e},t.setCreateWaterfallChartWebBehaviorFactory=function(e){t.createWaterfallChartWebBehaviorFactory=e},t.setCreateScatterChartMobileBehaviorFactory=function(e){t.createScatterChartMobileBehaviorFactory=e}})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).initializeNotForOOS=function(){t.addPlugin("bingSocialTweets",{name:"bingSocialTweets",capabilities:t.bingSocialTweetsCapabilities,create:function(){return new t.BingSocialTweets},createES6:void 0}),t.addPlugin("bingSocialNews",{name:"bingSocialNews",capabilities:t.bingSocialNewsCapabilities,create:function(){return new t.BingSocialNews},createES6:void 0}),t.addPlugin("heatMap",{name:"heatMap",capabilities:t.capabilities.map,create:function(){return new t.Map({filledMap:!1})},createES6:void 0})}})(powerbi=powerbi||{}),(function(o){!(function(a){var e=o.data.createDisplayNameGetter,t={capabilities:a.capabilities.donutChart,module:{javascript:"donutChartVisuals"}};a.plugins={actionButton:{name:"actionButton",titleKey:e("Button"),capabilities:a.capabilities.actionButton,module:{javascript:"BasicShapeVisual/actionButton"},create:function(e){return new e.module.ActionButton},createES6:a.createActionButton?function(){return a.createActionButton()}:void 0},animatedNumber:{name:"animatedNumber",capabilities:a.capabilities.animatedNumber,create:function(e){return e.module.createAnimatedNumber()},createES6:a.createAnimatedNumber?function(){return a.createAnimatedNumber()}:void 0,module:{javascript:"SingleValueVisuals/animatedNumberModule"}},areaChart:{name:"areaChart",watermarkKey:"area",titleKey:e("AreaChart_ToolTip"),capabilities:a.capabilities.areaChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:1})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:1})}:void 0,customizeQuery:a.LineChartPluginMethods.customizeQuery,getSortableRoles:a.LineChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},barChart:{name:"barChart",watermarkKey:"bar",titleKey:e("BarChart_ToolTip"),capabilities:a.capabilities.barChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:6})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:6})}:void 0,customizeQuery:a.ColumnChartPluginMethods.customizeQuery,getSortableRoles:a.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},basicShape:{name:"basicShape",titleKey:e("BasicShape_ToolTip"),capabilities:a.capabilities.basicShape,module:{javascript:"BasicShapeVisual/basicShape"},create:function(e){return new e.module.BasicShape},createES6:a.createBasicShape?function(){return a.createBasicShape()}:void 0},shape:{name:"shape",titleKey:e("BasicShape_ToolTip"),capabilities:a.capabilities.shape,module:{javascript:"ShapeVisual/shape"},create:function(e){return e.module.createShape()},createES6:a.createShapeVisual?function(){return a.createShapeVisual()}:void 0,getCustomizeConvertTo:function(e){return a.ShapePluginMethods.getCustomizeConvertToOptions(e)}},card:{name:"card",watermarkKey:"card",titleKey:e("Card_ToolTip"),capabilities:a.capabilities.card,create:function(e){return e.module.createCard()},createES6:a.createCard?function(){return a.createCard(void 0)}:void 0,module:{javascript:"SingleValueVisuals/cardModule"},getNarrativeSummaryBindings:a.CardPluginMethods.getNarrativeSummaryBindings},multiRowCard:{name:"multiRowCard",watermarkKey:"multiRowCard",titleKey:e("MultiRowCard_ToolTip"),capabilities:a.capabilities.multiRowCard,create:function(){return new a.MultiRowCard},createES6:a.createMultiRowCard?function(){return a.createMultiRowCard(void 0)}:void 0,getSortableRoles:a.MultiRowCardPluginMethods.getSortableRoles,module:{javascript:"multiRowCardVisual"},getNarrativeSummaryBindings:a.MultiRowCardPluginMethods.getNarrativeSummaryBindings},clusteredBarChart:{name:"clusteredBarChart",watermarkKey:"clusteredBar",titleKey:e("ClusteredBarChart_ToolTip"),capabilities:a.capabilities.clusteredBarChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:5})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:5})}:void 0,customizeQuery:a.ColumnChartPluginMethods.customizeQuery,getSortableRoles:a.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},clusteredColumnChart:{name:"clusteredColumnChart",watermarkKey:"clusteredColumn",titleKey:e("ClusteredColumnChart_ToolTip"),capabilities:a.capabilities.clusteredColumnChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:3})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:3})}:void 0,customizeQuery:a.ColumnChartPluginMethods.customizeQuery,getSortableRoles:a.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},columnChart:{name:"columnChart",watermarkKey:"column",titleKey:e("ColumnChart_ToolTip"),capabilities:a.capabilities.columnChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:4})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:4})}:void 0,customizeQuery:a.ColumnChartPluginMethods.customizeQuery,getSortableRoles:a.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},comboChart:{name:"comboChart",watermarkKey:"combo",capabilities:a.capabilities.comboChart,customizeQuery:a.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:11})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:11})}:void 0,getSortableRoles:a.ComboChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry},dataDotChart:{name:"dataDotChart",capabilities:a.capabilities.dataDotChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:12})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:12})}:void 0,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry},dataDotClusteredColumnComboChart:{name:"dataDotClusteredColumnComboChart",watermarkKey:"combo",titleKey:e("DataDotClusteredColumnComboChart_ToolTip"),capabilities:a.capabilities.dataDotClusteredColumnComboChart,customizeQuery:a.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:16})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:16})}:void 0,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry},dataDotStackedColumnComboChart:{name:"dataDotStackedColumnComboChart",watermarkKey:"combo",titleKey:e("DataDotStackedColumnComboChart_ToolTip"),capabilities:a.capabilities.dataDotStackedColumnComboChart,customizeQuery:a.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:17})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:17})}:void 0,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry},donutChart:__assign(__assign({},t),{name:"donutChart",watermarkKey:"donut",titleKey:e("DonutChart_ToolTip"),capabilities:a.capabilities.donutChart,create:function(){return new a.DonutChart},createES6:a.createDonutChart?function(){return a.createDonutChart(void 0)}:void 0,getNarrativeSummaryBindings:a.DonutChartPluginMethods.getNarrativeSummaryBindings}),funnel:{name:"funnel",watermarkKey:"funnel",titleKey:e("Funnel_ToolTip"),capabilities:a.capabilities.funnel,create:function(){return new a.FunnelChart},createES6:a.createFunnelChart?function(){return a.createFunnelChart(void 0)}:void 0,module:{javascript:"funnelChartVisual"}},gauge:{name:"gauge",watermarkKey:"gauge",titleKey:e("Gauge_ToolTip"),capabilities:a.capabilities.gauge,create:function(e){return e.module.createGauge()},createES6:a.createGauge?function(){return a.createGauge(void 0)}:void 0,module:{javascript:"SingleValueVisuals/gaugeModule"},getNarrativeSummaryBindings:a.GaugePluginMethods.getNarrativeSummaryBindings},hundredPercentStackedBarChart:{name:"hundredPercentStackedBarChart",watermarkKey:"100stackedbar",titleKey:e("HundredPercentStackedBarChart_ToolTip"),capabilities:a.capabilities.hundredPercentStackedBarChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:7})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:7})}:void 0,customizeQuery:a.ColumnChartPluginMethods.customizeQuery,getSortableRoles:a.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},hundredPercentStackedColumnChart:{name:"hundredPercentStackedColumnChart",watermarkKey:"100stackedcolumn",titleKey:e("HundredPercentStackedColumnChart_ToolTip"),capabilities:a.capabilities.hundredPercentStackedColumnChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:8})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:8})}:void 0,customizeQuery:a.ColumnChartPluginMethods.customizeQuery,getSortableRoles:a.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},image:{name:"image",titleKey:e("Image"),capabilities:a.capabilities.image,create:function(){return new a.ImageVisual},createES6:a.createImage?function(){return a.createImage()}:void 0,module:{javascript:"imageVisual"}},lineChart:{name:"lineChart",watermarkKey:"line",titleKey:e("LineChart_ToolTip"),capabilities:a.capabilities.lineChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:0})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:0})}:void 0,customizeQuery:a.LineChartPluginMethods.customizeQuery,getSortableRoles:a.LineChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings,getDataDrivenAlertCapabilities:a.LineChartPluginMethods.getDataDrivenAlertCapabilities},lineStackedColumnComboChart:{name:"lineStackedColumnComboChart",watermarkKey:"combo",titleKey:e("LineStackedColumnComboChart_ToolTip"),capabilities:a.capabilities.lineStackedColumnComboChart,customizeQuery:a.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:15})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:15})}:void 0,getSortableRoles:a.ComboChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.ComboChartPluginMethods.getNarrativeSummaryBindings},lineClusteredColumnComboChart:{name:"lineClusteredColumnComboChart",watermarkKey:"combo",titleKey:e("LineClusteredColumnComboChart_ToolTip"),capabilities:a.capabilities.lineClusteredColumnComboChart,customizeQuery:a.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:14})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:14})}:void 0,getSortableRoles:a.ComboChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.ComboChartPluginMethods.getNarrativeSummaryBindings},map:{name:"map",watermarkKey:"map",titleKey:e("Map_ToolTip"),capabilities:a.capabilities.map,create:function(){return new a.Map({filledMap:!1})},createES6:a.createMap?function(){return a.createMap({filledMap:!1})}:void 0,customizeQuery:a.MapPluginMethods.customizeQuery,module:{javascript:"mapVisuals"},getNarrativeSummaryBindings:a.MapPluginMethods.getNarrativeSummaryBindings},filledMap:{name:"filledMap",watermarkKey:"filledMap",titleKey:e("FilledMap_ToolTip"),capabilities:a.capabilities.filledMap,create:function(){return new a.Map({filledMap:!0})},createES6:a.createMap?function(){return a.createMap({filledMap:!0})}:void 0,module:{javascript:"mapVisuals"}},azureMap:{name:"azureMap",watermarkKey:"azureMap",titleKey:e("AzureMap_ToolTip"),capabilities:a.capabilities.azureMap,module:{javascript:"AzureMapVisuals/azureMap",css:["azureMapVisuals"]},create:function(e){return new e.module.AzureMap({})},createES6:a.createAzureMap?function(){return a.createAzureMap(void 0)}:void 0},ribbonChart:{name:"ribbonChart",watermarkKey:"ribbon",titleKey:e("RibbonChart_ToolTip"),capabilities:a.capabilities.ribbonChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:9})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:9})}:void 0,customizeQuery:a.ColumnChartPluginMethods.customizeQuery,getSortableRoles:a.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},shapeMap:{name:"shapeMap",watermarkKey:"shapeMap",titleKey:e("ShapeMap_ToolTip"),capabilities:a.capabilities.shapeMap,module:{javascript:"ShapeMapVisual/shapeMap/shapeMap"},create:function(e){return new e.module.ShapeMap},createES6:a.createShapeMap?function(){return a.createShapeMap(void 0)}:void 0},treemap:{name:"treemap",watermarkKey:"tree",titleKey:e("Treemap_ToolTip"),capabilities:a.capabilities.treemap,module:{javascript:"TreemapVisual/treemap"},create:function(e){return new e.module.Treemap},createES6:a.createTreemap?function(){return a.createTreemap(void 0)}:void 0},sunburst:{name:"sunburst",watermarkKey:"defaultWatermark",titleKey:e("Sunburst_ToolTip"),capabilities:a.capabilities.sunburst,module:{javascript:"SunburstVisual/sunburst/sunburst"},create:function(e){return new e.module.Sunburst},createES6:a.createSunburst?function(){return a.createSunburst(void 0)}:void 0},pieChart:__assign(__assign({},t),{name:"pieChart",watermarkKey:"pie",titleKey:e("PieChart_ToolTip"),capabilities:a.capabilities.pieChart,create:function(){return new a.DonutChart({sliceWidthRatio:0})},createES6:a.createDonutChart?function(){return a.createDonutChart({sliceWidthRatio:0})}:void 0,getNarrativeSummaryBindings:a.DonutChartPluginMethods.getNarrativeSummaryBindings}),realTimeLineChart:{name:"realTimeLineChart",watermarkKey:"line",titleKey:e("LineChart_ToolTip"),capabilities:a.capabilities.realTimeLineChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:18})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:18})}:void 0,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry},scatterChart:{name:"scatterChart",watermarkKey:"scatterplot",titleKey:e("ScatterChart_ToolTip"),capabilities:a.capabilities.scatterChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:10})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:10})}:void 0,customizeQuery:a.ScatterChartPluginMethods.customizeQuery,getSortableRoles:a.ScatterChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.ScatterChartPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.ScatterChartPluginMethods.getNarrativeSummaryBindings},stackedAreaChart:{name:"stackedAreaChart",watermarkKey:"stackedarea",titleKey:e("StackedAreaChart_ToolTip"),capabilities:a.capabilities.stackedAreaChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:2})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:2})}:void 0,customizeQuery:a.LineChartPluginMethods.customizeQuery,getSortableRoles:a.LineChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:a.CartesianPluginMethods.getNarrativeSummaryBindings},table:{name:"table",watermarkKey:"table",titleKey:e("Table_ToolTip"),capabilities:a.capabilities.table,create:function(){return new a.Table},createES6:a.createTable?function(){return a.createTable()}:void 0,customizeQuery:a.TablePluginMethods.customizeQuery,getSortableRoles:a.TablePluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals"}},matrix:{name:"matrix",watermarkKey:"matrix",titleKey:e("Matrix_ToolTip"),capabilities:a.capabilities.matrix,create:function(){return new a.Matrix},createES6:a.createMatrix?function(){return a.createMatrix()}:void 0,customizeQuery:a.MatrixPluginMethods.customizeQuery,getSortableRoles:a.MatrixPluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals"}},tableEx:{name:"tableEx",watermarkKey:"table",titleKey:e("Table_ToolTip"),capabilities:o.visuals.getTableExCapabilities(),create:function(){return new a.TableEx},createES6:a.createTableEx?function(){return a.createTableEx(void 0,void 0)}:void 0,customizeQuery:a.TableExPluginMethods.customizeQuery,getSortableRoles:a.TableExPluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals",css:["pivotTableVisuals"]}},pivotTable:{name:"pivotTable",watermarkKey:"matrix",titleKey:e("Matrix_ToolTip"),capabilities:a.capabilities.pivotTableCapabilities,create:function(){return new a.PivotTable},createES6:a.createPivotTable?function(){return a.createPivotTable(void 0,void 0)}:void 0,customizeQuery:a.PivotTablePluginMethods.customizeQuery,getSortableRoles:a.PivotTablePluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals",css:["pivotTableVisuals"]}},accessibleTable:{name:"accessibleTable",watermarkKey:"matrix",capabilities:a.capabilities.accessibleTable,create:function(e){return e.module.AccessibleTable()},createES6:a.createAccessibleTable?function(){return a.createAccessibleTable()}:void 0,module:{javascript:"AccessibleTableVisual/accessibleTable/accessibleTable",css:["accessibleTableVisual"]}},slicer:{name:"slicer",watermarkKey:"slicer",titleKey:e("Slicer_ToolTip"),capabilities:a.capabilities.slicer,create:function(){return new a.Slicer},createES6:a.createSlicer?function(){return a.createSlicer(void 0)}:void 0,customizeQuery:a.SlicerPluginMethods.customizeQuery,getSortableRoles:a.SlicerPluginMethods.getSortableRoles,isCrossFilteredByDefault:a.SlicerPluginMethods.isCrossFilteredByDefault,mergeObjects:a.SlicerPluginMethods.mergeObjects,customizeVisualAuthoringOperations:a.SlicerPluginMethods.customizeVisualAuthoringOperations,module:{javascript:"slicerVisual"}},pageNavigator:{name:"pageNavigator",titleKey:e("Visual_PageNavigator"),capabilities:a.capabilities.pageNavigator,module:{javascript:"NavigatorVisuals/navigator"},create:function(e){return e.module.createNavigator({navigatorType:"page"})},createES6:a.createNavigator?function(){return a.createNavigator({navigatorType:"page"})}:void 0},bookmarkNavigator:{name:"bookmarkNavigator",titleKey:e("Visual_BookmarkNavigator"),capabilities:a.capabilities.bookmarkNavigator,module:{javascript:"NavigatorVisuals/navigator"},create:function(e){return e.module.createNavigator({navigatorType:"bookmark"})},createES6:a.createNavigator?function(){return a.createNavigator({navigatorType:"bookmark"})}:void 0},filterSlicer:{name:"filterSlicer",create:function(){return new a.Slicer},createES6:a.createSlicer?function(){return a.createSlicer(void 0)}:void 0,capabilities:a.capabilities.slicer,customizeQuery:a.SlicerPluginMethods.customizeQuery,getSortableRoles:a.SlicerPluginMethods.getSortableRoles,isCrossFilteredByDefault:a.SlicerPluginMethods.isCrossFilteredByDefault,mergeObjects:a.SlicerPluginMethods.mergeObjects,customizeVisualAuthoringOperations:a.SlicerPluginMethods.customizeVisualAuthoringOperations,module:{javascript:"slicerVisual"}},textbox:{name:"textbox",titleKey:e("Textbox"),capabilities:a.capabilities.textbox,create:function(e){return e.module.createTextbox()},createES6:a.createTextbox?function(){return a.createTextbox(void 0)}:void 0,module:{javascript:"TextboxVisual/textboxModule"},supportsSummarization:!0,summarizationMessage:e("SmartNarratives_InitializationMessage")},waterfallChart:{name:"waterfallChart",watermarkKey:"waterfall",titleKey:e("WaterfallChart_ToolTip"),capabilities:a.capabilities.waterfallChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:13,featureSwitches:e.featureSwitches})},createES6:a.createCartesianChart?function(e){return a.createCartesianChart({chartType:13,featureSwitches:e.featureSwitches})}:void 0,customizeQuery:a.WaterfallChartPluginMethods.customizeQuery,getSortableRoles:a.WaterfallChartPluginMethods.getSortableRoles,getAdditionalTelemetry:a.CartesianPluginMethods.getAdditionalTelemetry},cheerMeter:{name:"cheerMeter",capabilities:a.CheerMeter.capabilities,create:function(){return new a.CheerMeter},createES6:void 0},consoleWriter:{name:"consoleWriter",capabilities:a.samples.consoleWriterCapabilities,create:function(){return new a.samples.ConsoleWriter},createES6:void 0},helloIVisual:{name:"helloIVisual",capabilities:a.samples.HelloIVisual.capabilities,create:function(){return new a.samples.HelloIVisual},createES6:void 0},scriptVisual:{name:"scriptVisual",watermarkKey:"scriptvisual",titleKey:e("ScriptVisual_ToolTip"),capabilities:a.capabilities.scriptVisual,module:{javascript:"ScriptVisual/scriptVisual"},create:function(e){return new e.module.ScriptVisual},createES6:a.createScriptVisual?function(){return a.createScriptVisual()}:void 0},pythonVisual:{name:"pythonVisual",watermarkKey:"pythonvisual",titleKey:e("PythonVisual_ToolTip"),capabilities:a.capabilities.pythonVisual,module:{javascript:"ScriptVisual/scriptVisual"},create:function(e){return new e.module.ScriptVisual},createES6:a.createScriptVisual?function(){return a.createScriptVisual()}:void 0},kpi:{name:"kpi",watermarkKey:"kpi",titleKey:e("kpi_Tooltip"),capabilities:a.capabilities.kpi,create:function(){return new a.KPIStatusWithHistory},createES6:a.createKpi?function(){return a.createKpi(void 0)}:void 0,module:{javascript:"kpiVisual"},stampHardcodedDefaultObjects:a.KpiPluginMethods.stampHardcodedDefaultObjects,getNarrativeSummaryBindings:a.KpiPluginMethods.getNarrativeSummaryBindings},keyDriversVisual:{name:"keyDriversVisual",watermarkKey:"keyDrivers",titleKey:e("KeyDriver_Tooltip"),capabilities:a.capabilities.keyDrivers,create:function(e){return e.module.createAnalysisVisual()},getAnalysisVisualNarrativeSummaryConfiguration:a.KeyDriversPluginMethods.getAnalysisVisualNarrativeSummaryConfiguration},decompositionTreeVisual:{name:"decompositionTreeVisual",watermarkKey:"decompositionTree",titleKey:e("DecompositionTree_Tooltip"),capabilities:a.capabilities.decompositionTree,create:function(e){return new e.module.DecompositionTree},createES6:a.createDecompositionTree?function(){return a.createDecompositionTree()}:void 0,customizeQuery:a.DecompositionTreePluginMethods.customizeQuery,module:{javascript:"DecompositionTreeVisual/decompositionTree"}},qnaVisual:{name:"qnaVisual",capabilities:a.capabilities.qnaVisual,create:function(e){return e.module.createQnaVisual()},titleKey:e("Generic_Qna")},histogram:{name:"histogram",watermarkKey:"column",titleKey:e("Histogram_Tooltip"),capabilities:a.capabilities.histogram,create:function(e){return e.module.createCartesianChart({chartType:19})},createES6:a.createCartesianChart?function(){return a.createCartesianChart({chartType:19})}:void 0,module:{javascript:"CartesianVisuals/cartesianModule"},getSortableRoles:a.HistogramPluginMethods.getSortableRoles},scorecard:{name:"scorecard",watermarkKey:"scorecard",titleKey:e("Scorecard"),capabilities:a.capabilities.scorecard,create:function(e){return new e.module.Scorecard},createES6:a.createScorecard?function(){return a.createScorecard()}:void 0,module:{javascript:"ScorecardVisual/scorecard",css:["scorecardVisual"]}},rdlVisual:{name:"rdlVisual",titleKey:e("RdlVisual_ToolTip"),capabilities:a.capabilities.rdlVisual,create:function(e){return new e.module.RdlVisual},createES6:a.createRdlVisual?function(){return a.createRdlVisual()}:void 0,module:{javascript:"RdlVisual/rdlVisual",css:["rdlVisual"]},customizeQuery:a.RdlVisualPluginMethods.customizeQuery},dataQueryVisual:{name:"dataQueryVisual",capabilities:a.capabilities.dataQueryVisual,create:function(){},customizeQuery:a.DataQueryVisualPluginMethods.customizeQuery}};var i=!(a.addPlugin=function(e,t){a.plugins[e]=t});a.initializeNotForOOS(),i||(window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins=a.plugins,i=!0)})(o.visuals||(o.visuals={}))})(powerbi=powerbi||{}),(function(e){function t(){return"#FFFFFF"}(e=(e=e.visuals||(e.visuals={})).CanvasBackgroundHelper||(e.CanvasBackgroundHelper={})).getDefaultColor=t,e.getDefaultValues=function(){return{color:t()}}})(powerbi=powerbi||{}),(function(e){!(function(o){var e=(t.prototype.getScaledValue=function(){return this.scaledValue},t.prototype.setValue=function(e){e.min,e.max,this.value=e,this.scaledValue={min:this.scale(e.min),max:this.scale(e.max)}},t.prototype.getValue=function(){return this.value},t.prototype.setScaledValue=function(e){e.min<=this.rangeMaxValue&&0<=e.min&&0<=e.max&&e.max<=this.rangeMaxValue&&(e.max,e.min),this.scaledValue=e,this.value={min:this.scale.invert(e.min),max:this.scale.invert(e.max)}},t);function t(e,t,a,i){this.rangeMaxValue=o.DateUtil.getDifferenceInDays(t,e),this.scale=d3.scaleTime().domain([e,t]).range([0,this.rangeMaxValue]),this.value={min:a||e,max:i||t},this.setValue(this.value)}o.DateRange=e;a.prototype.getScaledValue=function(){return this.scaledValue},a.prototype.setValue=function(e){e.min,e.max,this.value=e,this.scaledValue={min:this.scale(e.min),max:this.scale(e.max)}},a.prototype.getValue=function(){return this.value},a.prototype.setScaledValue=function(e){e.min<=this.rangeMaxValue&&0<=e.min&&0<=e.max&&e.max<=this.rangeMaxValue&&(e.max,e.min),this.scaledValue=e,this.value={min:this.scale.invert(e.min),max:this.scale.invert(e.max)}},e=a;function a(e,t,a,i){this.rangeMaxValue=t,this.scale=d3.scaleLinear().domain([e,t]).range([e,this.rangeMaxValue]),this.value={min:void 0===a?e:a,max:void 0===i?t:i},this.setValue(this.value)}o.NumericRange=e;i.prototype.getScaledValue=function(){return this.value},i.prototype.setValue=function(e){e.min,e.max,this.value=e},i.prototype.getValue=function(){return this.value},i.prototype.setScaledValue=function(e){this.setValue(e)},e=i;function i(e,t,a,i){this.value={min:void 0===a?e:a,max:void 0===i?t:i}}o.NonScaledNumericRange=e})(e.visuals||(e.visuals={}))})(powerbi=powerbi||{}),(function(e){var l,t,s,u,c;l=e.visuals||(e.visuals={}),t=l.stylePresets||(l.stylePresets={}),c=jsCommon.Color,(e=s=t.TablixStylePresetDefaults||(t.TablixStylePresetDefaults={})).columnsOutline=l.TablixProperties.PropColumnsOutline.defaultValue,e.columnsOutlineStyle=l.TablixProperties.PropColumnsOutlineStyle.defaultValue,e.gridHorizontalWeight=l.TablixProperties.PropGridHorizontalWeight.defaultValue,e.gridlineVerticalWeight=l.TablixProperties.PropGridVerticalWeight.defaultValue,e.newVisualColumnsOutline=l.TablixProperties.PropColumnsNewVisualOutline.defaultValue,e.newVisualRowsOutline=l.TablixProperties.PropRowsPivotTableOutline.defaultValue,e.newVisualTableTotalOutline=l.TablixProperties.PropTotalTableExOutline.defaultValue,e.newVisualValuesOutline=l.TablixProperties.PropValuesNewVisualOutline.defaultValue,e.outlineWeight=l.TablixProperties.PropGridOutlineWeight.defaultValue,e.rowsOutline=l.TablixProperties.PropRowsOutline.defaultValue,e.rowsOutlineStyle=l.TablixProperties.PropRowsOutlineStyle.defaultValue,e.tableTotalOutline=l.TablixProperties.PropTotalOutline.defaultValue,e.tableTotalOutlineStyle=l.TablixProperties.PropTotalOutlineStyle.defaultValue,e.valuesOutline=l.TablixProperties.PropValuesOutline.defaultValue,e.valuesOutlineStyle=l.TablixProperties.PropValuesOutlineStyle.defaultValue,e.rowPaddingCondensed=0,e.rowPaddingNormal=3,e.rowPaddingSparse=6,(e=u=t.TablixStylePresetsName||(t.TablixStylePresetsName={})).None="None",e.Default="Default",e.Minimal="Minimal",e.BoldHeader="BoldHeader",e.AlternatingRows="AlternatingRows",e.ContrastAlternatingRows="ContrastAlternatingRows",e.FlashyRows="FlashyRows",e.BoldHeaderFlashyRows="BoldHeaderFlashyRows",e.Sparse="Sparse",e.Condensed="Condensed",t.getTablixStylePresetElements=function(e,t){var a,i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,r=t.colorPalette.tableAccent.value,n=new l.TablixProperties(t);switch(e){case u.None:return{outlineColor:n.PropGridOutlineColor.getValue(null),gridColor:n.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:l.TablixProperties.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:l.TablixProperties.PropGridVertical.defaultValue,gridHorizontalEnabledTable:l.TablixProperties.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:l.TablixProperties.PropGridHorizontalMatrix.defaultValue,rowPadding:l.TablixProperties.PropGridRowPadding.defaultValue,fontColorHeaders:n.PropColumnsFontColor.getValue(null),backColorHeaders:n.PropColumnsBackColor.getValue(null),fontColorValues1:n.PropValuesFontColorPrimary.getValue(null),backColorValues1:n.PropValuesBackColorPrimary.getValue(null),fontColorValues2:n.PropValuesFontColorSecondary.getValue(null),backColorValues2:n.PropValuesBackColorSecondary.getValue(null),fontColorTotals:n.PropTotalFontColor.getValue(null),backColorTotals:n.PropTotalBackColor.getValue(null)};case u.Default:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=c.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:l.TablixProperties.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:l.TablixProperties.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:o,backColorHeaders:i,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:c.hexBlend(o,.08,i),fontColorTotals:void 0,backColorTotals:void 0};case u.Minimal:return{outlineColor:r,gridColor:a=c.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,fontColorHeaders:o,backColorHeaders:i,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:o,backColorTotals:i};case u.BoldHeader:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=c.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,backColorHeaders:o,fontColorHeaders:i,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:o,backColorTotals:i};case u.AlternatingRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=c.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:c.hexBlend(o,.08,i),fontColorTotals:i,backColorTotals:o};case u.ContrastAlternatingRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=c.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:i,backColorValues1:c.hexBlend(o,.75,i),fontColorValues2:o,backColorValues2:c.hexBlend(o,.25,i),fontColorTotals:i,backColorTotals:o};case u.FlashyRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,r=t.colorPalette.tableAccent.value,{outlineColor:o,gridColor:a=i,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:s.rowPaddingNormal,fontColorHeaders:o,backColorHeaders:i,fontColorValues1:o,backColorValues1:c.hexBlend(r,.4,i),fontColorValues2:o,backColorValues2:c.hexBlend(r,.8,i),fontColorTotals:o,backColorTotals:i};case u.BoldHeaderFlashyRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,r=t.colorPalette.tableAccent.value,{outlineColor:a=i,gridColor:a,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:s.rowPaddingNormal,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:c.hexBlend(r,.4,i),fontColorValues2:o,backColorValues2:c.hexBlend(r,.8,i),fontColorTotals:i,backColorTotals:o};case u.Sparse:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=c.hexBlend(o,.2,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:s.rowPaddingSparse,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:i,backColorTotals:o};case u.Condensed:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=c.hexBlend(o,.2,i),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingCondensed,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:i,backColorTotals:o};default:return}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n;function l(e,t){t=a.getTablixStylePresetElements(e,t);return t?{grid:[{properties:{outlineColor:n(t.outlineColor),outlineWeight:o.integer(r.valueOrDefault(t.outlineWeight,a.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(t.gridVerticalEnabledTable),gridVerticalColor:n(t.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(t.gridVerticalWeight,a.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(t.gridHorizontalEnabledTable),gridHorizontalColor:n(t.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(t.gridHorizontalWeight,a.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(t.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeColumnHeaders,a.TablixStylePresetDefaults.columnsOutline)),fontColor:n(t.fontColorHeaders),backColor:n(t.backColorHeaders)}}],values:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeValues,a.TablixStylePresetDefaults.valuesOutline)),fontColorPrimary:n(t.fontColorValues1),backColorPrimary:n(t.backColorValues1),fontColorSecondary:n(t.fontColorValues2),backColorSecondary:n(t.backColorValues2)}}],total:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeTotals,a.TablixStylePresetDefaults.tableTotalOutline)),fontColor:n(t.fontColorTotals),backColor:n(t.backColorTotals)}}]}:{}}t=e.visuals||(e.visuals={}),a=t.stylePresets||(t.stylePresets={}),i=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,a.tableStylePresets=function(){var e;return{sectionTitle:i("Visual_Table_StylePreset_SectionTitle"),sliceTitle:i("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:a.TablixStylePresetsName.None,presets:((e={})[a.TablixStylePresetsName.None]={name:a.TablixStylePresetsName.None,displayName:i("None"),evaluate:function(e){return l(a.TablixStylePresetsName.None,e)}},e[a.TablixStylePresetsName.Minimal]={name:a.TablixStylePresetsName.Minimal,displayName:i("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(a.TablixStylePresetsName.Minimal,e)}},e[a.TablixStylePresetsName.BoldHeader]={name:a.TablixStylePresetsName.BoldHeader,displayName:i("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeader,e)}},e[a.TablixStylePresetsName.AlternatingRows]={name:a.TablixStylePresetsName.AlternatingRows,displayName:i("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.AlternatingRows,e)}},e[a.TablixStylePresetsName.ContrastAlternatingRows]={name:a.TablixStylePresetsName.ContrastAlternatingRows,displayName:i("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.ContrastAlternatingRows,e)}},e[a.TablixStylePresetsName.FlashyRows]={name:a.TablixStylePresetsName.FlashyRows,displayName:i("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.FlashyRows,e)}},e[a.TablixStylePresetsName.BoldHeaderFlashyRows]={name:a.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:i("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeaderFlashyRows,e)}},e[a.TablixStylePresetsName.Sparse]={name:a.TablixStylePresetsName.Sparse,displayName:i("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(a.TablixStylePresetsName.Sparse,e)}},e[a.TablixStylePresetsName.Condensed]={name:a.TablixStylePresetsName.Condensed,displayName:i("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(a.TablixStylePresetsName.Condensed,e)}},e)}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n;function l(e,t){t=a.getTablixStylePresetElements(e,t);return t?{grid:[{properties:{outlineColor:n(t.outlineColor),outlineWeight:o.integer(r.valueOrDefault(t.outlineWeight,a.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(t.gridVerticalEnabledMatrix),gridVerticalColor:n(t.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(t.gridVerticalWeight,a.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(t.gridHorizontalEnabledMatrix),gridHorizontalColor:n(t.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(t.gridHorizontalWeight,a.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(t.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeColumnHeaders,a.TablixStylePresetDefaults.columnsOutline)),fontColor:n(t.fontColorHeaders),backColor:n(t.backColorHeaders)}}],rowHeaders:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeRowHeaders,a.TablixStylePresetDefaults.rowsOutline)),fontColor:n(t.fontColorHeaders),backColor:n(t.backColorHeaders)}}],values:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeValues,a.TablixStylePresetDefaults.valuesOutline)),fontColorPrimary:n(t.fontColorValues1),backColorPrimary:n(t.backColorValues1),fontColorSecondary:n(t.fontColorValues2),backColorSecondary:n(t.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:n(t.fontColorTotals),backColor:n(t.backColorTotals),applyToHeaders:o.boolean(!1)}}]}:{}}t=e.visuals||(e.visuals={}),a=t.stylePresets||(t.stylePresets={}),i=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,a.matrixStylePresets=function(){var e;return{sectionTitle:i("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:i("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:a.TablixStylePresetsName.None,presets:((e={})[a.TablixStylePresetsName.None]={name:a.TablixStylePresetsName.None,displayName:i("None"),evaluate:function(e){return l(a.TablixStylePresetsName.None,e)}},e[a.TablixStylePresetsName.Minimal]={name:a.TablixStylePresetsName.Minimal,displayName:i("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(a.TablixStylePresetsName.Minimal,e)}},e[a.TablixStylePresetsName.BoldHeader]={name:a.TablixStylePresetsName.BoldHeader,displayName:i("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeader,e)}},e[a.TablixStylePresetsName.AlternatingRows]={name:a.TablixStylePresetsName.AlternatingRows,displayName:i("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.AlternatingRows,e)}},e[a.TablixStylePresetsName.ContrastAlternatingRows]={name:a.TablixStylePresetsName.ContrastAlternatingRows,displayName:i("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.ContrastAlternatingRows,e)}},e[a.TablixStylePresetsName.FlashyRows]={name:a.TablixStylePresetsName.FlashyRows,displayName:i("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.FlashyRows,e)}},e[a.TablixStylePresetsName.BoldHeaderFlashyRows]={name:a.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:i("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeaderFlashyRows,e)}},e[a.TablixStylePresetsName.Sparse]={name:a.TablixStylePresetsName.Sparse,displayName:i("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(a.TablixStylePresetsName.Sparse,e)}},e[a.TablixStylePresetsName.Condensed]={name:a.TablixStylePresetsName.Condensed,displayName:i("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(a.TablixStylePresetsName.Condensed,e)}},e)}}})(powerbi=powerbi||{}),(function(e){var t,i,a,o,r,n;function l(e,t,a){t=i.getTablixStylePresetElements(e,t);if(!t)return{};a=a.splitSubTotals?[{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}]:[{properties:{fontColor:void 0,backColor:void 0}}];return{grid:[{properties:{outline:void 0,outlineColor:n(t.outlineColor),outlineWeight:o.integer(r.valueOrDefault(t.outlineWeight,i.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(t.gridVerticalEnabledMatrix),gridVerticalColor:n(t.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(t.gridVerticalWeight,i.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(t.gridHorizontalEnabledMatrix),gridHorizontalColor:n(t.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(t.gridHorizontalWeight,i.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(t.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeColumnHeaders,i.TablixStylePresetDefaults.newVisualColumnsOutline)),outlineStyle:o.integer(r.valueOrDefault(t.outlineModeColumnHeaders,i.TablixStylePresetDefaults.columnsOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(t.fontColorHeaders),backColor:n(t.backColorHeaders)}}],rowHeaders:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeRowHeaders,i.TablixStylePresetDefaults.newVisualRowsOutline)),outlineStyle:o.integer(r.valueOrDefault(t.outlineModeRowHeaders,i.TablixStylePresetDefaults.rowsOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(t.fontColorHeaders),backColor:n(t.backColorHeaders),applyAlternation:o.boolean(!0)}}],values:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeValues,i.TablixStylePresetDefaults.newVisualValuesOutline)),outlineStyle:o.integer(r.valueOrDefault(t.outlineModeValues,i.TablixStylePresetDefaults.valuesOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:n(t.fontColorValues1),backColorPrimary:n(t.backColorValues1),fontColorSecondary:n(t.fontColorValues2),backColorSecondary:n(t.backColorValues2)}}],subTotals:a,total:[{properties:{fontColor:n(t.fontColorTotals),backColor:n(t.backColorTotals),applyToHeaders:o.boolean(!1)}}],rowTotal:[{properties:{fontColor:n(t.fontColorTotals),backColor:n(t.backColorTotals),applyToHeaders:o.boolean(!1)}}],columnTotal:[{properties:{fontColor:n(t.fontColorTotals),backColor:n(t.backColorTotals),applyToHeaders:o.boolean(!1)}}]}}t=e.visuals||(e.visuals={}),i=t.stylePresets||(t.stylePresets={}),a=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,i.pivotTableStylePresets=function(t){var e;return{sectionTitle:a("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:a("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:i.TablixStylePresetsName.Default,presets:((e={})[i.TablixStylePresetsName.Default]={name:i.TablixStylePresetsName.Default,displayName:a("Default"),evaluate:function(e){return l(i.TablixStylePresetsName.Default,e,t)}},e[i.TablixStylePresetsName.None]={name:i.TablixStylePresetsName.None,displayName:a("None"),evaluate:function(e){return l(i.TablixStylePresetsName.None,e,t)}},e[i.TablixStylePresetsName.Minimal]={name:i.TablixStylePresetsName.Minimal,displayName:a("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(i.TablixStylePresetsName.Minimal,e,t)}},e[i.TablixStylePresetsName.BoldHeader]={name:i.TablixStylePresetsName.BoldHeader,displayName:a("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(i.TablixStylePresetsName.BoldHeader,e,t)}},e[i.TablixStylePresetsName.AlternatingRows]={name:i.TablixStylePresetsName.AlternatingRows,displayName:a("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(i.TablixStylePresetsName.AlternatingRows,e,t)}},e[i.TablixStylePresetsName.ContrastAlternatingRows]={name:i.TablixStylePresetsName.ContrastAlternatingRows,displayName:a("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(i.TablixStylePresetsName.ContrastAlternatingRows,e,t)}},e[i.TablixStylePresetsName.FlashyRows]={name:i.TablixStylePresetsName.FlashyRows,displayName:a("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(i.TablixStylePresetsName.FlashyRows,e,t)}},e[i.TablixStylePresetsName.BoldHeaderFlashyRows]={name:i.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:a("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(i.TablixStylePresetsName.BoldHeaderFlashyRows,e,t)}},e[i.TablixStylePresetsName.Sparse]={name:i.TablixStylePresetsName.Sparse,displayName:a("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(i.TablixStylePresetsName.Sparse,e,t)}},e[i.TablixStylePresetsName.Condensed]={name:i.TablixStylePresetsName.Condensed,displayName:a("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(i.TablixStylePresetsName.Condensed,e,t)}},e)}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n;function l(e,t){t=a.getTablixStylePresetElements(e,t);return t?{grid:[{properties:{outline:void 0,outlineColor:n(t.outlineColor),outlineWeight:o.integer(r.valueOrDefault(t.outlineWeight,a.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(t.gridVerticalEnabledTable),gridVerticalColor:n(t.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(t.gridVerticalWeight,a.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(t.gridHorizontalEnabledTable),gridHorizontalColor:n(t.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(t.gridHorizontalWeight,a.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(t.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeColumnHeaders,a.TablixStylePresetDefaults.newVisualColumnsOutline)),outlineStyle:o.integer(r.valueOrDefault(t.outlineModeColumnHeaders,a.TablixStylePresetDefaults.columnsOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(t.fontColorHeaders),backColor:n(t.backColorHeaders)}}],values:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeValues,a.TablixStylePresetDefaults.newVisualValuesOutline)),outlineStyle:o.integer(r.valueOrDefault(t.outlineModeValues,a.TablixStylePresetDefaults.valuesOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:n(t.fontColorValues1),backColorPrimary:n(t.backColorValues1),fontColorSecondary:n(t.fontColorValues2),backColorSecondary:n(t.backColorValues2)}}],total:[{properties:{outline:o.text(r.valueOrDefault(t.outlineModeTotals,a.TablixStylePresetDefaults.newVisualTableTotalOutline)),outlineStyle:o.integer(r.valueOrDefault(t.outlineModeTotals,a.TablixStylePresetDefaults.tableTotalOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(t.fontColorTotals),backColor:n(t.backColorTotals)}}]}:{}}t=e.visuals||(e.visuals={}),a=t.stylePresets||(t.stylePresets={}),i=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,a.tableExStylePresets=function(e){var t;return{sectionTitle:i("Visual_Table_StylePreset_SectionTitle"),sliceTitle:i("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:a.TablixStylePresetsName.Default,presets:((t={})[a.TablixStylePresetsName.Default]={name:a.TablixStylePresetsName.Default,displayName:i("Default"),evaluate:function(e){return l(a.TablixStylePresetsName.Default,e)}},t[a.TablixStylePresetsName.None]={name:a.TablixStylePresetsName.None,displayName:i("None"),evaluate:function(e){return l(a.TablixStylePresetsName.None,e)}},t[a.TablixStylePresetsName.Minimal]={name:a.TablixStylePresetsName.Minimal,displayName:i("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(a.TablixStylePresetsName.Minimal,e)}},t[a.TablixStylePresetsName.BoldHeader]={name:a.TablixStylePresetsName.BoldHeader,displayName:i("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeader,e)}},t[a.TablixStylePresetsName.AlternatingRows]={name:a.TablixStylePresetsName.AlternatingRows,displayName:i("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.AlternatingRows,e)}},t[a.TablixStylePresetsName.ContrastAlternatingRows]={name:a.TablixStylePresetsName.ContrastAlternatingRows,displayName:i("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.ContrastAlternatingRows,e)}},t[a.TablixStylePresetsName.FlashyRows]={name:a.TablixStylePresetsName.FlashyRows,displayName:i("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.FlashyRows,e)}},t[a.TablixStylePresetsName.BoldHeaderFlashyRows]={name:a.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:i("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeaderFlashyRows,e)}},t[a.TablixStylePresetsName.Sparse]={name:a.TablixStylePresetsName.Sparse,displayName:i("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(a.TablixStylePresetsName.Sparse,e)}},t[a.TablixStylePresetsName.Condensed]={name:a.TablixStylePresetsName.Condensed,displayName:i("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(a.TablixStylePresetsName.Condensed,e)}},t)}}})(powerbi=powerbi||{});;
var module;(module||{}).exports=window.renderjson=(function(){function n(c,f,y,d,p,_){var v=y?"":f,h=function(n,o,u,c,f){var y,p=i(c),_=function(){y||e(p.parentNode,y=r(f(),s(l.hide,"disclosure",(function(){y.style.display="none",p.style.display="inline"})))),y.style.display="inline",p.style.display="none"};e(p,s(l.show,"disclosure",_),t(c+" syntax",n),s(o,null,_),t(c+" syntax",u));var h=e(i(),a(v.slice(0,-1)),p);return d>0&&_(),h};return null===c?t(null,v,"keyword","null"):void 0===c?t(null,v,"keyword","undefined"):"string"==typeof c&&c.length>p?h('"',c.substr(0,p)+" ...",'"',"string",(function(){return e(i("string"),t(null,v,"string",JSON.stringify(c)))})):l.js_mode&&"function"==typeof c?h("function() {","...","}","function",(function(){var n=c.toString().match(/^([^{]*{)([\s\S]*)(})\s?$/),r=n&&n[1]?n[1]:"function() {",o=n&&n[2]?n[2]:"";return e(i("function"),t("function syntax",r,null,"\n"),t(null,f,"function",o),a("\n"),t(null,f,"function syntax","}"))})):"object"!=typeof c?t(null,v,typeof c,JSON.stringify(c)):c.constructor==Array?0==c.length?t(null,v,"array syntax","[]"):h("["," ... ","]","array",(function(){for(var r=e(i("array"),t("array syntax","[",null,"\n")),o=0;o<c.length;o++)e(r,n(c[o],f+"    ",!1,d-1,p,_),o!=c.length-1?t("syntax",","):[],a("\n"));return e(r,t(null,f,"array syntax","]")),r})):(l.js_mode&&(c=u(c)),o(c)?t(null,v,"object syntax","{}"):h("{","...","}","object",(function(){var r=e(i("object"),t("object syntax","{",null,"\n"));for(var o in c)var s=o;var u=Object.keys(c);_&&(u=u.sort());for(var l in u){var o=u[l];e(r,t(null,f+"    ","key",'"'+o+'"',"object syntax",": "),n(c[o],f+"    ",!0,d-1,p,_),o!=s?t("syntax",","):[],a("\n"))}return e(r,t(null,f,"object syntax","}")),r})))}var t=function(){for(var n=[];arguments.length;)n.push(e(i(Array.prototype.shift.call(arguments)),a(Array.prototype.shift.call(arguments))));return n},e=function(){for(var n=Array.prototype.shift.call(arguments),t=0;t<arguments.length;t++)arguments[t].constructor==Array?e.apply(this,[n].concat(arguments[t])):n.appendChild(arguments[t]);return n},r=function(n,t){return n.insertBefore(t,n.firstChild),n},o=function(n){for(var t in n)if(Object.hasOwnProperty.call(n,t))return!1;return!0},a=function(n){return document.createTextNode(n)},i=function(n){var t=document.createElement("span");return n&&(t.className=n),t},s=function(n,t,e){var r=document.createElement("a");return t&&(r.className=t),r.appendChild(a(n)),r.href="#",r.onclick=function(n){return e(),n&&n.stopPropagation(),!1},r},u=function(n){for(var t={},e=n;null!=e;e=Object.getPrototypeOf(e))for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var a=r[o];"undefined"==typeof t[a]&&(t[a]=n[a])}return t},l=function c(t){var r=e(document.createElement("pre"),n(t,"",!1,c.show_to_level,c.max_string_length,c.sort_objects));return r.className="renderjson",r};return l.set_js_mode=function(n){return l.js_mode=n,l},l.set_icons=function(n,t){return l.show=n,l.hide=t,l},l.set_show_to_level=function(n){return l.show_to_level="string"==typeof n&&"all"===n.toLowerCase()?Number.MAX_VALUE:n,l},l.set_max_string_length=function(n){return l.max_string_length="string"==typeof n&&"none"===n.toLowerCase()?Number.MAX_VALUE:n,l},l.set_sort_objects=function(n){return l.sort_objects=n,l},l.set_show_by_default=function(n){return l.show_to_level=n?Number.MAX_VALUE:0,l},l.set_icons("⊕","⊖"),l.set_show_by_default(!1),l.set_sort_objects(!1),l.set_max_string_length("none"),l.set_js_mode(!1),l})();!(function(n){var t;!(function(t){var e;!(function(t){var e;!(function(t){var e=(function(){function t(n){var t=this.container=$("<div>");t.addClass("jsonViewScrollPane"),$(n.element).append(t),renderjson.set_js_mode(!0)}return t.prototype.update=function(t){t.type&n.VisualUpdateType.Data&&this.container.empty().append(renderjson(t.dataViews))},t})();t.Visual=e})(e=t.dataViewer||(t.dataViewer={}))})(e=t.visual||(t.visual={}))})(t=n.extensibility||(n.extensibility={}))})(powerbi||(powerbi={}));!(function(n){var t;!(function(t){var e;!(function(t){t.dataViewer={name:"dataViewer",displayName:"data viewer","class":"Visual",version:"1.0.0",apiVersion:"1.0.0",create:function(t){return new n.extensibility.visual.dataViewer.Visual(t)},custom:!0}})(e=t.plugins||(t.plugins={}))})(t=n.visuals||(n.visuals={}))})(powerbi||(powerbi={})); 
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['visuals.min.js'] || (this.parseTimeMarkers['visuals.min.js'] = {});
marker.endEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
;
var contextActivity,InJs,jsCommon,powerbi,__spreadArray=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!(function(e){(e.Base64Utils||(e.Base64Utils={})).isBase64=function(e){try{return btoa(atob(e))===e}catch(e){return!1}}})(jsCommon=jsCommon||{}),(function(e){(e.UnionExtensions||(e.UnionExtensions={})).mergeUnionType=function(e,t,n){if(e||t||n)return!e||t||n?e||!t||n?e||t||!n?$.extend(e,t,n):n:t:e}})(jsCommon=jsCommon||{}),(function(n){var e=(t.prototype.get=function(e){if(e in this.cache){e=this.cache[e].value;return null==e?void 0:e.value}},t.prototype.remove=function(e){var t;this.cache[e]&&(t=this.cache[e],this.linkedList.remove(t),delete this.cache[e])},t.prototype.put=function(e,t){e in this.cache&&this.remove(e);t=new o(e,t),t=new n.LinkedListNode(t);this.cache[e]=t,this.linkedList.insertToHead(t),this.size()>this.capacity&&(this.size(),this.capacity,t=this.linkedList.tail().value,delete this.cache[t.key],this.linkedList.removeFromTail())},t.prototype.containsKey=function(e){return e in this.cache},t.prototype.size=function(){return this.keys().length},t.prototype.keys=function(){return Object.keys(this.cache)},t.prototype.isFull=function(){return this.size()===this.capacity},t);function t(e){this.cache={},this.capacity=e,this.linkedList=new n.LinkedList}n.FifoCache=e;r.prototype.get=function(e){if(e in this.cache){e=this.cache[e];return this.linkedList.remove(e),this.linkedList.insertToHead(e),e.value.value}},r.prototype.remove=function(e){var t;e in this.cache&&(t=this.cache[e],this.linkedList.remove(t),delete this.cache[e])},r.prototype.put=function(e,t){e in this.cache&&this.remove(e);t=new o(e,t),t=new n.LinkedListNode(t);this.cache[e]=t,this.linkedList.insertToHead(t),this.size()>this.capacity&&(this.size(),this.capacity,t=this.linkedList.tail().value,delete this.cache[t.key],this.linkedList.removeFromTail())},r.prototype.containsKey=function(e){return e in this.cache},r.prototype.size=function(){return this.keys().length},r.prototype.keys=function(){return Object.keys(this.cache)},r.prototype.isFull=function(){return this.size()===this.capacity},e=r;function r(e){this.cache={},this.capacity=e,this.linkedList=new n.LinkedList}n.LruCache=e;var o=function(e,t){this.key=e,this.value=t}})(powerbi=powerbi||{}),(function(b){var n;(e=n=b.ModalDialogNotificationType||(b.ModalDialogNotificationType={}))[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.SecurityWarning=2]="SecurityWarning",b.PowerBIDefaultHelpPage="https://support.powerbi.com";var r="infonav-modalContainerHost",o="."+r,i="infonav-describedBy",a='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="infonav-modalDialog" tabindex="-1"><div class="infonav-dialogLayout themeableElement"><div class="infonav-dialogTitle" id='+i+' role="heading" aria-level="1"></div><input type="button" class="infonav-dialogCloseIcon"></input><div class="infonav-dialogContent"><div class="infonav-dialogActions"></div></div></div></div></div>',e=(t.prototype.refocus=function(){this.modalContainer.focus()},t.prototype.showMessage=function(e,t,n,r){var o=this;this.ensureInitialized();var i,a=[];n=n||(this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel),r&&(i=$('<a target="_blank"></a>').text(r.label).attr("href",r.url),i=$("<div></div>").text(t+" ").append(i),t=void 0),a[0]=this.createButton(n,(function(){o.hideDialog()}),null,"primary"),this.pushMessage(e,t,i,a,!0)},t.prototype.showPrompt=function(e,t,n,r){this.ensureInitialized();for(var o=new Array,i=0;i<n.length;i++){var a=n[i],s=a.cssClass;0===i&&(s+=" primary"),o[i]=this.createButton(a.labelText,a.actionCallback,a.data,s,a.disabled)}this.pushMessage(e,t,void 0,o,!!r)},t.prototype.showError=function(e,t,n,r,o){this.showCustomError(InJs.UnlocalizedStrings.errorDialogTitle,e,t,t!==b.TraceType.Fatal,n,r,o)},t.prototype.showCustomError=function(e,t,n,r,o,i,a,s,c,u,l,d,m){var g=this;this.ensureInitialized();var p=new Array;a?a.forEach((function(e){p.push(g.createButton(e.label,(function(){g.hideDialog(),$.isFunction(i)&&i(e.resultValue)}),null,e.cssClass,e.disabled))})):n!==b.TraceType.Fatal?p[0]=this.createButton(this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel,(function(){g.hideDialog(),$.isFunction(i)&&i(0)})):p[0]=this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:InJs.UnlocalizedStrings.dialogRefreshPageActionLabel,(function(){window.location.reload()}),null,"primary");var h,f,v,y,E=u?$("<div></div>").append(u):$("<div></div>").text(t),a=$("<div></div>").addClass("infonav-dialogFooter");_.isEmpty(o)||(n=(this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap:InJs.UnlocalizedStrings).errorDialogHelperText,l&&(n=l),E.append($("<br/>")).append(n),h=this.localizationMap?this.localizationMap.copyPromptText:InJs.UnlocalizedStrings.CopyActionLabel,f=this.localizationMap?this.localizationMap.copySuccessText:InJs.UnlocalizedStrings.SuccessActionLabel,v={title:e,message:u?u.text():t,helperText:n,additionalErrorInfo:o},y=$("<button></button>").text(h).addClass("modalCopyToClipboard").click((function(){g.tryCopyToClipboard(v)&&(y.text(f).addClass("modalCopySuccess"),setTimeout((function(){y.text(h).removeClass("modalCopySuccess")}),3e3))})),a.prepend(y)),this.addAdditionalErrorInfo(E,o,this.localizationMap?this.localizationMap.showTechnicalDetailsText:InJs.UnlocalizedStrings.showDetailsText),s&&(s.url===b.PowerBIDefaultHelpPage||s.isGetHelpTextReplaced?a.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(s.label).attr("href",s.url)):p.unshift(this.createButton(s.label,(function(){window.open(s.url)}),null,"primary"))),E.append(a),this.pushMessage(e||InJs.UnlocalizedStrings.errorDialogTitle,void 0,E,p,r,c,void 0,void 0,d,m)},t.prototype.showCustomDialog=function(e,t,n,r,o,i,a,s,c,u,l,d,m,g,p,h){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var f=[];p&&(f[0]=this.createCheckbox(p.labelText,p.actionCallback,p.data));for(var v=0;v<n.length;v++){var y=n[v],E=y.cssClass;d||0!==v||(E+=" primary"),f[p?v+1:v]=this.createButton(y.labelText,y.actionCallback,y.data,E,y.disabled)}return this.pushMessage(e,void 0,t,f,!!o,c,r,i,a,s,u,l,d,m,g,h),this.dialogContent},t.prototype.hideDialog=function(){var t=this;this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,(function(){t.modalContainer.css(b.CssConstants.displayProperty,b.CssConstants.noneValue),t.modalDialogElement.removeClass(t.modalDialogCustomClass),t.modalContainer.removeClass(t.modalContainerCustomClass),t.currentModalDialogMessage&&t.currentModalDialogMessage.onDialogClosed&&t.currentModalDialogMessage.onDialogClosed(),t.messageCurrentlyShown=!1;var e=t.messageQueue.shift();e?t.showDialogInternal(e):(t.modalContainer.off(),t.modalContainer.remove(),$(o).off(),$(o).remove(),t.initialized=!1,t.unregisterFocusManager&&t.unregisterFocusManager())}))},t.prototype.ensureInitialized=function(){var e,t=this;this.initialized||(this.modalContainer=$(a),this.modalDialogElement=this.modalContainer.find(".infonav-modalDialog"),this.dialogTitle=this.modalContainer.find(".infonav-dialogTitle"),this.dialogCloseButton=this.modalContainer.find(".infonav-dialogCloseIcon"),this.dialogContent=this.modalContainer.find(".infonav-dialogContent"),this.dialogActions=this.modalContainer.find(".infonav-dialogActions"),this.dialogCloseButton.on(b.DOMConstants.mouseClickEventName,(function(){return t.hideDialog()})).on("keydown",(function(e){27===e.keyCode&&t.hideDialog()})).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel).attr("name",this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel).attr("title",this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel),this.dialogHost||(e=$(o),_.isEmpty(e)||e.remove(),(e=InJs.DomFactory.div().addClass(r)).attr("role","dialog"),e.attr("aria-labelledby",i),this.dialogHost=$(b.DOMConstants.DocumentBody).append(e),this.dialogHost=e),this.dialogHost.append(this.modalContainer),this.isReady=!0,0<this.messageQueue.length&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=b.FocusManager.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0)},t.prototype.updatePosition=function(e){var t=(this.modalContainer.height()-this.modalDialogElement.height())/2,n=(this.modalContainer.width()-this.modalDialogElement.width())/2,n={top:t+b.CssConstants.pixelUnits,left:n+b.CssConstants.pixelUnits};e?this.modalDialogElement.animate(n,250):this.modalDialogElement.css(n)},t.prototype.addAdditionalErrorInfo=function(e,t,n){var r=this;if(!_.isEmpty(t)){for(var o=$("<p ></p>"),i=0,a=t;i<a.length;i++){var s=a[i];o.append(InJs.InfoNavUtility.constructErrorField(s.errorInfoKey,s.errorInfoValue))}n=InJs.InfoNavUtility.constructShowDetailsContainer(o,n);e.append($("<br />")),e.append(n),e.find(".showAdditionalDetailsLink").on(b.DOMConstants.mouseClickEventName,(function(){r.updatePosition(!0)}))}},t.prototype.pushMessage=function(e,t,n,r,o,i,a,s,c,u,l,d,m,g,p,h){this.messageQueue.push({titleText:e,messageText:t,dialogContent:n,dialogButtons:r,onDialogDisplayed:a,isDismissable:o=void 0===o?!0:o,dialogCssClass:c=void 0===c?"":c,containerCssClass:u=void 0===u?"":u,onDialogClosed:i,notificationType:l,notificationText:d,htmlMessageText:g}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),s,m,p,h)},t.prototype.tryCopyToClipboard=function(e){if(!e)return!1;var t=[];if(e.title&&t.push(e.title),e.message&&t.push(e.message),e.helperText&&t.push(e.helperText),e.additionalErrorInfo)for(var n=0,r=e.additionalErrorInfo;n<r.length;n++){var o=r[n];t.push(o.errorInfoKey+": "+o.errorInfoValue)}e=t.join("\n");try{return powerbi.CopyPasteService.create().copyText(e),!0}catch(e){return!1}},t.prototype.showDialogInternal=function(t,n,r,e,o){var i=this;if(this.currentModalDialogMessage=t,this.messageCurrentlyShown=!0,this.dialogContentNotification=$('<div class="infonav-dialogContentNotification"><span class="glyphicon"></span><span class= "infonav-dialogContentNotificationText" > </span></div>'),this.dialogContentNotificationIcon=this.dialogContentNotification.find(".glyphicon"),this.dialogContentNotificationText=this.dialogContentNotification.find(".infonav-dialogContentNotificationText"),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(t.titleText).attr("title",t.titleText),e?(this.appendNotification(t.notificationType,t.notificationText),this.appendMessageText(t.dialogContent,t.messageText,t.htmlMessageText)):(this.appendMessageText(t.dialogContent,t.messageText,t.htmlMessageText),this.appendNotification(t.notificationType,t.notificationText)),t.isDismissable?this.dialogCloseButton.css(b.CssConstants.displayProperty,b.CssConstants.blockValue):this.dialogCloseButton.css(b.CssConstants.displayProperty,b.CssConstants.noneValue),0<t.dialogButtons.length){this.dialogActions.show();for(var a=0,s=t.dialogButtons;a<s.length;a++){var c=s[a];this.dialogActions.append(c)}}else this.dialogActions.hide();e=this.dialogContent.find(".infonav-dialogFooter");0<e.length?e.append(this.dialogActions):this.dialogContent.after(this.dialogActions),t.dialogCssClass&&(this.modalDialogElement.addClass(t.dialogCssClass),this.modalDialogCustomClass=t.dialogCssClass),t.containerCssClass&&(this.modalContainer.addClass(t.containerCssClass),this.modalContainerCustomClass=t.containerCssClass);e=this.modalContainer.css(b.CssConstants.displayProperty)===b.CssConstants.noneValue?this.modalContainer:this.modalDialogElement;e.fadeTo(0,0),this.updatePosition(!1),e.fadeTo(250,1,(function(){var e;t.onDialogDisplayed&&t.onDialogDisplayed(i.dialogContent),0<i.modalDialogElement.find("dialog-frame").length||(0===i.modalDialogElement.find(":focus").length&&i.modalDialogElement.focus(),o&&i.modalDialogElement.keydown((function(e){27===e.keyCode&&i.hideDialog()})),e=i.dialogActions.find("input"),!r&&0<e.length&&e[0].focus(),n&&i.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus())}))},t.prototype.appendMessageText=function(e,t,n){_.isEmpty(t)&&e?this.dialogContent.append(e):this.dialogContent.text(t),_.isEmpty(n)||(this.dialogContentMessage=this.dialogContent.find(".dialogMessage"),this.dialogContentMessage.html(n))},t.prototype.appendNotification=function(e,t){if(null!==e&&!_.isEmpty(t)){switch(e){case n.Info:this.dialogContentNotificationIcon.addClass("pbi-glyph-info glyph-mini"),this.dialogContentNotification.addClass("typeInfo");break;case n.Warning:this.dialogContentNotificationIcon.addClass("pbi-glyph-warning glyph-mini"),this.dialogContentNotification.addClass("typeWarning");break;case n.SecurityWarning:this.dialogContentNotificationIcon.addClass("pbi-glyph-securityalert glyph-mini"),this.dialogContentNotification.addClass("typeSecurityWarning")}this.dialogContentNotificationText.html(t),this.dialogContent.append(this.dialogContentNotification)}},t.prototype.createButton=function(e,t,n,r,o){var i=this,a=$('<input type="button"></input>');return a.attr("value",e),a.on(b.DOMConstants.mouseClickEventName,(function(){t(a,i.dialogContent,n)})),r&&a.addClass(r),o&&a.prop("disabled",!0),a},t.prototype.createCheckbox=function(e,t,n){var r=this,e=$('<div class="pbi-input checkbox"><input type="checkbox"></input><label class="form-label">'+e+"</label></div>"),o=e.find("input");return o.on(b.DOMConstants.changeEventName,(function(){t(o,r.dialogContent,n)})),e},t.prototype.modalDialogResizeHandler=function(){this.updatePosition(!1)},t);function t(e,t){this.dialogHost=e,this.localizationMap=t,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}b.ModalDialog=e})(jsCommon=jsCommon||{}),(InJs||(InJs={})).ModalDialogAction=function(e,t,n,r,o){this.labelText=e,this.actionCallback=t,this.data=n,this.cssClass=r,this.disabled=!!o},(function(e){var t=(n.prototype.item=function(e){0<=e&&this.count;var t=this.top-(this.count-1);return t<0&&(t+=this.size),this.data[(e+t)%this.size]},n.prototype.push=function(e){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=e},n.prototype.pop=function(){if(0!==this.count){this.count--;var e=this.data[this.top];return delete this.data[this.top],-1==--this.top&&0<this.count&&(this.top=this.size-1),e}},n.prototype.peek=function(){return this.data[this.top]},n.prototype.clear=function(){this.count=0,this.top=-1,this.data=new Array(this.size)},Object.defineProperty(n.prototype,"length",{get:function(){return this.count},enumerable:!1,configurable:!0}),n);function n(e){this.count=0,this.top=-1,this.size=e,this.data=new Array(e)}e.CircularStack=t})(jsCommon=jsCommon||{}),(function(e){var s=powerbi.Double;(e=e.StringExtensions||(e.StringExtensions={})).parseIntSubstrFast=function(e,t,n){if(e.length,0===n)return null;for(var r=0,o=0,i=t+n-1;o<n;o++,i--){var a=e.charCodeAt(i)-48;if(a<0||9<a)return null;r+=a*s.pow10(o)}return r},e.literalStringToRegex=function(e,t){return new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t)}})(jsCommon=jsCommon||{}),(function(n){var r,o,l=powerbi.Double,i=powerbi.contract,d=n.StringExtensions.parseIntSubstrFast;function a(){return"undefined"!=typeof moment}function s(e){if(e){var t=e.length;if(!(t<=18||28<t)){var n=e[10];if("-"===e[4]&&"-"===e[7]&&("T"===n||" "===n)&&":"===e[13]&&":"===e[16]){var r=d(e,0,4),o=d(e,5,2),i=d(e,8,2),a=d(e,11,2),s=d(e,14,2),c=d(e,17,2),u="Z"===e.charAt(t-1);u&&t--;n=0;if(19<t){if("."!==e[19])return;t=t-20,e=d(e,20,t);if(null===e)return;n=e*l.pow10(3-t)}if(null!==r&&null!==o&&null!==i&&null!==a&&null!==s&&null!==c&&null!==n)return u?new Date(Date.UTC(r,o-1,i,a,s,c,n)):powerbi.createDateWithEpochValue(r,o-1,i,a,s,c,n)}}}}function t(e){if(n.Utility.throwIfNullOrEmptyString(e,null,"deserializeDate","Cannot deserialize empty string"),i.check(0===e.indexOf(o)&&_.endsWith(e,")/"),"Cannot deserialize empty string"),r.isMomentPresent()){var t=moment(e);return i.check(t.isValid(),"parsedValue.isValid must be true"),t.toDate()}e=e.substring(o.length,e.length-")/".length);i.check(/^\-?\d+$/.test(e),"Cannot deserialize invalid date");e=parseInt(e,10);return i.check(!isNaN(e),"Cannot deserialize invalid date"),new Date(e)}r=n.DateExtensions||(n.DateExtensions={}),o="/Date(",r.isLocalMidnight=function(e){return(e.getTime()-6e4*e.getTimezoneOffset())%864e5==0},r.isMomentPresent=a,r.parseIsoDate=function(e){var t=s(e);return t||(a(),(e=moment(e)).isValid()?e.toDate():null)},r.parseIsoDateFast=s,r.parseUtcDate=function(e){return a(),moment.utc(e).toDate()},r.serializeDate=function(e){return o+e.getTime().toString()+")/"},r.deserializeDate=t,r.tryDeserializeDate=function(e){try{return t(e)}catch(e){}},r.isContainedInTimeFrame=function(e,t,n,r){return n=moment().subtract(n,t),r&&(n=n.startOf(t)),moment(e)>=n},r.GetTime=function(e,t){return t.toLocaleTimeString(e,{second:"numeric",minute:"numeric",hour:"numeric"})},r.GetDayWithTime=function(e,t){return t.toLocaleDateString(e,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})},r.GetFullDateWithTime=function(e,t){return t.toLocaleDateString(e,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}})(jsCommon=jsCommon||{}),(function(t){t.ensurePowerbiTelemetry=function(){var e=t.ensurePowerbi();return e.telemetry||(e.telemetry={}),e.telemetry},t.ensurePowerbiSession=function(){var e=t.ensurePowerbi();return e.session||(e.session={}),e.session},t.ensurePowerbiHelpers=function(){var e=t.ensurePowerbi();return e.helpers||(e.helpers={}),e.helpers}})(powerbi=powerbi||{}),(function(d){var i;function e(e){}(i=d.ExceptionHelper||(d.ExceptionHelper={})).stripPII=e,i.cleanExceptionStack=function(e){try{if(!e)return;var t=e.stack;if(!t)return;var n=t.indexOf("\n");return-1===n?void 0:t=(t=t.substring(n+1)).replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,(function(e){e=e.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=e?" ("+e[1]+")":""}))}catch(e){return"Error at cleanExceptionStack"}},i.cleanExceptionMessage=function(e){var t;try{if(e instanceof TypeError||e instanceof ReferenceError)return e.message;if(e)return"Error of type "+e.name+" had a "+(null===(t=e.message)||void 0===t?void 0:t.length)+" characters long message"}catch(e){return"Error at cleanExceptionMessage"}},i.handleErrorAndLogTelemetry=function(e,t,n,r){if(!(n instanceof Error))try{throw new Error("Error wrapper for thrown object: "+JSON.stringify(n))}catch(e){n=e}if(!n.rejection||!(n.rejection.clientError&&n.rejection.clientError.ignorable||n.rejection.ignorable)){i.stripPII(n);var o=n.message,n=n.stack;try{r?e.logChildEvent(r.event,t,{stack:n,message:o}):e.logEvent(t,{stack:n,message:o})}catch(e){}}},i.getExceptionHandler=function(i,a,s){return function(e,t){var n=e.message+' (caused by "'+t+'")\n',r=(e.stack||e).toString(),t=n+r;try{i.logEvent(s,{stack:r,message:n});var o={consoleMessage:t,type:"console_log",createdTime:new Date};a.addLogEntry(o)}catch(e){}}},i.getWindowOnErrorWrapper=function(s,c,u,l){return function(e,t,n,r,o){var i,a;if(2!==n||8228!==r||!_.includes(t,"powerbiportal.dependencies.bundle"))return o&&o.message&&o.stack?(a=o.message,i=o.stack,s.logEvent(l,{source:d.QueryStringUtil.clearAllQueriesFromUrl(t),lineNumber:n,columnNumber:r||0,stack:i,message:a})):"object"==typeof e&&e.message&&e.stack?(a=e.message,i=e.stack,s.logEvent(l,{source:d.QueryStringUtil.clearAllQueriesFromUrl(t),lineNumber:n,columnNumber:r||0,stack:i,message:a})):(a=JSON.stringify(e,Object.getOwnPropertyNames(e)),s.logEvent(u,{source:d.QueryStringUtil.clearAllQueriesFromUrl(t),lineNumber:n,columnNumber:r||0,message:a})),c(e,t,n,r,o),!0}}})(jsCommon=jsCommon||{}),(function(e){var o={},t=(a.clearQueryString=function(e){var t=a.parseQueryString();return delete t[e],a.rebuildQueryString(t)},a.clearQueryStrings=function(e){for(var t=a.parseQueryString(),n=0,r=e;n<r.length;n++)delete t[r[n]];return a.rebuildQueryString(t)},a.addOrUpdateQueryString=function(e,t){var n=a.parseQueryString();return n[e]=t,a.rebuildQueryString(n)},a.addOrUpdateQueryStringToUrl=function(e,t){for(var n=a.parseUrl(e),e=a.clearAllQueriesFromUrl(e),r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n[i]=t[i]}return e+a.rebuildQueryString(n)},a.getQueryStringValue=function(e){return a.parseQueryString()[e]},a.isQueryParamSet=function(e,t){var n,r=o[e];return t&&void 0!==r||(r=null!=(n=a.getQueryStringValue(e))&&"false"!==n&&("1"===n||"true"===n.toLowerCase()||1<n.length),t&&(o[e]=r)),r},a.parseUrl=function(e){var t=e.indexOf("?"),t=0<=t?e.substr(t):void 0;return a.parseQueryString(t)},a.parseQueryString=function(e){var t={},e=e=void 0===e?window.location.search:e;if(e&&"?"===e.substr(0,1))for(var n=0,r=e.substr(1).split("&");n<r.length;n++){var o=r[n].split("="),i=o[0],o=o.slice(1).join("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}return t},a.parseQueryStringWithMultipleKeyValues=function(e){var t={},e=e=void 0===e?window.location.search:e;if(e&&"?"===e.substr(0,1))for(var n=0,r=e.substr(1).split("&");n<r.length;n++){var o=r[n].split("="),i=o[0],o=o.slice(1).join("="),o=decodeURIComponent(o);t[decodeURIComponent(i)]?t[decodeURIComponent(i)].push(o):t[decodeURIComponent(i)]=[o]}return t},a.rebuildQueryString=function(e){var t,n="",r=!0;for(t in e)r||(n+="&"),n+=encodeURIComponent(t)+"=",e[t]&&(n+=encodeURIComponent(e[t])),r=!1;return n=!r?"?"+n:n},a.clearAllQueriesFromUrl=function(e){var t=e.indexOf("?"),n=e.indexOf("#");return 0<=(t=0<=n&&(n<t||-1===t)?n:t)?e.substr(0,t):e},a.fileOfUrl=function(e){var t=(e=a.clearAllQueriesFromUrl(e)).lastIndexOf("/");return e=-1!==t?e.substring(t+1):e},a.OriginClientActivityIdParameterName="caid",a.OriginRootActivityIdParameterName="raid",a.OriginActivityIdParameterName="aid",a);function a(){}function r(){var e=powerbi.ensureJsCommon();return e.QueryStringUtil||(e.QueryStringUtil={}),e.QueryStringUtil}function n(){var t,n;i||(t=jsCommon.QueryStringUtil.getQueryStringValue,r().getQueryStringValue=function(e){return t(e)},n=jsCommon.QueryStringUtil.parseQueryString,r().parseQueryString=function(e){return void 0===e&&(e=window.location.search),n(e)},i=!0)}e.QueryStringUtil=t,e.exportQueryStringUtilToGlobal=n;var i=!1;n()})(jsCommon=jsCommon||{}),(function(e){e.createRejectablePromise2=function(e){return new t(e)},e.createRejectablePromise=function(e){return new t(e)};var t=(n.prototype.then=function(e,t){return this.deferred.promise.then(e,t)},n.prototype.catch=function(e){return this.deferred.promise.catch(e)},n.prototype.finally=function(e){return this.deferred.promise.finally(e)},n.prototype.resolved=function(){return 1===this.state},n.prototype.rejected=function(){return 2===this.state},n.prototype.pending=function(){return 0===this.state},n.prototype.reject=function(e){this.pending()&&(this.deferred.reject(e),this.state=2)},n);function n(e){var t=this;this.deferred=e,this.state=0,e.promise.then((function(){return t.state=1}),(function(){return t.state=2}))}})(powerbi=powerbi||{}),(function(g){var e=(t.prototype.getEntryCount=function(){return Object.keys(this.cache).length},t.prototype.hasCacheEntry=function(e){return!!this.getCacheEntry(e)},t.prototype.createCacheEntry=function(e,t,n,r,o){var i=this,a=this.getCacheEntry(e);if(e&&!a){var s=this.promiseFactory,c=this.cache,u=s.defer(o),l=g.createRejectablePromise(u),d=s.defer(o),m=g.createRejectablePromise2(d),a={promise:m,refCount:0,context:t};return this.appendCacheEntryInternal(e,a),this.getEntryCount()>this.maxCacheEntries&&this.removeCacheEntryInternal(this.firstKey),l.then((function(e){(e=a.updateResult?a.updateResult(e):e)&&n&&(e=n(e)),a.result=r?r(e):e,d.resolve(e)}),(function(e){return d.reject(e)})).finally((function(){delete a.updateResult})),m.finally((function(){c[e]&&(delete c[e].promise,m.rejected()&&i.removeCacheEntryInternal(e))})).catch((function(e){return l.reject(e)})),{deferred:u,promise:l}}},t.prototype.clearEntry=function(e,t){var n=this.getCacheEntry(e);if(n){n=n.promise;return t&&n?n.reject():this.removeCacheEntryInternal(e),!0}return!1},t.prototype.clearAllEntries=function(e){for(var t in this.cache)this.clearEntry(t,e)},t.prototype.bindCacheEntry=function(e,t,n){var r=this.getCacheEntry(e);if(void 0!==r){var o=this.promiseFactory.defer(n),e=g.createRejectablePromise2(o);if(r.result){n=t?t(r.result):r.result;return o.resolve(n),e}var i=r.promise;if(!i)return o.reject(void 0),e;r.refCount++;function a(e){r.refCount--,0===r.refCount&&i.pending()&&i.reject(e)}return e.then((function(){return a()}),a),i.then((function(e){e=t?t(e):e;o.resolve(e)}),(function(e){return o.reject(e)})),e}},t.prototype.getEntryContext=function(e){e=this.getCacheEntry(e);if(e)return e.context},t.prototype.keys=function(){return Object.keys(this.cache)},t.prototype.isFull=function(){return 500===this.getEntryCount()},t.prototype.rewriteAllEntries=function(t){var n,e,r=[],o=!!t.rewriteKey,i=!!t.rewriteResult,a=this.cache;for(n in a)!o||(e=t.rewriteKey(n))!==n&&r.push({oldKey:n,newKey:e}),i&&((e=a[n])&&e.result&&t.rewriteResult?e.result=t.rewriteResult(e.result,n):e.updateResult=function(e){return t.rewriteResult&&t.rewriteResult(e,n)||e});for(var s=0,c=r.length;s<c;s++)this.changeCacheKey(r[s].oldKey,r[s].newKey)},t.prototype.putCacheResult=function(e,t,n){e=this.getCacheEntry(e);e&&(e.result?e.result=n?n(t):t:e.updateResult=function(){return t})},t.prototype.appendCacheEntryInternal=function(e,t){this.cache[e]&&this.removeCacheEntryInternal(e),this.firstKey?(this.cache[this.lastKey].nextKey=e,t.previousKey=this.lastKey,this.lastKey=e,t.nextKey=void 0):(this.firstKey=e,this.lastKey=e,t.nextKey=void 0,t.previousKey=void 0),this.cache[e]=t},t.prototype.removeCacheEntryInternal=function(e){var t,n=this.cache[e];n&&(t=n.previousKey,n=n.nextKey,t?this.cache[t].nextKey=n:this.firstKey=n,n?this.cache[n].previousKey=t:this.lastKey=t,delete this.cache[e])},t.prototype.changeCacheKey=function(e,t){if(!t)return this.clearEntry(e,!0);if(this.hasCacheEntry(t)||!this.hasCacheEntry(e))return!1;var n=this.getCacheEntry(e);return this.removeCacheEntryInternal(e),this.appendCacheEntryInternal(t,n),!0},t.prototype.getCacheEntry=function(e){var t;if(e&&(t=this.cache[e])&&(t.promise||t.result))return t},t);function t(e,t){this.maxCacheEntries=t||500,this.cache={},this.promiseFactory=e}g.LegacyRejectablePromiseCache=e;n.prototype.getEntryCount=function(){return this.cache.size()},n.prototype.hasCacheEntry=function(e){return!!this.getCacheEntry(e)},n.prototype.createCacheEntry=function(e,t,n,r,o){var i=this,a=this.getCacheEntry(e);if(e&&!a){var s=this.promiseFactory,c=this.cache,u=s.defer(o),l=g.createRejectablePromise(u),d=s.defer(o),m=g.createRejectablePromise2(d),a={promise:m,refCount:0,context:t};return this.appendCacheEntryInternal(e,a),l.then((function(e){(e=a.updateResult?a.updateResult(e):e)&&n&&(e=n(e)),a.result=r?r(e):e,d.resolve(e)}),(function(e){return d.reject(e)})).finally((function(){delete a.updateResult})),m.finally((function(){c.containsKey(e)&&(delete c.get(e).promise,m.rejected()&&i.removeCacheEntryInternal(e))})).catch((function(e){return l.reject(e)})),{deferred:u,promise:l}}},n.prototype.clearEntry=function(e,t){var n=this.getCacheEntry(e);if(n){n=n.promise;return t&&n?n.reject():this.removeCacheEntryInternal(e),!0}return!1},n.prototype.clearAllEntries=function(e){for(var t=0,n=this.cache.keys();t<n.length;t++){var r=n[t];this.clearEntry(r,e)}},n.prototype.bindCacheEntry=function(e,t,n){var r=this.getCacheEntry(e);if(void 0!==r){var o=this.promiseFactory.defer(n),e=g.createRejectablePromise2(o);if(r.result){n=t?t(r.result):r.result;return o.resolve(n),e}var i=r.promise;if(!i)return o.reject(void 0),e;r.refCount++;function a(e){r.refCount--,0===r.refCount&&i.pending()&&i.reject(e)}return e.then((function(){return a()}),a),i.then((function(e){e=t?t(e):e;o.resolve(e)}),(function(e){return o.reject(e)})),e}},n.prototype.getEntryContext=function(e){e=this.getCacheEntry(e);if(e)return e.context},n.prototype.keys=function(){return this.cache.keys()},n.prototype.isFull=function(){return this.cache.isFull()},n.prototype.rewriteAllEntries=function(n){for(var r=[],o=!!n.rewriteKey,i=!!n.rewriteResult,a=this.cache,e=0,t=a.keys();e<t.length;e++)!(function(t){var e;!o||(e=n.rewriteKey(t))!==t&&r.push({oldKey:t,newKey:e}),!i||(e=a.get(t))&&(e.result&&n.rewriteResult?e.result=n.rewriteResult(e.result,t):e.updateResult=function(e){return n.rewriteResult&&n.rewriteResult(e,t)||e})})(t[e]);for(var s=0,c=r.length;s<c;s++)this.changeCacheKey(r[s].oldKey,r[s].newKey)},n.prototype.putCacheResult=function(e,t,n){e=this.getCacheEntry(e);e&&(e.result?e.result=n?n(t):t:e.updateResult=function(){return t})},n.prototype.appendCacheEntryInternal=function(e,t){this.cache.containsKey(e)&&this.removeCacheEntryInternal(e),this.cache.put(e,t)},n.prototype.removeCacheEntryInternal=function(e){this.cache.remove(e)},n.prototype.changeCacheKey=function(e,t){if(!t)return this.clearEntry(e,!0);if(this.hasCacheEntry(t)||!this.hasCacheEntry(e))return!1;var n=this.getCacheEntry(e);return this.removeCacheEntryInternal(e),this.appendCacheEntryInternal(t,n),!0},n.prototype.getCacheEntry=function(e){var t;if(e&&(t=this.cache.get(e))&&(t.promise||t.result))return t},e=n;function n(e,t,n){this.cache=new(1===t?g.LruCache:g.FifoCache)(n=n||500),this.promiseFactory=e}g.RejectablePromiseCache=e})(powerbi=powerbi||{}),(function(e){var t;e=e.events||(e.events={}),t=jsCommon.KeyUtils,e.visualThemeChanged={type:2,name:"visualThemeChanged"},e.isKeyboardEventIncomplete=function(e){return null!=e.composed&&null!=e.repeat&&(!e.composed||e.repeat&&(17===e.keyCode||t.isNudgeModifierKey(e.keyCode)))}})(powerbi=powerbi||{}),(function(e){var c=jsCommon.ArrayExtensions;function n(n,e,t){return void 0===t&&(t=!0),e=s(e,(function(e){var t=_.differenceWith(e,n,(function(e,t){return e.name===t.name}));return t.length===e.length?e:t})),e=t?a(e):e}function a(e){return s(e,(function(e){return c.filterArray(e,(function(e){return!l(e)||!_.isEmpty(e.children)}))}))}function u(i,a,s){for(var e=0;e<a.length;e++){var t=(function(e){var t=a[e];if(t.name===i)return{value:s(a,t,e)};if(l(t)){e=u(i,t.children,s);if(e!==t.children){var n=t.clone?t.clone():_.clone(t);n.children=e;for(var r=0,o=n.children;r<o.length;r++)o[r].parentGroup=n;return{value:c.rewriteArray(a,(function(e){return e===t?n:e}))}}}})(e);if("object"==typeof t)return t.value}return a}function s(i,a){for(var e=0,t=i;e<t.length;e++)!(function(t){if(l(t)){var e=s(t.children,a);if(e!==t.children){var n=t.clone?t.clone():_.clone(t);n.children=e;for(var r=0,o=n.children;r<o.length;r++)o[r].parentGroup=n;i=c.rewriteArray(i,(function(e){return e===t?n:e}))}}})(t[e]);return i=a(i)}function l(e){return void 0!==e.children}(e=e.ItemGroupingManager||(e.ItemGroupingManager={})).find=function(e,t){var r;if(e&&t)return u(e,t,(function(e,t,n){return r=t,e})),r},e.getSiblingList=function(e,t){var r;return u(e.name,t,(function(e,t,n){return r=e})),r},e.add=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __spreadArray(__spreadArray([],e||[]),t||[])},e.addToGroup=function(a,e,t){return u(e.name,t,(function(e,t,n){if(!l(t))return e;var r=t.clone?t.clone():_.clone(t);r.children=__spreadArray(__spreadArray([],t.children||[]),[a]);for(var o=0,i=r.children;o<i.length;o++)i[o].parentGroup=r;return c.rewriteArray(e,(function(e){return e===t?r:e}))}))},e.remove=function(e,t,n){return void 0===n&&(n=!0),t=u(e.name,t,(function(e,t,n){return c.filterArray(e,(function(e){return t!==e}))})),t=n?a(t):t},e.removeMultiple=n,e.removeBy=function(e,t){return a(e=s(e,(function(e){return c.filterArray(e,(function(e){return!t(e)}))})))},e.move=function(r,e,t,o){return r.forEach((function(e){return e.parentGroup=void 0})),t=n(r,t,!1),a(t=u(e.name,t,(function(e,t,n){return c.spliceArray(e,(function(e){return e===t?o?__spreadArray([e],r):__spreadArray(__spreadArray([],r),[e]):[e]}))})))},e.group=function(e,t){for(var n,r,o=0,i=e.children;o<i.length;o++)i[o].parentGroup=e;return n=e.children,r=e,a(t=s(t,(function(e){return c.spliceArray(e,(function(e){return e===n[0]?[r]:_.includes(n,e)?[]:[e]}))})))},e.ungroup=function(r,e){for(var t=0,n=r.children;t<n.length;t++)n[t].parentGroup=void 0;return u(r.name,e,(function(e,t,n){return c.spliceArray(e,(function(e){return e===r?r.children:[e]}))}))},e.flattenItems=function e(t,n,r){for(var o=r||[],i=0,a=t;i<a.length;i++){var s=a[i];l(s)?o=e(s.children,n,o):n(s)&&(o=__spreadArray(__spreadArray([],o||[]),[s]))}return o}})(powerbi=powerbi||{}),(function(o){var e,t,n=(r.prototype.copyText=function(e,t,n){var r;"string"==typeof e?r=e:"function"==typeof e&&(r=e()),this.copyToClipboard(r),this.logTelemetry(t,"Value",n)},r.prototype.copyGrid=function(e,t,n){var r=e(),e=r.grid,r=r.coveragePercentage,o=[];if(!_.isEmpty(e))for(var i=0,a=e;i<a.length;i++){var s=a[i];if(!_.isEmpty(s)){for(var c=0,u=s;c<u.length;c++){var l=u[c];this.removeBreaks(l)}o.push(s.join("\t"))}}this.copyToClipboard(o.join("\n")),this.logTelemetry(t,"Selection",n,r)},r.prototype.removeBreaks=function(e){return e.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")},r.prototype.copyToClipboard=function(e){this.element.value=e,document.body.appendChild(this.element);e=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),e&&e.focus()},r.prototype.logTelemetry=function(e,t,n,r){e&&e.logEvent(o.telemetry.EXCopyActionClicked,{copyType:t,visualType:n||"(unknown)",copySelectionPercentage:r||0})},r);function r(e){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}o.CopyPasteService=n,(e=o.CopyPasteService||(o.CopyPasteService={})).create=function(){return t=t||new e}})(powerbi=powerbi||{}),(function(e){(e.telemetry||(e.telemetry={})).EventFactories={}})(powerbi=powerbi||{}),(function(e){var n=jsCommon.Utility.generateGuid,a=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function t(e){var t=0;if(0===e.length)return t;for(var n=e.toLowerCase(),r=0,o=n.length;r<o;r++)t=(t<<5)-t+n.charCodeAt(r),t|=0;return t}function i(e,t,n){if(n){var r,o=[];for(r in n){var i=t[n[r]];void 0!==i&&!1!==i||o.push(n[r])}t=_.omit(t,o)}return _.extend(e,t),e}function r(e){var t=null!==(n=null===(t=null==(e=void 0===e?{}:e)?void 0:e.baseEvent)||void 0===t?void 0:t.info)&&void 0!==n?n:{},n=null==e?void 0:e.baseEvent,r=__assign(__assign({},t),e.info),o=e.optionalParameters?null!=n&&n.optionalParameters?__spreadArray(__spreadArray([],e.optionalParameters),null==n?void 0:n.optionalParameters):e.optionalParameters:null==n?void 0:n.optionalParameters;return{formatted:function(){return i({},r,o)},optionalParameters:o,info:r}}function o(e){return e&&!0===e.get("isAngularZone")}e.getHashCode=t,e.obfuscate=function(e){return t(e).toString()},e.extendFormatted=function(e,t,n){var r,o=n||e||{};if(n&&e&&(n=jsCommon.UnionExtensions.mergeUnionType(n,e)),t)for(var i in t)t.hasOwnProperty(i)&&(void 0!==(r=t[i])&&!1!==r&&(o[i]=r));return o},e.extendFormattedEx=i,e.telemetryEventFactory=function(e){var t=r(e=void 0===e?{}:e);return __assign(__assign({time:Date.now(),id:n()},e),{info:t.info,formatted:t.formatted})},e.telemetryBaseEventFactory=r,e.fillTelemetryEvent=function(e,t){_.isEmpty(e),Zone;var n=Zone.current;if(n&&n.name===e){e=n.get("data");if(e){for(var r=0,o=a;r<o.length;r++){var i=o[r];if(void 0!==t[i])throw new Error("Field '"+i+"' is restricted from override.")}e=e.monitoredActivity&&e.monitoredActivity.activityEvent;_.extend(e.info,t)}}else n&&n.name},e.zoneify=function(e,t,n){return e?e.run((function(){return t.apply(n)})):n?n.fn():t()},e.isAngularZone=o,e.hasPendingMicrotasks=function(e){for(var t=!1,n=e;n&&o(n);){if(0<n._zoneDelegate._taskCounts.microTask){t=!0;break}n=n.parent}return t}})(powerbi=powerbi||{}),(function(i){!(function(t){var e=jsCommon.Utility,n=i.telemetryEventFactory,r=i.telemetryBaseEventFactory,o=i.telemetry.EventFactories;e?e.generateGuid:Function.prototype;t.BaseEventEventName="BaseEvent",t.BaseEvent=o[t.BaseEventEventName]=function(e){return r({info:__assign({isError:!1,isCancelled:!1,isFireAndForget:!1,inTeams:!1},e),optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName"]})},t.TimedEventEventName="TimedEvent",t.TimedEvent=o[t.TimedEventEventName]=function(e){return r({info:e,baseEvent:t.BaseEvent(e)})},t.VerboseEventName="Verbose",t.Verbose=o[t.VerboseEventName]=function(e){return r({info:e,baseEvent:t.BaseEvent(e)})},t.VerboseTimedEventEventName="VerboseTimedEvent",t.VerboseTimedEvent=o[t.VerboseTimedEventEventName]=function(e){return r({info:e,baseEvent:t.Verbose(e)})},t.TraceEventName="Trace",t.Trace=o[t.TraceEventName]=function(e){return n({name:t.TraceEventName,info:e,category:i.TelemetryCategory.Trace,loggers:t.TraceLoggers})},t.ErrorEventName="Error",t.Error=o[t.ErrorEventName]=function(e){return n({name:t.ErrorEventName,info:e,category:i.TelemetryCategory.CriticalError,loggers:t.ErrorLoggers})},t.ErrorWithStackTraceEventName="ErrorWithStackTrace",t.ErrorWithStackTrace=o[t.ErrorWithStackTraceEventName]=function(e){return r({info:e})},t.ErrorWithStackTraceAndSourceDetailsEventName="ErrorWithStackTraceAndSourceDetails",t.ErrorWithStackTraceAndSourceDetails=o[t.ErrorWithStackTraceAndSourceDetailsEventName]=function(e){return n({name:t.ErrorWithStackTraceAndSourceDetailsEventName,baseEvent:t.ErrorWithStackTrace(e),info:e,category:i.TelemetryCategory.CriticalError,loggers:t.ErrorWithStackTraceAndSourceDetailsLoggers})},t.CustomerActionEventName="CustomerAction",t.CustomerAction=o[t.CustomerActionEventName]=function(e){return r({info:e,baseEvent:t.BaseEvent(e)})},t.DashboardRootSessionEventName="PBI.Dashboard.RootSession",t.DashboardRootSession=o[t.DashboardRootSessionEventName]=function(e){return n({name:t.DashboardRootSessionEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.DashboardRootSessionLoggers})},t.WFEErrorEventName="PBI.WFE.Error",t.WFEError=o[t.WFEErrorEventName]=function(e){return n({name:t.WFEErrorEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.WFEErrorLoggers})},t.TeamsRedirectTabConfigPageEventName="PBI.TeamsRedirect.TabConfigPage",t.TeamsRedirectTabConfigPage=o[t.TeamsRedirectTabConfigPageEventName]=function(e){return n({name:t.TeamsRedirectTabConfigPageEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsRedirectTabConfigPageLoggers})},t.TeamsRedirectPersonalAppEventName="PBI.TeamsRedirect.PersonalApp",t.TeamsRedirectPersonalApp=o[t.TeamsRedirectPersonalAppEventName]=function(e){return n({name:t.TeamsRedirectPersonalAppEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsRedirectPersonalAppLoggers})},t.TeamsRedirectTabReportEventName="PBI.TeamsRedirect.TabReport",t.TeamsRedirectTabReport=o[t.TeamsRedirectTabReportEventName]=function(e){return n({name:t.TeamsRedirectTabReportEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsRedirectTabReportLoggers})},t.TeamsRedirectUpdateTabUrlEventName="PBI.TeamsRedirect.UpdateTabUrl",t.TeamsRedirectUpdateTabUrl=o[t.TeamsRedirectUpdateTabUrlEventName]=function(e){return n({name:t.TeamsRedirectUpdateTabUrlEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsRedirectUpdateTabUrlLoggers})},t.TeamsAuthenticationSSOSuccessEventName="PBI.TeamsAuthentication.SSOSuccess",t.TeamsAuthenticationSSOSuccess=o[t.TeamsAuthenticationSSOSuccessEventName]=function(e){return n({name:t.TeamsAuthenticationSSOSuccessEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationSSOSuccessLoggers})},t.TeamsAuthenticationSSOFailedEventName="PBI.TeamsAuthentication.SSOFailed",t.TeamsAuthenticationSSOFailed=o[t.TeamsAuthenticationSSOFailedEventName]=function(e){return n({name:t.TeamsAuthenticationSSOFailedEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationSSOFailedLoggers})},t.TeamsAuthenticationTokenFromLocalStorageExpiredEventName="PBI.TeamsAuthentication.TokenFromLocalStorageExpired",t.TeamsAuthenticationTokenFromLocalStorageExpired=o[t.TeamsAuthenticationTokenFromLocalStorageExpiredEventName]=function(e){return n({name:t.TeamsAuthenticationTokenFromLocalStorageExpiredEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenFromLocalStorageExpiredLoggers})},t.TeamsAuthenticationTokenIsFromLocalStorageEventName="PBI.TeamsAuthentication.TokenIsFromLocalStorage",t.TeamsAuthenticationTokenIsFromLocalStorage=o[t.TeamsAuthenticationTokenIsFromLocalStorageEventName]=function(e){return n({name:t.TeamsAuthenticationTokenIsFromLocalStorageEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenIsFromLocalStorageLoggers})},t.TeamsAuthenticationTokenIsFromAuthContextCacheEventName="PBI.TeamsAuthentication.TokenIsFromAuthContextCache",t.TeamsAuthenticationTokenIsFromAuthContextCache=o[t.TeamsAuthenticationTokenIsFromAuthContextCacheEventName]=function(e){return n({name:t.TeamsAuthenticationTokenIsFromAuthContextCacheEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenIsFromAuthContextCacheLoggers})},t.TeamsAuthenticationTokenIsFromMSALCacheEventName="PBI.TeamsAuthentication.TokenIsFromMSALCache",t.TeamsAuthenticationTokenIsFromMSALCache=o[t.TeamsAuthenticationTokenIsFromMSALCacheEventName]=function(e){return n({name:t.TeamsAuthenticationTokenIsFromMSALCacheEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenIsFromMSALCacheLoggers})},t.TeamsAuthenticationTokenFromMSALWrongAudienceEventName="PBI.TeamsAuthentication.TokenFromMSALWrongAudience",t.TeamsAuthenticationTokenFromMSALWrongAudience=o[t.TeamsAuthenticationTokenFromMSALWrongAudienceEventName]=function(e){return n({name:t.TeamsAuthenticationTokenFromMSALWrongAudienceEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenFromMSALWrongAudienceLoggers})},t.TeamsAuthenticationTokenFromMSALParseErrorEventName="PBI.TeamsAuthentication.TokenFromMSALParseError",t.TeamsAuthenticationTokenFromMSALParseError=o[t.TeamsAuthenticationTokenFromMSALParseErrorEventName]=function(e){return n({name:t.TeamsAuthenticationTokenFromMSALParseErrorEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenFromMSALParseErrorLoggers})},t.TeamsAuthenticationTokenFromMSALNotPresentEventName="PBI.TeamsAuthentication.TokenFromMSALNotPresent",t.TeamsAuthenticationTokenFromMSALNotPresent=o[t.TeamsAuthenticationTokenFromMSALNotPresentEventName]=function(e){return n({name:t.TeamsAuthenticationTokenFromMSALNotPresentEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenFromMSALNotPresentLoggers})},t.TeamsAuthenticationTokenIsFromTeamsSDKEventName="PBI.TeamsAuthentication.TokenIsFromTeamsSDK",t.TeamsAuthenticationTokenIsFromTeamsSDK=o[t.TeamsAuthenticationTokenIsFromTeamsSDKEventName]=function(e){return n({name:t.TeamsAuthenticationTokenIsFromTeamsSDKEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationTokenIsFromTeamsSDKLoggers})},t.TeamsAuthenticationErrorEventName="PBI.TeamsAuthentication.Error",t.TeamsAuthenticationError=o[t.TeamsAuthenticationErrorEventName]=function(e){return n({name:t.TeamsAuthenticationErrorEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.TeamsAuthenticationErrorLoggers})},t.TeamsAuthenticationHostPlatformInformationErrorEventName="PBI.TeamsAuthentication.HostPlatformInformationError",t.TeamsAuthenticationHostPlatformInformationError=o[t.TeamsAuthenticationHostPlatformInformationErrorEventName]=function(e){return n({name:t.TeamsAuthenticationHostPlatformInformationErrorEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsAuthenticationHostPlatformInformationErrorLoggers})},t.StaticTeamsSignUpPbiSourceRewriteErrorEventName="PBI.StaticTeamsSignUp.PbiSourceRewriteError",t.StaticTeamsSignUpPbiSourceRewriteError=o[t.StaticTeamsSignUpPbiSourceRewriteErrorEventName]=function(e){return n({name:t.StaticTeamsSignUpPbiSourceRewriteErrorEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.StaticTeamsSignUpPbiSourceRewriteErrorLoggers})},t.StaticTeamsSignUpAuthCompleteRemovalErrorEventName="PBI.StaticTeamsSignUp.AuthCompleteRemovalError",t.StaticTeamsSignUpAuthCompleteRemovalError=o[t.StaticTeamsSignUpAuthCompleteRemovalErrorEventName]=function(e){return n({name:t.StaticTeamsSignUpAuthCompleteRemovalErrorEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.StaticTeamsSignUpAuthCompleteRemovalErrorLoggers})},t.TeamsLoginResultTokenAcquiredSuccessEventName="PBI.TeamsLoginResult.TokenAcquiredSuccess",t.TeamsLoginResultTokenAcquiredSuccess=o[t.TeamsLoginResultTokenAcquiredSuccessEventName]=function(e){return n({name:t.TeamsLoginResultTokenAcquiredSuccessEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsLoginResultTokenAcquiredSuccessLoggers})},t.TeamsLoginResultAcquiringTokenUsingMSALEventName="PBI.TeamsLoginResult.AcquiringTokenUsingMSAL",t.TeamsLoginResultAcquiringTokenUsingMSAL=o[t.TeamsLoginResultAcquiringTokenUsingMSALEventName]=function(e){return n({name:t.TeamsLoginResultAcquiringTokenUsingMSALEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsLoginResultAcquiringTokenUsingMSALLoggers})},t.TeamsLoginResultTokenParseErrorEventName="PBI.TeamsLoginResult.TokenParseError",t.TeamsLoginResultTokenParseError=o[t.TeamsLoginResultTokenParseErrorEventName]=function(e){return n({name:t.TeamsLoginResultTokenParseErrorEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsLoginResultTokenParseErrorLoggers})},t.TeamsLoginResultNoTokenEventName="PBI.TeamsLoginResult.NoToken",t.TeamsLoginResultNoToken=o[t.TeamsLoginResultNoTokenEventName]=function(e){return n({name:t.TeamsLoginResultNoTokenEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsLoginResultNoTokenLoggers})},t.TeamsLoginResultWrongTokenEventName="PBI.TeamsLoginResult.WrongToken",t.TeamsLoginResultWrongToken=o[t.TeamsLoginResultWrongTokenEventName]=function(e){return n({name:t.TeamsLoginResultWrongTokenEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsLoginResultWrongTokenLoggers})},t.TeamsLoginResultLoginRedirectErrorEventName="PBI.TeamsLoginResult.LoginRedirectError",t.TeamsLoginResultLoginRedirectError=o[t.TeamsLoginResultLoginRedirectErrorEventName]=function(e){return n({name:t.TeamsLoginResultLoginRedirectErrorEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsLoginResultLoginRedirectErrorLoggers})},t.TeamsLoginResultHandleRedirectPromiseErrorEventName="PBI.TeamsLoginResult.HandleRedirectPromiseError",t.TeamsLoginResultHandleRedirectPromiseError=o[t.TeamsLoginResultHandleRedirectPromiseErrorEventName]=function(e){return n({name:t.TeamsLoginResultHandleRedirectPromiseErrorEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.TeamsLoginResultHandleRedirectPromiseErrorLoggers})},t.DashboardErrorDialogEventName="PBI.Dashboard.ErrorDialog",t.DashboardErrorDialog=o[t.DashboardErrorDialogEventName]=function(e){return n({name:t.DashboardErrorDialogEventName,info:__assign({},e),category:i.TelemetryCategory.CriticalError,optionalParameters:["errorSource"],loggers:t.DashboardErrorDialogLoggers})},t.MobileLandingContinuedToWebEventName="PBI.MobileLanding.ContinuedToWeb",t.MobileLandingContinuedToWeb=o[t.MobileLandingContinuedToWebEventName]=function(e){return n({name:t.MobileLandingContinuedToWebEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.MobileLandingContinuedToWebLoggers})},t.MobileLandingDownloadAppEventName="PBI.MobileLanding.DownloadApp",t.MobileLandingDownloadApp=o[t.MobileLandingDownloadAppEventName]=function(e){return n({name:t.MobileLandingDownloadAppEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.MobileLandingDownloadAppLoggers})},t.DashboardUnhandledAngularExceptionEventName="PBI.Dashboard.UnhandledAngularException",t.DashboardUnhandledAngularException=o[t.DashboardUnhandledAngularExceptionEventName]=function(e){return n({name:t.DashboardUnhandledAngularExceptionEventName,baseEvent:t.ErrorWithStackTrace(e),info:e,category:i.TelemetryCategory.CriticalError,loggers:t.DashboardUnhandledAngularExceptionLoggers})},t.DataExceptionEventName="PBI.Data.Exception",t.DataException=o[t.DataExceptionEventName]=function(e){return n({name:t.DataExceptionEventName,info:e,category:i.TelemetryCategory.CriticalError,loggers:t.DataExceptionLoggers})},t.VisualExceptionEventName="PBI.Visual.Exception",t.VisualException=o[t.VisualExceptionEventName]=function(e){return n({name:t.VisualExceptionEventName,info:e,category:i.TelemetryCategory.CriticalError,loggers:t.VisualExceptionLoggers})},t.DashboardUnhandledExceptionEventName="PBI.Dashboard.UnhandledException",t.DashboardUnhandledException=o[t.DashboardUnhandledExceptionEventName]=function(e){return n({name:t.DashboardUnhandledExceptionEventName,info:e,category:i.TelemetryCategory.CriticalError,loggers:t.DashboardUnhandledExceptionLoggers})},t.HandledExceptionEventName="PBI.HandledException",t.HandledException=o[t.HandledExceptionEventName]=function(e){return n({name:t.HandledExceptionEventName,baseEvent:t.ErrorWithStackTrace(e),info:e,category:i.TelemetryCategory.CriticalError,loggers:t.HandledExceptionLoggers})},t.DashboardReportTilePopulateExceptionEventName="PBI.Dashboard.ReportTilePopulateException",t.DashboardReportTilePopulateException=o[t.DashboardReportTilePopulateExceptionEventName]=function(e){return n({name:t.DashboardReportTilePopulateExceptionEventName,baseEvent:t.ErrorWithStackTrace(e),info:e,category:i.TelemetryCategory.CriticalError,loggers:t.DashboardReportTilePopulateExceptionLoggers})},t.DashboardUnhandledStacklessExceptionEventName="PBI.Dashboard.UnhandledStacklessException",t.DashboardUnhandledStacklessException=o[t.DashboardUnhandledStacklessExceptionEventName]=function(e){return n({name:t.DashboardUnhandledStacklessExceptionEventName,info:e,category:i.TelemetryCategory.CriticalError,loggers:t.DashboardUnhandledStacklessExceptionLoggers,logRatio:1e-4})},t.VisualErrorEventName="PBI.Visual.Error",t.VisualError=o[t.VisualErrorEventName]=function(e){return n({name:t.VisualErrorEventName,info:e,category:i.TelemetryCategory.CriticalError,loggers:t.VisualErrorLoggers})},t.WFEReopenUserAccountEventName="PBI.WFE.ReopenUserAccount",t.WFEReopenUserAccount=o[t.WFEReopenUserAccountEventName]=function(e){return n({name:t.WFEReopenUserAccountEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.WFEReopenUserAccountLoggers})},t.WFEAccountClosedPageEventName="PBI.WFE.AccountClosedPage",t.WFEAccountClosedPage=o[t.WFEAccountClosedPageEventName]=function(e){return n({name:t.WFEAccountClosedPageEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.WFEAccountClosedPageLoggers})},t.VisualWarningEventName="PBI.Visual.Warning",t.VisualWarning=o[t.VisualWarningEventName]=function(e){return n({name:t.VisualWarningEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.VisualWarningLoggers})},t.VisualApiUsageEventName="PBI.Visual.ApiUsage",t.VisualApiUsage=o[t.VisualApiUsageEventName]=function(e){return n({name:t.VisualApiUsageEventName,baseEvent:t.VerboseTimedEvent(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.VisualApiUsageLoggers})},t.EXCopyActionClickedEventName="PBI.EX.CopyActionClicked",t.EXCopyActionClicked=o[t.EXCopyActionClickedEventName]=function(e){return n({name:t.EXCopyActionClickedEventName,baseEvent:t.CustomerAction(e),info:e,category:i.TelemetryCategory.CustomerAction,loggers:t.EXCopyActionClickedLoggers})},t.StartActivityEventName="StartActivity",t.StartActivity=o[t.StartActivityEventName]=function(e){return n({name:t.StartActivityEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.StartActivityLoggers})},t.EndActivityEventName="EndActivity",t.EndActivity=o[t.EndActivityEventName]=function(e){return n({name:t.EndActivityEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.EndActivityLoggers})},t.AppSignInErrorEventName="PBI.App.SignInError",t.AppSignInError=o[t.AppSignInErrorEventName]=function(e){return n({name:t.AppSignInErrorEventName,baseEvent:t.Verbose(e),info:e,category:i.TelemetryCategory.Verbose,loggers:t.AppSignInErrorLoggers})}})(i.telemetry||(i.telemetry={}))})(powerbi=powerbi||{}),(function(e){var g=jsCommon.EnumExtensions;function p(e,t){e&&(t?e.reject(t):e.resolve())}e.MonitorWith=function(l,d,m){return void 0===d&&(d=3),void 0===m&&(m=0),function(e,t,n){var u=n.value;return n.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.isEmpty(l);for(var r=jsCommon.WindowUtils.GetWindowObject();!(r==window.top||r.featureSwitchService&&r.telemetryService);)r=r.parent;var o,i=r.featureSwitchService,a=r.telemetryService,s=!1;if(s=!(i&&i.isFeatureSwitchesRegistered()&&i.featureSwitches&&i.featureSwitches.telemetryV2&&a)?!0:s)return o=u.apply(this,t);var i=Zone&&Zone.current,s=i&&i.get("data"),c=s&&s.monitoredActivity;g.hasFlag(d,1)&&(i=(c=a.startMonitoredActivity(c,l,{baseVersion:"v2",isFireAndForget:1===m||void 0})).currentZone);try{i.run((function(){return o=u.apply(e,t)}))}catch(e){if(g.hasFlag(d,2))return void p(c,e);throw e}return g.hasFlag(d,2)&&(i.name,o&&_.isObject(o)&&o.then&&_.isFunction(o.then)?o.then((function(){p(c)}),(function(e){p(c,e)})):p(c)),o},n}}})(powerbi=powerbi||{}),(function(t){var e;function r(e,t){if(e&&e.code){var n=e.code,e=e["pbi.error"]&&e["pbi.error"].exceptionCulprit;return null!=e?{errorCode:n,errorSource:(function(e){switch(e){case 2:return"External";case 1:return"User";default:return"PowerBI"}})(e)}:null==t||401!==t&&403!==t?{errorCode:n,errorSource:"PowerBI"}:{errorCode:n,errorSource:"User"}}if(null!=t)return{errorCode:"HttpStatusCode = "+t,errorSource:"PowerBI"}}function n(e){switch(e){case t.ExceptionCulpritExternal:return"External";case t.ExceptionCulpritUser:return"User";default:t.ExceptionCulpritSystem;return"PowerBI"}}(e=t.errorDetailsHelper||(t.errorDetailsHelper={})).getErrorSource=function(e){switch(e){case 2:return"External";case 1:return"User";default:return"PowerBI"}},e.getTelemetryErrorDetailsWithResourceKey=function(e,t,n){return(n=r(e,n))&&(n.errorMessage=t),n},e.getTelemetryErrorDetailsWithErrorMessage=function(e,t){return(t=r(e,t))&&(t.errorMessage=e.message),t},e.getTelemetryErrorDetails=r,e.getTelemetryErrorDetailsFromHttpStatus=function(e,t){if(e=r(e,t))return null==t||400!==t&&401!==t&&403!==t&&429!==t&&404!==t||(e.errorSource="User"),e},e.getTelemetryErrorDetailsFromServiceError=function(e){if(e)return{errorCode:e.errorCode,errorMessage:"StatusCode="+e.statusCode,errorSource:null!=e.exceptionCulprit?n(e.exceptionCulprit):void 0}},e.getErrorCode=function(e){if(e)return e.error?e.error.code:e.status?e.status.toString():void 0},e.getTelemetryErrorSourceFromExceptionCulpritString=n})(powerbi=powerbi||{}),(function(e){(e.ArrayExtensions||(e.ArrayExtensions={})).comparableSequenceEqual=function(e,t){if(!e&&!t)return!0;if(!!e!=!!t||e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!e[n].equals(t[n]))return!1;return!0}})(jsCommon=jsCommon||{}),(function(e){function n(e,t){for(;t;){if(e(t))return t;t=t.parent}}e.isOpenReportActivity=function(e){return!!e&&"Open Report"===e.getProperty("name")},e.getAncestorActivityPropertiesOfEvent=function(e,t){return t&&n(e,t.getProperty("parent"))},e.getAncestorActivityProperties=n})(contextActivity=contextActivity||{}),(function(o){!(function(e){function t(){return o.ensurePowerbiSession().userInfo}e.getUserInfo=t,e.setUserInfo=function(e){o.ensurePowerbiSession().userInfo=e};var n=(r.getFullName=function(){var e=t();return e.givenName+" "+e.surname},r.isInternalUser=function(){var e=t();if(!e||!e.name)return!1;e=e.name.toLowerCase();return 0<=e.indexOf("@microsoft.com")||0<=e.indexOf(".microsoft.com")},r.getUPN=function(){return t().name},r.getEmailAddressForReceivingMail=function(){var e=t();return null==e?"":_.isEmpty(e.alternateEmail)?e.name:e.alternateEmail},r);function r(){}e.UserInfoUtils=n})(o.session||(o.session={}))})(powerbi=powerbi||{}),(function(e){var t;function n(){var t;o||(t=e.telemetry.WFEError,e.ensurePowerbiTelemetry().WFEError=function(e){return t(e)},o=!0)}function r(){var t;o||(t=e.telemetry.AppSignInError,e.ensurePowerbiTelemetry().AppSignInError=function(e){return t(e)},o=!0)}(t=e.telemetryConstants||(e.telemetryConstants={})).pbiClientName="PowerBI.com",t.httpActivityIdHeader="ActivityId",t.httpRequestIdHeader="RequestId",e.exportTelemetryWFEErrorToGlobal=n,e.exportTelemetrySignInErrorToGlobal=r;var o=!1;n(),r()})(powerbi=powerbi||{}),(function(e){(e=e.UnlocalizedStrings||(e.UnlocalizedStrings={})).infoNavErrorCodeTemplate="{0} ({1})",e.errorCodeText="Error Code",e.errorActivityIdText="Activity Id",e.errorRequestIdText="Request Id",e.correlationIdText="Correlation Id",e.errorLineNumberText="Line number",e.errorColumnNumberText="Column number",e.errorStackTraceText="Stack trace",e.errorSourceFileText="Source file",e.errorTimestampText="Time",e.showDetailsText="Show technical details",e.dialogCloseActionLabel="Close",e.dialogRefreshPageActionLabel="Refresh Page",e.errorDialogTitle="oops, something went wrong",e.unsupportedBrowserMessageTitle="Unsupported browser detected",e.unsupportedBrowserMessageText="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",e.errorDialogHelperText="Please try again later or contact support. If you contact support, please provide these details.",e.CopyActionLabel="Copy",e.SuccessActionLabel="Success!"})(InJs=InJs||{}),(function(e){function t(){return r()}function n(){return-1<window.navigator.userAgent.toLowerCase().indexOf("edge/")}function r(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch(e){return!1}}(e=e.BrowserUtility||(e.BrowserUtility={})).isBrowserSupported=function(){return r()&&!!Function.prototype.bind&&!!$.support.cors},e.browserSupportsEssentials=t,e.isInternetExplorerBrowser=function(){var e=window.navigator.userAgent.toLowerCase();return-1<e.indexOf("msie ")||-1<e.indexOf("trident/")},e.isEdgeBrowser=n,e.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)},e.isChrome=function(){return!n()&&/ chrome\/([0-9]+)(\.[0-9]+)+/i.test(window.navigator.userAgent)},e.isFirefox=function(){return/ firefox\/([0-9]+)(\.[0-9]+)+/i.test(window.navigator.userAgent)},e.getInternetExplorerVersion=function(){var e,t=0;return!("Microsoft Internet Explorer"===navigator.appName||0<=window.navigator.userAgent.indexOf("MSIE"))||(e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(window.navigator.userAgent))&&(t=parseFloat(e[1])),t}})(jsCommon=jsCommon||{}),(function(e){(e=e.CookieUtil||(e.CookieUtil={})).getCookie=function(e,t){if(t&&t.document&&t.document.cookie)for(var n=0,r=t.document.cookie.split(";");n<r.length;n++){var o=r[n].split("=");if(0<o.length&&o[0].trim()===e)return o[1]}},e.setCookie=function(e,t,n){n&&n.document&&(n.document.cookie=e+" = "+t+";secure")}})(jsCommon=jsCommon||{}),(function(t){var n,r,e,o=t.CssConstants.createClassAndSelector("explorationContainer");(e=t.DropPosition||(t.DropPosition={})).isAbove=function(e){return!!(1&e)},e.isRightOf=function(e){return!!(2&e)},e.isBelow=function(e){return!!(4&e)},e.isLeftOf=function(e){return!!(8&e)},e.isVerticalMiddle=function(e){return!!(16&e)},e.isHorizontalMiddle=function(e){return!!(32&e)},(e=t.HighlightClasses||(t.HighlightClasses={})).None=t.CssConstants.createClassAndSelector("notDroppable"),e.Replace=t.CssConstants.createClassAndSelector("dropover"),e.Prepend=t.CssConstants.createClassAndSelector("prepend"),e.Append=t.CssConstants.createClassAndSelector("append"),(n=t.DragDropUtils||(t.DragDropUtils={})).DragoverClass="dragover",n.DragAttribute="drag",n.getDragSourceType=function(e){return e.attr(n.DragAttribute)},n.prepareDragHelper=function(e){return(e=e.clone()).find("[id]").removeAttr(t.DOMConstants.idAttribute),e.addClass("dragHelper"),e},n.getElementToAppendDragHelper=function(e){return(e=e.parents(o.selector)).length,e},n.tryFindChildDropTarget=function(e,t){return(t=t())?(e.data[r.DropTarget]=t,!0):!(e.data[r.DropEventHandled]=!0)},n.isDropOnExpectedTarget=function(e,t){return!e.data[r.DropEventHandled]&&e.data[r.DropTarget]===t&&(e.data[r.DropEventHandled]=!0)},n.getDropPosition=function(e,t){var n=t.height(),r=t.width(),o=t.offset(),i=e.pageY,t=e.pageX,e=0;return o.top+n/2>i?e|=1:e|=4,o.left+r/2>t?e|=8:e|=2,o.top+n/3<i&&o.top+n/3*2>i&&(e|=16),o.left+r/3<t&&o.left+r/3*2>t&&(e|=32),e},n.isValidDropLocation=function(e,t){return!e||(e=n.getDragSourceType(e),0<=t.indexOf(e))},(e=r=t.DragDropDataKeys||(t.DragDropDataKeys={})).DragScrollHandler="DragScrollHandler",e.DropEventHandled="DropEventHandled",e.DropTarget="DropTarget"})(jsCommon=jsCommon||{}),(function(e){(e=e.HttpUtils||(e.HttpUtils={})).clientAndServerRequestIdMatch=function(e){return e&&e.requestId&&e.responseRequestId?e.requestId===e.responseRequestId:null},e.getResponseRequestId=function(e){return e&&e.responseRequestId?e.responseRequestId:null},e.shouldRetryRequest=function(e){switch(e){case 401:case 403:case 413:case 400:case 404:case 409:case 412:case 422:case 415:return!1;default:return!0}},e.isServerError=function(e){switch(e){case 500:case 503:return!0;default:return!1}}})(jsCommon=jsCommon||{}),(function(o){var e,i,a,n;o.RtlDirAttrVal="rtl",e=o.InfoNavUtility||(o.InfoNavUtility={}),i="infonav-additionalError",a="infonav-showAdditionalError",n='<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>',e.constructShowDetailsContainer=function(e,t){var n=$("<div ></div>"),r=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return r.addClass(a),r.text(t||o.UnlocalizedStrings.showDetailsText),r.on(jsCommon.DOMConstants.mouseClickEventName,(function(){n.find(jsCommon.Utility.createClassSelector(a)).remove(),n.find(jsCommon.Utility.createClassSelector(i)).css(jsCommon.CssConstants.displayProperty,jsCommon.CssConstants.blockValue)})),e.css(jsCommon.CssConstants.displayProperty,jsCommon.CssConstants.noneValue),e.addClass(i),n.append(r),n.append(e),n},e.constructErrorField=function(e,t){return(e=$(n.replace("{FieldTitle}",e))).find(".infonav-errorInfoText").multiline(t||""),e},e.isRTL=function(){return $("html").attr("dir")===o.RtlDirAttrVal}})(InJs=InJs||{}),(function(e){(e=e.JsonExtensions||(e.JsonExtensions={})).tryParseJSON=function(e,t,n){try{return JSON.parse(e,t)}catch(e){}},e.isJsonString=function(e){if(e&&"string"==typeof e){try{JSON.parse(e)}catch(e){return!1}return!0}return!1}})(jsCommon=jsCommon||{}),(function(e){(e=e.MathExtensions||(e.MathExtensions={})).min=function(e,t){return null==e||isNaN(e)?t:null==t||isNaN(t)?e:Math.min(e,t)},e.max=function(e,t){return null==e||isNaN(e)?t:null==t||isNaN(t)?e:Math.max(e,t)}})(jsCommon=jsCommon||{}),(function(e){e.ThemePrecedenceList=["highContrastTheme","customTheme","baseTheme"],e.getThemeMetadata=function(e,t,n){return{name:e,version:n,type:t}}})(powerbi=powerbi||{}),(function(n){var e,t;(e=n.iFrameUtility||(n.iFrameUtility={})).isHostedInIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},e.isHostedInCrossDomainIFrame=function(){var t;try{t=window.parent.origin}catch(e){t="blockedBecauseCrossOrigin"}return window.origin!==t},e.getHostName=function(e){if(e&&""!==e.trim()){var t=document.createElement("a");return t.href=e,t.hostname}return""},(e=n.GzipUtility||(n.GzipUtility={})).uncompress=function(e){if(e)try{var t=atob(e);return pako.inflate(t,{to:"string"})}catch(e){n.Trace.error("Error while uncompressing TileData: "+JSON.stringify(e),null==e.stack)}return null},e.compress=function(e){if(e)try{var t=pako.gzip(e,{to:"string"});return btoa(t)}catch(e){n.Trace.error("Error while compressing data: "+JSON.stringify(e),null==e.stack)}return null},(n.E2EUtils||(n.E2EUtils={})).isE2EV2Run=function(){return t=null==t?!!n.QueryStringUtil.getQueryStringValue("isE2ERun2"):t},(n.WindowUtils||(n.WindowUtils={})).GetWindowObject=function(){return window}})(jsCommon=jsCommon||{}),(function(e){var r;function c(e,t){return 0!=(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS)}function n(e,t,n,r){void 0===r&&(r=!0);var o=e;if(o!==(n=n||document.body)||r&&t(o))for(!r&&e&&(o=o.parentElement||o.parentNode||void 0);o&&o!==document.body&&o.nodeType===Node.ELEMENT_NODE;){if(t(o))return o;if(o===n)break;o=o.parentElement||o.parentNode||void 0}}function o(e){return!0===$(e).is(":tabbable")}function u(e,t){return n(e,o,t=t||document.body,!1)}function i(e){return $(e).find(":tabbable").get()}function l(t){return _.filter(i(t),(function(e){return!$.contains(t,u(e,t))}))}function a(e,t,n){void 0===n&&(n=document.body);n=r.getTabbableSiblings(e,n);return _.filter(n,t)}function s(e,t){var n=u(e,t=t||document.body);if(n=!n||t&&$.contains(n,t)?t:n){for(var r=[],o=0,i=0,a=l(n);i<a.length;i++){var s=a[i];s===e||c(e,s)?o=0:r.splice(o++,0,s)}return r}return[]}(r=e.FocusNavigationUtility||(e.FocusNavigationUtility={})).isElementContentEditable=function(e){return 0<$(e).closest("[contentEditable]").length},r.isTextElement=function(e){if($(e).is(":disabled"))return!1;var t=e.nodeName.toLowerCase();return e.nodeType===Node.ELEMENT_NODE&&("textarea"===t||"select"===t||"input"===t&&/^(?:text|email|number|search|tel|url|password)$/i.test(e.type))},r.contains=c,r.getFirstMatchingAncestor=n,r.isElementTabbable=o,r.getTabbableParent=u,r.getFirstTabbableChild=function(e){return l(e)[0]},r.getTabbableDescendants=i,r.getTabbableChildren=l,r.getTabbableSiblingsMatch=a,r.getNextTabbableMatchingSibling=function(e,t,n){if(0<(n=a(e,t,n=n||document.body)).length)return n[0]},r.getPrevTabbableMatchingSibling=function(e,t,n){if(0<(n=a(e,t,n=n||document.body)).length)return n[n.length-1]},r.getTabbableSiblings=s,r.getNextTabbableSibling=function(e,t){return s(e,t=t||document.body)[0]},r.getPrevTabbableSibling=function(e,t){return(t=s(e,t=t||document.body))[t.length-1]},r.isElementVisible=function(e){return $(e).is(":visible")},r.getParentFocusElement=function(e){return $(e).parents(":tabbable:first").get(0)}})(jsCommon=jsCommon||{}),(function(s){s.FocusManagerFocusEventName="focusManager_focus",s.FocusManagerFocusOnEventName="focusManager_focusOn",s.isTabbable=function(e){return!0===$(e).is(":tabbable")&&!1===$(e).is(":disabled")},s.FocusNavModeAttribute="focus-nav-mode",s.TabOrderEnabledAttribute="tab-order-enabled",s.TabOrderRecursiveEnabledAttribute="tab-order-recursive-enabled",s.TabOrderAttribute="tab-order",s.TabOrderChildAttribute="tab-order-child",s.TabIndexAttribute="tabindex",s.SkipArrowNavigationAttribute="skip-arrow-navigation",s.FocusNavModeGroupMatcher="["+s.FocusNavModeAttribute+'="Group"]:first',s.FocusNavModeHierarchicalTabOrderMatcher="["+s.FocusNavModeAttribute+'="HierarchicalTabOrder"]:first';var e=(Object.defineProperty(c.prototype,"keyboardFocused",{get:function(){return c.keyboardFocused},set:function(e){c.keyboardFocused=e},enumerable:!1,configurable:!0}),c.getInstance=function(){return this._instance||(this._instance=new c)},c.prototype.register=function(e,t,n){var r=this;void 0===t&&(t=!1);var o=[new s.FocusGroupNavigation(n=void 0===n?!1:n),new s.HierarchicalNavigation,new s.HierarchicalTabOrderNavigation],i=function(e){return r.handleKeyPress(e,t,o)};_.includes(this.registeredElements,e)||(e.addEventListener("keydown",i),this.registeredElements.push(e));var a=_.find(this.registeredElements,e);return function(){a.removeEventListener("keydown",i),_.pull(r.registeredElements,e)}},c.prototype.registerShortcut=function(e){this.shortcutContainer.add(e)},c.prototype.unregisterShortcut=function(e){this.shortcutContainer.remove(e)},c.focusChildInGroup=function(e){e="Group"===e.getAttribute(s.FocusNavModeAttribute)?e:$(e).find(s.FocusNavModeGroupMatcher).get(0);e&&c.focus(s.FocusGroupNavigation.getFocusNextElement(!0,e))},c.focusChildInCanvas=function(e){e="HierarchicalTabOrder"===e.getAttribute(s.FocusNavModeAttribute)?e:$(e).find(s.FocusNavModeHierarchicalTabOrderMatcher)[0];e&&c.focus(s.HierarchicalTabOrderNavigation.getFocusNextElement(e,!0,!0))},c.focus=function(e,t){var n;void 0===t&&(t=!0),e&&(n=document.activeElement,s.Zone.setTimeout((function(){s.BrowserUtils.focus(e),$(e).triggerHandler(s.FocusManagerFocusOnEventName,n),$(e).trigger(s.FocusManagerFocusEventName,n),t&&(c.keyboardFocused=!0,$("html").attr("data-focus-source","key"))})))},c.prototype.focus=function(e,t){c.focus(e,t=void 0===t?!0:t)},c.prototype.focusOnGroupByIndex=function(e,t,n,r,o){this.shortcutContainer.handleByPriority(e,t,n,r,o)},c.setFocusOnPreviousElementOnDestroy=function(n,r,t){var o=null;return n.on(s.FocusManagerFocusEventName,(function(e,t){e.stopPropagation(),!t||r&&o||$.contains(n[0],t)||(o=t)})),function(){var e=document.activeElement;o&&$(o).closest(document.documentElement)&&(!t||$.contains(n[0],e))&&s.FocusManager.focus(o,!1)}},c.prototype.handleKeyPress=function(n,e,r){if(this.handleShortcut(n))return n.stopPropagation(),void n.preventDefault();var o=document.activeElement;if(o){for(var i,a=s.FocusNavigationUtility.getFirstMatchingAncestor(o,(function(e){return e.hasAttribute(s.FocusNavModeAttribute)}),document.body);a&&a!==document.body;){var t=(function(){var t=a.getAttribute(s.FocusNavModeAttribute);if("Browser"===t)return{value:void 0};var e=_.find(r,(function(e){return e.name===t}));if(i=e&&e.shouldHandleFocus(o,a)?e.findNextElementToFocus(o,n,a):i)return"break";a=s.FocusNavigationUtility.getFirstMatchingAncestor(a,(function(e){return e.hasAttribute(s.FocusNavModeAttribute)}),document.body,!1)})();if("object"==typeof t)return t.value;if("break"===t)break}i&&c.focus(i),e&&n.stopPropagation(),i&&13!==n.keyCode&&32!==n.keyCode&&(n.stopPropagation(),n.preventDefault())}},c.prototype.handleShortcut=function(e){return this.shortcutContainer.handle(e)},c.prototype.focusNextElement=function(e){c.focus(s.FocusGroupNavigation.getFocusNextElement(!0,e))},c.keyboardFocused=!1,c);function c(){this.registeredElements=[],this.shortcutContainer=new s.ShortcutContainer}s.FocusManager=e})(jsCommon=jsCommon||{}),(function(o){var e=(t.prototype.findNext=function(e,t,n){void 0===n&&(n=!1);var r=this.getDomWalker(t=void 0===t?!0:t),t=e.getAttribute(o.FocusNavModeAttribute);return"Group"===t||"Browser"===t||n?this.traverseDown(e,r):this.searchFocusElement(e,r)},t.prototype.searchFocusElement=function(e,t){var n=this.traverseForward(t.getNextSibling(e),t);return n||(e.parentElement&&e.parentElement.getAttribute(o.FocusNavModeAttribute)!==this.focusNavMode?n=this.searchFocusElement(e.parentElement,t):e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE&&e.parentNode.getAttribute(o.FocusNavModeAttribute)!==this.focusNavMode&&(n=this.searchFocusElement(e.parentNode,t))),n},t.prototype.traverseForward=function(e,t){var n;if(e)return o.isTabbable(e)?e:n=(n=null==e.getAttribute(o.DOMConstants.skipChildrenFocusAttribute)?this.traverseDown(e,t):n)||this.traverseForward(t.getNextSibling(e),t)},t.prototype.traverseDown=function(e,t){if(e&&"Skip"!==e.getAttribute(o.FocusNavModeAttribute))return this.traverseForward(t.getNextChild(e),t)},t.prototype.getDomWalker=function(t){var n=this;return t?{getNextSibling:function(e){return e.nextElementSibling},getNextChild:function(e){return _.isEmpty(e.children)?e.hasChildNodes()?n.getNextChildNodes(e,t):void 0:e.children[0]}}:{getNextSibling:function(e){return e.previousElementSibling},getNextChild:function(e){return _.isEmpty(e.children)?e.hasChildNodes()?n.getNextChildNodes(e,t):void 0:e.children[e.children.length-1]}}},t.prototype.getNextChildNodes=function(e,t){var n=e.childNodes,r=n.length,o=t?1:-1,i=t?0:r-1;do{var a=n[i];if(a&&a.nodeType===Node.ELEMENT_NODE)return a}while(0<=(i+=o)&&i<r)},t);function t(e){this.focusNavMode=e=void 0===e?"Group":e}o.DomOrderFocusFinder=e})(jsCommon=jsCommon||{}),(function(s){var e=(t.prototype.findNext=function(e,t,n,r){var o;return void 0===t&&(t=!0),void 0===n&&(n=!0),(r=void 0===r?!1:r)||a(e)?o=this.getNextTabOrderChild(e,t,l(t)):i(e)?o=this.getNextTabOrderSibling(e,t,n):u(e)&&(e=(function(e,t){t=$(e).closest("["+t+"]");return t&&t.get(0)})(e,s.TabOrderAttribute),o=this.getNextTabOrderSibling(e,t,n)),o},t.prototype.getNextTabOrderSibling=function(e,t,n){var r,o=e.getAttribute(s.TabOrderAttribute),o=parseFloat(o);if(!isNaN(o)){e=(function(e,t){t="HierarchicalTabOrder"===t?s.FocusNavModeHierarchicalTabOrderMatcher:s.FocusNavModeGroupMatcher;return $(e).parents(t)[0]})(e,this.focusNavMode);if(!e)return;!(r=this.getNextTabOrderChild(e,t,o))&&n&&(r=this.getNextTabOrderChild(e,t,l(t)))}return r},t.prototype.getNextTabOrderChild=function(n,r,o){var i,a,e=$(n).find("["+s.TabOrderAttribute+"]");return(e="HierarchicalTabOrder"===this.focusNavMode?e.filter((function(e,t){return s.FocusNavigationUtility.getTabbableParent(t)===n})):e).each((function(e,t){var n=c(t);s.FocusNavigationUtility.isElementTabbable(t)&&(r?n<o:o<n)&&(void 0===i&&void 0===a||(r?a<n:n<a))&&(a=n,i=t)})),i},t);function t(e){this.focusNavMode=e=void 0===e?"Group":e}function c(e){if(e.hasAttribute(s.TabOrderAttribute))return parseFloat(e.getAttribute(s.TabOrderAttribute))}function i(e){return null!=e.getAttribute(s.TabOrderAttribute)}function a(e){return null!=e.getAttribute(s.TabOrderEnabledAttribute)}function u(e){return null!=e.getAttribute(s.TabOrderChildAttribute)}function l(e){return e?10000001:-10000001}s.TabOrderFocusFinder=e,s.getTabOrder=c,s.hasTabOrderAttribute=i,s.hasTabOrderEnabledAttribute=a,s.hasTabOrderChildAttribute=u})(jsCommon=jsCommon||{}),(function(a){var e=(Object.defineProperty(s.prototype,"name",{get:function(){return"Group"},enumerable:!1,configurable:!0}),s.prototype.shouldHandleFocus=function(e,t){return!$.contains(t,a.FocusNavigationUtility.getTabbableParent(e,t))},s.prototype.findNextElementToFocus=function(e,t){var n=s.getGroupNavigationElement(e);switch(t.keyCode){case 39:case 40:if(s.groupElementSupportsArrows(n)&&!s.canHandleKeyEvents(e))return s.getFocusNextElement(!0);break;case 38:case 37:if(s.groupElementSupportsArrows(n)&&!s.canHandleKeyEvents(e))return s.getFocusNextElement(!1);break;case 9:if(!a.FocusNavigationUtility.isElementContentEditable(e))return s.getFocusNextElement(!t.shiftKey,void 0,this.skipCyclicNavigation);break;case 27:return a.FocusNavigationUtility.getTabbableParent(document.activeElement);case 13:if(n&&null!=n.getAttribute(a.TabOrderRecursiveEnabledAttribute))return a.FocusNavigationUtility.getFirstTabbableChild(document.activeElement)}},s.getFocusNextElement=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=document.activeElement;if(t=t||s.getFirstFocusableParent(r)){var o=s.getGroupNavigationElement(t),i=void 0,r=void 0;if(o&&null!=o.getAttribute(a.TabOrderRecursiveEnabledAttribute)?r=(i=new a.TabOrderRecursiveFocusFinder(o)).findNext(t,e):(r=(o=a.hasTabOrderEnabledAttribute(t)||a.hasTabOrderAttribute(t))?(i=new a.TabOrderFocusFinder).findNext(t,e):r)&&o||(r=(i=new a.DomOrderFocusFinder).findNext(t,e)),r)return r;if("Group"!==t.getAttribute(a.FocusNavModeAttribute)&&!n){t=s.getParentGroupElement(t);return t?i.findNext(t,e):void 0}}},s.getGroupNavigationElement=function(e){var t=e.getAttribute(a.FocusNavModeAttribute);return t&&"Group"===t?e:s.getParentGroupElement(e)},s.getFirstFocusableParent=function(e){if(!e)return null;if(a.isTabbable(e)||"Group"===e.getAttribute(a.FocusNavModeAttribute))return e;for(var t=e.parentElement||e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE?e.parentNode:null;t;){if(a.isTabbable(t)||"Group"===t.getAttribute(a.FocusNavModeAttribute))return t;t=t.parentElement||t.parentNode&&t.parentNode.nodeType===Node.ELEMENT_NODE?t.parentNode:null}return t},s.getParentGroupElement=function(e){return $(e).parents(a.FocusNavModeGroupMatcher).get(0)},s.canHandleKeyEvents=function(e){return a.FocusNavigationUtility.isElementContentEditable(e)||a.FocusNavigationUtility.isTextElement(e)},s.groupElementSupportsArrows=function(e){return!e||null==e.getAttribute(a.TabOrderRecursiveEnabledAttribute)||null==e.getAttribute(a.SkipArrowNavigationAttribute)},s);function s(e){this.skipCyclicNavigation=e=void 0===e?!1:e}a.FocusGroupNavigation=e})(jsCommon=jsCommon||{}),(function(i){var e=(Object.defineProperty(t.prototype,"name",{get:function(){return"Hierarchy"},enumerable:!1,configurable:!0}),t.prototype.shouldHandleFocus=function(){return!0},t.prototype.findNextElementToFocus=function(e,t,n){switch(t.keyCode){case 9:if(i.FocusNavigationUtility.isElementContentEditable(e))return;var r=i.FocusNavigationUtility.getTabbableChildren(n),o=i.FocusNavigationUtility.getTabbableParent(e,n)===n;if(t.shiftKey){if(0<r.length&&(e!==r[0]||o))return i.FocusNavigationUtility.getPrevTabbableSibling(e,n)}else{if(0<r.length&&(e!==r[r.length-1]||o))return i.FocusNavigationUtility.getNextTabbableSibling(e,n);o=i.FocusNavigationUtility.getTabbableDescendants(n);if(0<o.length)return void o[o.length-1].focus()}break;case 27:if(e!==n)return i.FocusNavigationUtility.getTabbableParent(e);break;case 13:return i.FocusNavigationUtility.getFirstTabbableChild(e)}},t);function t(){}i.HierarchicalNavigation=e})(jsCommon=jsCommon||{}),(function(e){((e=e.host||(e.host={})).events||(e.events={})).LuciaSessionStateChangedEventArgs=function(){}})(powerbi=powerbi||{}),(function(e){((e=e.host||(e.host={})).global||(e.global={})).events={SaveEndedEvent:{type:4,name:"SaveEndedEvent"},LuciaDomainModelChangedEvent:{type:4,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:4,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:4,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:4,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:4,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:4,name:"WindowStateChangedEvent"},ReportQueriesChangedEvent:{type:4,name:"ReportQueriesChangedEvent"},UpdateAvailableEvent:{type:4,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:4,name:"SelectedSensitivityLabelChangedEvent"}}})(powerbi=powerbi||{}),(function(e){((e=e.common||(e.common={})).modules||(e.modules={})).JQueryUIModule={javascript:"jquery-ui",css:["jquery-ui"]}})(powerbi=powerbi||{}),(function(e){var t=(n.prototype.insertToHead=function(e){e.next=this._head.next,e.prev=this._head,(this._head.next=e).next.prev=e,this._length++},n.prototype.head=function(){if(0<this._length)return this._head.next},n.prototype.tail=function(){if(0<this._length)return this._tail.prev},n.prototype.removeFromTail=function(){var e;0<this._length&&(e=this._tail.prev,this.remove(e))},n.prototype.remove=function(e){this._length<=0||void 0===e.prev||void 0===e.next||(e.prev.next=e.next,e.next.prev=e.prev,this._length--)},n.prototype.length=function(){return this._length},n);function n(){this._head=new r,this._tail=new r,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}e.LinkedList=t;var r=function(e){this.value=e=void 0===e?void 0:e};e.LinkedListNode=r})(powerbi=powerbi||{}),(function(e){var t,m=e.StringExtensions.parseIntSubstrFast;function n(e){for(var t,n=0,r=0,o=0,i=0,a=0,s=0,c=e.length;a<=c;a++){var u=a===c?46:e.charCodeAt(a);switch(u){case 46:case 45:if(a===s)return;var l=m(e,s,a-s);if(null==l)return;switch(i){case 0:n=l;break;case 1:r=l;break;case 2:o=l;break;default:return}if(i++,s=a+1,45===u){if(3!==i)return;if(!(function(e){for(var t=0,n=e.length;t<n;t++){var r=e.charCodeAt(t);if(!(65<=r&&r<=90||97<=r&&r<=122||48<=r&&r<=57||45===r||46===r))return!1}return!0})(t=e.substr(a+1)))return;a=c}break;default:if(u<48||57<u)return}}var d={major:n,minor:r,patch:o};return t&&(d.prerel=t),d}function r(e,t){return 0<i(o(e),o(t))}function o(e){return _.isString(e)?n(e)||t.Zero:e}function i(e,t){var n=a(e.major,t.major);return n||((n=a(e.minor,t.minor))||(n=a(e.patch,t.patch))?n:(function(e,t){var n=_.isEmpty(e),r=_.isEmpty(t);if(n)return r?0:1;if(r)return-1;n=m(e,0,e.length),r=m(t,0,t.length);return null==n?null==r?e.localeCompare(t):1:null==r?-1:a(n,r)})(e.prerel,t.prerel))}function a(e,t){t=(e=e||0)-(t=t||0);return 0==t?0:t<0?-1:1}(t=e.Version||(e.Version={})).Zero={major:0,minor:0,patch:0},t.ZeroStr="0.0",t.LargestVersion="99.9",t.tryParse=n,t.toString=function(e){return _.isString(e)?(n(e),e):null==e.prerel?e.major+"."+e.minor+"."+e.patch:e.major+"."+e.minor+"."+e.patch+"-"+e.prerel},t.gt=r,t.lt=function(e,t){return i(o(e),o(t))<0},t.ge=function(e,t){return 0<=i(o(e),o(t))},t.eq=function(e,t){return e=o(e),t=o(t),!i(o(e),o(t))},t.max=function(e,t){return r(o(e),o(t))?e:t}})(jsCommon=jsCommon||{}),(function(e){(e.FontPickerUtility||(e.FontPickerUtility={})).getCustomFontPickerInfo=function(e){_.isEmpty(e);var t=e.match(/^(?:\s)*('|")?((?:\w|\s|-|\\.)+)(?:\1(?=,|$))/);return t&&t[2]||e}})(jsCommon=jsCommon||{}),(function(e){var i;function a(e,t,n){if(void 0===n&&(n=!1),i.isMomentPresent(),!e)return"-";var r=moment().diff(e),o=moment.duration(r),e=Math.floor;o.asMilliseconds();r=e(o.asYears());if(1<r)return t.format("RelativeDate_YearsAgo",[r]);if(1===r)return t.get(s("RelativeDate_YearAgo",n));r=e(o.asMonths());if(1<r)return t.format("RelativeDate_MonthsAgo",[r]);if(1===r)return t.get(s("RelativeDate_MonthAgo",n));r=e(o.asDays());if(1<r)return t.format("RelativeDate_DaysAgo",[r]);if(1===r)return t.get(s("RelativeDate_DayAgo",n));r=e(o.asHours());if(1<r)return t.format("RelativeDate_HoursAgo",[r]);if(1===r)return t.get(s("RelativeDate_HourAgo",n));r=e(o.asMinutes());if(1<r)return t.format("RelativeDate_MinutesAgo",[r]);if(1===r)return t.get(s("RelativeDate_MinuteAgo",n));o=e(o.asSeconds());return 30<=o?t.format("RelativeDate_SecondsAgo",[o]):t.get("RelativeDate_Now")}function s(e,t){return t?e+"_Capitalize":e}function c(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}e=(e=e.common||(e.common={})).utils||(e.utils={}),i=jsCommon.DateExtensions,(e=e.DateFormatter||(e.DateFormatter={})).getRelativeDateWithText=function(e,t,n){void 0===n&&(n=!1);var r=new Date,o=Intl.DateTimeFormat(t.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(e);if(c(e,r))return t.format("TodayAt",o);var i=new Date;return i.setDate(r.getDate()-1),c(e,i)?t.format("YesterdayAt",o):a(e,t,n)},e.getPrettyRelativeDate=a,e.prettyRelativeDateIndexOrder=function(e){if(i.isMomentPresent(),!e)return 0;var t=moment().diff(e),n=moment.duration(t),e=Math.floor;return 0<=n.asMilliseconds()?1<=(t=e(n.asYears()))?1e6+t:1<=(t=e(n.asMonths()))?1e5+t:1<=(t=e(n.asDays()))?1e4+t:1<=(t=e(n.asHours()))?1e3+t:1<=(t=e(n.asMinutes()))?100+t:30<=(n=e(n.asSeconds()))?n:0:0}})(powerbi=powerbi||{}),(function(i){var e=(Object.defineProperty(a.prototype,"name",{get:function(){return"HierarchicalTabOrder"},enumerable:!1,configurable:!0}),a.prototype.shouldHandleFocus=function(e){return!i.FocusNavigationUtility.isElementContentEditable(e)},a.prototype.findNextElementToFocus=function(e,t){var n,r=e.hasAttribute(i.TabOrderEnabledAttribute),o="HierarchicalTabOrder"===e.getAttribute(i.FocusNavModeAttribute);switch(t.keyCode){case 39:case 40:n=a.getFocusNextElement(e,!0,r);break;case 38:case 37:n=a.getFocusNextElement(e,!1,r);break;case 9:n=a.getFocusNextElement(e,!t.shiftKey,r);break;case 27:n=i.FocusNavigationUtility.getTabbableParent(document.activeElement);break;case 13:n=o?a.getFocusNextElement(e,!0,!0):void 0}return n},a.getFocusNextElement=function(e,t,n){var r,o=e.hasAttribute(i.TabOrderEnabledAttribute);return(r=void 0!==i.getTabOrder(e)||o?new i.TabOrderFocusFinder("HierarchicalTabOrder").findNext(e,t,!0,n):r)||((r=(o=new i.DomOrderFocusFinder("HierarchicalTabOrder")).findNext(e,t,n))||n||(e=$(e).parents(i.FocusNavModeHierarchicalTabOrderMatcher)[0],r=o.findNext(e,t,!0))),r},a);function a(){}i.HierarchicalTabOrderNavigation=e})(jsCommon=jsCommon||{}),(function(r){var e=(t.prototype.findNext=function(e,n){var r=this;void 0===n&&(n=!0);var o,i=e===this.groupElement?-1:this.getTabIndex(e),e=e!==this.groupElement&&!isNaN(i),a=n?1/0:0;return e||(i=n?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach((function(e){var t=r.getTabIndex(e.elem);isNaN(t)||(n?i<t&&t<=a:t<i&&a<=t)&&(a=t,o=e.elem)})),o},t.prototype.getTabIndex=function(e){return parseFloat(e.getAttribute(r.TabIndexAttribute))},t.prototype.buildTabOrderMany=function(e){var t=this,n=[];return e.forEach((function(e){null==e.getAttribute(r.DOMConstants.skipChildrenFocusAttribute)&&(n=_.concat(n,t.buildTabOrders(e)))})),n},t.prototype.buildTabOrders=function(e){var t=this.getTabIndex(e);return isNaN(t)?this.buildTabOrderMany([].slice.call(e.children)):[{tabOrder:t,elem:e}]},t);function t(e){this.groupElement=e}r.TabOrderRecursiveFocusFinder=e})(jsCommon=jsCommon||{}),(function(r){r.FocusPriorityAttribute="focus-priority",r.KeyboardShortcutsAttribute="keyboard-shortcuts",r.extendedShortcutScopeAttribute="extended-shortcut-scope";var e=(n.prototype.add=function(t){var e=this.getKeyCode(t.keycode,t.shift,t.alt,t.ctrl),n=t.scoped?this.scopedShortcuts:this.shortcuts;n[e]&&!_.find(n[e],(function(e){return $(e.element).is(t.element)}))?n[e].push(t):_.isEmpty(this.shortcuts[e])&&(n[e]=[t])},n.prototype.remove=function(t){var e=this.getKeyCode(t.keycode,t.shift,t.alt,t.ctrl),n=t.scoped?this.scopedShortcuts:this.shortcuts;_.remove(n[e],(function(e){return $(e.element).is(t.element)}))},n.prototype.handle=function(e){if(256<e.keyCode)return!1;var t=r.BrowserUtils.isCtrlOrMeta(e),n=this.getKeyCode(e.keyCode,e.shiftKey,e.altKey,t),e=e.shiftKey&&t&&1653===n,t=this.findScopedShortcut(n);if(!t){n=this.filterGroups(this.shortcuts[e?1141:n]);if(_.isEmpty(n))return!1;t=this.getNextShortcutElementToFocus(n,void 0,e)}return!!t&&(this.focusOnGroup(t),!0)},n.prototype.handleByPriority=function(e,t,n,r,o){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(e,t,n,r)]),o))},n.prototype.focusOnGroup=function(e){"HierarchicalTabOrder"===e.getAttribute(r.FocusNavModeAttribute)?r.FocusManager.focus(r.HierarchicalTabOrderNavigation.getFocusNextElement(e,!0,!0)):r.FocusManager.focus(r.FocusGroupNavigation.getFocusNextElement(!0,e))},n.prototype.getKeyCode=function(e,t,n,r){return t&&(e|=512),r&&(e|=1024),n&&(e|=2048),e},n.prototype.filterGroups=function(e){return _.filter(e,(function(e){var t=r.FocusNavigationUtility.isElementVisible(e.element);return"HierarchicalTabOrder"===e.element.getAttribute(r.FocusNavModeAttribute)?t&&!!r.HierarchicalTabOrderNavigation.getFocusNextElement(e.element,!0,!0):t&&!!r.FocusGroupNavigation.getFocusNextElement(!0,e.element)}))},n.getFocusPriority=function(e,t){if(void 0===t&&(t=!0),e){var n=e.getAttribute(r.FocusPriorityAttribute);return null!=n?parseInt(n,10):null!=e.parentElement&&t?this.getFocusPriority(e.parentElement):void 0}},n.prototype.getFocusPriority=function(e,t){return n.getFocusPriority(e,t=void 0===t?!0:t)},n.prototype.findScopedShortcut=function(e){var t=document.activeElement,n=this.findExtendedScope(t),e=this.scopedShortcuts[e],e=this.filterGroups(e);if(!_.isEmpty(e)&&t)for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i){if($(t).is(i.element)||$.contains(t,i.element))return i.element;if(n&&($(n).is(i.element)||$.contains(n,i.element)))return i.element}}},n.prototype.findExtendedScope=function(e){for(var t=e;t;){if(t.attributes.getNamedItem(r.extendedShortcutScopeAttribute))return t;t=t.parentElement}},n.prototype.findCurrentFocusedShortcutElement=function(e){if(document.activeElement)for(var t=document.activeElement;t;){if(t.getAttribute(r.KeyboardShortcutsAttribute)===e)return t;t=t.parentElement}},n.prototype.getNextShortcutElementToFocus=function(e,t,n){void 0===n&&(n=!1);var r=(e=_.sortBy(e,(function(e){return e.focusPriority})))[0];if(document.activeElement&&1<e.length)for(var o=null==t?this.findCurrentFocusedShortcutElement(r.shortcutString):null,i=0;i<=e.length-1;i++){var a=e[i];if(null!=t&&t>(a.focusPriority||-1)||o&&$(o).is(a.element)){a=0===i?e.length-1:i-1,r=e[(n?a:i+1)%e.length];break}}return null==r?void 0:r.element},n);function n(){this.shortcuts=[],this.scopedShortcuts=[]}r.ShortcutContainer=e})(jsCommon=jsCommon||{}),(function(r){r.getTelemetrySamplingRules=function(){return window.powerbi.telemetrySamplingRules},r.setTelemetrySamplingRules=function(e){window.powerbi.telemetrySamplingRules=e},(e=r.TelemetryCategory||(r.TelemetryCategory={}))[e.Verbose=0]="Verbose",e[e.CustomerAction=1]="CustomerAction",e[e.CriticalError=2]="CriticalError",e[e.Trace=3]="Trace",e[e.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",(e=r.LoggerServiceType||(r.LoggerServiceType={}))[e.LocalyticsDeprecated=1]="LocalyticsDeprecated",e[e.AppInsightDeprecated=2]="AppInsightDeprecated",e[e.AppInsight=4]="AppInsight",e[e.Etw=8]="Etw",e[e.Mobile=16]="Mobile",e[e.WinJs=32]="WinJs",e[e.Designer=64]="Designer";var e=(t.prototype.resolve=function(){this.isActive()&&(this.isEnded=!0,this.end&&this.end(this.event),this.onResolve(this.event))},t.prototype.cancel=function(e){return this.event.info.isCancelled=!0,(this.event.info.isIgnorable=e)?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})},t.prototype.reject=function(e){var t;this.isActive()&&(this.isEnded=!0,(t=this.event).info.isError=!0,t.info.errorSource=e&&e.errorSource?e.errorSource:"PowerBI",t.info.errorCode=e?e.errorCode:"UnknownError",t.info.errorMessage=e?e.errorMessage:void 0,t.info.asErrorCode=e&&e.asErrorCode,this.end&&this.end(t),this.onReject(t))},t.prototype.isActive=function(){return!this.isEnded},t);function t(e,t){var n=this;this.end=t,this.event=e,this.promise=new r.Promise(function(e,t){n.onResolve=e,n.onReject=t}),this.isEnded=!1}r.DeferredTelemetryEvent=e})(powerbi=powerbi||{});
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] || (this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] = {});
marker.endEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
